require=(function e(t,n,r){function s(o,u){if(!n[o]){if(!t[o]){var a=typeof require=="function"&&require;if(!u&&a)return a(o,!0);if(i)return i(o,!0);var f=new Error("Cannot find module '"+o+"'");throw f.code="MODULE_NOT_FOUND",f}var l=n[o]={exports:{}};t[o][0].call(l.exports,function(e){var n=t[o][1][e];return s(n?n:e)},l,l.exports,e,t,n,r)}return n[o].exports}var i=typeof require=="function"&&require;for(var o=0;o<r.length;o++)s(r[o]);return s})({1:[function(require,module,exports){
var css = "/* BASIC */\n\n.biojs_msa_stage {\n    cursor: default;\n    line-height: normal; \n}\n\n.biojs_msa_seqblock {\n    cursor: move;\n}\n\n.biojs_msa_layer{\n    display: block;\n    white-space: nowrap;\n}\n\n.biojs_msa_labels {\n    color:black;\n    display: inline-block;\n    white-space: nowrap;\n    cursor: pointer;\n    vertical-align:middle;\n    overflow: hidden;\n    text-overflow: clip;\n    /*margin:auto; */\n    text-align: left;\n}\n\n.biojs_msa_header {\n    white-space: nowrap;\n    text-align: left;\n}\n\n.biojs_msa_labelrow:before {\n    content: '';\n    display: inline-block;\n    width: 0;\n    height: 100%;\n    vertical-align: middle;\n}\n\n.biojs_msa_labelrow{\n    height: 100%;\n}\n\n.biojs_msa_labelblock::-webkit-scrollbar, .biojs_msa_rheader::-webkit-scrollbar{\n    // FIX scrollbars on Mac\n    -webkit-appearance: none;\n    width: 7px;\n    height: 7px;\n}\n.biojs_msa_labelblock::-webkit-scrollbar-thumb, .biojs_msa_rheader::-webkit-scrollbar-thumb{\n    border-radius: 4px;\n    background-color: rgba(0,0,0,.5);\n    box-shadow: 0 0 1px rgba(255,255,255,.5);\n}\n\n/* END BASIC */\n/* Marker */\n\n.biojs_msa_marker{\n    color:grey;\n    white-space: nowrap;\n    cursor: pointer;\n}\n\n.biojs_msa_marker span{\n    text-align: center;\n}\n\n/* END Marker */\n/* Menubar */\n\n.smenubar .smenubar_alink {\n    background: #3498db;\n    background-image: -webkit-linear-gradient(top, #3498db, #2980b9);\n    background-image: -moz-linear-gradient(top, #3498db, #2980b9);\n    background-image: -ms-linear-gradient(top, #3498db, #2980b9);\n    background-image: -o-linear-gradient(top, #3498db, #2980b9);\n    background-image: linear-gradient(to bottom, #3498db, #2980b9);\n    -webkit-border-radius: 28;\n    -moz-border-radius: 28;\n    border-radius: 28px;\n    font-family: Arial;\n    color: #ffffff;\n    padding: 3px 10px 3px 10px;\n    margin-left: 10px;\n    text-decoration: none;\n}\n.smenubar {\n    display: inline-block;\n}\n\n.smenubar .smenubar_alink:hover {\n    cursor: pointer;\n}\n\n\n/* jquery dropdown CSS */\n\n.smenu-dropdown {\n    position: absolute;\n    z-index: 9999999;\n    display: none;\n}\n\n.smenu-dropdown .smenu-dropdown-menu,\n.smenu-dropdown .smenu-dropdown-panel {\n    min-width: 160px;\n    max-width: 360px;\n    list-style: none;\n    background: #FFF;\n    border: solid 1px #DDD;\n    border: solid 1px rgba(0, 0, 0, .2);\n    border-radius: 6px;\n    box-shadow: 0 5px 10px rgba(0, 0, 0, .2);\n    overflow: visible;\n    padding: 4px 0;\n    margin: 0;\n}\n\n.smenu-dropdown .smenu-dropdown-panel {\n    padding: 10px;\n}\n\n\n.smenu-dropdown.smenu-dropdown-scroll .smenu-dropdown-menu,\n.smenu-dropdown.smenu-dropdown-scroll .smenu-dropdown-panel {\n    max-height: 358px;\n    overflow: auto;\n}\n\n.smenu-dropdown .smenu-dropdown-menu LI {\n    list-style: none;\n    padding: 0 0;\n    margin: 0;\n    line-height: 18px;\n}\n\n.smenu-dropdown .smenu-dropdown-menu LI,\n.smenu-dropdown .smenu-dropdown-menu LABEL {\n    display: block;\n    color: #555;\n    text-decoration: none;\n    line-height: 18px;\n    padding: 3px 15px;\n    white-space: nowrap;\n}\n\n.smenu-dropdown .smenu-dropdown-menu LI:hover,\n.smenu-dropdown .smenu-dropdown-menu LABEL:hover {\n    background-color: #08C;\n    color: #FFF;\n    cursor: pointer;\n}\n\n.smenu-dropdown .smenu-dropdown-menu .smenu-dropdown-divider {\n    font-size: 1px;\n    border-top: solid 1px #E5E5E5;\n    padding: 0;\n    margin: 5px 0;\n}\n\n/* END Menubar */\n"; (require("/home/xsebi/ownCloud/projects/biojs.bak/packages/msa/node_modules/cssify"))(css); module.exports = css;
},{"/home/xsebi/ownCloud/projects/biojs.bak/packages/msa/node_modules/cssify":40}],2:[function(require,module,exports){
var _ = require('underscore');
var viewType = require("backbone-viewj");
var pluginator;

/**
 * Remove an element and provide a function that inserts it into its original position
 * @param element {Element} The element to be temporarily removed
 * @return {Function} A function that inserts the element into its original position
 **/
function removeToInsertLater(element) {
  var parentNode = element.parentNode;
  var nextSibling = element.nextSibling;
  parentNode.removeChild(element);
  return function() {
    if (nextSibling) {
      parentNode.insertBefore(element, nextSibling);
    } else {
      parentNode.appendChild(element);
    }
  };
}

var removeChilds = function (node) {
    var last;
    while (last = node.lastChild) node.removeChild(last);
};

module.exports = pluginator = viewType.extend({
  renderSubviews: function() {
    // it is faster to remove the entire element and replace it
    // -> however this will lead to lost id,class and style props
    var oldEl = this.el;

    // it might be that the element is not on the DOM yet
    var elOnDom = oldEl.parentNode != undefined;
    if(elOnDom){
      var insert = removeToInsertLater(oldEl)
    }
    removeChilds(oldEl);

    var frag = document.createDocumentFragment();
    var views = this._views();
    var viewsSorted = _.sortBy(views, function(el) {
      return el.ordering;
    });
    var view, node;
    for (var i = 0; i <  viewsSorted.length; i++) {
      view = viewsSorted[i];
      view.render();
      node = view.el;
      if (node != null) {
        frag.appendChild(node);
      }
    }

    oldEl.appendChild(frag);
    if(elOnDom){
      insert();
    }
    return oldEl;
  },
  addView: function(key, view) {
    var views = this._views();
    if (view == null) {
      throw "Invalid plugin. ";
    }
    if (view.ordering == null) {
      view.ordering = key;
    }
    return views[key] = view;
  },
  removeViews: function() {
    var el, key;
    var views = this._views();
    for (key in views) {
      el = views[key];
      el.undelegateEvents();
      el.unbind();
      if (el.removeViews != null) {
        el.removeViews();
      }
      el.remove();
    }
    return this.views = {};
  },
  removeView: function(key) {
    var views = this._views();
    views[key].remove();
    return delete views[key];
  },
  getView: function(key) {
    var views = this._views();
    return views[key];
  },
  remove: function() {
    this.removeViews();
    return viewType.prototype.remove.apply(this);
  },
  _views: function() {
    if (this.views == null) {
      this.views = {};
    }
    return this.views;
  }
});

},{"backbone-viewj":9,"underscore":66}],3:[function(require,module,exports){
//     Backbone.js 1.1.2

//     (c) 2010-2014 Jeremy Ashkenas, DocumentCloud and Investigative Reporters & Editors
//     Backbone may be freely distributed under the MIT license.
//     For all details and documentation:
//     http://backbonejs.org

var Events = require("backbone-events-standalone");
var extend = require("backbone-extend-standalone");
var _ = require("underscore");
var Model = require("./model");

// Create local references to array methods we'll want to use later.
var array = [];
var slice = array.slice;

// Backbone.Collection
// -------------------

// If models tend to represent a single row of data, a Backbone Collection is
// more analogous to a table full of data ... or a small slice or page of that
// table, or a collection of rows that belong together for a particular reason
// -- all of the messages in this particular folder, all of the documents
// belonging to this particular author, and so on. Collections maintain
// indexes of their models, both in order, and for lookup by `id`.

// Create a new **Collection**, perhaps to contain a specific type of `model`.
// If a `comparator` is specified, the Collection will maintain
// its models in sort order, as they're added and removed.
var Collection = function(models, options) {
  options || (options = {});
  if (options.model) this.model = options.model;
  if (options.comparator !== void 0) this.comparator = options.comparator;
  this._reset();
  this.initialize.apply(this, arguments);
  if (models) this.reset(models, _.extend({silent: true}, options));
};

// Default options for `Collection#set`.
var setOptions = {add: true, remove: true, merge: true};
var addOptions = {add: true, remove: false};

// Define the Collection's inheritable methods.
_.extend(Collection.prototype, Events, {

  // The default model for a collection is just a **Backbone.Model**.
  // This should be overridden in most cases.
  model: Model,

  // Initialize is an empty function by default. Override it with your own
  // initialization logic.
  initialize: function(){},

    // The JSON representation of a Collection is an array of the
    // models' attributes.
  toJSON: function(options) {
    return this.map(function(model){ return model.toJSON(options); });
  },

    // Proxy `Backbone.sync` by default.
  sync: function() {
    return Backbone.sync.apply(this, arguments);
  },

    // Add a model, or list of models to the set.
  add: function(models, options) {
    return this.set(models, _.extend({merge: false}, options, addOptions));
  },

    // Remove a model, or a list of models from the set.
  remove: function(models, options) {
    var singular = !_.isArray(models);
    models = singular ? [models] : _.clone(models);
    options || (options = {});
    for (var i = 0, length = models.length; i < length; i++) {
      var model = models[i] = this.get(models[i]);
      if (!model) continue;
      var id = this.modelId(model.attributes);
      if (id != null) delete this._byId[id];
      delete this._byId[model.cid];
      var index = this.indexOf(model);
      this.models.splice(index, 1);
      this.length--;
      if (!options.silent) {
        options.index = index;
        model.trigger('remove', model, this, options);
      }
      this._removeReference(model, options);
    }
    return singular ? models[0] : models;
  },

    // Update a collection by `set`-ing a new list of models, adding new ones,
    // removing models that are no longer present, and merging models that
    // already exist in the collection, as necessary. Similar to **Model#set**,
    // the core operation for updating the data contained by the collection.
  set: function(models, options) {
    options = _.defaults({}, options, setOptions);
    if (options.parse) models = this.parse(models, options);
    var singular = !_.isArray(models);
    models = singular ? (models ? [models] : []) : models.slice();
    var id, model, attrs, existing, sort;
    var at = options.at;
    var sortable = this.comparator && (at == null) && options.sort !== false;
    var sortAttr = _.isString(this.comparator) ? this.comparator : null;
    var toAdd = [], toRemove = [], modelMap = {};
    var add = options.add, merge = options.merge, remove = options.remove;
    var order = !sortable && add && remove ? [] : false;

    // Turn bare objects into model references, and prevent invalid models
    // from being added.
    for (var i = 0, length = models.length; i < length; i++) {
      attrs = models[i];

      // If a duplicate is found, prevent it from being added and
      // optionally merge it into the existing model.
      if (existing = this.get(attrs)) {
        if (remove) modelMap[existing.cid] = true;
        if (merge && attrs !== existing) {
          attrs = this._isModel(attrs) ? attrs.attributes : attrs;
          if (options.parse) attrs = existing.parse(attrs, options);
          existing.set(attrs, options);
          if (sortable && !sort && existing.hasChanged(sortAttr)) sort = true;
        }
        models[i] = existing;

        // If this is a new, valid model, push it to the `toAdd` list.
      } else if (add) {
        model = models[i] = this._prepareModel(attrs, options);
        if (!model) continue;
        toAdd.push(model);
        this._addReference(model, options);
      }

      // Do not add multiple models with the same `id`.
      model = existing || model;
      if (!model) continue;
      id = this.modelId(model.attributes);
      if (order && (model.isNew() || !modelMap[id])) order.push(model);
      modelMap[id] = true;
    }

    // Remove nonexistent models if appropriate.
    if (remove) {
      for (var i = 0, length = this.length; i < length; i++) {
        if (!modelMap[(model = this.models[i]).cid]) toRemove.push(model);
      }
      if (toRemove.length) this.remove(toRemove, options);
    }

    // See if sorting is needed, update `length` and splice in new models.
    if (toAdd.length || (order && order.length)) {
      if (sortable) sort = true;
      this.length += toAdd.length;
      if (at != null) {
        for (var i = 0, length = toAdd.length; i < length; i++) {
          this.models.splice(at + i, 0, toAdd[i]);
        }
      } else {
        if (order) this.models.length = 0;
        var orderedModels = order || toAdd;
        for (var i = 0, length = orderedModels.length; i < length; i++) {
          this.models.push(orderedModels[i]);
        }
      }
    }

    // Silently sort the collection if appropriate.
    if (sort) this.sort({silent: true});

    // Unless silenced, it's time to fire all appropriate add/sort events.
    if (!options.silent) {
      var addOpts = at != null ? _.clone(options) : options;
      for (var i = 0, length = toAdd.length; i < length; i++) {
        if (at != null) addOpts.index = at + i;
        (model = toAdd[i]).trigger('add', model, this, addOpts);
      }
      if (sort || (order && order.length)) this.trigger('sort', this, options);
    }

    // Return the added (or merged) model (or models).
    return singular ? models[0] : models;
  },

    // When you have more items than you want to add or remove individually,
    // you can reset the entire set with a new list of models, without firing
    // any granular `add` or `remove` events. Fires `reset` when finished.
    // Useful for bulk operations and optimizations.
  reset: function(models, options) {
    options || (options = {});
    for (var i = 0, length = this.models.length; i < length; i++) {
      this._removeReference(this.models[i], options);
    }
    options.previousModels = this.models;
    this._reset();
    models = this.add(models, _.extend({silent: true}, options));
    if (!options.silent) this.trigger('reset', this, options);
    return models;
  },

    // Add a model to the end of the collection.
  push: function(model, options) {
    return this.add(model, _.extend({at: this.length}, options));
  },

    // Remove a model from the end of the collection.
  pop: function(options) {
    var model = this.at(this.length - 1);
    this.remove(model, options);
    return model;
  },

    // Add a model to the beginning of the collection.
  unshift: function(model, options) {
    return this.add(model, _.extend({at: 0}, options));
  },

    // Remove a model from the beginning of the collection.
  shift: function(options) {
    var model = this.at(0);
    this.remove(model, options);
    return model;
  },

    // Slice out a sub-array of models from the collection.
  slice: function() {
    return slice.apply(this.models, arguments);
  },

    // Get a model from the set by id.
  get: function(obj) {
    if (obj == null) return void 0;
    var id = this.modelId(this._isModel(obj) ? obj.attributes : obj);
    return this._byId[obj] || this._byId[id] || this._byId[obj.cid];
  },

    // Get the model at the given index.
  at: function(index) {
    if (index < 0) index += this.length;
    return this.models[index];
  },

    // Return models with matching attributes. Useful for simple cases of
    // `filter`.
  where: function(attrs, first) {
    if (_.isEmpty(attrs)) return first ? void 0 : [];
    return this[first ? 'find' : 'filter'](function(model) {
      for (var key in attrs) {
        if (attrs[key] !== model.get(key)) return false;
      }
      return true;
    });
  },

    // Return the first model with matching attributes. Useful for simple cases
    // of `find`.
  findWhere: function(attrs) {
    return this.where(attrs, true);
  },

    // Force the collection to re-sort itself. You don't need to call this under
    // normal circumstances, as the set will maintain sort order as each item
    // is added.
  sort: function(options) {
    if (!this.comparator) throw new Error('Cannot sort a set without a comparator');
    options || (options = {});

    // Run sort based on type of `comparator`.
    if (_.isString(this.comparator) || this.comparator.length === 1) {
      this.models = this.sortBy(this.comparator, this);
    } else {
      this.models.sort(_.bind(this.comparator, this));
    }

    if (!options.silent) this.trigger('sort', this, options);
    return this;
  },

    // Pluck an attribute from each model in the collection.
  pluck: function(attr) {
    return _.invoke(this.models, 'get', attr);
  },

    // Fetch the default set of models for this collection, resetting the
    // collection when they arrive. If `reset: true` is passed, the response
    // data will be passed through the `reset` method instead of `set`.
  fetch: function(options) {
    options = options ? _.clone(options) : {};
    if (options.parse === void 0) options.parse = true;
    var success = options.success;
    var collection = this;
    options.success = function(resp) {
      var method = options.reset ? 'reset' : 'set';
      collection[method](resp, options);
      if (success) success(collection, resp, options);
      collection.trigger('sync', collection, resp, options);
    };
    wrapError(this, options);
    return this.sync('read', this, options);
  },

    // Create a new instance of a model in this collection. Add the model to the
    // collection immediately, unless `wait: true` is passed, in which case we
    // wait for the server to agree.
  create: function(model, options) {
    options = options ? _.clone(options) : {};
    if (!(model = this._prepareModel(model, options))) return false;
    if (!options.wait) this.add(model, options);
    var collection = this;
    var success = options.success;
    options.success = function(model, resp) {
      if (options.wait) collection.add(model, options);
      if (success) success(model, resp, options);
    };
    model.save(null, options);
    return model;
  },

    // **parse** converts a response into a list of models to be added to the
    // collection. The default implementation is just to pass it through.
  parse: function(resp, options) {
    return resp;
  },

    // Create a new collection with an identical list of models as this one.
  clone: function() {
    return new this.constructor(this.models, {
      model: this.model,
      comparator: this.comparator
    });
  },

    // Define how to uniquely identify models in the collection.
  modelId: function (attrs) {
    return attrs[this.model.prototype.idAttribute || 'id'];
  },

    // Private method to reset all internal state. Called when the collection
    // is first initialized or reset.
  _reset: function() {
    this.length = 0;
    this.models = [];
    this._byId  = {};
  },

    // Prepare a hash of attributes (or other model) to be added to this
    // collection.
  _prepareModel: function(attrs, options) {
    if (this._isModel(attrs)) {
      if (!attrs.collection) attrs.collection = this;
      return attrs;
    }
    options = options ? _.clone(options) : {};
    options.collection = this;
    var model = new this.model(attrs, options);
    if (!model.validationError) return model;
    this.trigger('invalid', this, model.validationError, options);
    return false;
  },

    // Method for checking whether an object should be considered a model for
    // the purposes of adding to the collection.
  _isModel: function (model) {
    return model instanceof Model;
  },

    // Internal method to create a model's ties to a collection.
  _addReference: function(model, options) {
    this._byId[model.cid] = model;
    var id = this.modelId(model.attributes);
    if (id != null) this._byId[id] = model;
    model.on('all', this._onModelEvent, this);
  },

    // Internal method to sever a model's ties to a collection.
  _removeReference: function(model, options) {
    if (this === model.collection) delete model.collection;
    model.off('all', this._onModelEvent, this);
  },

    // Internal method called every time a model in the set fires an event.
    // Sets need to update their indexes when models change ids. All other
    // events simply proxy through. "add" and "remove" events that originate
    // in other collections are ignored.
  _onModelEvent: function(event, model, collection, options) {
    if ((event === 'add' || event === 'remove') && collection !== this) return;
    if (event === 'destroy') this.remove(model, options);
    if (event === 'change') {
      var prevId = this.modelId(model.previousAttributes());
      var id = this.modelId(model.attributes);
      if (prevId !== id) {
        if (prevId != null) delete this._byId[prevId];
        if (id != null) this._byId[id] = model;
      }
    }
    this.trigger.apply(this, arguments);
  }

});

// Underscore methods that we want to implement on the Collection.
// 90% of the core usefulness of Backbone Collections is actually implemented
// right here:
var methods = ['forEach', 'each', 'map', 'collect', 'reduce', 'foldl',
    'inject', 'reduceRight', 'foldr', 'find', 'detect', 'filter', 'select',
    'reject', 'every', 'all', 'some', 'any', 'include', 'contains', 'invoke',
    'max', 'min', 'toArray', 'size', 'first', 'head', 'take', 'initial', 'rest',
    'tail', 'drop', 'last', 'without', 'difference', 'indexOf', 'shuffle',
    'lastIndexOf', 'isEmpty', 'chain', 'sample', 'partition'];

// Mix in each Underscore method as a proxy to `Collection#models`.
_.each(methods, function(method) {
  if (!_[method]) return;
  Collection.prototype[method] = function() {
    var args = slice.call(arguments);
    args.unshift(this.models);
    return _[method].apply(_, args);
  };
});

// Underscore methods that take a property name as an argument.
var attributeMethods = ['groupBy', 'countBy', 'sortBy', 'indexBy'];

// Use attributes instead of properties.
_.each(attributeMethods, function(method) {
  if (!_[method]) return;
  Collection.prototype[method] = function(value, context) {
    var iterator = _.isFunction(value) ? value : function(model) {
      return model.get(value);
    };
    return _[method](this.models, iterator, context);
  };
});

// setup inheritance
Collection.extend = extend;
module.exports = Collection;

},{"./model":5,"backbone-events-standalone":7,"backbone-extend-standalone":8,"underscore":66}],4:[function(require,module,exports){
module.exports.Model = require("./model");
module.exports.Collection = require("./collection");
module.exports.Events = require("backbone-events-standalone");
module.exports.extend = require("backbone-extend-standalone");

},{"./collection":3,"./model":5,"backbone-events-standalone":7,"backbone-extend-standalone":8}],5:[function(require,module,exports){
//     Backbone.js 1.1.2

//     (c) 2010-2014 Jeremy Ashkenas, DocumentCloud and Investigative Reporters & Editors
//     Backbone may be freely distributed under the MIT license.
//     For all details and documentation:
//     http://backbonejs.org

var Events = require("backbone-events-standalone");
var extend = require("backbone-extend-standalone");
var _ = require("underscore");

// Backbone.Model
// --------------

// Backbone **Models** are the basic data object in the framework --
// frequently representing a row in a table in a database on your server.
// A discrete chunk of data and a bunch of useful, related methods for
// performing computations and transformations on that data.

// Create a new model with the specified attributes. A client id (`cid`)
// is automatically generated and assigned for you.
var Model = function(attributes, options) {
  var attrs = attributes || {};
  options || (options = {});
  this.cid = _.uniqueId('c');
  this.attributes = {};
  if (options.collection) this.collection = options.collection;
  if (options.parse) attrs = this.parse(attrs, options) || {};
  attrs = _.defaults({}, attrs, _.result(this, 'defaults'));
  this.set(attrs, options);
  this.changed = {};
  this.initialize.apply(this, arguments);
};

// Attach all inheritable methods to the Model prototype.
_.extend(Model.prototype, Events, {

  // A hash of attributes whose current and previous value differ.
  changed: null,

  // The value returned during the last failed validation.
  validationError: null,

    // The default name for the JSON `id` attribute is `"id"`. MongoDB and
    // CouchDB users may want to set this to `"_id"`.
  idAttribute: 'id',

    // Initialize is an empty function by default. Override it with your own
    // initialization logic.
  initialize: function(){},

    // Return a copy of the model's `attributes` object.
  toJSON: function(options) {
    return _.clone(this.attributes);
  },

    // Proxy `Backbone.sync` by default -- but override this if you need
    // custom syncing semantics for *this* particular model.
  sync: function() {
    return Backbone.sync.apply(this, arguments);
  },

    // Get the value of an attribute.
  get: function(attr) {
    return this.attributes[attr];
  },

    // Get the HTML-escaped value of an attribute.
  escape: function(attr) {
    return _.escape(this.get(attr));
  },

    // Returns `true` if the attribute contains a value that is not null
    // or undefined.
  has: function(attr) {
    return this.get(attr) != null;
  },

    // Set a hash of model attributes on the object, firing `"change"`. This is
    // the core primitive operation of a model, updating the data and notifying
    // anyone who needs to know about the change in state. The heart of the beast.
  set: function(key, val, options) {
    var attr, attrs, unset, changes, silent, changing, prev, current;
    if (key == null) return this;

    // Handle both `"key", value` and `{key: value}` -style arguments.
    if (typeof key === 'object') {
      attrs = key;
      options = val;
    } else {
      (attrs = {})[key] = val;
    }

    options || (options = {});

    // Run validation.
    if (!this._validate(attrs, options)) return false;

    // Extract attributes and options.
    unset           = options.unset;
    silent          = options.silent;
    changes         = [];
    changing        = this._changing;
    this._changing  = true;

    if (!changing) {
      this._previousAttributes = _.clone(this.attributes);
      this.changed = {};
    }
    current = this.attributes, prev = this._previousAttributes;

    // Check for changes of `id`.
    if (this.idAttribute in attrs) this.id = attrs[this.idAttribute];

    // For each `set` attribute, update or delete the current value.
    for (attr in attrs) {
      val = attrs[attr];
      if (!_.isEqual(current[attr], val)) changes.push(attr);
      if (!_.isEqual(prev[attr], val)) {
        this.changed[attr] = val;
      } else {
        delete this.changed[attr];
      }
      unset ? delete current[attr] : current[attr] = val;
    }

    // Trigger all relevant attribute changes.
    if (!silent) {
      if (changes.length) this._pending = options;
      for (var i = 0, length = changes.length; i < length; i++) {
        this.trigger('change:' + changes[i], this, current[changes[i]], options);
      }
    }

    // You might be wondering why there's a `while` loop here. Changes can
    // be recursively nested within `"change"` events.
    if (changing) return this;
    if (!silent) {
      while (this._pending) {
        options = this._pending;
        this._pending = false;
        this.trigger('change', this, options);
      }
    }
    this._pending = false;
    this._changing = false;
    return this;
  },

    // Remove an attribute from the model, firing `"change"`. `unset` is a noop
    // if the attribute doesn't exist.
  unset: function(attr, options) {
    return this.set(attr, void 0, _.extend({}, options, {unset: true}));
  },

    // Clear all attributes on the model, firing `"change"`.
  clear: function(options) {
    var attrs = {};
    for (var key in this.attributes) attrs[key] = void 0;
    return this.set(attrs, _.extend({}, options, {unset: true}));
  },

    // Determine if the model has changed since the last `"change"` event.
    // If you specify an attribute name, determine if that attribute has changed.
  hasChanged: function(attr) {
    if (attr == null) return !_.isEmpty(this.changed);
    return _.has(this.changed, attr);
  },

    // Return an object containing all the attributes that have changed, or
    // false if there are no changed attributes. Useful for determining what
    // parts of a view need to be updated and/or what attributes need to be
    // persisted to the server. Unset attributes will be set to undefined.
    // You can also pass an attributes object to diff against the model,
    // determining if there *would be* a change.
  changedAttributes: function(diff) {
    if (!diff) return this.hasChanged() ? _.clone(this.changed) : false;
    var val, changed = false;
    var old = this._changing ? this._previousAttributes : this.attributes;
    for (var attr in diff) {
      if (_.isEqual(old[attr], (val = diff[attr]))) continue;
      (changed || (changed = {}))[attr] = val;
    }
    return changed;
  },

    // Get the previous value of an attribute, recorded at the time the last
    // `"change"` event was fired.
  previous: function(attr) {
    if (attr == null || !this._previousAttributes) return null;
    return this._previousAttributes[attr];
  },

    // Get all of the attributes of the model at the time of the previous
    // `"change"` event.
  previousAttributes: function() {
    return _.clone(this._previousAttributes);
  },

    // Fetch the model from the server. If the server's representation of the
    // model differs from its current attributes, they will be overridden,
    // triggering a `"change"` event.
  fetch: function(options) {
    options = options ? _.clone(options) : {};
    if (options.parse === void 0) options.parse = true;
    var model = this;
    var success = options.success;
    options.success = function(resp) {
      if (!model.set(model.parse(resp, options), options)) return false;
      if (success) success(model, resp, options);
      model.trigger('sync', model, resp, options);
    };
    wrapError(this, options);
    return this.sync('read', this, options);
  },

    // Set a hash of model attributes, and sync the model to the server.
    // If the server returns an attributes hash that differs, the model's
    // state will be `set` again.
  save: function(key, val, options) {
    var attrs, method, xhr, attributes = this.attributes;

    // Handle both `"key", value` and `{key: value}` -style arguments.
    if (key == null || typeof key === 'object') {
      attrs = key;
      options = val;
    } else {
      (attrs = {})[key] = val;
    }

    options = _.extend({validate: true}, options);

    // If we're not waiting and attributes exist, save acts as
    // `set(attr).save(null, opts)` with validation. Otherwise, check if
    // the model will be valid when the attributes, if any, are set.
    if (attrs && !options.wait) {
      if (!this.set(attrs, options)) return false;
    } else {
      if (!this._validate(attrs, options)) return false;
    }

    // Set temporary attributes if `{wait: true}`.
    if (attrs && options.wait) {
      this.attributes = _.extend({}, attributes, attrs);
    }

    // After a successful server-side save, the client is (optionally)
    // updated with the server-side state.
    if (options.parse === void 0) options.parse = true;
    var model = this;
    var success = options.success;
    options.success = function(resp) {
      // Ensure attributes are restored during synchronous saves.
      model.attributes = attributes;
      var serverAttrs = model.parse(resp, options);
      if (options.wait) serverAttrs = _.extend(attrs || {}, serverAttrs);
      if (_.isObject(serverAttrs) && !model.set(serverAttrs, options)) {
        return false;
      }
      if (success) success(model, resp, options);
      model.trigger('sync', model, resp, options);
    };
    wrapError(this, options);

    method = this.isNew() ? 'create' : (options.patch ? 'patch' : 'update');
    if (method === 'patch' && !options.attrs) options.attrs = attrs;
    xhr = this.sync(method, this, options);

    // Restore attributes.
    if (attrs && options.wait) this.attributes = attributes;

    return xhr;
  },

    // Destroy this model on the server if it was already persisted.
    // Optimistically removes the model from its collection, if it has one.
    // If `wait: true` is passed, waits for the server to respond before removal.
  destroy: function(options) {
    options = options ? _.clone(options) : {};
    var model = this;
    var success = options.success;

    var destroy = function() {
      model.stopListening();
      model.trigger('destroy', model, model.collection, options);
    };

    options.success = function(resp) {
      if (options.wait || model.isNew()) destroy();
      if (success) success(model, resp, options);
      if (!model.isNew()) model.trigger('sync', model, resp, options);
    };

    if (this.isNew()) {
      options.success();
      return false;
    }
    wrapError(this, options);

    var xhr = this.sync('delete', this, options);
    if (!options.wait) destroy();
    return xhr;
  },

    // Default URL for the model's representation on the server -- if you're
    // using Backbone's restful methods, override this to change the endpoint
    // that will be called.
  url: function() {
    var base =
      _.result(this, 'urlRoot') ||
      _.result(this.collection, 'url') ||
      urlError();
    if (this.isNew()) return base;
    return base.replace(/([^\/])$/, '$1/') + encodeURIComponent(this.id);
  },

    // **parse** converts a response into the hash of attributes to be `set` on
    // the model. The default implementation is just to pass the response along.
  parse: function(resp, options) {
    return resp;
  },

    // Create a new model with identical attributes to this one.
  clone: function() {
    return new this.constructor(this.attributes);
  },

    // A model is new if it has never been saved to the server, and lacks an id.
  isNew: function() {
    return !this.has(this.idAttribute);
  },

    // Check if the model is currently in a valid state.
  isValid: function(options) {
    return this._validate({}, _.extend(options || {}, { validate: true }));
  },

    // Run validation against the next complete set of model attributes,
    // returning `true` if all is well. Otherwise, fire an `"invalid"` event.
  _validate: function(attrs, options) {
    if (!options.validate || !this.validate) return true;
    attrs = _.extend({}, this.attributes, attrs);
    var error = this.validationError = this.validate(attrs, options) || null;
    if (!error) return true;
    this.trigger('invalid', this, error, _.extend(options, {validationError: error}));
    return false;
  }

});

// Underscore methods that we want to implement on the Model.
var modelMethods = ['keys', 'values', 'pairs', 'invert', 'pick', 'omit', 'chain', 'isEmpty'];

// Mix in each Underscore method as a proxy to `Model#attributes`.
_.each(modelMethods, function(method) {
  if (!_[method]) return;
  Model.prototype[method] = function() {
    var args = slice.call(arguments);
    args.unshift(this.attributes);
    return _[method].apply(_, args);
  };
});

// setup inheritance
Model.extend = extend;
module.exports = Model;

},{"backbone-events-standalone":7,"backbone-extend-standalone":8,"underscore":66}],6:[function(require,module,exports){
/**
 * Standalone extraction of Backbone.Events, no external dependency required.
 * Degrades nicely when Backone/underscore are already available in the current
 * global context.
 *
 * Note that docs suggest to use underscore's `_.extend()` method to add Events
 * support to some given object. A `mixin()` method has been added to the Events
 * prototype to avoid using underscore for that sole purpose:
 *
 *     var myEventEmitter = BackboneEvents.mixin({});
 *
 * Or for a function constructor:
 *
 *     function MyConstructor(){}
 *     MyConstructor.prototype.foo = function(){}
 *     BackboneEvents.mixin(MyConstructor.prototype);
 *
 * (c) 2009-2013 Jeremy Ashkenas, DocumentCloud Inc.
 * (c) 2013 Nicolas Perriault
 */
/* global exports:true, define, module */
(function() {
  var root = this,
      breaker = {},
      nativeForEach = Array.prototype.forEach,
      hasOwnProperty = Object.prototype.hasOwnProperty,
      slice = Array.prototype.slice,
      idCounter = 0;

  // Returns a partial implementation matching the minimal API subset required
  // by Backbone.Events
  function miniscore() {
    return {
      keys: Object.keys || function (obj) {
        if (typeof obj !== "object" && typeof obj !== "function" || obj === null) {
          throw new TypeError("keys() called on a non-object");
        }
        var key, keys = [];
        for (key in obj) {
          if (obj.hasOwnProperty(key)) {
            keys[keys.length] = key;
          }
        }
        return keys;
      },

      uniqueId: function(prefix) {
        var id = ++idCounter + '';
        return prefix ? prefix + id : id;
      },

      has: function(obj, key) {
        return hasOwnProperty.call(obj, key);
      },

      each: function(obj, iterator, context) {
        if (obj == null) return;
        if (nativeForEach && obj.forEach === nativeForEach) {
          obj.forEach(iterator, context);
        } else if (obj.length === +obj.length) {
          for (var i = 0, l = obj.length; i < l; i++) {
            if (iterator.call(context, obj[i], i, obj) === breaker) return;
          }
        } else {
          for (var key in obj) {
            if (this.has(obj, key)) {
              if (iterator.call(context, obj[key], key, obj) === breaker) return;
            }
          }
        }
      },

      once: function(func) {
        var ran = false, memo;
        return function() {
          if (ran) return memo;
          ran = true;
          memo = func.apply(this, arguments);
          func = null;
          return memo;
        };
      }
    };
  }

  var _ = miniscore(), Events;

  // Backbone.Events
  // ---------------

  // A module that can be mixed in to *any object* in order to provide it with
  // custom events. You may bind with `on` or remove with `off` callback
  // functions to an event; `trigger`-ing an event fires all callbacks in
  // succession.
  //
  //     var object = {};
  //     _.extend(object, Backbone.Events);
  //     object.on('expand', function(){ alert('expanded'); });
  //     object.trigger('expand');
  //
  Events = {

    // Bind an event to a `callback` function. Passing `"all"` will bind
    // the callback to all events fired.
    on: function(name, callback, context) {
      if (!eventsApi(this, 'on', name, [callback, context]) || !callback) return this;
      this._events || (this._events = {});
      var events = this._events[name] || (this._events[name] = []);
      events.push({callback: callback, context: context, ctx: context || this});
      return this;
    },

    // Bind an event to only be triggered a single time. After the first time
    // the callback is invoked, it will be removed.
    once: function(name, callback, context) {
      if (!eventsApi(this, 'once', name, [callback, context]) || !callback) return this;
      var self = this;
      var once = _.once(function() {
        self.off(name, once);
        callback.apply(this, arguments);
      });
      once._callback = callback;
      return this.on(name, once, context);
    },

    // Remove one or many callbacks. If `context` is null, removes all
    // callbacks with that function. If `callback` is null, removes all
    // callbacks for the event. If `name` is null, removes all bound
    // callbacks for all events.
    off: function(name, callback, context) {
      var retain, ev, events, names, i, l, j, k;
      if (!this._events || !eventsApi(this, 'off', name, [callback, context])) return this;
      if (!name && !callback && !context) {
        this._events = {};
        return this;
      }

      names = name ? [name] : _.keys(this._events);
      for (i = 0, l = names.length; i < l; i++) {
        name = names[i];
        if (events = this._events[name]) {
          this._events[name] = retain = [];
          if (callback || context) {
            for (j = 0, k = events.length; j < k; j++) {
              ev = events[j];
              if ((callback && callback !== ev.callback && callback !== ev.callback._callback) ||
                  (context && context !== ev.context)) {
                retain.push(ev);
              }
            }
          }
          if (!retain.length) delete this._events[name];
        }
      }

      return this;
    },

    // Trigger one or many events, firing all bound callbacks. Callbacks are
    // passed the same arguments as `trigger` is, apart from the event name
    // (unless you're listening on `"all"`, which will cause your callback to
    // receive the true name of the event as the first argument).
    trigger: function(name) {
      if (!this._events) return this;
      var args = slice.call(arguments, 1);
      if (!eventsApi(this, 'trigger', name, args)) return this;
      var events = this._events[name];
      var allEvents = this._events.all;
      if (events) triggerEvents(events, args);
      if (allEvents) triggerEvents(allEvents, arguments);
      return this;
    },

    // Tell this object to stop listening to either specific events ... or
    // to every object it's currently listening to.
    stopListening: function(obj, name, callback) {
      var listeners = this._listeners;
      if (!listeners) return this;
      var deleteListener = !name && !callback;
      if (typeof name === 'object') callback = this;
      if (obj) (listeners = {})[obj._listenerId] = obj;
      for (var id in listeners) {
        listeners[id].off(name, callback, this);
        if (deleteListener) delete this._listeners[id];
      }
      return this;
    }

  };

  // Regular expression used to split event strings.
  var eventSplitter = /\s+/;

  // Implement fancy features of the Events API such as multiple event
  // names `"change blur"` and jQuery-style event maps `{change: action}`
  // in terms of the existing API.
  var eventsApi = function(obj, action, name, rest) {
    if (!name) return true;

    // Handle event maps.
    if (typeof name === 'object') {
      for (var key in name) {
        obj[action].apply(obj, [key, name[key]].concat(rest));
      }
      return false;
    }

    // Handle space separated event names.
    if (eventSplitter.test(name)) {
      var names = name.split(eventSplitter);
      for (var i = 0, l = names.length; i < l; i++) {
        obj[action].apply(obj, [names[i]].concat(rest));
      }
      return false;
    }

    return true;
  };

  // A difficult-to-believe, but optimized internal dispatch function for
  // triggering events. Tries to keep the usual cases speedy (most internal
  // Backbone events have 3 arguments).
  var triggerEvents = function(events, args) {
    var ev, i = -1, l = events.length, a1 = args[0], a2 = args[1], a3 = args[2];
    switch (args.length) {
      case 0: while (++i < l) (ev = events[i]).callback.call(ev.ctx); return;
      case 1: while (++i < l) (ev = events[i]).callback.call(ev.ctx, a1); return;
      case 2: while (++i < l) (ev = events[i]).callback.call(ev.ctx, a1, a2); return;
      case 3: while (++i < l) (ev = events[i]).callback.call(ev.ctx, a1, a2, a3); return;
      default: while (++i < l) (ev = events[i]).callback.apply(ev.ctx, args);
    }
  };

  var listenMethods = {listenTo: 'on', listenToOnce: 'once'};

  // Inversion-of-control versions of `on` and `once`. Tell *this* object to
  // listen to an event in another object ... keeping track of what it's
  // listening to.
  _.each(listenMethods, function(implementation, method) {
    Events[method] = function(obj, name, callback) {
      var listeners = this._listeners || (this._listeners = {});
      var id = obj._listenerId || (obj._listenerId = _.uniqueId('l'));
      listeners[id] = obj;
      if (typeof name === 'object') callback = this;
      obj[implementation](name, callback, this);
      return this;
    };
  });

  // Aliases for backwards compatibility.
  Events.bind   = Events.on;
  Events.unbind = Events.off;

  // Mixin utility
  Events.mixin = function(proto) {
    var exports = ['on', 'once', 'off', 'trigger', 'stopListening', 'listenTo',
                   'listenToOnce', 'bind', 'unbind'];
    _.each(exports, function(name) {
      proto[name] = this[name];
    }, this);
    return proto;
  };

  // Export Events as BackboneEvents depending on current context
  if (typeof define === "function") {
    define(function() {
      return Events;
    });
  } else if (typeof exports !== 'undefined') {
    if (typeof module !== 'undefined' && module.exports) {
      exports = module.exports = Events;
    }
    exports.BackboneEvents = Events;
  } else {
    root.BackboneEvents = Events;
  }
})(this);

},{}],7:[function(require,module,exports){
module.exports = require('./backbone-events-standalone');

},{"./backbone-events-standalone":6}],8:[function(require,module,exports){
(function (definition) {
  if (typeof exports === "object") {
    module.exports = definition();
  }
  else if (typeof define === 'function' && define.amd) {
    define(definition);
  }
  else {
    window.BackboneExtend = definition();
  }
})(function () {
  "use strict";
  
  // mini-underscore
  var _ = {
    has: function (obj, key) {
      return Object.prototype.hasOwnProperty.call(obj, key);
    },
  
    extend: function(obj) {
      for (var i=1; i<arguments.length; ++i) {
        var source = arguments[i];
        if (source) {
          for (var prop in source) {
            obj[prop] = source[prop];
          }
        }
      }
      return obj;
    }
  };

  /// Following code is pasted from Backbone.js ///

  // Helper function to correctly set up the prototype chain, for subclasses.
  // Similar to `goog.inherits`, but uses a hash of prototype properties and
  // class properties to be extended.
  var extend = function(protoProps, staticProps) {
    var parent = this;
    var child;

    // The constructor function for the new subclass is either defined by you
    // (the "constructor" property in your `extend` definition), or defaulted
    // by us to simply call the parent's constructor.
    if (protoProps && _.has(protoProps, 'constructor')) {
      child = protoProps.constructor;
    } else {
      child = function(){ return parent.apply(this, arguments); };
    }

    // Add static properties to the constructor function, if supplied.
    _.extend(child, parent, staticProps);

    // Set the prototype chain to inherit from `parent`, without calling
    // `parent`'s constructor function.
    var Surrogate = function(){ this.constructor = child; };
    Surrogate.prototype = parent.prototype;
    child.prototype = new Surrogate();

    // Add prototype properties (instance properties) to the subclass,
    // if supplied.
    if (protoProps) _.extend(child.prototype, protoProps);

    // Set a convenience property in case the parent's prototype is needed
    // later.
    child.__super__ = parent.prototype;

    return child;
  };

  // Expose the extend function
  return extend;
});

},{}],9:[function(require,module,exports){
// this is the extracted view model from backbone
// note that we inject jbone as jquery replacment
// (and underscore directly)
//
// Views are almost more convention than they are actual code.
//  MVC pattern
// Backbone.View
// -------------

var _ = require("underscore");
var Events = require("backbone-events-standalone");
var extend = require("backbone-extend-standalone");
var $ = require('jbone');

// Backbone Views are almost more convention than they are actual code. A View
// is simply a JavaScript object that represents a logical chunk of UI in the
// DOM. This might be a single item, an entire list, a sidebar or panel, or
// even the surrounding frame which wraps your whole app. Defining a chunk of
// UI as a **View** allows you to define your DOM events declaratively, without
// having to worry about render order ... and makes it easy for the view to
// react to specific changes in the state of your models.

// Creating a Backbone.View creates its initial element outside of the DOM,
// if an existing element is not provided...
var View =  function(options) {
  this.cid = _.uniqueId('view');
  options || (options = {});
  _.extend(this, _.pick(options, viewOptions));
  this._ensureElement();
  this.initialize.apply(this, arguments);
};

// Cached regex to split keys for `delegate`.
var delegateEventSplitter = /^(\S+)\s*(.*)$/;

// List of view options to be merged as properties.
var viewOptions = ['model', 'collection', 'el', 'id', 'attributes', 'className', 'tagName', 'events'];

// Set up all inheritable **Backbone.View** properties and methods.
_.extend(View.prototype, Events, {

  // The default `tagName` of a View's element is `"div"`.
  tagName: 'div',

  // jQuery delegate for element lookup, scoped to DOM elements within the
  // current view. This should be preferred to global lookups where possible.
  $: function(selector) {
    return this.$el.find(selector);
  },

    // Initialize is an empty function by default. Override it with your own
    // initialization logic.
  initialize: function(){},

    // **render** is the core function that your view should override, in order
    // to populate its element (`this.el`), with the appropriate HTML. The
    // convention is for **render** to always return `this`.
  render: function() {
    return this;
  },

    // Remove this view by taking the element out of the DOM, and removing any
    // applicable Backbone.Events listeners.
  remove: function() {
    this._removeElement();
    this.stopListening();
    return this;
  },

    // Remove this view's element from the document and all event listeners
    // attached to it. Exposed for subclasses using an alternative DOM
    // manipulation API.
  _removeElement: function() {
    this.$el.remove();
  },

    // Change the view's element (`this.el` property) and re-delegate the
    // view's events on the new element.
  setElement: function(element) {
    this.undelegateEvents();
    this._setElement(element);
    this.delegateEvents();
    return this;
  },

    // Creates the `this.el` and `this.$el` references for this view using the
    // given `el`. `el` can be a CSS selector or an HTML string, a jQuery
    // context or an element. Subclasses can override this to utilize an
    // alternative DOM manipulation API and are only required to set the
    // `this.el` property.
  _setElement: function(el) {
    this.$el = el instanceof $ ? el : $(el);
    this.el = this.$el[0];
  },

    // Set callbacks, where `this.events` is a hash of
    //
    // *{"event selector": "callback"}*
    //
    //     {
    //       'mousedown .title':  'edit',
    //       'click .button':     'save',
    //       'click .open':       function(e) { ... }
    //     }
    //
    // pairs. Callbacks will be bound to the view, with `this` set properly.
    // Uses event delegation for efficiency.
    // Omitting the selector binds the event to `this.el`.
  delegateEvents: function(events) {
    if (!(events || (events = _.result(this, 'events')))) return this;
    this.undelegateEvents();
    for (var key in events) {
      var method = events[key];
      if (!_.isFunction(method)) method = this[events[key]];
      if (!method) continue;
      var match = key.match(delegateEventSplitter);
      this.delegate(match[1], match[2], _.bind(method, this));
    }
    return this;
  },

    // Add a single event listener to the view's element (or a child element
    // using `selector`). This only works for delegate-able events: not `focus`,
    // `blur`, and not `change`, `submit`, and `reset` in Internet Explorer.
  delegate: function(eventName, selector, listener) {
    this.$el.on(eventName + '.delegateEvents' + this.cid, selector, listener);
  },

    // Clears all callbacks previously bound to the view by `delegateEvents`.
    // You usually don't need to use this, but may wish to if you have multiple
    // Backbone views attached to the same DOM element.
  undelegateEvents: function() {
    if (this.$el) this.$el.off('.delegateEvents' + this.cid);
    return this;
  },

    // A finer-grained `undelegateEvents` for removing a single delegated event.
    // `selector` and `listener` are both optional.
  undelegate: function(eventName, selector, listener) {
    this.$el.off(eventName + '.delegateEvents' + this.cid, selector, listener);
  },

    // Produces a DOM element to be assigned to your view. Exposed for
    // subclasses using an alternative DOM manipulation API.
  _createElement: function(tagName) {
    return document.createElement(tagName);
  },

    // Ensure that the View has a DOM element to render into.
    // If `this.el` is a string, pass it through `$()`, take the first
    // matching element, and re-assign it to `el`. Otherwise, create
    // an element from the `id`, `className` and `tagName` properties.
  _ensureElement: function() {
    if (!this.el) {
      var attrs = _.extend({}, _.result(this, 'attributes'));
      if (this.id) attrs.id = _.result(this, 'id');
      if (this.className) attrs['class'] = _.result(this, 'className');
      this.setElement(this._createElement(_.result(this, 'tagName')));
      this._setAttributes(attrs);
    } else {
      this.setElement(_.result(this, 'el'));
    }
  },

    // Set attributes from a hash on this view's element.  Exposed for
    // subclasses using an alternative DOM manipulation API.
  _setAttributes: function(attributes) {
    this.$el.attr(attributes);
  }

});

// setup inheritance
View.extend = extend;
module.exports = View;

},{"backbone-events-standalone":11,"backbone-extend-standalone":12,"jbone":42,"underscore":66}],10:[function(require,module,exports){
arguments[4][6][0].apply(exports,arguments)
},{"dup":6}],11:[function(require,module,exports){
arguments[4][7][0].apply(exports,arguments)
},{"./backbone-events-standalone":10,"dup":7}],12:[function(require,module,exports){
arguments[4][8][0].apply(exports,arguments)
},{"dup":8}],13:[function(require,module,exports){
var events = require("backbone-events-standalone");

events.onAll = function(callback,context){
  this.on("all", callback,context);
  return this;
};

// Mixin utility
events.oldMixin = events.mixin;
events.mixin = function(proto) {
  events.oldMixin(proto);
  // add custom onAll
  var exports = ['onAll'];
  for(var i=0; i < exports.length;i++){
    var name = exports[i];
    proto[name] = this[name];
  }
  return proto;
};

module.exports = events;

},{"backbone-events-standalone":15}],14:[function(require,module,exports){
arguments[4][6][0].apply(exports,arguments)
},{"dup":6}],15:[function(require,module,exports){
arguments[4][7][0].apply(exports,arguments)
},{"./backbone-events-standalone":14,"dup":7}],16:[function(require,module,exports){
// Generated by CoffeeScript 1.8.0
var GenericReader, xhr;

xhr = require('xhr');

module.exports = GenericReader = (function() {
  function GenericReader() {}

  GenericReader.read = function(url, callback) {
    var onret;
    onret = (function(_this) {
      return function(err, response, text) {
        return _this._onRetrieval(text, callback);
      };
    })(this);
    return xhr(url, onret);
  };

  GenericReader._onRetrieval = function(text, callback) {
    var rText;
    rText = this.parse(text);
    return callback(rText);
  };

  return GenericReader;

})();

},{"xhr":"xhr"}],17:[function(require,module,exports){
// Generated by CoffeeScript 1.9.0
var GenericReader, xhr;

xhr = require('xhr');

module.exports = GenericReader = (function() {
  function GenericReader() {}

  GenericReader.read = function(url, callback) {
    var onret;
    onret = (function(_this) {
      return function(err, response, text) {
        return _this._onRetrieval(text, callback);
      };
    })(this);
    return xhr(url, onret);
  };

  GenericReader._onRetrieval = function(text, callback) {
    var rText;
    rText = this.parse(text);
    return callback(rText);
  };

  return GenericReader;

})();

},{"xhr":"xhr"}],18:[function(require,module,exports){
// Generated by CoffeeScript 1.9.0
var Fasta, GenericReader, st,
  __extends = function(child, parent) { for (var key in parent) { if (__hasProp.call(parent, key)) child[key] = parent[key]; } function ctor() { this.constructor = child; } ctor.prototype = parent.prototype; child.prototype = new ctor(); child.__super__ = parent.prototype; return child; },
  __hasProp = {}.hasOwnProperty;

GenericReader = require("./generic_reader");

st = require("msa-seqtools");

module.exports = Fasta = (function(_super) {
  __extends(Fasta, _super);

  function Fasta() {
    return Fasta.__super__.constructor.apply(this, arguments);
  }

  Fasta.parse = function(text) {
    var currentSeq, keys, label, line, obj, seqs, _i, _len;
    seqs = [];
    if (!text || text.length === 0) {
      return [];
    }
    if (Object.prototype.toString.call(text) !== '[object Array]') {
      text = text.split("\n");
    }
    for (_i = 0, _len = text.length; _i < _len; _i++) {
      line = text[_i];
      if (line[0] === ">" || line[0] === ";") {
        label = line.slice(1);
        obj = st.getMeta(label);
        label = obj.name;
        currentSeq = new st.model("", label, seqs.length);
        currentSeq.ids = obj.ids || {};
        keys = Object.keys(currentSeq.ids);
        if (keys.length > 0) {
          currentSeq.id = currentSeq.ids[keys[0]];
        }
        currentSeq.details = obj.details || {};
        seqs.push(currentSeq);
      } else {
        currentSeq.seq += line;
      }
    }
    return seqs;
  };

  Fasta.write = function(seqs, access) {
    var seq, text, _i, _len;
    text = "";
    for (_i = 0, _len = seqs.length; _i < _len; _i++) {
      seq = seqs[_i];
      if (access != null) {
        seq = access(seq);
      }
      text += ">" + seq.name + "\n";
      text += (st.splitNChars(seq.seq, 80)).join("\n");
      text += "\n";
    }
    return text;
  };

  return Fasta;

})(GenericReader);

},{"./generic_reader":17,"msa-seqtools":64}],19:[function(require,module,exports){
var jalview = {};
module.exports = jalview;
var utils = require("./utils");

// http://www.jalview.org/help/html/features/featuresFormat.html
jalview.readHeader = function(lines) {
  var colors = {};
  var i = 0;
  var features = [];
  var currentGroup;

  for (; i < lines.length; i++) {
    var line = lines[i];
    if (line.indexOf("#") >= 0) {
      // no comments allowed -> stop
      break;
    }
    var columns = line.split(/\t/);
    var firstCell = columns[0].trim();
    if (firstCell === "GFF") {
      // this symbolizes the end 
      break;
    } else if (columns.length === 2) {
      if (firstCell === "startgroup") {
        currentGroup = columns[1].trim();
      } else if (firstCell === "endgroup") {
        currentGroup = "";
        continue;
      } else {
        // parse color
        colors[columns[0]] = jalview.parseColor(columns[1]);
      }
    } else if(columns.length >= 5){
      var arr = jalview.parseLine(columns);
      if (currentGroup) {
        arr.attributes.Parent = currentGroup;
      }
      features.push(arr);
    }
  }

  return {
    offset: i,
    colors: colors,
    features: features
  };
};

jalview.parseColor = function(cell) {
  if (cell.indexOf(",") >= 0) {
    // rgb code
    return utils.rgbToHex(cell.split(",").map(function(el) {
      return parseInt(el);
    }));
  }
  // color names with length == 6
  // 'bisque,maroon,orange,orchid,purple,salmon,sienna,tomato,violet,yellow'
  if (cell.length === 6 && parseInt(cell.charAt(0), 16) <= 16 && cell !== 'bisque') {
    // hex code
    return "#" + cell;
  }
  // color name
  return cell;
};


jalview.parseLine = function(columns) {
  var obj = {
    attributes: {}
  };
  obj.attributes.Name = columns[0].trim(); //desc
  obj.seqname = columns[1].trim(); // id
  obj.start = parseInt(columns[3]);
  obj.end = parseInt(columns[4]);
  obj.feature = columns[5].trim();
  if (obj.seqname === "ID_NOT_SPECIFIED") {
    obj.seqname = columns[2].trim(); // alternative id
  }
  return obj;
};

},{"./utils":20}],20:[function(require,module,exports){
var utils = {};
module.exports = utils;

utils.extractKeys = function extractKeys(attr) {
  // extract key-value definitions
  var attributes = {};
  var attrArr = attr.split(";");
  attrArr.forEach(function(el) {
    var keyArr, key, val;
    if (el.indexOf("=") > 0) {
      keyArr = el.split("=");
      key = keyArr[0];
      val = keyArr[1];
      attributes[key] = val;
    } else if (el.indexOf(" ") > 0) {
      keyArr = el.split(" ");
      key = keyArr[0];
      val = keyArr[1].replace(/"/g, '');
      attributes[key] = val;
    }
  });
  return attributes;
};

function componentToHex(c) {
  var hex = c.toString(16);
  return hex.length === 1 ? "0" + hex : hex;
}

utils.rgbToHex = function(r, g, b) {
  if(r.length === 3){
    return utils.rgbToHex(r[0],r[1], r[2]);
  }
  return "#" + componentToHex(r) + componentToHex(g) + componentToHex(b);
};

},{}],21:[function(require,module,exports){
module.exports.seq = require("./seq");

},{"./seq":22}],22:[function(require,module,exports){
module.exports = function(seq, name, id) {
    this.seq = seq;
    this.name = name;
    this.id = id;
    this.meta = {};
};

},{}],23:[function(require,module,exports){
// this is a light-weight build without the scrolling module
module.exports = require("./src/index.js");

},{"./src/index.js":29}],24:[function(require,module,exports){
module.exports = {
    render_x_axis_label: function () {
      var label = "Model Position";
      if (this.display_ali_map) {
        label = "Alignment Column";
      }
      this.called_on.find('.logo_xaxis').remove();
      this.called_on.prepend('<div class="logo_xaxis" class="centered" style="margin-left:40px"><p class="xaxis_text" style="width:10em;margin:1em auto">' + label + '</p></div>');

    },
    render_y_axis_label: function () {
      //attach a canvas for the y-axis
      this.dom_element.parent().before('<canvas class="logo_yaxis" height="'+this.options.height+'" width="55"></canvas>');
      var canvas = this.called_on.find('.logo_yaxis'),
      top_pix_height = 0,
      bottom_pix_height = 0,
      top_height = Math.abs(this.data.max_height),
      bottom_height = (isNaN(this.data.min_height_obs)) ? 0 : parseInt(this.data.min_height_obs, 10),
      context = null,
      axis_label = "Information Content (bits)";

      context = canvas[0].getContext('2d');
      //draw min/max tick marks
      context.beginPath();
      context.moveTo(55, 1);
      context.lineTo(40, 1);

      context.moveTo(55, this.info_content_height);
      context.lineTo(40, this.info_content_height);


      context.moveTo(55, (this.info_content_height / 2));
      context.lineTo(40, (this.info_content_height / 2));
      context.lineWidth = 1;
      context.strokeStyle = "#666666";
      context.stroke();

      //draw the label text
      context.fillStyle = "#666666";
      context.textAlign = "right";
      context.font = "bold 10px Arial";

      // draw the max label
      context.textBaseline = "top";
      context.fillText(parseFloat(this.data.max_height).toFixed(1), 38, 0);
      context.textBaseline = "middle";

      // draw the midpoint labels
      context.fillText(parseFloat(this.data.max_height / 2).toFixed(1), 38, (this.info_content_height / 2));
      // draw the min label
      context.fillText('0', 38, this.info_content_height);

      // draw the axis label
      if (this.data.height_calc === 'score') {
        axis_label = "Score (bits)";
      }

      context.save();
      context.translate(5, this.height / 2 - 20);
      context.rotate(-Math.PI / 2);
      context.textAlign = "center";
      context.font = "normal 12px Arial";
      context.fillText(axis_label, 1, 0);
      context.restore();

      // draw the insert row labels
      context.fillText('occupancy', 55, this.info_content_height + 7);
      if (this.show_inserts) {
        context.fillText('ins. prob.', 50, 280);
        context.fillText('ins. len.', 46, 296);
      }
    }
}; 

},{}],25:[function(require,module,exports){
var canv_support = null;

module.exports = function canvasSupport() {
  if (!canv_support) {
    var elem = document.createElement('canvas');
    canv_support = !!(elem.getContext && elem.getContext('2d'));
  }
  return canv_support;
}

},{}],26:[function(require,module,exports){
module.exports = {
  'A': '#FF9966',
  'C': '#009999',
  'D': '#FF0000',
  'E': '#CC0033',
  'F': '#00FF00',
  'G': '#f2f20c',
  'H': '#660033',
  'I': '#CC9933',
  'K': '#663300',
  'L': '#FF9933',
  'M': '#CC99CC',
  'N': '#336666',
  'P': '#0099FF',
  'Q': '#6666CC',
  'R': '#990000',
  'S': '#0000FF',
  'T': '#00FFFF',
  'V': '#FFCC33',
  'W': '#66CC66',
  'Y': '#006600'
};

},{}],27:[function(require,module,exports){
module.exports = {
    'A': '#cbf751',
    'C': '#5ec0cc',
    'G': '#ffdf59',
    'T': '#b51f16',
    'U': '#b51f16'
  };

},{}],28:[function(require,module,exports){
var $ = require("jbone");

module.exports = function($el,logo, logo_graphic){

  $el.find('.logo_settings_switch, .logo_settings .close').on('click', function (e) {
    e.preventDefault();
    $('.logo_settings').toggle();
  });

  $el.find('.logo_reset').on('click', function (e) {
    e.preventDefault();
    logo.changeZoom({'target': logo.default_zoom});
  });

  $el.find('.logo_change').on('click', function (e) {
    e.preventDefault();
  });

  $el.find('.logo_zoomin').on('click', function (e) {
    e.preventDefault();
    logo.changeZoom({'distance': 0.1, 'direction': '+'});
  });

  $el.find('.logo_zoomout').on('click', function (e) {
    e.preventDefault();
    logo.changeZoom({'distance': 0.1, 'direction': '-'});
  });

  $el.find('.logo_scale').on('change', function (e) {
    logo.toggleScale(this.value);
  });

  $el.find('.logo_color').on('change', function (e) {
    logo.toggleColorscheme(this.value);
  });

  $el.find('.logo_ali_map').on('change', function (e) {
    logo.toggleAliMap(this.value);
  });

  $el.find('.logo_position').on('change', function () {
    if (!this.value.match(/^\d+$/m)) {
      return;
    }
    logo.scrollToColumn(this.value, 1);
  });

  logo_graphic.on('dblclick', function (e) {
    // need to get coordinates of mouse click
    console.log("dblclick", logo);

    offset = logo.logo_graphic.offset(),
    x = parseInt((e.pageX - offset.left), 10),

    // get mouse position in the window
    window_position = e.pageX - $el.parent().offset().left,

    // get column number
    col = logo.columnFromCoordinates(x),

    console.log("col", col);

    // choose new zoom level and zoom in.
    current = logo.zoom;

    if (current < 1) {
      logo.changeZoom({'target': 1, offset: window_position, column: col});
    } else {
      logo.changeZoom({'target': 0.3, offset: window_position, column: col});
    }

    return;
  });

  $(document).on($el.attr('id') + ".scrolledTo", function (e, left, top, zoom) {
    logo.render({target: left});
  });

  $(document).on('keydown', function (e) {
    if (!e.ctrlKey) {
      if (e.which === 61 || e.which === 107) {
        zoom += 0.1;
        logo.changeZoom({'distance': 0.1, 'direction': '+'});
      }
      if (e.which === 109 || e.which === 0) {
        zoom = zoom - 0.1;
        logo.changeZoom({'distance': 0.1, 'direction': '-'});
      }
    }
  });
}

},{"jbone":42}],29:[function(require,module,exports){
_ = require("underscore");

//var ConsensusColors = require("./consensusColors.js");
var canvasSupport = require("./canvasSupport.js");
var render = require("./render/render.js");
var Letter = require("./model/letter.js");
var view = require("backbone-viewj");
var axis = require("./axis");
var eventListener = require("./eventListener.js");
var settings = require("./info/settings.js");

var jbone = require("jbone");

module.exports = view.extend({

  options: {
    xaxis: true,
    yaxis: true,
    height: 300,
    column_width: 34,
    debug: true,
    scale_height_enabled: true,
    scaled_max: true,
    zoom_buttons: true,
    colorscheme: 'default',
    data: undefined,
    start: 1,
    end: undefined,
    zoom: 0.4,
    colors: undefined,
    divider: false,
    show_probs: false,
    divider_step: 5,
    show_divider: false,
    border: false,
    settings: false,
    scroller: true,
    positionMarker: true
  },

  loadDefault: function(options){
    this.data = options.data;

    // never show the alignment coordinates by default as that would get
    // really confusing.
    this.display_ali_map = 0;

    this.alphabet = options.data.alphabet || 'dna';

    this.start = options.start;
    //this.end = options.end || this.data.heightArr.length;
    this.zoom = parseFloat(options.zoom) || 0.4;
    this.default_zoom = this.zoom;

    this.column_width = options.column_width;
    this.height = options.height;
    this.canvas_width = 5000;
    this.scale_height_enabled = options.scale_height_enabled;

    // this needs to be set to null here so that we can initialise it after
    // the render function has fired and the width determined.
    this.scrollme = null;

    this.previous_target = 0;
    // keeps track of which canvas elements have been drawn and which ones haven't.
    this.rendered = [];
    this.previous_zoom = 0;

    if(this.data.max_height == undefined){
      this.data.max_height = this.calcMaxHeight(this.data.heightArr); 
    }

    // only show insert when we actually have the data
    if(!this.data.insert_probs || !this.data.delete_probs){
      this.options.show_probs = false;
    }

    if (options.scaled_max) {
      this.data.max_height = options.data.max_height_obs || this.data.max_height || 2;
    } else {
      this.data.max_height = options.data.max_height_theory || this.data.max_height || 2;
    }

    if(options.colors){
      this.changeColors(options.colors);
    }else{
      if (this.alphabet === 'aa') {
        this.aa_colors = require("./colors/aa.js");
        this.changeColors(this.aa_colors);
      }else{
        this.dna_colors = require("./colors/dna.js");
        this.changeColors(this.dna_colors);
      }
    }
  },
  initialize: function(options) {
    if (!canvasSupport()) {
      this.el.textContent = "Your browser doesn't support canvas.";
      return;
    }
    if(options.data == undefined){
      this.el.textContent = "No data added.";
    }

    // load default settings
    _.extend(this.options,options);
    var opt = this.options;
    this.loadDefault(opt);

    if(!this.options.show_probs){
      this.info_content_height = this.height;
    }else{
      // turn off the insert rows if the hmm used the observed or weighted processing flags.
      if (this.data.processing && /^observed|weighted/.test(this.data.processing)) {
        this.show_inserts = 0;
        this.info_content_height = this.height - 14;
      } else {
        this.show_inserts = 1;
        this.info_content_height = this.height - 44;
      }
    }
    this.$el = jbone(this.el);

    this.initDivs();

    if(this.options.settings){
      var form = settings(this,opt);
      this.$el.append(form);
    }

    eventListener(this.$el,this, this.logo_graphic);
    /*
       if (opt.columnInfo) {
       var columnInfo = require("./info/column_info.js");
       columnInfo(this);
       }
       */

  },
  initDivs: function(){
    var logo_graphic = mk("div");
    logo_graphic.className = "logo_graphic";
    this.logo_graphic = jbone(logo_graphic);

    var container = mk("div");
    container.className = "logo_container";
    container.style.height = this.height;
    this.container = jbone(container);

    this.container.append(logo_graphic);

    // add some internal divs for scrolling etc.
    this.$el.append(container);

    if(this.options.divider){
      var divider = mk("div");
      divider.className = "logo_divider";
      this.$el.append(divider);
    }

    this.dom_element = jbone(logo_graphic);
    this.called_on = this.$el;

    if(this.options.xaxis){
      axis.render_x_axis_label.call(this);
    }
    if(this.options.yaxis){
      axis.render_y_axis_label.call(this);
    }else{
      this.container[0].style.marginLeft = "0px";
    }

  },

  render: function(){
    render.call(this); 
    return this;
  },

  changeColors: function(colors){
    this.colors = colors;
    var bUseColorObject = (colors != undefined && colors.type != undefined);
    if(bUseColorObject){
      this.colorscheme = "dynamic";
    }
    this.buildAlphabet();
  },

  buildAlphabet: function(){
    /*
       if (this.alphabet === 'aa') {
       var probs_arr = this.data.probs_arr;
       if (probs_arr) {
       var cc = new ConsensusColors();
       this.cmap = cc.color_map(probs_arr);
       }
       }
       */

    //build the letter canvases
    this.letters = {};
    var colors = this.colors;
    if(this.colorscheme == "dynamic"){
      var tColors = "ABCDEFGHIJKLMNOPQRSTUVWXYZ".split('');
      colors = {};
      tColors.forEach(function(e){
        colors[e] = "";
      });
    }
    for (var letter in colors) {
      if (colors.hasOwnProperty(letter)) {
        var loptions = {color: colors[letter]};
        this.letters[letter] = new Letter(letter, loptions);
      }
    }
  },

  toggleColorscheme: function (scheme) {
    // work out the current column we are on so we can return there
    var col_total = this.currentColumn();

    if (scheme) {
      if (scheme === 'default') {
        this.colorscheme = 'default';
      } else {
        this.colorscheme = 'consensus';
      }
    } else {
      if (this.colorscheme === 'default') {
        this.colorscheme = 'consensus';
      } else {
        this.colorscheme = 'default';
      }
    }

    // reset the rendered counter so that each section will re-render
    // with the new heights
    this.rendered = [];

    // re-flow and re-render the content
    this.scrollme.reflow();
    //scroll off by one to force a render of the canvas.
    this.scrollToColumn(col_total + 1);
    //scroll back to the location we started at.
    this.scrollToColumn(col_total);
  },

  toggleScale: function (scale) {
    // work out the current column we are on so we can return there
    var col_total = this.currentColumn();

    if (scale) {
      if (scale === 'obs') {
        this.data.max_height = this.data.max_height_obs;
      } else {
        this.data.max_height = this.data.max_height_theory;
      }
    } else {
      // toggle the max height
      if (this.data.max_height === this.data.max_height_obs) {
        this.data.max_height = this.data.max_height_theory;
      } else {
        this.data.max_height = this.data.max_height_obs;
      }
    }
    // reset the rendered counter so that each section will re-render
    // with the new heights
    this.rendered = [];
    //update the y-axis
    if(this.logoYAxis){
      this.logoYAxis.remove();
      //this.called_on.find('.logo_yaxis').remove();
    }
    axis.render_y_axis_label.call(this);

    // re-flow and re-render the content
    this.scrollme.reflow();
    //scroll off by one to force a render of the canvas.
    this.scrollToColumn(col_total + 1);
    //scroll back to the location we started at.
    this.scrollToColumn(col_total);
  },
  toggleAliMap: function (coords) {
    // work out the current column we are on so we can return there
    var col_total = this.currentColumn();

    if (coords) {
      if (coords === 'model') {
        this.display_ali_map = 0;
      } else {
        this.display_ali_map = 1;
      }
    } else {
      // toggle the max height
      if (this.display_ali_map === 1) {
        this.display_ali_map = 0;
      } else {
        this.display_ali_map = 1;
      }
    }
    axis.render_x_axis_label(this);

    // reset the rendered counter so that each section will re-render
    // with the new heights
    this.rendered = [];

    // re-flow and re-render the content
    this.scrollme.reflow();
    //scroll off by one to force a render of the canvas.
    this.scrollToColumn(col_total + 1);
    //scroll back to the location we started at.
    this.scrollToColumn(col_total);
  },

  currentColumn: function () {
    var before_left = this.scrollme.scroller.getValues().left,
    col_width = (this.column_width * this.zoom),
    col_count = before_left / col_width,
    half_visible_columns = (this.container.width() / col_width) / 2,
    col_total = Math.ceil(col_count + half_visible_columns);
    return col_total;
  },

  changeZoom: function (options) {
    var zoom_level = 0.3,
    expected_width = null;
    if (options.target) {
      zoom_level = options.target;
    } else if (options.distance) {
      zoom_level = (parseFloat(this.zoom) - parseFloat(options.distance)).toFixed(1);
      if (options.direction === '+') {
        zoom_level = (parseFloat(this.zoom) + parseFloat(options.distance)).toFixed(1);
      }
    }

    if (zoom_level > 1) {
      zoom_level = 1;
    } else if (zoom_level < 0.1) {
      zoom_level = 0.1;
    }

    // see if we need to zoom or not
    expected_width = (this.logo_graphic.width() * zoom_level) / this.zoom;
    if (expected_width > this.container.width()) {
      // if a center is not specified, then use the current center of the view
      if (!options.column) {
        //work out my current position
        var col_total = this.currentColumn();

        this.zoom = zoom_level;
        this.render({zoom: this.zoom});
        this.scrollme.reflow();

        //scroll to previous position
        this.scrollToColumn(col_total);
      } else { // center around the mouse click position.
        this.zoom = zoom_level;
        this.render({zoom: this.zoom});
        this.scrollme.reflow();

        var coords = this.coordinatesFromColumn(options.column);
        this.scrollme.scroller.scrollTo(coords - options.offset);
      }
    }
    return this.zoom;

  },

  columnFromCoordinates: function (x) {
    var column = Math.ceil(x / (this.column_width * this.zoom));
    return column;
  },

  coordinatesFromColumn: function (col) {
    var new_column = col - 1,
    x = (new_column  * (this.column_width * this.zoom)) + ((this.column_width * this.zoom) / 2);
    return x;
  },

  scrollToColumn: function (num, animate) {
    var half_view = (this.logo_container.width() / 2),
    new_left = this.coordinatesFromColumn(num);
    this.scrollme.scroller.scrollTo(new_left - half_view, 0, animate);
  },
  calcMaxHeight: function(columns){
    // loops over all columns and return the max height seen 
    return columns.reduce(function(m,c){
      var col = 0;
      for(var k in c){
        col += c[k];
      }
      return col > m ? col : m;
    },0);
  }


});

var mk = function(name){
  return document.createElement(name);
}

},{"./axis":24,"./canvasSupport.js":25,"./colors/aa.js":26,"./colors/dna.js":27,"./eventListener.js":28,"./info/settings.js":30,"./model/letter.js":31,"./render/render.js":35,"backbone-viewj":9,"jbone":42,"underscore":66}],30:[function(require,module,exports){
var $ = require("jbone");

module.exports = function(logo,options){
  var form = $('<form class="logo_form"><fieldset><label for="position">Column number</label>' +
               '<input type="text" name="position" class="logo_position"></input>' +
               '<button class="button logo_change">Go</button></fieldset>' +
               '</form>');

  var settings = $('<div class="logo_settings"></div>');
  settings.append('<span class="close">x</span>');



  /* we don't want to toggle if the max height_obs is greater than max theoretical
   * as letters will fall off the top.
   */
  if (logo.scale_height_enabled && (logo.data.max_height_obs < logo.data.max_height_theory)) {
    var obs_checked = '',
    theory_checked = '',
    theory_help = '',
    obs_help = '';

    if (logo.data.max_height_obs === logo.data.max_height) {
      obs_checked = 'checked';
    } else {
      theory_checked = 'checked';
    }
  }



  var scale_controls = '<fieldset><legend>Scale</legend>' +
    '<label><input type="radio" name="scale" class="logo_scale" value="obs" ' + obs_checked +
    '/>Maximum Observed ' + obs_help +
    '</label></br>' +
    '<label><input type="radio" name="scale" class="logo_scale" value="theory" ' + theory_checked +
    '/>Maximum Theoretical ' + theory_help +
    '</label>' +
    '</fieldset>';

  settings.append(scale_controls);

  if (logo.data.height_calc !== 'score' && logo.data.alphabet === 'aa' && logo.data.probs_arr) {

    var def_color = null,
    con_color = null,
    def_help = '',
    con_help = '';

    if (logo.colorscheme === 'default') {
      def_color = 'checked';
    } else {
      con_color = 'checked';
    };

    if (options.help) {
      def_help = '<a class="help" href="/help#colors_default" title="Each letter receives its own color.">' +
        '<span aria-hidden="true" data-icon="?"></span><span class="reader-text">help</span></a>';
      con_help = '<a class="help" href="/help#colors_consensus" title="Letters are colored as in Clustalx and Jalview, with colors depending on composition of the column.">' +
        '<span aria-hidden="true" data-icon="?"></span><span class="reader-text">help</span></a>';
    }

    var color_controls = '<fieldset><legend>Color Scheme</legend>' +
      '<label><input type="radio" name="color" class="logo_color" value="default" ' + def_color +
      '/>Default ' + def_help +
      '</label></br>' +
      '<label><input type="radio" name="color" class="logo_color" value="consensus" ' + con_color +
      '/>Consensus Colors ' + con_help +
      '</label>' +
      '</fieldset>';
    settings.append(color_controls);
  }


  if (logo.data.ali_map) {
    var mod_checked = null,
    ali_checked = null,
    mod_help = '',
    ali_help = '';

    if (logo.display_ali_map === 0) {
      mod_checked = 'checked';
    } else {
      ali_checked = 'checked';
    }

    if (options.help) {
      mod_help = '<a class="help" href="/help#coords_model" title="The coordinates along the top of the plot show the model position.">' +
        '<span aria-hidden="true" data-icon="?"></span><span class="reader-text">help</span></a>';
      ali_help = '<a class="help" href="/help#coords_ali" title="The coordinates along the top of the plot show the column in the alignment associated with the model">' +
        '<span aria-hidden="true" data-icon="?"></span><span class="reader-text">help</span></a>';
    }

    var ali_controls = '<fieldset><legend>Coordinates</legend>' +
      '<label><input type="radio" name="coords" class="logo_ali_map" value="model" ' + mod_checked +
      '/>Model ' + mod_help +
      '</label></br>' +
      '<label><input type="radio" name="coords" class="logo_ali_map" value="alignment" ' + ali_checked +
      '/>Alignment ' + ali_help +
      '</label>' +
      '</fieldset>';
    settings.append(ali_controls);
  }


  var controls = $('<div class="logo_controls"></div>');
  if (logo.zoom_enabled) {
    controls.append('<button class="logo_zoomout button">-</button>' +
                    '<button class="logo_zoomin button">+</button>');
  }

  if (settings.children().length > 0) {
    controls.append('<button class="logo_settings_switch button">Settings</button>');
    controls.append(settings);
  }

  form.append(controls);

  return form;
}

},{"jbone":42}],31:[function(require,module,exports){
module.exports = function Letter(letter, options) {
  options = options || {};
  this.value = letter;
  this.width = parseInt(options.width, 10) || 100;

  //W is 30% wider than the other letters, so need to make sure
  //it gets modified accordingly.
  if (this.value === 'W') {
    this.width += (this.width * 30) / 100;
  }

  this.height = parseInt(options.height, 10) || 100;

  this.color = options.color || '#000000';
  // if the height and width are changed from the default, then
  // this will also need to be changed as it cant be calculated
  // dynamically.
  this.fontSize = options.fontSize || 138;

  this.scaled = function () { };

  this.draw = function (ext_ctx, target_height, target_width, x, y, color) {
    var h_ratio = target_height / this.height,
    w_ratio = target_width / this.width,
    prev_font = ext_ctx.font;
    ext_ctx.transform(w_ratio, 0, 0, h_ratio, x, y);
    ext_ctx.fillStyle = color || this.color;
    ext_ctx.textAlign = "center";
    ext_ctx.font = "bold " + this.fontSize + "px Arial";

    ext_ctx.fillText(this.value, 0, 0);
    //restore the canvas settings
    ext_ctx.setTransform(1, 0, 0, 1, 0, 0);
    ext_ctx.fillStyle = '#000000';
    ext_ctx.font = prev_font;
  };

}

},{}],32:[function(require,module,exports){
module.exports = function draw_border(context, y, width) {
  context.beginPath();
  context.moveTo(0, y);
  context.lineTo(width, y);
  context.lineWidth = 1;
  context.strokeStyle = "#999999";
  context.stroke();
}

},{}],33:[function(require,module,exports){
module.exports = function draw_column_number(context, x, y, col_width, col_num, fontsize, right) {
  context.font = fontsize + "px Arial";
  context.textAlign = right ? "right" : "center";
  context.fillStyle = "#666666";
  context.fillText(col_num, x + (col_width / 2), y);
}

},{}],34:[function(require,module,exports){
module.exports = function draw_ticks(context, x, y, height, color) {
  color = color || '#999999';
  context.beginPath();
  context.moveTo(x, y);
  context.lineTo(x, y + height);
  context.lineWidth = 1;
  context.strokeStyle = color;
  context.stroke();
}

},{}],35:[function(require,module,exports){
var renderWithText = require("./render_with_text.js");
var renderWithRect = require("./render_with_rects.js");
var jbone = require("jbone");

// the main render function that draws the logo based on the provided options.
module.exports = function (options) {
  if (!this.data) {
    return;
  }
  options    = options || {};
  var zoom   = options.zoom || this.zoom,
  target = options.target || 1,
  scaled = options.scaled || null;
  var parent_width = this.dom_element.parent().attr('width'),
  max_canvas_width = 1,
  end = null,
  start = null,
  i = 0;

  /*
  if (target === this.previous_target) {
    return;
  }
  */

  this.previous_target = target;


  if (options.start) {
    this.start = options.start;
  }
  if (options.end) {
    this.end = options.end;
  }

  if (zoom <= 0.1) {
    zoom = 0.1;
  } else if (zoom >= 1) {
    zoom = 1;
  }

  this.zoom = zoom;

  end = this.end || this.data.heightArr.length;
  start = this.start || 1;
  end     = (end > this.data.heightArr.length) ? this.data.heightArr.length : end;
  end     = (end < start) ? start : end;

  start     = (start > end) ? end : start;
  start     = (start > 1) ? start : 1;

  this.y = this.height - 20;
  // Check to see if the logo will fit on the screen at full zoom.
  this.max_width = this.column_width * ((end - start) + 1);
  // If it fits then zoom out and disable zooming.
  if (parent_width > this.max_width) {
    zoom = 1;
    this.zoom_enabled = false;
  }
  this.zoom = zoom;

  this.zoomed_column = this.column_width * zoom;
  this.total_width = this.zoomed_column * ((end - start) + 1);

  // If zoom is not maxed and we still aren't filling the window
  // then ramp up the zoom level until it fits, then disable zooming.
  // Then we get a decent logo with out needing to zoom in or out.
  if (zoom < 1) {
    while (this.total_width < parent_width) {
      this.zoom += 0.1;
      this.zoomed_column = this.column_width * this.zoom;
      this.total_width = this.zoomed_column * ((end - start) + 1);
      this.zoom_enabled = false;
      if (zoom >= 1) {
        break;
      }
    }
  }

  if (target > this.total_width) {
    target = this.total_width;
  }
  this.dom_element.attr({'width': this.total_width + 'px'}).css({width: this.total_width + 'px'});

  this.canvas_width = this.total_width;
  var canvas_count = Math.ceil(this.total_width / this.canvas_width);
  this.columns_per_canvas = Math.ceil(this.canvas_width / this.zoomed_column);


  if (this.previous_zoom !== this.zoom) {
    this.dom_element.find('canvas').remove();
    this.previous_zoom = this.zoom;
    this.rendered = [];
  }

  this.canvases = [];
  this.contexts = [];


  for (i = 0; i < canvas_count; i++) {

    var split_start = (this.columns_per_canvas * i) + start,
    split_end   = split_start + this.columns_per_canvas - 1;
    if (split_end > end) {
      split_end = end;
    }

    var adjusted_width = ((split_end - split_start) + 1) * this.zoomed_column;

    if (adjusted_width > max_canvas_width) {
      max_canvas_width = adjusted_width;
    }

    var canv_start = max_canvas_width * i,
    canv_end = canv_start + adjusted_width;

    if (target < canv_end + (canv_end / 2) && target > canv_start - (canv_start / 2)) {
      // Check that we aren't redrawing the canvas and if not, then attach it and draw.
      //if (this.rendered[i] !== 1) {

        this.canvases[i] = attach_canvas(this.dom_element, this.height, adjusted_width, i, max_canvas_width);
        this.contexts[i] = this.canvases[i].getContext('2d');
        this.contexts[i].setTransform(1, 0, 0, 1, 0, 0);
        this.contexts[i].clearRect(0, 0, adjusted_width, this.height);
        this.contexts[i].fillStyle = "#ffffff";
        this.contexts[i].fillRect(0, 0, canv_end, this.height);


        if (this.zoomed_column > 12) {
          var fontsize = parseInt(10 * zoom, 10);
          fontsize = (fontsize > 10) ? 10 : fontsize;
          if (this.debug) {
            renderWithRect.call(this,split_start, split_end, i, 1);
          }
          renderWithText.call(this,split_start, split_end, i, fontsize);
        } else {
          renderWithRect.call(this,split_start, split_end, i);
        }
        //this.rendered[i] = 1;
      //}
    }

  }

  // check if the scroller object has been initialised and if not then do so.
  // we do this here as opposed to at object creation, because we need to
  // make sure the logo has been rendered and the width is correct, otherwise
  // we get a weird initial state where the canvas will bounce back to the
  // beginning the first time it is scrolled, because it thinks it has a
  // width of 0.
  if (!this.scrollme && this.options.scroller) {
    this.scrollme = new EasyScroller(this.dom_element[0], {
      scrollingX: 1,
      scrollingY: 0,
      eventTarget: this.called_on
    });
  }

  if (target !== 1) {
    this.scrollme.reflow();
  }
  return;
};


function attach_canvas(DOMid, height, width, id, canv_width) {
  var canvas = jbone(DOMid).find('#canv_' + id);

  if (!canvas.length) {
    jbone(DOMid).append('<canvas class="canvas_logo" id="canv_' + id + '"  height="' + height + '" width="' + width + '" style="left:' + canv_width * id + 'px"></canvas>');
    canvas = jbone(DOMid).find('#canv_' + id);
  }

  jbone(canvas).attr('width', width).attr('height', height);

  return canvas[0];
}

},{"./render_with_rects.js":36,"./render_with_text.js":37,"jbone":42}],36:[function(require,module,exports){
var draw_border = require("./draw/border.js");
var draw_ticks = require("./draw/ticks.js");
var draw_column_number = require("./draw/column_number.js");

module.exports = function (start, end, context_num, borders) {
  var x = 0,
  column_num = start,
  column_label = null,
  i = 0,
  top_height = Math.abs(this.data.max_height),
  bottom_height = Math.abs(this.data.min_height_obs),
  total_height = top_height + bottom_height,
  top_percentage    = Math.round((Math.abs(this.data.max_height) * 100) / total_height),
  //convert % to pixels
  top_pix_height = Math.round((this.info_content_height * top_percentage) / 100),
  bottom_pix_height = this.info_content_height - top_pix_height,
  mod = 10;


  for (i = start; i <= end; i++) {
    if (this.data.mmline && this.data.mmline[i - 1] === 1) {
      this.contexts[context_num].fillStyle = '#cccccc';
      this.contexts[context_num].fillRect(x, 10, this.zoomed_column, this.height - 40);
    } else {
      var column = this.data.heightArr[i - 1],
      previous_height = 0,
      previous_neg_height = top_pix_height,
      letters = column.length,
      j = 0;
      for(var j in column){
        values = [j,column[j]];
        if (values[1] > 0.01) {
          var letter_height = parseFloat(values[1]) / this.data.max_height,
          x_pos = x,
          glyph_height = (this.info_content_height - 2) * letter_height,
          y_pos = (this.info_content_height - 2) - previous_height - glyph_height,
          color = null;


          if(this.colorscheme === 'dynamic'){
            color = this.colors.getColor(values[0], {pos: i - 1} )
          }else{
            if(this.colorscheme === 'consensus') {
              color = this.cmap[i - 1][values[0]] || "#7a7a7a";
            } else {
              color = this.colors[values[0]];
            }
          }

          if (borders) {
            this.contexts[context_num].strokeStyle = color;
            this.contexts[context_num].strokeRect(x_pos, y_pos, this.zoomed_column, glyph_height);
          } else {
            this.contexts[context_num].fillStyle = color;
            this.contexts[context_num].fillRect(x_pos, y_pos, this.zoomed_column, glyph_height);
          }

          previous_height = previous_height + glyph_height;
        }
      }
    }


    if (this.zoom < 0.2) {
      mod = 20;
    } else if (this.zoom < 0.3) {
      mod = 10;
    }

    if(this.options.positionMarker){
      if (i % mod === 0) {
        // draw column dividers
        if(this.options.show_probs){
          draw_ticks(this.contexts[context_num], x + this.zoomed_column, this.height - 30, parseFloat(this.height), '#dddddd');
        }
        // draw top ticks
        draw_ticks(this.contexts[context_num], x + this.zoomed_column, 0, 5);

        // if ali_coordinates exist and toggle is set then display the
        // alignment coordinates and not the model coordinates.
        if (this.display_ali_map) {
          column_label = this.data.ali_map[i - 1];
        } else {
          column_label = column_num;
        }
        // draw column numbers
        draw_column_number(this.contexts[context_num], x - 2,  10, this.zoomed_column, column_label, 10, true);
      }

    }


    // draw insert probabilities/lengths
    if(this.options.show_probs){
      draw_small_insert(
        this.contexts[context_num],
        x,
        this.height - 42,
        this.zoomed_column,
        this.data.insert_probs[i - 1],
        this.data.insert_lengths[i - 1],
        this.data.delete_probs[i - 1],
        this.show_inserts
      );
    }

    if(this.options.show_probs){
      // draw other dividers
      if (this.show_inserts) {
        draw_border(this.contexts[context_num], this.height - 45, this.total_width);
      } else {
        draw_border(this.contexts[context_num], this.height - 15, this.total_width);
      }
    }

    if(this.options.border){
      draw_border(this.contexts[context_num], 0, this.total_width);
    }

    x += this.zoomed_column;
    column_num++;
  }

};


function draw_small_insert(context, x, y, col_width, in_odds, in_length, del_odds, show_inserts) {
  var fill = "#ffffff";
  if (show_inserts) {
    if (in_odds > 0.1) {
      fill = '#d7301f';
    } else if (in_odds > 0.05) {
      fill = '#fc8d59';
    } else if (in_odds > 0.03) {
      fill = '#fdcc8a';
    }
    context.fillStyle = fill;
    context.fillRect(x, y + 15, col_width, 10);

    fill = "#ffffff";
    // draw insert length
    if (in_length > 9) {
      fill = '#d7301f';
    } else if (in_length > 7) {
      fill = '#fc8d59';
    } else if (in_length > 4) {
      fill = '#fdcc8a';
    }
    context.fillStyle = fill;
    context.fillRect(x, y + 30, col_width, 10);
  } else {
    y  = y + 30;
  }

  fill = "#ffffff";
  // draw delete odds
  if (del_odds < 0.75) {
    fill = '#2171b5';
  } else if (del_odds < 0.85) {
    fill = '#6baed6';
  } else if (del_odds < 0.95) {
    fill = '#bdd7e7';
  }
  context.fillStyle = fill;
  context.fillRect(x, y, col_width, 10);
}



},{"./draw/border.js":32,"./draw/column_number.js":33,"./draw/ticks.js":34}],37:[function(require,module,exports){
var draw_border = require("./draw/border.js");
var draw_ticks = require("./draw/ticks.js");
var draw_column_number = require("./draw/column_number.js");

module.exports = function (start, end, context_num, fontsize) {
  var x = 0,
  column_num = start,
  column_label = null,
  i = 0,
  top_height = Math.abs(this.data.max_height),
  bottom_height = (isNaN(this.data.min_height_obs)) ? 0 : parseInt(this.data.min_height_obs, 10),
  total_height = top_height + Math.abs(bottom_height),
  top_percentage    = Math.round((Math.abs(this.data.max_height) * 100) / total_height),
  //convert % to pixels
  top_pix_height = Math.round((this.info_content_height * top_percentage) / 100),
  bottom_pix_height = this.info_content_height - top_pix_height,
  // this is used to transform the 256px high letters into the correct size
  // when displaying negative values, so that they fit above the 0 line.
  top_pix_conversion = top_pix_height / this.info_content_height,
  bottom_pix_conversion = bottom_pix_height / this.info_content_height;

  // add 3 extra columns so that numbers don't get clipped at the end of a canvas
  // that ends before a large column. DF0000830 was suffering at zoom level 0.6,
  // column 2215. This adds a little extra overhead, but is the easiest fix for now.
  if (end + 3 <= this.end) {
    end += 3;
  }

  for (i = start; i <= end; i++) {
    if (this.data.mmline && this.data.mmline[i - 1] === 1) {
      this.contexts[context_num].fillStyle = '#cccccc';
      this.contexts[context_num].fillRect(x, 10, this.zoomed_column, this.height - 40);
    } else {
      var column = this.data.heightArr[i - 1],
      col_positions = [];
      if (column) {
        var previous_height = 0,
        letters = column.length,
        previous_neg_height = top_pix_height,
        j = 0,
        color = null;

        for(var j in column){
          var letter = column[j],
          values = [j,letter];
          x_pos = x + (this.zoomed_column / 2),
          letter_height = null;

          // we don't render anything with a value between 0 and 0.01. These
          // letters would be too small to be meaningful on any scale, so we
          // just squash them out.
          if (values[1] > 0.01) {
            letter_height = parseFloat(values[1]) / this.data.max_height;
            var y_pos = (this.info_content_height - 2) - previous_height,
            glyph_height = (this.info_content_height - 2) * letter_height;

            col_positions[j] = [glyph_height, this.zoomed_column, x_pos, y_pos];
            previous_height = previous_height + glyph_height;
          }
        }

        // render the letters in reverse order so that the larger letters on the top
        // don't clobber the smaller letters below them.
        //for (j = letters; j >= 0; j--) {
        for(var j in column){
          if (col_positions[j] && this.letters[j]) {

            if(this.colorscheme === 'dynamic'){
              color = this.colors.getColor(j, {pos: i - 1} );
            }else{
              if (this.colorscheme === 'consensus') {
                color = this.cmap[i - 1][j] || "#7a7a7a";
              } else {
                color = null;
              }
            }
            this.letters[j].draw(this.contexts[context_num], col_positions[j][0], col_positions[j][1], col_positions[j][2], col_positions[j][3], color);
          }
        }
      }
    }


    // if ali_coordinates exist and toggle is set then display the
    // alignment coordinates and not the model coordinates.
    if (this.display_ali_map) {
      column_label = this.data.ali_map[i - 1];
    } else {
      column_label = column_num;
    }

    if(this.options.show_divider){
      if (this.zoom < 0.7) {
        if (i % this.options.divider_step === 0) {
          draw_column_divider(this,{
            context_num : context_num,
            x : x,
            fontsize: 10,
            column_num: column_label,
            ralign: true
          });
        }
      } else {
        draw_column_divider(this,{
          context_num : context_num,
          x : x,
          fontsize: fontsize,
          column_num: column_label
        });
      }
    }

    if(this.options.show_probs){
      draw_delete_odds(this.contexts[context_num], x, this.height, this.zoomed_column, this.data.delete_probs[i - 1], fontsize, this.show_inserts);
      //draw insert length ticks
      draw_ticks(this.contexts[context_num], x, this.height - 15, 5);
      if (this.show_inserts) {
        draw_insert_odds(this.contexts[context_num], x, this.height, this.zoomed_column, this.data.insert_probs[i - 1], fontsize);
        draw_insert_length(this.contexts[context_num], x, this.height - 5, this.zoomed_column, this.data.insert_lengths[i - 1], fontsize);

        // draw delete probability ticks
        draw_ticks(this.contexts[context_num], x, this.height - 45, 5);
        // draw insert probability ticks
        draw_ticks(this.contexts[context_num], x, this.height - 30, 5);
      }

    }

    x += this.zoomed_column;
    column_num++;
  }


  if(this.options.show_probs){
    // draw other dividers
    if (this.show_inserts) {
      draw_border(this.contexts[context_num], this.height - 30, this.total_width);
      draw_border(this.contexts[context_num], this.height - 45, this.total_width);
    }
    draw_border(this.contexts[context_num], this.height - 15, this.total_width);
  }
  if(this.options.border){
    draw_border(this.contexts[context_num], 0, this.total_width);
  }
};


function draw_delete_odds(context, x, height, col_width, text, fontsize, show_inserts) {
  var y        = height - 4,
  fill     = '#ffffff',
  textfill = '#555555';

  if (show_inserts) {
    y = height - 35;
  }

  if (text < 0.75) {
    fill     = '#2171b5';
    textfill = '#ffffff';
  } else if (text < 0.85) {
    fill = '#6baed6';
  } else if (text < 0.95) {
    fill = '#bdd7e7';
  }

  draw_rect_with_text(context, x, y, text, fontsize, col_width, fill, textfill);
}

function draw_rect_with_text(context, x, y, text, fontsize, col_width, fill, textfill) {
  context.font = fontsize + "px Arial";
  context.fillStyle = fill;
  context.fillRect(x, y - 10, col_width, 14);
  context.textAlign = "center";
  context.fillStyle = textfill;
  context.fillText(text, x + (col_width / 2), y);
}

function draw_column_divider(inst, opts) {
  var div_x = opts.ralign ? opts.x + inst.zoomed_column : opts.x,
  num_x = opts.ralign ? opts.x + 2 : opts.x;
  // draw column dividers
  draw_ticks(inst.contexts[opts.context_num], div_x, inst.height - 30, -30 - inst.height, '#dddddd');
  // draw top ticks
  draw_ticks(inst.contexts[opts.context_num], div_x, 0, 5);
  // draw column numbers
  draw_column_number(inst.contexts[opts.context_num], num_x, 10, inst.zoomed_column, opts.column_num, opts.fontsize, opts.ralign);
};



function draw_insert_odds(context, x, height, col_width, text, fontsize) {
  var y        = height - 20,
  fill     = '#ffffff',
  textfill = '#555555';

  if (text > 0.1) {
    fill     = '#d7301f';
    textfill = '#ffffff';
  } else if (text > 0.05) {
    fill = '#fc8d59';
  } else if (text > 0.03) {
    fill = '#fdcc8a';
  }

  draw_rect_with_text(context, x, y, text, fontsize, col_width, fill, textfill);

  //draw vertical line to indicate where the insert would occur
  if (text > 0.03) {
    draw_ticks(context, x + col_width, height - 30, -30 - height, fill);
  }
}
function draw_insert_length(context, x, y, col_width, text, fontsize) {
  var fill = '#ffffff',
  textfill = '#555555';

  if (text > 9) {
    fill     = '#d7301f';
    textfill = '#ffffff';
  } else if (text > 7) {
    fill = '#fc8d59';
  } else if (text > 4) {
    fill = '#fdcc8a';
  }
  draw_rect_with_text(context, x, y, text, fontsize, col_width, fill, textfill);
}

},{"./draw/border.js":32,"./draw/column_number.js":33,"./draw/ticks.js":34}],38:[function(require,module,exports){
/*
 * JavaScript Canvas to Blob 2.0.5
 * https://github.com/blueimp/JavaScript-Canvas-to-Blob
 *
 * Copyright 2012, Sebastian Tschan
 * https://blueimp.net
 *
 * Licensed under the MIT license:
 * http://www.opensource.org/licenses/MIT
 *
 * Based on stackoverflow user Stoive's code snippet:
 * http://stackoverflow.com/q/4998908
 */
var CanvasPrototype = window.HTMLCanvasElement &&
window.HTMLCanvasElement.prototype,
  hasBlobConstructor = window.Blob && (function () {
    try {
      return Boolean(new Blob());
    } catch (e) {
      return false;
    }
  }()),
  hasArrayBufferViewSupport = hasBlobConstructor && window.Uint8Array &&
  (function () {
    try {
      return new Blob([new Uint8Array(100)]).size === 100;
    } catch (e) {
      return false;
    }
  }()),
  BlobBuilder = window.BlobBuilder || window.WebKitBlobBuilder ||
  window.MozBlobBuilder || window.MSBlobBuilder,
  dataURLtoBlob = (hasBlobConstructor || BlobBuilder) && window.atob &&
  window.ArrayBuffer && window.Uint8Array && function (dataURI) {
    var byteString,
    arrayBuffer,
    intArray,
      i,
      mimeString,
        bb;
    if (dataURI.split(',')[0].indexOf('base64') >= 0) {
      // Convert base64 to raw binary data held in a string:
      byteString = atob(dataURI.split(',')[1]);
    } else {
      // Convert base64/URLEncoded data component to raw binary data:
      byteString = decodeURIComponent(dataURI.split(',')[1]);
    }
    // Write the bytes of the string to an ArrayBuffer:
    arrayBuffer = new ArrayBuffer(byteString.length);
    intArray = new Uint8Array(arrayBuffer);
    for (i = 0; i < byteString.length; i += 1) {
      intArray[i] = byteString.charCodeAt(i);
    }
    // Separate out the mime component:
    mimeString = dataURI.split(',')[0].split(':')[1].split(';')[0];
    // Write the ArrayBuffer (or ArrayBufferView) to a blob:
    if (hasBlobConstructor) {
      return new Blob(
          [hasArrayBufferViewSupport ? intArray : arrayBuffer],
          {type: mimeString}
          );
    }
    bb = new BlobBuilder();
    bb.append(arrayBuffer);
    return bb.getBlob(mimeString);
  };
if (window.HTMLCanvasElement && !CanvasPrototype.toBlob) {
  if (CanvasPrototype.mozGetAsFile) {
    CanvasPrototype.toBlob = function (callback, type, quality) {
      if (quality && CanvasPrototype.toDataURL && dataURLtoBlob) {
        callback(dataURLtoBlob(this.toDataURL(type, quality)));
      } else {
        callback(this.mozGetAsFile('blob', type));
      }
    };
  } else if (CanvasPrototype.toDataURL && dataURLtoBlob) {
    CanvasPrototype.toBlob = function (callback, type, quality) {
      callback(dataURLtoBlob(this.toDataURL(type, quality)));
    };
  }
}

module.exports = dataURLtoBlob;

},{}],39:[function(require,module,exports){
/* FileSaver.js
 *  A saveAs() FileSaver implementation.
 *  2014-05-27
 *
 *  By Eli Grey, http://eligrey.com
 *  License: X11/MIT
 *    See https://github.com/eligrey/FileSaver.js/blob/master/LICENSE.md
 */

/*global self */
/*jslint bitwise: true, indent: 4, laxbreak: true, laxcomma: true, smarttabs: true, plusplus: true */

/*! @source http://purl.eligrey.com/github/FileSaver.js/blob/master/FileSaver.js */

var saveAs = saveAs
  // IE 10+ (native saveAs)
  || (typeof navigator !== "undefined" &&
      navigator.msSaveOrOpenBlob && navigator.msSaveOrOpenBlob.bind(navigator))
  // Everyone else
  || (function(view) {
	"use strict";
	// IE <10 is explicitly unsupported
	if (typeof navigator !== "undefined" &&
	    /MSIE [1-9]\./.test(navigator.userAgent)) {
		return;
	}
	var
		  doc = view.document
		  // only get URL when necessary in case Blob.js hasn't overridden it yet
		, get_URL = function() {
			return view.URL || view.webkitURL || view;
		}
		, save_link = doc.createElementNS("http://www.w3.org/1999/xhtml", "a")
		, can_use_save_link = !view.externalHost && "download" in save_link
		, click = function(node) {
			var event = doc.createEvent("MouseEvents");
			event.initMouseEvent(
				"click", true, false, view, 0, 0, 0, 0, 0
				, false, false, false, false, 0, null
			);
			node.dispatchEvent(event);
		}
		, webkit_req_fs = view.webkitRequestFileSystem
		, req_fs = view.requestFileSystem || webkit_req_fs || view.mozRequestFileSystem
		, throw_outside = function(ex) {
			(view.setImmediate || view.setTimeout)(function() {
				throw ex;
			}, 0);
		}
		, force_saveable_type = "application/octet-stream"
		, fs_min_size = 0
		, deletion_queue = []
		, process_deletion_queue = function() {
			var i = deletion_queue.length;
			while (i--) {
				var file = deletion_queue[i];
				if (typeof file === "string") { // file is an object URL
					get_URL().revokeObjectURL(file);
				} else { // file is a File
					file.remove();
				}
			}
			deletion_queue.length = 0; // clear queue
		}
		, dispatch = function(filesaver, event_types, event) {
			event_types = [].concat(event_types);
			var i = event_types.length;
			while (i--) {
				var listener = filesaver["on" + event_types[i]];
				if (typeof listener === "function") {
					try {
						listener.call(filesaver, event || filesaver);
					} catch (ex) {
						throw_outside(ex);
					}
				}
			}
		}
		, FileSaver = function(blob, name) {
			// First try a.download, then web filesystem, then object URLs
			var
				  filesaver = this
				, type = blob.type
				, blob_changed = false
				, object_url
				, target_view
				, get_object_url = function() {
					var object_url = get_URL().createObjectURL(blob);
					deletion_queue.push(object_url);
					return object_url;
				}
				, dispatch_all = function() {
					dispatch(filesaver, "writestart progress write writeend".split(" "));
				}
				// on any filesys errors revert to saving with object URLs
				, fs_error = function() {
					// don't create more object URLs than needed
					if (blob_changed || !object_url) {
						object_url = get_object_url(blob);
					}
					if (target_view) {
						target_view.location.href = object_url;
					} else {
						window.open(object_url, "_blank");
					}
					filesaver.readyState = filesaver.DONE;
					dispatch_all();
				}
				, abortable = function(func) {
					return function() {
						if (filesaver.readyState !== filesaver.DONE) {
							return func.apply(this, arguments);
						}
					};
				}
				, create_if_not_found = {create: true, exclusive: false}
				, slice
			;
			filesaver.readyState = filesaver.INIT;
			if (!name) {
				name = "download";
			}
			if (can_use_save_link) {
				object_url = get_object_url(blob);
				save_link.href = object_url;
				save_link.download = name;
				click(save_link);
				filesaver.readyState = filesaver.DONE;
				dispatch_all();
				return;
			}
			// Object and web filesystem URLs have a problem saving in Google Chrome when
			// viewed in a tab, so I force save with application/octet-stream
			// http://code.google.com/p/chromium/issues/detail?id=91158
			if (view.chrome && type && type !== force_saveable_type) {
				slice = blob.slice || blob.webkitSlice;
				blob = slice.call(blob, 0, blob.size, force_saveable_type);
				blob_changed = true;
			}
			// Since I can't be sure that the guessed media type will trigger a download
			// in WebKit, I append .download to the filename.
			// https://bugs.webkit.org/show_bug.cgi?id=65440
			if (webkit_req_fs && name !== "download") {
				name += ".download";
			}
			if (type === force_saveable_type || webkit_req_fs) {
				target_view = view;
			}
			if (!req_fs) {
				fs_error();
				return;
			}
			fs_min_size += blob.size;
			req_fs(view.TEMPORARY, fs_min_size, abortable(function(fs) {
				fs.root.getDirectory("saved", create_if_not_found, abortable(function(dir) {
					var save = function() {
						dir.getFile(name, create_if_not_found, abortable(function(file) {
							file.createWriter(abortable(function(writer) {
								writer.onwriteend = function(event) {
									target_view.location.href = file.toURL();
									deletion_queue.push(file);
									filesaver.readyState = filesaver.DONE;
									dispatch(filesaver, "writeend", event);
								};
								writer.onerror = function() {
									var error = writer.error;
									if (error.code !== error.ABORT_ERR) {
										fs_error();
									}
								};
								"writestart progress write abort".split(" ").forEach(function(event) {
									writer["on" + event] = filesaver["on" + event];
								});
								writer.write(blob);
								filesaver.abort = function() {
									writer.abort();
									filesaver.readyState = filesaver.DONE;
								};
								filesaver.readyState = filesaver.WRITING;
							}), fs_error);
						}), fs_error);
					};
					dir.getFile(name, {create: false}, abortable(function(file) {
						// delete file if it already exists
						file.remove();
						save();
					}), abortable(function(ex) {
						if (ex.code === ex.NOT_FOUND_ERR) {
							save();
						} else {
							fs_error();
						}
					}));
				}), fs_error);
			}), fs_error);
		}
		, FS_proto = FileSaver.prototype
		, saveAs = function(blob, name) {
			return new FileSaver(blob, name);
		}
	;
	FS_proto.abort = function() {
		var filesaver = this;
		filesaver.readyState = filesaver.DONE;
		dispatch(filesaver, "abort");
	};
	FS_proto.readyState = FS_proto.INIT = 0;
	FS_proto.WRITING = 1;
	FS_proto.DONE = 2;

	FS_proto.error =
	FS_proto.onwritestart =
	FS_proto.onprogress =
	FS_proto.onwrite =
	FS_proto.onabort =
	FS_proto.onerror =
	FS_proto.onwriteend =
		null;

	view.addEventListener("unload", process_deletion_queue, false);
	saveAs.unload = function() {
		process_deletion_queue();
		view.removeEventListener("unload", process_deletion_queue, false);
	};
	return saveAs;
}(
	   typeof self !== "undefined" && self
	|| typeof window !== "undefined" && window
	|| this.content
));
// `self` is undefined in Firefox for Android content script context
// while `this` is nsIContentFrameMessageManager
// with an attribute `content` that corresponds to the window

amdDefine = window.define;
if( typeof amdDefine === "undefined" && (typeof window.almond !== "undefined" 
    && "define" in window.almond )){
  amdDefine = window.almond.define;
}

if (typeof module !== "undefined" && module !== null) {
  module.exports = saveAs;
} else if ((typeof amdDefine !== "undefined" && amdDefine !== null) && (amdDefine.amd != null)) {
  amdDefine("saveAs",[], function() {
    return saveAs;
  });
}

},{}],40:[function(require,module,exports){
module.exports = function (css, customDocument) {
  var doc = customDocument || document;
  if (doc.createStyleSheet) {
    var sheet = doc.createStyleSheet()
    sheet.cssText = css;
    return sheet.ownerNode;
  } else {
    var head = doc.getElementsByTagName('head')[0],
        style = doc.createElement('style');

    style.type = 'text/css';

    if (style.styleSheet) {
      style.styleSheet.cssText = css;
    } else {
      style.appendChild(doc.createTextNode(css));
    }

    head.appendChild(style);
    return style;
  }
};

module.exports.byUrl = function(url) {
  if (document.createStyleSheet) {
    return document.createStyleSheet(url).ownerNode;
  } else {
    var head = document.getElementsByTagName('head')[0],
        link = document.createElement('link');

    link.rel = 'stylesheet';
    link.href = url;

    head.appendChild(link);
    return link;
  }
};

},{}],41:[function(require,module,exports){
var Utils = {};


/*
Remove an element and provide a function that inserts it into its original position
https://developers.google.com/speed/articles/javascript-dom
@param element {Element} The element to be temporarily removed
@return {Function} A function that inserts the element into its original position
 */

Utils.removeToInsertLater = function(element) {
  var nextSibling, parentNode;
  parentNode = element.parentNode;
  nextSibling = element.nextSibling;
  parentNode.removeChild(element);
  return function() {
    if (nextSibling) {
      parentNode.insertBefore(element, nextSibling);
    } else {
      parentNode.appendChild(element);
    }
  };
};


/*
fastest possible way to destroy all sub nodes (aka childs)
http://jsperf.com/innerhtml-vs-removechild/15
@param element {Element} The element for which all childs should be removed
 */

Utils.removeAllChilds = function(element) {
  var count;
  count = 0;
  while (element.firstChild) {
    count++;
    element.removeChild(element.firstChild);
  }
};

module.exports = Utils;

},{}],42:[function(require,module,exports){
/*!
 * jBone v1.0.22 - 2015-02-12 - Library for DOM manipulation
 *
 * https://github.com/kupriyanenko/jbone
 *
 * Copyright 2015 Alexey Kupriyanenko
 * Released under the MIT license.
 */

(function (win) {

var
// cache previous versions
_$ = win.$,
_jBone = win.jBone,

// Quick match a standalone tag
rquickSingleTag = /^<(\w+)\s*\/?>$/,

// A simple way to check for HTML strings
// Prioritize #id over <tag> to avoid XSS via location.hash
rquickExpr = /^(?:[^#<]*(<[\w\W]+>)[^>]*$|#([\w\-]*)$)/,

// Alias for function
slice = [].slice,
splice = [].splice,
keys = Object.keys,

// Alias for global variables
doc = document,

isString = function(el) {
    return typeof el === "string";
},
isObject = function(el) {
    return el instanceof Object;
},
isFunction = function(el) {
    return ({}).toString.call(el) === "[object Function]";
},
isArray = function(el) {
    return Array.isArray(el);
},
jBone = function(element, data) {
    return new fn.init(element, data);
},
fn;

// set previous values and return the instance upon calling the no-conflict mode
jBone.noConflict = function() {
    win.$ = _$;
    win.jBone = _jBone;

    return jBone;
};

fn = jBone.fn = jBone.prototype = {
    init: function(element, data) {
        var elements, tag, wraper, fragment;

        if (!element) {
            return this;
        }
        if (isString(element)) {
            // Create single DOM element
            if (tag = rquickSingleTag.exec(element)) {
                this[0] = doc.createElement(tag[1]);
                this.length = 1;

                if (isObject(data)) {
                    this.attr(data);
                }

                return this;
            }
            // Create DOM collection
            if ((tag = rquickExpr.exec(element)) && tag[1]) {
                fragment = doc.createDocumentFragment();
                wraper = doc.createElement("div");
                wraper.innerHTML = element;
                while (wraper.lastChild) {
                    fragment.appendChild(wraper.firstChild);
                }
                elements = slice.call(fragment.childNodes);

                return jBone.merge(this, elements);
            }
            // Find DOM elements with querySelectorAll
            if (jBone.isElement(data)) {
                return jBone(data).find(element);
            }

            try {
                elements = doc.querySelectorAll(element);

                return jBone.merge(this, elements);
            } catch (e) {
                return this;
            }
        }
        // Wrap DOMElement
        if (element.nodeType) {
            this[0] = element;
            this.length = 1;

            return this;
        }
        // Run function
        if (isFunction(element)) {
            return element();
        }
        // Return jBone element as is
        if (element instanceof jBone) {
            return element;
        }

        // Return element wrapped by jBone
        return jBone.makeArray(element, this);
    },

    pop: [].pop,
    push: [].push,
    reverse: [].reverse,
    shift: [].shift,
    sort: [].sort,
    splice: [].splice,
    slice: [].slice,
    indexOf: [].indexOf,
    forEach: [].forEach,
    unshift: [].unshift,
    concat: [].concat,
    join: [].join,
    every: [].every,
    some: [].some,
    filter: [].filter,
    map: [].map,
    reduce: [].reduce,
    reduceRight: [].reduceRight,
    length: 0
};

fn.constructor = jBone;

fn.init.prototype = fn;

jBone.setId = function(el) {
    var jid = el.jid;

    if (el === win) {
        jid = "window";
    } else if (el.jid === undefined) {
        el.jid = jid = ++jBone._cache.jid;
    }

    if (!jBone._cache.events[jid]) {
        jBone._cache.events[jid] = {};
    }
};

jBone.getData = function(el) {
    el = el instanceof jBone ? el[0] : el;

    var jid = el === win ? "window" : el.jid;

    return {
        jid: jid,
        events: jBone._cache.events[jid]
    };
};

jBone.isElement = function(el) {
    return el && el instanceof jBone || el instanceof HTMLElement || isString(el);
};

jBone._cache = {
    events: {},
    jid: 0
};

function isArraylike(obj) {
    var length = obj.length,
        type = typeof obj;

    if (isFunction(type) || obj === win) {
        return false;
    }

    if (obj.nodeType === 1 && length) {
        return true;
    }

    return isArray(type) || length === 0 ||
        typeof length === "number" && length > 0 && (length - 1) in obj;
}

jBone.merge = function(first, second) {
    var l = second.length,
        i = first.length,
        j = 0;

    while (j < l) {
        first[i++] = second[j++];
    }

    first.length = i;

    return first;
};

jBone.contains = function(container, contained) {
    var result;

    container.reverse().some(function(el) {
        if (el.contains(contained)) {
            return result = el;
        }
    });

    return result;
};

jBone.extend = function(target) {
    var tg;

    splice.call(arguments, 1).forEach(function(source) {
        tg = target; //caching target for perf improvement

        if (source) {
            for (var prop in source) {
                tg[prop] = source[prop];
            }
        }
    });

    return target;
};

jBone.makeArray = function(arr, results) {
    var ret = results || [];

    if (arr !== null) {
        if (isArraylike(arr)) {
            jBone.merge(ret, isString(arr) ? [arr] : arr);
        } else {
            ret.push(arr);
        }
    }

    return ret;
};

jBone.unique = function(array) {
    if (array == null) {
        return [];
    }

    var result = [];

    for (var i = 0, length = array.length; i < length; i++) {
        var value = array[i];
        if (result.indexOf(value) < 0) {
            result.push(value);
        }
    }
    return result;
};

function BoneEvent(e, data) {
    var key, setter;

    this.originalEvent = e;

    setter = function(key, e) {
        if (key === "preventDefault") {
            this[key] = function() {
                this.defaultPrevented = true;
                return e[key]();
            };
        } else if (isFunction(e[key])) {
            this[key] = function() {
                return e[key]();
            };
        } else {
            this[key] = e[key];
        }
    };

    for (key in e) {
        if (e[key] || typeof e[key] === "function") {
            setter.call(this, key, e);
        }
    }

    jBone.extend(this, data);
}

jBone.Event = function(event, data) {
    var namespace, eventType;

    if (event.type && !data) {
        data = event;
        event = event.type;
    }

    namespace = event.split(".").splice(1).join(".");
    eventType = event.split(".")[0];

    event = doc.createEvent("Event");
    event.initEvent(eventType, true, true);

    return jBone.extend(event, {
        namespace: namespace,
        isDefaultPrevented: function() {
            return event.defaultPrevented;
        }
    }, data);
};

fn.on = function(event) {
    var args = arguments,
        length = this.length,
        i = 0,
        callback = slice.call(args, -1)[0],
        target, data, namespace, fn, events, eventType, expectedTarget, addListener;

    // .on('click', '.selector', function() {})
    if (args.length === 3 && isString(args[1])) {
        target = args[1];
    }
    // .on('click', { key: value }, function() {})
    else if (args.length === 3 && isObject(args[1])) {
        data = args[1];
    }
    // .on('click', '.selector', { key: value }, function() {})
    else if (args.length === 4) {
        target = args[1];
        data = args[2];
    }

    addListener = function(el) {
        jBone.setId(el);
        events = jBone.getData(el).events;
        event.split(" ").forEach(function(event) {
            var eventOptions = {};

            if (data) {
                eventOptions.data = data;
            }

            eventType = event.split(".")[0];
            namespace = event.split(".").splice(1).join(".");
            events[eventType] = events[eventType] || [];

            fn = function(e) {
                if (e.namespace && e.namespace !== namespace) {
                    return;
                }

                expectedTarget = null;

                if (!target) {
                    callback.call(el, new BoneEvent(e, eventOptions));
                } else if (~jBone(el).find(target).indexOf(e.target) || (expectedTarget = jBone.contains(jBone(el).find(target), e.target))) {
                    expectedTarget = expectedTarget || e.target;
                    eventOptions.currentTarget = expectedTarget;

                    callback.call(expectedTarget, new BoneEvent(e, eventOptions));
                }
            };

            events[eventType].push({
                namespace: namespace,
                fn: fn,
                originfn: callback
            });

            el.addEventListener && el.addEventListener(eventType, fn, false);
        });
    };

    for (; i < length; i++) {
        addListener(this[i]);
    }

    return this;
};

fn.one = function(event) {
    var args = arguments,
        i = 0,
        length = this.length,
        oneArgs = slice.call(args, 1, args.length - 1),
        callback = slice.call(args, -1)[0],
        addListener;

    addListener = function(el) {
        var $el =  jBone(el);

        event.split(" ").forEach(function(event) {
            var fn = function(e) {
                $el.off(event, fn);
                callback.call(el, e);
            };

            $el.on.apply($el, [event].concat(oneArgs, fn));
        });
    };

    for (; i < length; i++) {
        addListener(this[i]);
    }

    return this;
};

fn.trigger = function(event) {
    var events = [],
        i = 0,
        length = this.length,
        dispatchEvents;

    if (!event) {
        return this;
    }

    if (isString(event)) {
        events = event.split(" ").map(function(event) {
            return jBone.Event(event);
        });
    } else {
        event = event instanceof Event ? event : jBone.Event(event);
        events = [event];
    }

    dispatchEvents = function(el) {
        events.forEach(function(event) {
            if (!event.type) {
                return;
            }

            el.dispatchEvent && el.dispatchEvent(event);
        });
    };

    for (; i < length; i++) {
        dispatchEvents(this[i]);
    }

    return this;
};

fn.off = function(event, fn) {
    var i = 0,
        length = this.length,
        removeListener = function(events, eventType, index, el, e) {
            var callback;

            // get callback
            if ((fn && e.originfn === fn) || !fn) {
                callback = e.fn;
            }

            if (events[eventType][index].fn === callback) {
                el.removeEventListener(eventType, callback);

                // remove handler from cache
                jBone._cache.events[jBone.getData(el).jid][eventType].splice(index, 1);
            }
        },
        events, namespace, removeListeners, eventType;

    removeListeners = function(el) {
        var l, eventsByType, e;

        events = jBone.getData(el).events;

        if (!events) {
            return;
        }

        // remove all events
        if (!event && events) {
            return keys(events).forEach(function(eventType) {
                eventsByType = events[eventType];
                l = eventsByType.length;

                while(l--) {
                    removeListener(events, eventType, l, el, eventsByType[l]);
                }
            });
        }

        event.split(" ").forEach(function(event) {
            eventType = event.split(".")[0];
            namespace = event.split(".").splice(1).join(".");

            // remove named events
            if (events[eventType]) {
                eventsByType = events[eventType];
                l = eventsByType.length;

                while(l--) {
                    e = eventsByType[l];
                    if (!namespace || (namespace && e.namespace === namespace)) {
                        removeListener(events, eventType, l, el, e);
                    }
                }
            }
            // remove all namespaced events
            else if (namespace) {
                keys(events).forEach(function(eventType) {
                    eventsByType = events[eventType];
                    l = eventsByType.length;

                    while(l--) {
                        e = eventsByType[l];
                        if (e.namespace.split(".")[0] === namespace.split(".")[0]) {
                            removeListener(events, eventType, l, el, e);
                        }
                    }
                });
            }
        });
    };

    for (; i < length; i++) {
        removeListeners(this[i]);
    }

    return this;
};

fn.find = function(selector) {
    var results = [],
        i = 0,
        length = this.length,
        finder = function(el) {
            if (isFunction(el.querySelectorAll)) {
                [].forEach.call(el.querySelectorAll(selector), function(found) {
                    results.push(found);
                });
            }
        };

    for (; i < length; i++) {
        finder(this[i]);
    }

    return jBone(results);
};

fn.get = function(index) {
    return index != null ?

        // Return just the one element from the set
        (index < 0 ? this[index + this.length] : this[index]) :

        // Return all the elements in a clean array
        slice.call(this);
};

fn.eq = function(index) {
    return jBone(this[index]);
};

fn.parent = function() {
    var results = [],
        parent,
        i = 0,
        length = this.length;

    for (; i < length; i++) {
        if (!~results.indexOf(parent = this[i].parentElement) && parent) {
            results.push(parent);
        }
    }

    return jBone(results);
};

fn.toArray = function() {
    return slice.call(this);
};

fn.is = function() {
    var args = arguments;

    return this.some(function(el) {
        return el.tagName.toLowerCase() === args[0];
    });
};

fn.has = function() {
    var args = arguments;

    return this.some(function(el) {
        return el.querySelectorAll(args[0]).length;
    });
};

fn.add = function(selector, context) {
    return jBone.unique(
        jBone.merge(this.get(), jBone(selector, context))
    );
};

fn.attr = function(key, value) {
    var args = arguments,
        i = 0,
        length = this.length,
        setter;

    if (isString(key) && args.length === 1) {
        return this[0] && this[0].getAttribute(key);
    }

    if (args.length === 2) {
        setter = function(el) {
            el.setAttribute(key, value);
        };
    } else if (isObject(key)) {
        setter = function(el) {
            keys(key).forEach(function(name) {
                el.setAttribute(name, key[name]);
            });
        };
    }

    for (; i < length; i++) {
        setter(this[i]);
    }

    return this;
};

fn.removeAttr = function(key) {
    var i = 0,
        length = this.length;

    for (; i < length; i++) {
        this[i].removeAttribute(key);
    }

    return this;
};

fn.val = function(value) {
    var i = 0,
        length = this.length;

    if (arguments.length === 0) {
        return this[0] && this[0].value;
    }

    for (; i < length; i++) {
        this[i].value = value;
    }

    return this;
};

fn.css = function(key, value) {
    var args = arguments,
        i = 0,
        length = this.length,
        setter;

    // Get attribute
    if (isString(key) && args.length === 1) {
        return this[0] && win.getComputedStyle(this[0])[key];
    }

    // Set attributes
    if (args.length === 2) {
        setter = function(el) {
            el.style[key] = value;
        };
    } else if (isObject(key)) {
        setter = function(el) {
            keys(key).forEach(function(name) {
                el.style[name] = key[name];
            });
        };
    }

    for (; i < length; i++) {
        setter(this[i]);
    }

    return this;
};

fn.data = function(key, value) {
    var args = arguments, data = {},
        i = 0,
        length = this.length,
        setter,
        setValue = function(el, key, value) {
            if (isObject(value)) {
                el.jdata = el.jdata || {};
                el.jdata[key] = value;
            } else {
                el.dataset[key] = value;
            }
        },
        getValue = function(value) {
            if (value === "true") {
                return true;
            } else if (value === "false") {
                return false;
            } else {
                return value;
            }
        };

    // Get all data
    if (args.length === 0) {
        this[0].jdata && (data = this[0].jdata);

        keys(this[0].dataset).forEach(function(key) {
            data[key] = getValue(this[0].dataset[key]);
        }, this);

        return data;
    }
    // Get data by name
    if (args.length === 1 && isString(key)) {
        return this[0] && getValue(this[0].dataset[key] || this[0].jdata && this[0].jdata[key]);
    }

    // Set data
    if (args.length === 1 && isObject(key)) {
        setter = function(el) {
            keys(key).forEach(function(name) {
                setValue(el, name, key[name]);
            });
        };
    } else if (args.length === 2) {
        setter = function(el) {
            setValue(el, key, value);
        };
    }

    for (; i < length; i++) {
        setter(this[i]);
    }

    return this;
};

fn.removeData = function(key) {
    var i = 0,
        length = this.length,
        jdata, dataset;

    for (; i < length; i++) {
        jdata = this[i].jdata;
        dataset = this[i].dataset;

        if (key) {
            jdata && jdata[key] && delete jdata[key];
            delete dataset[key];
        } else {
            for (key in jdata) {
                delete jdata[key];
            }

            for (key in dataset) {
                delete dataset[key];
            }
        }
    }

    return this;
};

fn.html = function(value) {
    var args = arguments,
        el;

    // add HTML into elements
    if (args.length === 1 && value !== undefined) {
        return this.empty().append(value);
    }
    // get HTML from element
    else if (args.length === 0 && (el = this[0])) {
        return el.innerHTML;
    }

    return this;
};

fn.append = function(appended) {
    var i = 0,
        length = this.length,
        setter;

    // create jBone object and then append
    if (isString(appended) && rquickExpr.exec(appended)) {
        appended = jBone(appended);
    }
    // create text node for inserting
    else if (!isObject(appended)) {
        appended = document.createTextNode(appended);
    }

    appended = appended instanceof jBone ? appended : jBone(appended);

    setter = function(el, i) {
        appended.forEach(function(node) {
            if (i) {
                el.appendChild(node.cloneNode(true));
            } else {
                el.appendChild(node);
            }
        });
    };

    for (; i < length; i++) {
        setter(this[i], i);
    }

    return this;
};

fn.appendTo = function(to) {
    jBone(to).append(this);

    return this;
};

fn.empty = function() {
    var i = 0,
        length = this.length,
        el;

    for (; i < length; i++) {
        el = this[i];

        while (el.lastChild) {
            el.removeChild(el.lastChild);
        }
    }

    return this;
};

fn.remove = function() {
    var i = 0,
        length = this.length,
        el;

    // remove all listners
    this.off();

    for (; i < length; i++) {
        el = this[i];

        // remove data and nodes
        delete el.jdata;
        el.parentNode && el.parentNode.removeChild(el);
    }

    return this;
};

if (typeof module === "object" && module && typeof module.exports === "object") {
    // Expose jBone as module.exports in loaders that implement the Node
    // module pattern (including browserify). Do not create the global, since
    // the user will be storing it themselves locally, and globals are frowned
    // upon in the Node module world.
    module.exports = jBone;
}
// Register as a AMD module
else if (typeof define === "function" && define.amd) {
    define(function() {
        return jBone;
    });

    win.jBone = win.$ = jBone;
} else if (typeof win === "object" && typeof win.document === "object") {
    win.jBone = win.$ = jBone;
}

}(window));

},{}],43:[function(require,module,exports){
var koalajs = {};

// pass an alternative default value
koalajs.d = koalajs.defaultValue = function defaultValue(obj, defValue) {
  if (obj === undefined) {
    if (typeof obj === "function") {
      return defValue();
    }
    return defValue;
  }
  return obj;
};

// alias for getElementById
koalajs.id = function mk(el) {
  return document.getElementById(el);
};

// alias for createElement
koalajs.mk = function mk(el) {
  return document.createElement(el);
};

if (module !== undefined && module.exports !== undefined) {
  module.exports = koalajs;
}

},{}],44:[function(require,module,exports){
module.exports = require("./lib/menubuilder");

},{"./lib/menubuilder":45}],45:[function(require,module,exports){
var MenuBuilder, jbone, view;

jbone = require("jbone");
view = require("backbone-viewj");

module.exports = MenuBuilder = view.extend({
  initialize: function(opts) {
    this._nodes = [];
    this.name = opts.name || "";
    this.el.className += "smenubar";
  },
  render: function() {

    // remove all childs
    var fc = this.el.firstChild;
    while (fc) {
      this.el.removeChild(fc);
      fc = this.el.firstChild;
    }

    // replace child
    this.el.appendChild(this.buildDOM());
  },
  setName: function(name) {
    this.name = name;
  },
  addNode: function(label, callback, opts) {
    var style;
    if (opts != null) {
      style = opts.style;
    }
    if (this._nodes == null) {
      this._nodes = [];
    }
    this._nodes.push({
      label: label,
      callback: callback,
      style: style
    });
  },

  getNode: function(label) {
    var rNode = undefined;
    this._nodes.forEach(function(el) {
      if (el.label === label) {
        rNode = el;
      }
    });
    return rNode;
  },

  modifyNode: function(label, callback, opts) {
    var node = this.getNode(label);
    node.callback = callback || node.callback;
    opts = opts || {};
    node.style = opts.style || node.style;
  },

  renameNode: function(label, newLabel) {
    var node = this.getNode(label);
    node.label = newLabel || node.label;
  },

  removeNode: function(label) {
    var node = this.getNode(label);
    this._nodes.splice(this._nodes.indexOf(node), 1);
  },

  removeAllNodes: function() {
    this._nodes = [];
  },

  buildDOM: function() {
    var span = document.createElement("span");
    span.appendChild(this._buildM({
      nodes: this._nodes,
      name: this.name
    }));
    return span;
  },
  _buildM: function(data) {
    var displayedButton, frag, key, li, node, style, _ref;
    var nodes = data.nodes;
    var name = data.name;
    var menu = document.createElement("div");
    menu.className = "smenu-dropdown smenu-dropdown-tip";
    menu.style.display = "none";

    var menuUl = document.createElement("ul");
    menuUl.className = "smenu-dropdown-menu";

    // currently we support one-level
    for (var i = 0, _len = nodes.length; i < _len; i++) {
      node = nodes[i];
      li = document.createElement("li");
      li.textContent = node.label;
      _ref = node.style;
      for (key in _ref) {
        style = _ref[key];
        li.style[key] = style;
      }
      li.addEventListener("click", node.callback);
      this.trigger("new:node", li);
      menuUl.appendChild(li);
    }
    this.trigger("new:menu", menuUl);
    menu.appendChild(menuUl);

    displayedButton = document.createElement("a");
    displayedButton.textContent = name;
    displayedButton.className = "smenubar_alink";
    this.trigger("new:button", displayedButton);

    // HACK to be able to hide the submenu
    // listens globally for click events
    jbone(displayedButton).on("click", (function(_this) {
      return function(e) {
        _this._showMenu(e, menu, displayedButton);
        return window.setTimeout(function() {
          return jbone(document.body).one("click", function(e) {
            return menu.style.display = "none";
          });
        }, 5);
      };
    })(this));

    frag = document.createDocumentFragment();
    frag.appendChild(menu);
    frag.appendChild(displayedButton);
    return frag;
  },

  // internal method to display the lower menu on a click
  _showMenu: function(e, menu, target) {
    var rect;
    menu.style.display = "block";
    menu.style.position = "absolute";
    rect = target.getBoundingClientRect();
    menu.style.left = rect.left + "px";
    menu.style.top = (rect.top + target.offsetHeight) + "px";
  }
});

},{"backbone-viewj":9,"jbone":42}],46:[function(require,module,exports){
var Mouse;

module.exports = Mouse = {
  rel: function(e) {
    var mouseX, mouseY, rect, target;
    mouseX = e.offsetX;
    mouseY = e.offsetY;
    if (mouseX == undefined) {
      rect = target.getBoundingClientRect();
      target = e.target || e.srcElement;
      if (mouseX == undefined) {
        mouseX = e.clientX - rect.left;
        mouseY = e.clientY - rect.top;
      }
      if (mouseX == undefined) {
        mouseX = e.pageX - target.offsetLeft;
        mouseY = e.pageY - target.offsetTop;
      }
      if (mouseX == undefined) {
        console.log(e, "no mouse event defined. your browser sucks");
        return;
      }
    }
    return [mouseX, mouseY];
  },
  abs: function(e) {
    var mouseX, mouseY;
    mouseX = e.pageX;
    mouseY = e.pageY;
    if (mouseX == undefined) {
      mouseX = e.layerX;
      mouseY = e.layerY;
    }
    if (mouseX == undefined) {
      mouseX = e.clientX;
      mouseY = e.clientY;
    }
    if (mouseX == undefined) {
      mouseX = e.x;
      mouseY = e.y;
    }
    return [mouseX, mouseY];
  },
  wheelDelta: function(e) {
    var delta;
    delta = [e.deltaX, e.deltaY];
    if (delta[0] == undefined) {
      // in case there is a more detailed scroll sensor - use it
      if (e.mozMovementX) {
        delta = [0, e.mozMovementX];
      }
    }
    // safety first
    if (isNaN(delta[0])) {
      delta[0] = 0;
    }
    if (isNaN(delta[1])) {
      delta[1] = 0;
    }
    return delta;
  }
};

},{}],47:[function(require,module,exports){
module.exports = {
  A: "#00a35c",
  R: "#00fc03",
  N: "#00eb14",
  D: "#00eb14",
  C: "#0000ff",
  Q: "#00f10e",
  E: "#00f10e",
  G: "#009d62",
  H: "#00d52a",
  I: "#0054ab",
  L: "#007b84",
  K: "#00ff00",
  M: "#009768",
  F: "#008778",
  P: "#00e01f",
  S: "#00d52a",
  T: "#00db24",
  W: "#00a857",
  Y: "#00e619",
  V: "#005fa0",
  B: "#00eb14",
  X: "#00b649",
  Z: "#00f10e"
};

},{}],48:[function(require,module,exports){
module.exports = {
  A: "#BBBBBB",
  B: "grey",
  C: "yellow",
  D: "red",
  E: "red",
  F: "magenta",
  G: "brown",
  H: "#00FFFF",
  I: "#BBBBBB",
  J: "#fff",
  K: "#00FFFF",
  L: "#BBBBBB",
  M: "#BBBBBB",
  N: "green",
  O: "#fff",
  P: "brown",
  Q: "green",
  R: "#00FFFF",
  S: "green",
  T: "green",
  U: "#fff",
  V: "#BBBBBB",
  W: "magenta",
  X: "grey",
  Y: "magenta",
  Z: "grey",
  Gap: "grey"
};

},{}],49:[function(require,module,exports){
module.exports = {
  A: "orange",
  B: "#fff",
  C: "green",
  D: "red",
  E: "red",
  F: "blue",
  G: "orange",
  H: "red",
  I: "green",
  J: "#fff",
  K: "red",
  L: "green",
  M: "green",
  N: "#fff",
  O: "#fff",
  P: "orange",
  Q: "#fff",
  R: "red",
  S: "orange",
  T: "orange",
  U: "#fff",
  V: "green",
  W: "blue",
  X: "#fff",
  Y: "blue",
  Z: "#fff",
  Gap: "#fff"
};

},{}],50:[function(require,module,exports){
module.exports = {
  A: "#80a0f0",
  R: "#f01505",
  N: "#00ff00",
  D: "#c048c0",
  C: "#f08080",
  Q: "#00ff00",
  E: "#c048c0",
  G: "#f09048",
  H: "#15a4a4",
  I: "#80a0f0",
  L: "#80a0f0",
  K: "#f01505",
  M: "#80a0f0",
  F: "#80a0f0",
  P: "#ffff00",
  S: "#00ff00",
  T: "#00ff00",
  W: "#80a0f0",
  Y: "#15a4a4",
  V: "#80a0f0",
  B: "#fff",
  X: "#fff",
  Z: "#fff"
};

},{}],51:[function(require,module,exports){
module.exports = {
  A: "#e718e7",
  R: "#6f906f",
  N: "#1be41b",
  D: "#778877",
  C: "#23dc23",
  Q: "#926d92",
  E: "#ff00ff",
  G: "#00ff00",
  H: "#758a75",
  I: "#8a758a",
  L: "#ae51ae",
  K: "#a05fa0",
  M: "#ef10ef",
  F: "#986798",
  P: "#00ff00",
  S: "#36c936",
  T: "#47b847",
  W: "#8a758a",
  Y: "#21de21",
  V: "#857a85",
  B: "#49b649",
  X: "#758a75",
  Z: "#c936c9"
};

},{}],52:[function(require,module,exports){
module.exports = {
  A: "#ad0052",
  B: "#0c00f3",
  C: "#c2003d",
  D: "#0c00f3",
  E: "#0c00f3",
  F: "#cb0034",
  G: "#6a0095",
  H: "#1500ea",
  I: "#ff0000",
  J: "#fff",
  K: "#0000ff",
  L: "#ea0015",
  M: "#b0004f",
  N: "#0c00f3",
  O: "#fff",
  P: "#4600b9",
  Q: "#0c00f3",
  R: "#0000ff",
  S: "#5e00a1",
  T: "#61009e",
  U: "#fff",
  V: "#f60009",
  W: "#5b00a4",
  X: "#680097",
  Y: "#4f00b0",
  Z: "#0c00f3"
};

},{}],53:[function(require,module,exports){
var schemes = require("./schemeclass");
var StaticSchemeClass = schemes.stat;
var DynSchemeClass = schemes.dyn;

var Buried = require("./buried");
var Cinema = require("./cinema");
var Clustal = require("./clustal");
var Clustal2 = require("./clustal2");
var Helix = require("./helix");
var Hydro = require("./hydrophobicity");
var Lesk = require("./lesk");
var Mae = require("./mae");
var Nucleotide = require("./nucleotide");
var Purine = require("./purine");
var Strand = require("./strand");
var Taylor = require("./taylor");
var Turn = require("./turn");
var Zappo = require("./zappo");

var staticSchemes = {
  buried: Buried,
  buried_index: Buried,
  cinema: Cinema,
  clustal2: Clustal2,
  clustal: Clustal,
  helix: Helix,
  helix_propensity: Helix,
  hydro: Hydro,
  lesk: Lesk,
  mae: Mae,
  nucleotide: Nucleotide,
  purine: Purine,
  purine_pyrimidine: Purine,
  strand: Strand,
  strand_propensity: Strand,
  taylor: Taylor,
  turn: Turn,
  turn_propensity: Turn,
  zappo: Zappo
};

var pid = require("./pid_colors.js");

var dynSchemes = {
  pid: pid
};

module.exports = Colors = function(opt){
  this.maps = clone(staticSchemes);  
  this.dyn = clone(dynSchemes);
  this.opt = opt;
}
Colors.getScheme = function(scheme){
  return staticSchemes[scheme];
}
Colors.prototype.getScheme = function(scheme) {
  var color = this.maps[scheme];
  if (color === undefined) {
    color = {};
    if(this.dyn[scheme] != undefined){
      return new DynSchemeClass(this.dyn[scheme],this.opt);
    }
  }
  return new StaticSchemeClass(color);
};

Colors.prototype.addStaticScheme = function(name,scheme) {
  this.maps[name] = scheme;
}

Colors.prototype.addDynScheme = function(name,scheme) {
  this.dyn[name] = scheme;
}

// small helper to clone an object
function clone(obj) {
  if (null == obj || "object" != typeof obj) return obj;
  var copy = obj.constructor();
  for (var attr in obj) {
    if (obj.hasOwnProperty(attr)) copy[attr] = obj[attr];
  }
  return copy;
}

},{"./buried":47,"./cinema":48,"./clustal":49,"./clustal2":50,"./helix":51,"./hydrophobicity":52,"./lesk":54,"./mae":55,"./nucleotide":56,"./pid_colors.js":57,"./purine":58,"./schemeclass":59,"./strand":60,"./taylor":61,"./turn":62,"./zappo":63}],54:[function(require,module,exports){
module.exports = {
  A: " orange",
  B: " #fff",
  C: " green",
  D: " red",
  E: " red",
  F: " green",
  G: " orange",
  H: " magenta",
  I: " green",
  J: " #fff",
  K: " red",
  L: " green",
  M: " green",
  N: " magenta",
  O: " #fff",
  P: " green",
  Q: " magenta",
  R: " red",
  S: " orange",
  T: " orange",
  U: " #fff",
  V: " green",
  W: " green",
  X: " #fff",
  Y: " green",
  Z: " #fff",
  Gap: " #fff"
};

},{}],55:[function(require,module,exports){
module.exports = {
  A: " #77dd88",
  B: " #fff",
  C: " #99ee66",
  D: " #55bb33",
  E: " #55bb33",
  F: " #9999ff",
  G: " #77dd88",
  H: " #5555ff",
  I: " #66bbff",
  J: " #fff",
  K: " #ffcc77",
  L: " #66bbff",
  M: " #66bbff",
  N: " #55bb33",
  O: " #fff",
  P: " #eeaaaa",
  Q: " #55bb33",
  R: " #ffcc77",
  S: " #ff4455",
  T: " #ff4455",
  U: " #fff",
  V: " #66bbff",
  W: " #9999ff",
  X: " #fff",
  Y: " #9999ff",
  Z: " #fff",
  Gap: " #fff"
};

},{}],56:[function(require,module,exports){
module.exports = {
  A: " #64F73F",
  C: " #FFB340",
  G: " #EB413C",
  T: " #3C88EE",
  U: " #3C88EE"
};

},{}],57:[function(require,module,exports){
var pid;
module.exports = pid = {};

// calculating the conservation is expensive 
// we only want to do it once
pid.init = function(){
  this.cons = this.opt.conservation();
}

pid.run = function(letter,opts){
  var cons = this.cons[opts.pos];
  if(cons > 0.8){
    return "#6464ff";
  }else if(cons > 0.6){
    return "#9da5ff";
  }else if(cons > 0.4){
    return "#cccccc";
  }else{
    return "#ffffff";
  }
}

},{}],58:[function(require,module,exports){
module.exports = {
  A: " #FF83FA",
  C: " #40E0D0",
  G: " #FF83FA",
  R: " #FF83FA",
  T: " #40E0D0",
  U: " #40E0D0",
  Y: " #40E0D0"
};

},{}],59:[function(require,module,exports){
var StaticSchemeClass = function(map){
  this.defaultColor = "#ffffff";
  this.type = "static";
  this.map = map;
  this.getColor = function(letter){
    if(this.map[letter] !== undefined){
      return this.map[letter]; 
    }else{
      return this.defaultColor;
    }
  };
};

var DynSchemeClass = function(fun,opt){
  this.type = "dyn";
  this.opt = opt;
  // init
  if(fun.init !== undefined){
    fun.init.call(this);
    this.getColor = fun.run;
    this.reset = fun.init;
  }else{
    this.getColor = fun;
  }
};
module.exports.stat = StaticSchemeClass;
module.exports.dyn = DynSchemeClass;

},{}],60:[function(require,module,exports){
module.exports = {
  A: "#5858a7",
  R: "#6b6b94",
  N: "#64649b",
  D: "#2121de",
  C: "#9d9d62",
  Q: "#8c8c73",
  E: "#0000ff",
  G: "#4949b6",
  H: "#60609f",
  I: "#ecec13",
  L: "#b2b24d",
  K: "#4747b8",
  M: "#82827d",
  F: "#c2c23d",
  P: "#2323dc",
  S: "#4949b6",
  T: "#9d9d62",
  W: "#c0c03f",
  Y: "#d3d32c",
  V: "#ffff00",
  B: "#4343bc",
  X: "#797986",
  Z: "#4747b8"
};

},{}],61:[function(require,module,exports){
module.exports = {
  A: "#ccff00",
  R: "#0000ff",
  N: "#cc00ff",
  D: "#ff0000",
  C: "#ffff00",
  Q: "#ff00cc",
  E: "#ff0066",
  G: "#ff9900",
  H: "#0066ff",
  I: "#66ff00",
  L: "#33ff00",
  K: "#6600ff",
  M: "#00ff00",
  F: "#00ff66",
  P: "#ffcc00",
  S: "#ff3300",
  T: "#ff6600",
  W: "#00ccff",
  Y: "#00ffcc",
  V: "#99ff00",
  B: "#fff",
  X: "#fff",
  Z: "#fff"
};

},{}],62:[function(require,module,exports){
module.exports = {
  A: "#2cd3d3",
  R: "#708f8f",
  N: "#ff0000",
  D: "#e81717",
  C: "#a85757",
  Q: "#3fc0c0",
  E: "#778888",
  G: "#ff0000",
  H: "#708f8f",
  I: "#00ffff",
  L: "#1ce3e3",
  K: "#7e8181",
  M: "#1ee1e1",
  F: "#1ee1e1",
  P: "#f60909",
  S: "#e11e1e",
  T: "#738c8c",
  W: "#738c8c",
  Y: "#9d6262",
  V: "#07f8f8",
  B: "#f30c0c",
  X: "#7c8383",
  Z: "#5ba4a4"
};

},{}],63:[function(require,module,exports){
module.exports = {
  A: "#ffafaf",
  R: "#6464ff",
  N: "#00ff00",
  D: "#ff0000",
  C: "#ffff00",
  Q: "#00ff00",
  E: "#ff0000",
  G: "#ff00ff",
  H: "#6464ff",
  I: "#ffafaf",
  L: "#ffafaf",
  K: "#6464ff",
  M: "#ffafaf",
  F: "#ffc800",
  P: "#ff00ff",
  S: "#00ff00",
  T: "#00ff00",
  W: "#ffc800",
  Y: "#ffc800",
  V: "#ffafaf",
  B: "#fff",
  X: "#fff",
  Z: "#fff"
};

},{}],64:[function(require,module,exports){
/*
 * msa-seqtools
 * https://github.com/greenify/msa-seqtools
 *
 * Copyright (c) 2014 greenify
 * Licensed under the MIT license.
 */

var st = {};
module.exports = st;

// extract IDs and push them to the meta dict
st.getMeta = function(label) {
  if (st.contains(label, "|")) {
    var identifiers = label.split("|");
    var k = 0;
    var database, databaseID;
    var meta = {};
    while (k < identifiers.length - 1) {
      database = identifiers[k];
      databaseID = identifiers[k + 1];
      meta[database] = databaseID;
      k += 2;
    }
    // assume the last entry is the label
    var name = identifiers[identifiers.length - 1];
    // check whether there is a uniprot id
    if (name.indexOf("=") >= 0 && name.indexOf("OS") >= 0) {
      var ds = {};
      var details = name.split(" ");
      ds.en = details[0];
      details = details.splice(1);
      var nameLength = findSepInArr(details, "=");
      var detailsTmp = details.splice(nameLength - 1);
      name = details.join(" ");
      details = detailsTmp;
      k = 0;
      var block = [];
      details.forEach(function(item) {
        block.push(item);
        if (item.indexOf("=") >= 0) {
          strToDict(block.join(" "), "=", ds);
          block = [];
        }
      });
      return {
        name: name,
        ids: meta,
        details: ds
      };
    }
    return {
      name: name,
      ids: meta
    };
  }
  return {
    name: label
  };
};

var findSepInArr = function(arr, sep) {
  for (var i = 0; i < arr.lenght; i++) {
    if (arr[i].indexOf(i)) {
      return i;
    }
  }
  return arr.length - 1;
};

var strToDict = function(str, sep, toJoin) {
  toJoin = toJoin || {};
  var entries = str.split(sep);
  toJoin[entries[0].toLowerCase()] = entries[1];
  return toJoin;
};

var identDB = {
  "sp": {
    link: "http://www.uniprot.org/%s",
    name: "Uniprot"
  },
  "tr": {
    link: "http://www.uniprot.org/%s",
    name: "Trembl"
  },
  "gb": {
    link: "http://www.ncbi.nlm.nih.gov/nuccore/%s",
    name: "Genbank"
  },
  "pdb": {
    link: "http://www.rcsb.org/pdb/explore/explore.do?structureId=%s",
    name: "PDB"
  }
};

st.buildLinks = function(meta) {
  var links = {};
  meta = meta || {};
  Object.keys(meta).forEach(function(id) {
    if (id in identDB) {
      var entry = identDB[id];
      var link = entry.link.replace("%s", meta[id]);
      links[entry.name] = link;
    }
  });
  return links;
};


// search for a text
st.contains = function(text, search) {
  return ''.indexOf.call(text, search, 0) !== -1;
};

// split after e.g. 80 chars
st.splitNChars = function(txt, num) {
  var i, _ref;
  num = num || 80;
  var result = [];
  for (i = 0, _ref = txt.length - 1; i <= _ref; i += num) {
    result.push(txt.substr(i, num));
  }
  return result;
};

st.model = function Seq(seq, name, id) {
  this.seq = seq;
  this.name = name;
  this.id = id;
  this.ids = {};
};

},{}],65:[function(require,module,exports){
var _ = require("underscore");

var stat = function(seqs) {
  // if someone forgets new
  if (this.constructor !== stat) {
    return new stat(seqs);
  }
  if (seqs === undefined || typeof seqs === "string") {
    throw new TypeError("you need to give the seq stat an array");
  }
  //if(seqs.length == 0){
  //throw new TypeError("you need to give the seq stat a real array");
  //}
  this.resetSeqs(seqs);
  this.alphabetSize = 4;
  this._useBackground = false;
  this.ignoredChars = ["-", "*"];
};

stat.prototype.addSeq = function addSeq(seq) {
  this.seqs.push(seq);
  this._reset();
};

stat.prototype.removeSeq = function addSeq(seq) {
  // check for int or string
  if (typeof seq === 'number') {
    this.seqs.splice(seq, 1);
  } else {
    // identify matches (we could have multiple)
    _.each(this.seqs, function(s, i) {
      if (seq === s) {
        this.seqs.splice(i, 1);
      }
    }.bind(this));
  }
  this._reset();
};

stat.prototype.addSeqs = function addSeqs(seqs) {
  seqs.forEach(function(seq) {
    this.addSeq(seq);
  }.bind(this));
};

stat.prototype.resetSeqs = function reset(seqs) {
  this.seqs = [];

  // support sequence models
  if (!(seqs instanceof Array)){
    this.mseqs = seqs;
    var mSeqsPluck = function() {
      var seqArr = this.mseqs.pluck("seq");
      this.resetSeqs(seqArr);
    };
    seqs.on("add change reset ", mSeqsPluck, this);
    mSeqsPluck.call(this);
  } else {
    this.addSeqs(seqs);
    this._reset();
    this.trigger("reset");
  }
};

var calcValues = ["consensus", "frequency", "maxLength", "ic", "gaps"];

stat.prototype._reset = function _reset() {
  for (var i = 0; i < calcValues.length; i++) {
    this["_" + calcValues[i]] = undefined;
  }
  this._identity = undefined;
  this._background = undefined;
};

// -----------------------------------------------------------------------------
// BEGIN: setter/getter
// -----------------------------------------------------------------------------

stat.prototype.setBackground = function setBackground(b) {
  this._useBackground = b;
  this._reset();
};

stat.prototype.useBackground = function useBackground() {
  this.setBackground(true);
};

stat.prototype.setDNA = function setNucleotide() {
  this.alphabetSize = 4;
};

stat.prototype.setProtein = function setDNA() {
  this.alphabetSize = 20;
};

// -----------------------------------------------------------------------------
// BEGIN: auto wrappers
// -----------------------------------------------------------------------------

// neat auto-wrappers
calcValues.forEach(function(key) {
  stat.prototype[key] = function() {
    if (this["_" + key] === undefined) {
      this[key + "Calc"]();
    }
    return this["_" + key];
  };
});

stat.prototype.identity = function identitiy(seq) {
  // do not cache if its called with a special compare seq
  var ident;
  if (this._identity === undefined || seq) {
    ident = this.identityCalc(seq);
    this._identity = undefined;
  }
  return this._identity || ident;
};

// set your own background with obj.bg
stat.prototype.background = function background() {
  if (this.bg !== undefined) {
    return this.bg;
  }
  if (this._background === undefined) {
    this.backgroundCalc();
  }
  return this._background;
};


// -----------------------------------------------------------------------------
// BEGIN: calc tools
// -----------------------------------------------------------------------------

// calculates the relative frequency of a base at a given position
// this is needed e.g. for the entropy calculation
// seqs: array of sequences (strings)
// opts:
//    all: boolean (use to show the frequencies for all letters [including the ignored ones]
//    (default false)
// @returns array of all positions with a dictionary of all bases with their relative frequency
stat.prototype.frequencyCalc = function frequencyCalc(opts) {
  var occs, totalPerPos;
  occs = new Array(this.maxLength());
  totalPerPos = new Array(this.seqs.length);
  var ignoredChars = this.ignoredChars;
  if(opts !== undefined && opts.all){
    ignoredChars = []; 
  }

  // count the occurrences of the chars at a position
  _.each(this.seqs, function(el) {
    _.each(el, function(c, pos) {
      if (ignoredChars.indexOf(c) >= 0) return;
      if (occs[pos] === undefined) {
        occs[pos] = {};
      }
      if (occs[pos][c] === undefined) {
        occs[pos][c] = 0;
      }
      occs[pos][c] ++;
      if (totalPerPos[pos] === undefined) {
        totalPerPos[pos] = 0;
      }
      totalPerPos[pos] ++;
    });
  });

  // normalize to 1
  _.each(occs, function(el, pos) {
    return _.each(el, function(val, c) {
      return (occs[pos][c] = val / totalPerPos[pos]);
    });
  });
  this._frequency = occs;
  return occs;
};

// seqs: array of sequences (strings)
stat.prototype.backgroundCalc = function backgroundCalc() {
  var occ = {};
  var total = 0;

  // count the occurences of the chars of a position
  _.each(this.seqs, function(el) {
    _.each(el, function(c) {
      if (occ[c] === undefined) {
        occ[c] = 0;
      }
      occ[c] ++;
      return total++;
    });
  });

  // normalize to 1
  occ = _.mapValues(occ, function(val) {
    return val / total;
  });
  this._background = occ;
  return occ;
};


// information content after Shannon
// * gaps are excluded
stat.prototype.icCalc = function icCalc() {
  var f = this.frequency();
  if (this._useBackground) {
    var b = this.background();
  }
  var ignoredChars = this.ignoredChars;
  var useBackground = this._useBackground;
  var ic = _.map(f, function(el) {
    return _.reduce(el, function(memo, val, c) {
      if (ignoredChars.indexOf(c) >= 0) return memo;
      if (useBackground) {
        val = val / b[c];
      }
      return memo - val * (Math.log(val) / Math.log(2));
    }, 0);
  });
  this._ic = ic;
  return ic;
};

// sequence conservation after Schneider and Stephens (1990)
// @cite Schneider, T.D. and Stephens, R.M. 1990. Sequence logos: A new way to
// display consensus sequences. Nucleic Acids Res. 18: 6097–6100.
stat.prototype.conservation = function conservation(alphabetSize) {
  var ic = this.ic();
  alphabetSize = alphabetSize || this.alphabetSize;
  var icMax = Math.log(alphabetSize) / Math.log(2);
  var conserv = _.map(ic, function(el) {
    return icMax - el;
  });
  return conserv;
};

// sequence conservation after Schneider and Stephens (1990)
// conservation for each amino acid
// * gaps are excluded
stat.prototype.conservResidue = function conservation(input) {
  var alphabetSize = input ? input.alphabetSize : undefined;
  var ic;
  var ignoredChars = this.ignoredChars;
  if (input !== undefined && input.scaled) {
    ic = this.scale(this.conservation(alphabetSize));
  } else {
    ic = this.conservation(alphabetSize);
  }
  var f = this.frequency();
  var keys;
  var conserv = _.map(f, function(el, i) {
    keys = _.reject(_.keys(el), function(c) {
      return ignoredChars.indexOf(c) >= 0;
    });
    var obj = {};
    _.each(keys, function(key) {
      obj[key] = el[key] * ic[i];
    });
    return obj;
  });
  return conserv;
};

// type 2 sequence logo method
// scales relative to background
stat.prototype.conservResidue2 = function conservation(alphabetSize) {
  var f = this.frequency();
  var ic = this.conservation(alphabetSize);
  var b = this.background();
  var conserv = _.map(f, function(el, i) {
    return _.map(el, function(val) {
      var sum = _.reduce(f[i], function(memo, e) {
        return memo + e / b[i];
      }, 0);
      return ((val / b[i]) / sum) * ic[i];
    }, 0);
  });
  return conserv;
};

// scale information content or conservation to 1
stat.prototype.scale = function conservation(ic, alphabetSize) {
  alphabetSize = alphabetSize || this.alphabetSize;
  var icMax = Math.log(alphabetSize) / Math.log(2);
  var conserv = _.map(ic, function(el) {
    return el / icMax;
  });
  return conserv;
};

stat.prototype.maxLengthCalc = function() {
  this._maxLength = _.max(this.seqs, function(seq) {
    return seq.length;
  }).length;
};

// seqs: array of sequences (strings)
// @returns consenus sequence
stat.prototype.consensusCalc = function consensusCal() {
  var occs = new Array(this.maxLength());

  // count the occurrences of the chars of a position
  _.each(this.seqs, function(el) {
    _.each(el, function(c, pos) {
      if (occs[pos] === undefined) {
        occs[pos] = {};
      }
      if (occs[pos][c] === undefined) {
        occs[pos][c] = 0;
      }
      occs[pos][c] ++;
    });
  });

  // now pick the char with most occurrences
  this._consensus = _.reduce(occs, function(memo, occ) {
    var keys;
    keys = _.keys(occ);
    return memo += _.max(keys, function(key) {
      return occ[key];
    });
  }, "");

  return this._consensus;
};

// seqs: array of sequences (strings)
// consensus: calculated consensus seq
// calculates for each sequence
// * matches with the consensus seq
// * identity = matchedChars / totalChars (excluding gaps)
// @returns: array of length of the seqs with the identity to the consensus (double)
stat.prototype.identityCalc = function identitiyCalc(compareSeq) {
  var consensus = compareSeq || this.consensus();
  this._identity = this.seqs.map(function(seq) {
    var matches = 0;
    var total = 0;
    for (var i = 0; i < seq.length; i++) {
      if (seq[i] !== "-" && consensus[i] !== "-") {
        total++;
        if (seq[i] === consensus[i]) {
          matches++;
        }
      }
    }
    return matches / total;
  });
  return this._identity;
};

// percentage of gaps per column
stat.prototype.gapsCalc = function gapsCount() {
  var occs = new Array(this.maxLength());
  // count the occurrences of the chars of a position
  _.each(this.seqs, function(el) {
    _.each(el, function(c, pos) {
      if (occs[pos] === undefined) {
        occs[pos] = {
          g: 0,
          t: 0
        };
      }
      c = c === "-" ? "g" : "t";
      occs[pos][c] ++;
    });
  });

  // now pick the char with most occurrences
  this._gaps = _.map(occs, function(el) {
    return el.g / (el.g + el.t);
  });
  return this._gaps;
};

_.mixin({
  mapValues: function(obj, f_val) {
    return _.object(_.keys(obj), _.map(obj, f_val));
  }
});

require("biojs-events").mixin(stat.prototype);

module.exports = stat;

},{"biojs-events":13,"underscore":66}],66:[function(require,module,exports){
//     Underscore.js 1.7.0
//     http://underscorejs.org
//     (c) 2009-2014 Jeremy Ashkenas, DocumentCloud and Investigative Reporters & Editors
//     Underscore may be freely distributed under the MIT license.

(function() {

  // Baseline setup
  // --------------

  // Establish the root object, `window` in the browser, or `exports` on the server.
  var root = this;

  // Save the previous value of the `_` variable.
  var previousUnderscore = root._;

  // Save bytes in the minified (but not gzipped) version:
  var ArrayProto = Array.prototype, ObjProto = Object.prototype, FuncProto = Function.prototype;

  // Create quick reference variables for speed access to core prototypes.
  var
    push             = ArrayProto.push,
    slice            = ArrayProto.slice,
    concat           = ArrayProto.concat,
    toString         = ObjProto.toString,
    hasOwnProperty   = ObjProto.hasOwnProperty;

  // All **ECMAScript 5** native function implementations that we hope to use
  // are declared here.
  var
    nativeIsArray      = Array.isArray,
    nativeKeys         = Object.keys,
    nativeBind         = FuncProto.bind;

  // Create a safe reference to the Underscore object for use below.
  var _ = function(obj) {
    if (obj instanceof _) return obj;
    if (!(this instanceof _)) return new _(obj);
    this._wrapped = obj;
  };

  // Export the Underscore object for **Node.js**, with
  // backwards-compatibility for the old `require()` API. If we're in
  // the browser, add `_` as a global object.
  if (typeof exports !== 'undefined') {
    if (typeof module !== 'undefined' && module.exports) {
      exports = module.exports = _;
    }
    exports._ = _;
  } else {
    root._ = _;
  }

  // Current version.
  _.VERSION = '1.7.0';

  // Internal function that returns an efficient (for current engines) version
  // of the passed-in callback, to be repeatedly applied in other Underscore
  // functions.
  var createCallback = function(func, context, argCount) {
    if (context === void 0) return func;
    switch (argCount == null ? 3 : argCount) {
      case 1: return function(value) {
        return func.call(context, value);
      };
      case 2: return function(value, other) {
        return func.call(context, value, other);
      };
      case 3: return function(value, index, collection) {
        return func.call(context, value, index, collection);
      };
      case 4: return function(accumulator, value, index, collection) {
        return func.call(context, accumulator, value, index, collection);
      };
    }
    return function() {
      return func.apply(context, arguments);
    };
  };

  // A mostly-internal function to generate callbacks that can be applied
  // to each element in a collection, returning the desired result — either
  // identity, an arbitrary callback, a property matcher, or a property accessor.
  _.iteratee = function(value, context, argCount) {
    if (value == null) return _.identity;
    if (_.isFunction(value)) return createCallback(value, context, argCount);
    if (_.isObject(value)) return _.matches(value);
    return _.property(value);
  };

  // Collection Functions
  // --------------------

  // The cornerstone, an `each` implementation, aka `forEach`.
  // Handles raw objects in addition to array-likes. Treats all
  // sparse array-likes as if they were dense.
  _.each = _.forEach = function(obj, iteratee, context) {
    if (obj == null) return obj;
    iteratee = createCallback(iteratee, context);
    var i, length = obj.length;
    if (length === +length) {
      for (i = 0; i < length; i++) {
        iteratee(obj[i], i, obj);
      }
    } else {
      var keys = _.keys(obj);
      for (i = 0, length = keys.length; i < length; i++) {
        iteratee(obj[keys[i]], keys[i], obj);
      }
    }
    return obj;
  };

  // Return the results of applying the iteratee to each element.
  _.map = _.collect = function(obj, iteratee, context) {
    if (obj == null) return [];
    iteratee = _.iteratee(iteratee, context);
    var keys = obj.length !== +obj.length && _.keys(obj),
        length = (keys || obj).length,
        results = Array(length),
        currentKey;
    for (var index = 0; index < length; index++) {
      currentKey = keys ? keys[index] : index;
      results[index] = iteratee(obj[currentKey], currentKey, obj);
    }
    return results;
  };

  var reduceError = 'Reduce of empty array with no initial value';

  // **Reduce** builds up a single result from a list of values, aka `inject`,
  // or `foldl`.
  _.reduce = _.foldl = _.inject = function(obj, iteratee, memo, context) {
    if (obj == null) obj = [];
    iteratee = createCallback(iteratee, context, 4);
    var keys = obj.length !== +obj.length && _.keys(obj),
        length = (keys || obj).length,
        index = 0, currentKey;
    if (arguments.length < 3) {
      if (!length) throw new TypeError(reduceError);
      memo = obj[keys ? keys[index++] : index++];
    }
    for (; index < length; index++) {
      currentKey = keys ? keys[index] : index;
      memo = iteratee(memo, obj[currentKey], currentKey, obj);
    }
    return memo;
  };

  // The right-associative version of reduce, also known as `foldr`.
  _.reduceRight = _.foldr = function(obj, iteratee, memo, context) {
    if (obj == null) obj = [];
    iteratee = createCallback(iteratee, context, 4);
    var keys = obj.length !== + obj.length && _.keys(obj),
        index = (keys || obj).length,
        currentKey;
    if (arguments.length < 3) {
      if (!index) throw new TypeError(reduceError);
      memo = obj[keys ? keys[--index] : --index];
    }
    while (index--) {
      currentKey = keys ? keys[index] : index;
      memo = iteratee(memo, obj[currentKey], currentKey, obj);
    }
    return memo;
  };

  // Return the first value which passes a truth test. Aliased as `detect`.
  _.find = _.detect = function(obj, predicate, context) {
    var result;
    predicate = _.iteratee(predicate, context);
    _.some(obj, function(value, index, list) {
      if (predicate(value, index, list)) {
        result = value;
        return true;
      }
    });
    return result;
  };

  // Return all the elements that pass a truth test.
  // Aliased as `select`.
  _.filter = _.select = function(obj, predicate, context) {
    var results = [];
    if (obj == null) return results;
    predicate = _.iteratee(predicate, context);
    _.each(obj, function(value, index, list) {
      if (predicate(value, index, list)) results.push(value);
    });
    return results;
  };

  // Return all the elements for which a truth test fails.
  _.reject = function(obj, predicate, context) {
    return _.filter(obj, _.negate(_.iteratee(predicate)), context);
  };

  // Determine whether all of the elements match a truth test.
  // Aliased as `all`.
  _.every = _.all = function(obj, predicate, context) {
    if (obj == null) return true;
    predicate = _.iteratee(predicate, context);
    var keys = obj.length !== +obj.length && _.keys(obj),
        length = (keys || obj).length,
        index, currentKey;
    for (index = 0; index < length; index++) {
      currentKey = keys ? keys[index] : index;
      if (!predicate(obj[currentKey], currentKey, obj)) return false;
    }
    return true;
  };

  // Determine if at least one element in the object matches a truth test.
  // Aliased as `any`.
  _.some = _.any = function(obj, predicate, context) {
    if (obj == null) return false;
    predicate = _.iteratee(predicate, context);
    var keys = obj.length !== +obj.length && _.keys(obj),
        length = (keys || obj).length,
        index, currentKey;
    for (index = 0; index < length; index++) {
      currentKey = keys ? keys[index] : index;
      if (predicate(obj[currentKey], currentKey, obj)) return true;
    }
    return false;
  };

  // Determine if the array or object contains a given value (using `===`).
  // Aliased as `include`.
  _.contains = _.include = function(obj, target) {
    if (obj == null) return false;
    if (obj.length !== +obj.length) obj = _.values(obj);
    return _.indexOf(obj, target) >= 0;
  };

  // Invoke a method (with arguments) on every item in a collection.
  _.invoke = function(obj, method) {
    var args = slice.call(arguments, 2);
    var isFunc = _.isFunction(method);
    return _.map(obj, function(value) {
      return (isFunc ? method : value[method]).apply(value, args);
    });
  };

  // Convenience version of a common use case of `map`: fetching a property.
  _.pluck = function(obj, key) {
    return _.map(obj, _.property(key));
  };

  // Convenience version of a common use case of `filter`: selecting only objects
  // containing specific `key:value` pairs.
  _.where = function(obj, attrs) {
    return _.filter(obj, _.matches(attrs));
  };

  // Convenience version of a common use case of `find`: getting the first object
  // containing specific `key:value` pairs.
  _.findWhere = function(obj, attrs) {
    return _.find(obj, _.matches(attrs));
  };

  // Return the maximum element (or element-based computation).
  _.max = function(obj, iteratee, context) {
    var result = -Infinity, lastComputed = -Infinity,
        value, computed;
    if (iteratee == null && obj != null) {
      obj = obj.length === +obj.length ? obj : _.values(obj);
      for (var i = 0, length = obj.length; i < length; i++) {
        value = obj[i];
        if (value > result) {
          result = value;
        }
      }
    } else {
      iteratee = _.iteratee(iteratee, context);
      _.each(obj, function(value, index, list) {
        computed = iteratee(value, index, list);
        if (computed > lastComputed || computed === -Infinity && result === -Infinity) {
          result = value;
          lastComputed = computed;
        }
      });
    }
    return result;
  };

  // Return the minimum element (or element-based computation).
  _.min = function(obj, iteratee, context) {
    var result = Infinity, lastComputed = Infinity,
        value, computed;
    if (iteratee == null && obj != null) {
      obj = obj.length === +obj.length ? obj : _.values(obj);
      for (var i = 0, length = obj.length; i < length; i++) {
        value = obj[i];
        if (value < result) {
          result = value;
        }
      }
    } else {
      iteratee = _.iteratee(iteratee, context);
      _.each(obj, function(value, index, list) {
        computed = iteratee(value, index, list);
        if (computed < lastComputed || computed === Infinity && result === Infinity) {
          result = value;
          lastComputed = computed;
        }
      });
    }
    return result;
  };

  // Shuffle a collection, using the modern version of the
  // [Fisher-Yates shuffle](http://en.wikipedia.org/wiki/Fisher–Yates_shuffle).
  _.shuffle = function(obj) {
    var set = obj && obj.length === +obj.length ? obj : _.values(obj);
    var length = set.length;
    var shuffled = Array(length);
    for (var index = 0, rand; index < length; index++) {
      rand = _.random(0, index);
      if (rand !== index) shuffled[index] = shuffled[rand];
      shuffled[rand] = set[index];
    }
    return shuffled;
  };

  // Sample **n** random values from a collection.
  // If **n** is not specified, returns a single random element.
  // The internal `guard` argument allows it to work with `map`.
  _.sample = function(obj, n, guard) {
    if (n == null || guard) {
      if (obj.length !== +obj.length) obj = _.values(obj);
      return obj[_.random(obj.length - 1)];
    }
    return _.shuffle(obj).slice(0, Math.max(0, n));
  };

  // Sort the object's values by a criterion produced by an iteratee.
  _.sortBy = function(obj, iteratee, context) {
    iteratee = _.iteratee(iteratee, context);
    return _.pluck(_.map(obj, function(value, index, list) {
      return {
        value: value,
        index: index,
        criteria: iteratee(value, index, list)
      };
    }).sort(function(left, right) {
      var a = left.criteria;
      var b = right.criteria;
      if (a !== b) {
        if (a > b || a === void 0) return 1;
        if (a < b || b === void 0) return -1;
      }
      return left.index - right.index;
    }), 'value');
  };

  // An internal function used for aggregate "group by" operations.
  var group = function(behavior) {
    return function(obj, iteratee, context) {
      var result = {};
      iteratee = _.iteratee(iteratee, context);
      _.each(obj, function(value, index) {
        var key = iteratee(value, index, obj);
        behavior(result, value, key);
      });
      return result;
    };
  };

  // Groups the object's values by a criterion. Pass either a string attribute
  // to group by, or a function that returns the criterion.
  _.groupBy = group(function(result, value, key) {
    if (_.has(result, key)) result[key].push(value); else result[key] = [value];
  });

  // Indexes the object's values by a criterion, similar to `groupBy`, but for
  // when you know that your index values will be unique.
  _.indexBy = group(function(result, value, key) {
    result[key] = value;
  });

  // Counts instances of an object that group by a certain criterion. Pass
  // either a string attribute to count by, or a function that returns the
  // criterion.
  _.countBy = group(function(result, value, key) {
    if (_.has(result, key)) result[key]++; else result[key] = 1;
  });

  // Use a comparator function to figure out the smallest index at which
  // an object should be inserted so as to maintain order. Uses binary search.
  _.sortedIndex = function(array, obj, iteratee, context) {
    iteratee = _.iteratee(iteratee, context, 1);
    var value = iteratee(obj);
    var low = 0, high = array.length;
    while (low < high) {
      var mid = low + high >>> 1;
      if (iteratee(array[mid]) < value) low = mid + 1; else high = mid;
    }
    return low;
  };

  // Safely create a real, live array from anything iterable.
  _.toArray = function(obj) {
    if (!obj) return [];
    if (_.isArray(obj)) return slice.call(obj);
    if (obj.length === +obj.length) return _.map(obj, _.identity);
    return _.values(obj);
  };

  // Return the number of elements in an object.
  _.size = function(obj) {
    if (obj == null) return 0;
    return obj.length === +obj.length ? obj.length : _.keys(obj).length;
  };

  // Split a collection into two arrays: one whose elements all satisfy the given
  // predicate, and one whose elements all do not satisfy the predicate.
  _.partition = function(obj, predicate, context) {
    predicate = _.iteratee(predicate, context);
    var pass = [], fail = [];
    _.each(obj, function(value, key, obj) {
      (predicate(value, key, obj) ? pass : fail).push(value);
    });
    return [pass, fail];
  };

  // Array Functions
  // ---------------

  // Get the first element of an array. Passing **n** will return the first N
  // values in the array. Aliased as `head` and `take`. The **guard** check
  // allows it to work with `_.map`.
  _.first = _.head = _.take = function(array, n, guard) {
    if (array == null) return void 0;
    if (n == null || guard) return array[0];
    if (n < 0) return [];
    return slice.call(array, 0, n);
  };

  // Returns everything but the last entry of the array. Especially useful on
  // the arguments object. Passing **n** will return all the values in
  // the array, excluding the last N. The **guard** check allows it to work with
  // `_.map`.
  _.initial = function(array, n, guard) {
    return slice.call(array, 0, Math.max(0, array.length - (n == null || guard ? 1 : n)));
  };

  // Get the last element of an array. Passing **n** will return the last N
  // values in the array. The **guard** check allows it to work with `_.map`.
  _.last = function(array, n, guard) {
    if (array == null) return void 0;
    if (n == null || guard) return array[array.length - 1];
    return slice.call(array, Math.max(array.length - n, 0));
  };

  // Returns everything but the first entry of the array. Aliased as `tail` and `drop`.
  // Especially useful on the arguments object. Passing an **n** will return
  // the rest N values in the array. The **guard**
  // check allows it to work with `_.map`.
  _.rest = _.tail = _.drop = function(array, n, guard) {
    return slice.call(array, n == null || guard ? 1 : n);
  };

  // Trim out all falsy values from an array.
  _.compact = function(array) {
    return _.filter(array, _.identity);
  };

  // Internal implementation of a recursive `flatten` function.
  var flatten = function(input, shallow, strict, output) {
    if (shallow && _.every(input, _.isArray)) {
      return concat.apply(output, input);
    }
    for (var i = 0, length = input.length; i < length; i++) {
      var value = input[i];
      if (!_.isArray(value) && !_.isArguments(value)) {
        if (!strict) output.push(value);
      } else if (shallow) {
        push.apply(output, value);
      } else {
        flatten(value, shallow, strict, output);
      }
    }
    return output;
  };

  // Flatten out an array, either recursively (by default), or just one level.
  _.flatten = function(array, shallow) {
    return flatten(array, shallow, false, []);
  };

  // Return a version of the array that does not contain the specified value(s).
  _.without = function(array) {
    return _.difference(array, slice.call(arguments, 1));
  };

  // Produce a duplicate-free version of the array. If the array has already
  // been sorted, you have the option of using a faster algorithm.
  // Aliased as `unique`.
  _.uniq = _.unique = function(array, isSorted, iteratee, context) {
    if (array == null) return [];
    if (!_.isBoolean(isSorted)) {
      context = iteratee;
      iteratee = isSorted;
      isSorted = false;
    }
    if (iteratee != null) iteratee = _.iteratee(iteratee, context);
    var result = [];
    var seen = [];
    for (var i = 0, length = array.length; i < length; i++) {
      var value = array[i];
      if (isSorted) {
        if (!i || seen !== value) result.push(value);
        seen = value;
      } else if (iteratee) {
        var computed = iteratee(value, i, array);
        if (_.indexOf(seen, computed) < 0) {
          seen.push(computed);
          result.push(value);
        }
      } else if (_.indexOf(result, value) < 0) {
        result.push(value);
      }
    }
    return result;
  };

  // Produce an array that contains the union: each distinct element from all of
  // the passed-in arrays.
  _.union = function() {
    return _.uniq(flatten(arguments, true, true, []));
  };

  // Produce an array that contains every item shared between all the
  // passed-in arrays.
  _.intersection = function(array) {
    if (array == null) return [];
    var result = [];
    var argsLength = arguments.length;
    for (var i = 0, length = array.length; i < length; i++) {
      var item = array[i];
      if (_.contains(result, item)) continue;
      for (var j = 1; j < argsLength; j++) {
        if (!_.contains(arguments[j], item)) break;
      }
      if (j === argsLength) result.push(item);
    }
    return result;
  };

  // Take the difference between one array and a number of other arrays.
  // Only the elements present in just the first array will remain.
  _.difference = function(array) {
    var rest = flatten(slice.call(arguments, 1), true, true, []);
    return _.filter(array, function(value){
      return !_.contains(rest, value);
    });
  };

  // Zip together multiple lists into a single array -- elements that share
  // an index go together.
  _.zip = function(array) {
    if (array == null) return [];
    var length = _.max(arguments, 'length').length;
    var results = Array(length);
    for (var i = 0; i < length; i++) {
      results[i] = _.pluck(arguments, i);
    }
    return results;
  };

  // Converts lists into objects. Pass either a single array of `[key, value]`
  // pairs, or two parallel arrays of the same length -- one of keys, and one of
  // the corresponding values.
  _.object = function(list, values) {
    if (list == null) return {};
    var result = {};
    for (var i = 0, length = list.length; i < length; i++) {
      if (values) {
        result[list[i]] = values[i];
      } else {
        result[list[i][0]] = list[i][1];
      }
    }
    return result;
  };

  // Return the position of the first occurrence of an item in an array,
  // or -1 if the item is not included in the array.
  // If the array is large and already in sort order, pass `true`
  // for **isSorted** to use binary search.
  _.indexOf = function(array, item, isSorted) {
    if (array == null) return -1;
    var i = 0, length = array.length;
    if (isSorted) {
      if (typeof isSorted == 'number') {
        i = isSorted < 0 ? Math.max(0, length + isSorted) : isSorted;
      } else {
        i = _.sortedIndex(array, item);
        return array[i] === item ? i : -1;
      }
    }
    for (; i < length; i++) if (array[i] === item) return i;
    return -1;
  };

  _.lastIndexOf = function(array, item, from) {
    if (array == null) return -1;
    var idx = array.length;
    if (typeof from == 'number') {
      idx = from < 0 ? idx + from + 1 : Math.min(idx, from + 1);
    }
    while (--idx >= 0) if (array[idx] === item) return idx;
    return -1;
  };

  // Generate an integer Array containing an arithmetic progression. A port of
  // the native Python `range()` function. See
  // [the Python documentation](http://docs.python.org/library/functions.html#range).
  _.range = function(start, stop, step) {
    if (arguments.length <= 1) {
      stop = start || 0;
      start = 0;
    }
    step = step || 1;

    var length = Math.max(Math.ceil((stop - start) / step), 0);
    var range = Array(length);

    for (var idx = 0; idx < length; idx++, start += step) {
      range[idx] = start;
    }

    return range;
  };

  // Function (ahem) Functions
  // ------------------

  // Reusable constructor function for prototype setting.
  var Ctor = function(){};

  // Create a function bound to a given object (assigning `this`, and arguments,
  // optionally). Delegates to **ECMAScript 5**'s native `Function.bind` if
  // available.
  _.bind = function(func, context) {
    var args, bound;
    if (nativeBind && func.bind === nativeBind) return nativeBind.apply(func, slice.call(arguments, 1));
    if (!_.isFunction(func)) throw new TypeError('Bind must be called on a function');
    args = slice.call(arguments, 2);
    bound = function() {
      if (!(this instanceof bound)) return func.apply(context, args.concat(slice.call(arguments)));
      Ctor.prototype = func.prototype;
      var self = new Ctor;
      Ctor.prototype = null;
      var result = func.apply(self, args.concat(slice.call(arguments)));
      if (_.isObject(result)) return result;
      return self;
    };
    return bound;
  };

  // Partially apply a function by creating a version that has had some of its
  // arguments pre-filled, without changing its dynamic `this` context. _ acts
  // as a placeholder, allowing any combination of arguments to be pre-filled.
  _.partial = function(func) {
    var boundArgs = slice.call(arguments, 1);
    return function() {
      var position = 0;
      var args = boundArgs.slice();
      for (var i = 0, length = args.length; i < length; i++) {
        if (args[i] === _) args[i] = arguments[position++];
      }
      while (position < arguments.length) args.push(arguments[position++]);
      return func.apply(this, args);
    };
  };

  // Bind a number of an object's methods to that object. Remaining arguments
  // are the method names to be bound. Useful for ensuring that all callbacks
  // defined on an object belong to it.
  _.bindAll = function(obj) {
    var i, length = arguments.length, key;
    if (length <= 1) throw new Error('bindAll must be passed function names');
    for (i = 1; i < length; i++) {
      key = arguments[i];
      obj[key] = _.bind(obj[key], obj);
    }
    return obj;
  };

  // Memoize an expensive function by storing its results.
  _.memoize = function(func, hasher) {
    var memoize = function(key) {
      var cache = memoize.cache;
      var address = hasher ? hasher.apply(this, arguments) : key;
      if (!_.has(cache, address)) cache[address] = func.apply(this, arguments);
      return cache[address];
    };
    memoize.cache = {};
    return memoize;
  };

  // Delays a function for the given number of milliseconds, and then calls
  // it with the arguments supplied.
  _.delay = function(func, wait) {
    var args = slice.call(arguments, 2);
    return setTimeout(function(){
      return func.apply(null, args);
    }, wait);
  };

  // Defers a function, scheduling it to run after the current call stack has
  // cleared.
  _.defer = function(func) {
    return _.delay.apply(_, [func, 1].concat(slice.call(arguments, 1)));
  };

  // Returns a function, that, when invoked, will only be triggered at most once
  // during a given window of time. Normally, the throttled function will run
  // as much as it can, without ever going more than once per `wait` duration;
  // but if you'd like to disable the execution on the leading edge, pass
  // `{leading: false}`. To disable execution on the trailing edge, ditto.
  _.throttle = function(func, wait, options) {
    var context, args, result;
    var timeout = null;
    var previous = 0;
    if (!options) options = {};
    var later = function() {
      previous = options.leading === false ? 0 : _.now();
      timeout = null;
      result = func.apply(context, args);
      if (!timeout) context = args = null;
    };
    return function() {
      var now = _.now();
      if (!previous && options.leading === false) previous = now;
      var remaining = wait - (now - previous);
      context = this;
      args = arguments;
      if (remaining <= 0 || remaining > wait) {
        clearTimeout(timeout);
        timeout = null;
        previous = now;
        result = func.apply(context, args);
        if (!timeout) context = args = null;
      } else if (!timeout && options.trailing !== false) {
        timeout = setTimeout(later, remaining);
      }
      return result;
    };
  };

  // Returns a function, that, as long as it continues to be invoked, will not
  // be triggered. The function will be called after it stops being called for
  // N milliseconds. If `immediate` is passed, trigger the function on the
  // leading edge, instead of the trailing.
  _.debounce = function(func, wait, immediate) {
    var timeout, args, context, timestamp, result;

    var later = function() {
      var last = _.now() - timestamp;

      if (last < wait && last > 0) {
        timeout = setTimeout(later, wait - last);
      } else {
        timeout = null;
        if (!immediate) {
          result = func.apply(context, args);
          if (!timeout) context = args = null;
        }
      }
    };

    return function() {
      context = this;
      args = arguments;
      timestamp = _.now();
      var callNow = immediate && !timeout;
      if (!timeout) timeout = setTimeout(later, wait);
      if (callNow) {
        result = func.apply(context, args);
        context = args = null;
      }

      return result;
    };
  };

  // Returns the first function passed as an argument to the second,
  // allowing you to adjust arguments, run code before and after, and
  // conditionally execute the original function.
  _.wrap = function(func, wrapper) {
    return _.partial(wrapper, func);
  };

  // Returns a negated version of the passed-in predicate.
  _.negate = function(predicate) {
    return function() {
      return !predicate.apply(this, arguments);
    };
  };

  // Returns a function that is the composition of a list of functions, each
  // consuming the return value of the function that follows.
  _.compose = function() {
    var args = arguments;
    var start = args.length - 1;
    return function() {
      var i = start;
      var result = args[start].apply(this, arguments);
      while (i--) result = args[i].call(this, result);
      return result;
    };
  };

  // Returns a function that will only be executed after being called N times.
  _.after = function(times, func) {
    return function() {
      if (--times < 1) {
        return func.apply(this, arguments);
      }
    };
  };

  // Returns a function that will only be executed before being called N times.
  _.before = function(times, func) {
    var memo;
    return function() {
      if (--times > 0) {
        memo = func.apply(this, arguments);
      } else {
        func = null;
      }
      return memo;
    };
  };

  // Returns a function that will be executed at most one time, no matter how
  // often you call it. Useful for lazy initialization.
  _.once = _.partial(_.before, 2);

  // Object Functions
  // ----------------

  // Retrieve the names of an object's properties.
  // Delegates to **ECMAScript 5**'s native `Object.keys`
  _.keys = function(obj) {
    if (!_.isObject(obj)) return [];
    if (nativeKeys) return nativeKeys(obj);
    var keys = [];
    for (var key in obj) if (_.has(obj, key)) keys.push(key);
    return keys;
  };

  // Retrieve the values of an object's properties.
  _.values = function(obj) {
    var keys = _.keys(obj);
    var length = keys.length;
    var values = Array(length);
    for (var i = 0; i < length; i++) {
      values[i] = obj[keys[i]];
    }
    return values;
  };

  // Convert an object into a list of `[key, value]` pairs.
  _.pairs = function(obj) {
    var keys = _.keys(obj);
    var length = keys.length;
    var pairs = Array(length);
    for (var i = 0; i < length; i++) {
      pairs[i] = [keys[i], obj[keys[i]]];
    }
    return pairs;
  };

  // Invert the keys and values of an object. The values must be serializable.
  _.invert = function(obj) {
    var result = {};
    var keys = _.keys(obj);
    for (var i = 0, length = keys.length; i < length; i++) {
      result[obj[keys[i]]] = keys[i];
    }
    return result;
  };

  // Return a sorted list of the function names available on the object.
  // Aliased as `methods`
  _.functions = _.methods = function(obj) {
    var names = [];
    for (var key in obj) {
      if (_.isFunction(obj[key])) names.push(key);
    }
    return names.sort();
  };

  // Extend a given object with all the properties in passed-in object(s).
  _.extend = function(obj) {
    if (!_.isObject(obj)) return obj;
    var source, prop;
    for (var i = 1, length = arguments.length; i < length; i++) {
      source = arguments[i];
      for (prop in source) {
        if (hasOwnProperty.call(source, prop)) {
            obj[prop] = source[prop];
        }
      }
    }
    return obj;
  };

  // Return a copy of the object only containing the whitelisted properties.
  _.pick = function(obj, iteratee, context) {
    var result = {}, key;
    if (obj == null) return result;
    if (_.isFunction(iteratee)) {
      iteratee = createCallback(iteratee, context);
      for (key in obj) {
        var value = obj[key];
        if (iteratee(value, key, obj)) result[key] = value;
      }
    } else {
      var keys = concat.apply([], slice.call(arguments, 1));
      obj = new Object(obj);
      for (var i = 0, length = keys.length; i < length; i++) {
        key = keys[i];
        if (key in obj) result[key] = obj[key];
      }
    }
    return result;
  };

   // Return a copy of the object without the blacklisted properties.
  _.omit = function(obj, iteratee, context) {
    if (_.isFunction(iteratee)) {
      iteratee = _.negate(iteratee);
    } else {
      var keys = _.map(concat.apply([], slice.call(arguments, 1)), String);
      iteratee = function(value, key) {
        return !_.contains(keys, key);
      };
    }
    return _.pick(obj, iteratee, context);
  };

  // Fill in a given object with default properties.
  _.defaults = function(obj) {
    if (!_.isObject(obj)) return obj;
    for (var i = 1, length = arguments.length; i < length; i++) {
      var source = arguments[i];
      for (var prop in source) {
        if (obj[prop] === void 0) obj[prop] = source[prop];
      }
    }
    return obj;
  };

  // Create a (shallow-cloned) duplicate of an object.
  _.clone = function(obj) {
    if (!_.isObject(obj)) return obj;
    return _.isArray(obj) ? obj.slice() : _.extend({}, obj);
  };

  // Invokes interceptor with the obj, and then returns obj.
  // The primary purpose of this method is to "tap into" a method chain, in
  // order to perform operations on intermediate results within the chain.
  _.tap = function(obj, interceptor) {
    interceptor(obj);
    return obj;
  };

  // Internal recursive comparison function for `isEqual`.
  var eq = function(a, b, aStack, bStack) {
    // Identical objects are equal. `0 === -0`, but they aren't identical.
    // See the [Harmony `egal` proposal](http://wiki.ecmascript.org/doku.php?id=harmony:egal).
    if (a === b) return a !== 0 || 1 / a === 1 / b;
    // A strict comparison is necessary because `null == undefined`.
    if (a == null || b == null) return a === b;
    // Unwrap any wrapped objects.
    if (a instanceof _) a = a._wrapped;
    if (b instanceof _) b = b._wrapped;
    // Compare `[[Class]]` names.
    var className = toString.call(a);
    if (className !== toString.call(b)) return false;
    switch (className) {
      // Strings, numbers, regular expressions, dates, and booleans are compared by value.
      case '[object RegExp]':
      // RegExps are coerced to strings for comparison (Note: '' + /a/i === '/a/i')
      case '[object String]':
        // Primitives and their corresponding object wrappers are equivalent; thus, `"5"` is
        // equivalent to `new String("5")`.
        return '' + a === '' + b;
      case '[object Number]':
        // `NaN`s are equivalent, but non-reflexive.
        // Object(NaN) is equivalent to NaN
        if (+a !== +a) return +b !== +b;
        // An `egal` comparison is performed for other numeric values.
        return +a === 0 ? 1 / +a === 1 / b : +a === +b;
      case '[object Date]':
      case '[object Boolean]':
        // Coerce dates and booleans to numeric primitive values. Dates are compared by their
        // millisecond representations. Note that invalid dates with millisecond representations
        // of `NaN` are not equivalent.
        return +a === +b;
    }
    if (typeof a != 'object' || typeof b != 'object') return false;
    // Assume equality for cyclic structures. The algorithm for detecting cyclic
    // structures is adapted from ES 5.1 section 15.12.3, abstract operation `JO`.
    var length = aStack.length;
    while (length--) {
      // Linear search. Performance is inversely proportional to the number of
      // unique nested structures.
      if (aStack[length] === a) return bStack[length] === b;
    }
    // Objects with different constructors are not equivalent, but `Object`s
    // from different frames are.
    var aCtor = a.constructor, bCtor = b.constructor;
    if (
      aCtor !== bCtor &&
      // Handle Object.create(x) cases
      'constructor' in a && 'constructor' in b &&
      !(_.isFunction(aCtor) && aCtor instanceof aCtor &&
        _.isFunction(bCtor) && bCtor instanceof bCtor)
    ) {
      return false;
    }
    // Add the first object to the stack of traversed objects.
    aStack.push(a);
    bStack.push(b);
    var size, result;
    // Recursively compare objects and arrays.
    if (className === '[object Array]') {
      // Compare array lengths to determine if a deep comparison is necessary.
      size = a.length;
      result = size === b.length;
      if (result) {
        // Deep compare the contents, ignoring non-numeric properties.
        while (size--) {
          if (!(result = eq(a[size], b[size], aStack, bStack))) break;
        }
      }
    } else {
      // Deep compare objects.
      var keys = _.keys(a), key;
      size = keys.length;
      // Ensure that both objects contain the same number of properties before comparing deep equality.
      result = _.keys(b).length === size;
      if (result) {
        while (size--) {
          // Deep compare each member
          key = keys[size];
          if (!(result = _.has(b, key) && eq(a[key], b[key], aStack, bStack))) break;
        }
      }
    }
    // Remove the first object from the stack of traversed objects.
    aStack.pop();
    bStack.pop();
    return result;
  };

  // Perform a deep comparison to check if two objects are equal.
  _.isEqual = function(a, b) {
    return eq(a, b, [], []);
  };

  // Is a given array, string, or object empty?
  // An "empty" object has no enumerable own-properties.
  _.isEmpty = function(obj) {
    if (obj == null) return true;
    if (_.isArray(obj) || _.isString(obj) || _.isArguments(obj)) return obj.length === 0;
    for (var key in obj) if (_.has(obj, key)) return false;
    return true;
  };

  // Is a given value a DOM element?
  _.isElement = function(obj) {
    return !!(obj && obj.nodeType === 1);
  };

  // Is a given value an array?
  // Delegates to ECMA5's native Array.isArray
  _.isArray = nativeIsArray || function(obj) {
    return toString.call(obj) === '[object Array]';
  };

  // Is a given variable an object?
  _.isObject = function(obj) {
    var type = typeof obj;
    return type === 'function' || type === 'object' && !!obj;
  };

  // Add some isType methods: isArguments, isFunction, isString, isNumber, isDate, isRegExp.
  _.each(['Arguments', 'Function', 'String', 'Number', 'Date', 'RegExp'], function(name) {
    _['is' + name] = function(obj) {
      return toString.call(obj) === '[object ' + name + ']';
    };
  });

  // Define a fallback version of the method in browsers (ahem, IE), where
  // there isn't any inspectable "Arguments" type.
  if (!_.isArguments(arguments)) {
    _.isArguments = function(obj) {
      return _.has(obj, 'callee');
    };
  }

  // Optimize `isFunction` if appropriate. Work around an IE 11 bug.
  if (typeof /./ !== 'function') {
    _.isFunction = function(obj) {
      return typeof obj == 'function' || false;
    };
  }

  // Is a given object a finite number?
  _.isFinite = function(obj) {
    return isFinite(obj) && !isNaN(parseFloat(obj));
  };

  // Is the given value `NaN`? (NaN is the only number which does not equal itself).
  _.isNaN = function(obj) {
    return _.isNumber(obj) && obj !== +obj;
  };

  // Is a given value a boolean?
  _.isBoolean = function(obj) {
    return obj === true || obj === false || toString.call(obj) === '[object Boolean]';
  };

  // Is a given value equal to null?
  _.isNull = function(obj) {
    return obj === null;
  };

  // Is a given variable undefined?
  _.isUndefined = function(obj) {
    return obj === void 0;
  };

  // Shortcut function for checking if an object has a given property directly
  // on itself (in other words, not on a prototype).
  _.has = function(obj, key) {
    return obj != null && hasOwnProperty.call(obj, key);
  };

  // Utility Functions
  // -----------------

  // Run Underscore.js in *noConflict* mode, returning the `_` variable to its
  // previous owner. Returns a reference to the Underscore object.
  _.noConflict = function() {
    root._ = previousUnderscore;
    return this;
  };

  // Keep the identity function around for default iteratees.
  _.identity = function(value) {
    return value;
  };

  _.constant = function(value) {
    return function() {
      return value;
    };
  };

  _.noop = function(){};

  _.property = function(key) {
    return function(obj) {
      return obj[key];
    };
  };

  // Returns a predicate for checking whether an object has a given set of `key:value` pairs.
  _.matches = function(attrs) {
    var pairs = _.pairs(attrs), length = pairs.length;
    return function(obj) {
      if (obj == null) return !length;
      obj = new Object(obj);
      for (var i = 0; i < length; i++) {
        var pair = pairs[i], key = pair[0];
        if (pair[1] !== obj[key] || !(key in obj)) return false;
      }
      return true;
    };
  };

  // Run a function **n** times.
  _.times = function(n, iteratee, context) {
    var accum = Array(Math.max(0, n));
    iteratee = createCallback(iteratee, context, 1);
    for (var i = 0; i < n; i++) accum[i] = iteratee(i);
    return accum;
  };

  // Return a random integer between min and max (inclusive).
  _.random = function(min, max) {
    if (max == null) {
      max = min;
      min = 0;
    }
    return min + Math.floor(Math.random() * (max - min + 1));
  };

  // A (possibly faster) way to get the current timestamp as an integer.
  _.now = Date.now || function() {
    return new Date().getTime();
  };

   // List of HTML entities for escaping.
  var escapeMap = {
    '&': '&amp;',
    '<': '&lt;',
    '>': '&gt;',
    '"': '&quot;',
    "'": '&#x27;',
    '`': '&#x60;'
  };
  var unescapeMap = _.invert(escapeMap);

  // Functions for escaping and unescaping strings to/from HTML interpolation.
  var createEscaper = function(map) {
    var escaper = function(match) {
      return map[match];
    };
    // Regexes for identifying a key that needs to be escaped
    var source = '(?:' + _.keys(map).join('|') + ')';
    var testRegexp = RegExp(source);
    var replaceRegexp = RegExp(source, 'g');
    return function(string) {
      string = string == null ? '' : '' + string;
      return testRegexp.test(string) ? string.replace(replaceRegexp, escaper) : string;
    };
  };
  _.escape = createEscaper(escapeMap);
  _.unescape = createEscaper(unescapeMap);

  // If the value of the named `property` is a function then invoke it with the
  // `object` as context; otherwise, return it.
  _.result = function(object, property) {
    if (object == null) return void 0;
    var value = object[property];
    return _.isFunction(value) ? object[property]() : value;
  };

  // Generate a unique integer id (unique within the entire client session).
  // Useful for temporary DOM ids.
  var idCounter = 0;
  _.uniqueId = function(prefix) {
    var id = ++idCounter + '';
    return prefix ? prefix + id : id;
  };

  // By default, Underscore uses ERB-style template delimiters, change the
  // following template settings to use alternative delimiters.
  _.templateSettings = {
    evaluate    : /<%([\s\S]+?)%>/g,
    interpolate : /<%=([\s\S]+?)%>/g,
    escape      : /<%-([\s\S]+?)%>/g
  };

  // When customizing `templateSettings`, if you don't want to define an
  // interpolation, evaluation or escaping regex, we need one that is
  // guaranteed not to match.
  var noMatch = /(.)^/;

  // Certain characters need to be escaped so that they can be put into a
  // string literal.
  var escapes = {
    "'":      "'",
    '\\':     '\\',
    '\r':     'r',
    '\n':     'n',
    '\u2028': 'u2028',
    '\u2029': 'u2029'
  };

  var escaper = /\\|'|\r|\n|\u2028|\u2029/g;

  var escapeChar = function(match) {
    return '\\' + escapes[match];
  };

  // JavaScript micro-templating, similar to John Resig's implementation.
  // Underscore templating handles arbitrary delimiters, preserves whitespace,
  // and correctly escapes quotes within interpolated code.
  // NB: `oldSettings` only exists for backwards compatibility.
  _.template = function(text, settings, oldSettings) {
    if (!settings && oldSettings) settings = oldSettings;
    settings = _.defaults({}, settings, _.templateSettings);

    // Combine delimiters into one regular expression via alternation.
    var matcher = RegExp([
      (settings.escape || noMatch).source,
      (settings.interpolate || noMatch).source,
      (settings.evaluate || noMatch).source
    ].join('|') + '|$', 'g');

    // Compile the template source, escaping string literals appropriately.
    var index = 0;
    var source = "__p+='";
    text.replace(matcher, function(match, escape, interpolate, evaluate, offset) {
      source += text.slice(index, offset).replace(escaper, escapeChar);
      index = offset + match.length;

      if (escape) {
        source += "'+\n((__t=(" + escape + "))==null?'':_.escape(__t))+\n'";
      } else if (interpolate) {
        source += "'+\n((__t=(" + interpolate + "))==null?'':__t)+\n'";
      } else if (evaluate) {
        source += "';\n" + evaluate + "\n__p+='";
      }

      // Adobe VMs need the match returned to produce the correct offest.
      return match;
    });
    source += "';\n";

    // If a variable is not specified, place data values in local scope.
    if (!settings.variable) source = 'with(obj||{}){\n' + source + '}\n';

    source = "var __t,__p='',__j=Array.prototype.join," +
      "print=function(){__p+=__j.call(arguments,'');};\n" +
      source + 'return __p;\n';

    try {
      var render = new Function(settings.variable || 'obj', '_', source);
    } catch (e) {
      e.source = source;
      throw e;
    }

    var template = function(data) {
      return render.call(this, data, _);
    };

    // Provide the compiled source as a convenience for precompilation.
    var argument = settings.variable || 'obj';
    template.source = 'function(' + argument + '){\n' + source + '}';

    return template;
  };

  // Add a "chain" function. Start chaining a wrapped Underscore object.
  _.chain = function(obj) {
    var instance = _(obj);
    instance._chain = true;
    return instance;
  };

  // OOP
  // ---------------
  // If Underscore is called as a function, it returns a wrapped object that
  // can be used OO-style. This wrapper holds altered versions of all the
  // underscore functions. Wrapped objects may be chained.

  // Helper function to continue chaining intermediate results.
  var result = function(obj) {
    return this._chain ? _(obj).chain() : obj;
  };

  // Add your own custom functions to the Underscore object.
  _.mixin = function(obj) {
    _.each(_.functions(obj), function(name) {
      var func = _[name] = obj[name];
      _.prototype[name] = function() {
        var args = [this._wrapped];
        push.apply(args, arguments);
        return result.call(this, func.apply(_, args));
      };
    });
  };

  // Add all of the Underscore functions to the wrapper object.
  _.mixin(_);

  // Add all mutator Array functions to the wrapper.
  _.each(['pop', 'push', 'reverse', 'shift', 'sort', 'splice', 'unshift'], function(name) {
    var method = ArrayProto[name];
    _.prototype[name] = function() {
      var obj = this._wrapped;
      method.apply(obj, arguments);
      if ((name === 'shift' || name === 'splice') && obj.length === 0) delete obj[0];
      return result.call(this, obj);
    };
  });

  // Add all accessor Array functions to the wrapper.
  _.each(['concat', 'join', 'slice'], function(name) {
    var method = ArrayProto[name];
    _.prototype[name] = function() {
      return result.call(this, method.apply(this._wrapped, arguments));
    };
  });

  // Extracts the result from a wrapped and chained object.
  _.prototype.value = function() {
    return this._wrapped;
  };

  // AMD registration happens at the end for compatibility with AMD loaders
  // that may not enforce next-turn semantics on modules. Even though general
  // practice for AMD registration is to be anonymous, underscore registers
  // as a named module because, like jQuery, it is a base library that is
  // popular enough to be bundled in a third party lib, but not be part of
  // an AMD load request. Those cases could generate an error when an
  // anonymous define() is called outside of a loader request.
  if (typeof define === 'function' && define.amd) {
    define('underscore', [], function() {
      return _;
    });
  }
}.call(this));

},{}],67:[function(require,module,exports){
(function (global){
if (typeof window !== "undefined") {
    module.exports = window;
} else if (typeof global !== "undefined") {
    module.exports = global;
} else if (typeof self !== "undefined"){
    module.exports = self;
} else {
    module.exports = {};
}

}).call(this,typeof global !== "undefined" ? global : typeof self !== "undefined" ? self : typeof window !== "undefined" ? window : {})

},{}],68:[function(require,module,exports){
module.exports = once

once.proto = once(function () {
  Object.defineProperty(Function.prototype, 'once', {
    value: function () {
      return once(this)
    },
    configurable: true
  })
})

function once (fn) {
  var called = false
  return function () {
    if (called) return
    called = true
    return fn.apply(this, arguments)
  }
}

},{}],69:[function(require,module,exports){
var isFunction = require('is-function')

module.exports = forEach

var toString = Object.prototype.toString
var hasOwnProperty = Object.prototype.hasOwnProperty

function forEach(list, iterator, context) {
    if (!isFunction(iterator)) {
        throw new TypeError('iterator must be a function')
    }

    if (arguments.length < 3) {
        context = this
    }
    
    if (toString.call(list) === '[object Array]')
        forEachArray(list, iterator, context)
    else if (typeof list === 'string')
        forEachString(list, iterator, context)
    else
        forEachObject(list, iterator, context)
}

function forEachArray(array, iterator, context) {
    for (var i = 0, len = array.length; i < len; i++) {
        if (hasOwnProperty.call(array, i)) {
            iterator.call(context, array[i], i, array)
        }
    }
}

function forEachString(string, iterator, context) {
    for (var i = 0, len = string.length; i < len; i++) {
        // no such thing as a sparse string.
        iterator.call(context, string.charAt(i), i, string)
    }
}

function forEachObject(object, iterator, context) {
    for (var k in object) {
        if (hasOwnProperty.call(object, k)) {
            iterator.call(context, object[k], k, object)
        }
    }
}

},{"is-function":70}],70:[function(require,module,exports){
module.exports = isFunction

var toString = Object.prototype.toString

function isFunction (fn) {
  var string = toString.call(fn)
  return string === '[object Function]' ||
    (typeof fn === 'function' && string !== '[object RegExp]') ||
    (typeof window !== 'undefined' &&
     // IE8 and below
     (fn === window.setTimeout ||
      fn === window.alert ||
      fn === window.confirm ||
      fn === window.prompt))
};

},{}],71:[function(require,module,exports){

exports = module.exports = trim;

function trim(str){
  return str.replace(/^\s*|\s*$/g, '');
}

exports.left = function(str){
  return str.replace(/^\s*/, '');
};

exports.right = function(str){
  return str.replace(/\s*$/, '');
};

},{}],72:[function(require,module,exports){
var trim = require('trim')
  , forEach = require('for-each')
  , isArray = function(arg) {
      return Object.prototype.toString.call(arg) === '[object Array]';
    }

module.exports = function (headers) {
  if (!headers)
    return {}

  var result = {}

  forEach(
      trim(headers).split('\n')
    , function (row) {
        var index = row.indexOf(':')
          , key = trim(row.slice(0, index)).toLowerCase()
          , value = trim(row.slice(index + 1))

        if (typeof(result[key]) === 'undefined') {
          result[key] = value
        } else if (isArray(result[key])) {
          result[key].push(value)
        } else {
          result[key] = [ result[key], value ]
        }
      }
  )

  return result
}
},{"for-each":69,"trim":71}],73:[function(require,module,exports){
var Colors, Colorscheme, Model;

Colors = require("msa-colorschemes");

Model = require("backbone-thin").Model;

module.exports = Colorscheme = Model.extend({
  defaults: {
    scheme: "taylor",
    colorBackground: true,
    showLowerCase: true,
    opacity: 0.6
  },
  initialize: function(data, seqs, stat) {
    this.colors = new Colors({
      seqs: seqs,
      conservation: function() {
        return stat.scale(stat.conservation());
      }
    });
    return stat.on("reset", function() {
      if (this.getSelectedScheme().type === "dyn") {
        return this.getSelectedScheme().reset();
      }
    }, this);
  },
  addStaticScheme: function(name, dict) {
    return this.colors.addStaticScheme(name, dict);
  },
  addDynScheme: function(name, fun) {
    return this.colors.addDynScheme(name, fun);
  },
  getScheme: function(name) {
    return this.colors.getScheme(name);
  },
  getSelectedScheme: function() {
    return this.colors.getScheme(this.get("scheme"));
  }
});



},{"backbone-thin":4,"msa-colorschemes":53}],74:[function(require,module,exports){
var Columns, Model, _;

Model = require("backbone-thin").Model;

_ = require("underscore");

module.exports = Columns = Model.extend({
  initialize: function(o, stat) {
    if (this.get("hidden") == null) {
      this.set("hidden", []);
    }
    return this.stats = stat;
  },
  calcHiddenColumns: function(n) {
    var hidden, i, newX, _i, _len;
    hidden = this.get("hidden");
    newX = n;
    for (_i = 0, _len = hidden.length; _i < _len; _i++) {
      i = hidden[_i];
      if (i <= newX) {
        newX++;
      }
    }
    return newX - n;
  }
});



},{"backbone-thin":4,"underscore":66}],75:[function(require,module,exports){
var Config, Model;

Model = require("backbone-thin").Model;

module.exports = Config = Model.extend({
  defaults: {
    registerMouseHover: false,
    registerMouseClicks: true,
    importProxy: "https://cors-anywhere.herokuapp.com/",
    eventBus: true,
    alphabetSize: 20,
    dropImport: false,
    debug: false,
    hasRef: false
  }
});



},{"backbone-thin":4}],76:[function(require,module,exports){
var Loader, Model, Package;

Loader = require("../utils/loader");

Model = require("backbone-thin").Model;

module.exports = Package = Model.extend({
  initialize: function(g) {
    return this.g = g;
  },
  development: {
    "msa-tnt": "/node_modules/msa-tnt/build/bundle.js",
    "biojs-io-newick": "/node_modules/biojs-io-newick/build/biojs-io-newick.min.js"
  },
  loadPackage: function(pkg, cb) {
    var p;
    try {
      p = require(pkg);
      return cb(p);
    } catch (_error) {
      return Loader.loadScript(this._pkgURL(pkg), cb);
    }
  },
  loadPackages: function(pkgs, cb) {
    var cbs;
    cbs = Loader.joinCb(function() {
      return cb();
    }, pkgs.length);
    return pkgs.forEach((function(_this) {
      return function(pkg) {
        return _this.loadPackage(pkg, cbs);
      };
    })(this));
  },
  _pkgURL: function(pkg) {
    var url;
    if (this.g.config.get("debug")) {
      url = this.development[pkg];
    } else {
      url = "http://wzrd.in/bundle/" + pkg + "@latest";
    }
    return url;
  }
});



},{"../utils/loader":107,"backbone-thin":4}],77:[function(require,module,exports){
var ColumnSelection, Model, PosSelection, RowSelection, Selection, _;

_ = require("underscore");

Model = require("backbone-thin").Model;

Selection = Model.extend({
  defaults: {
    type: "super"
  }
});

RowSelection = Selection.extend({
  defaults: _.extend({}, Selection.prototype.defaults, {
    type: "row",
    seqId: ""
  }),
  inRow: function(seqId) {
    return seqId === this.get("seqId");
  },
  inColumn: function(rowPos) {
    return true;
  },
  getLength: function() {
    return 1;
  }
});

ColumnSelection = Selection.extend({
  defaults: _.extend({}, Selection.prototype.defaults, {
    type: "column",
    xStart: -1,
    xEnd: -1
  }),
  inRow: function() {
    return true;
  },
  inColumn: function(rowPos) {
    return xStart <= rowPos && rowPos <= xEnd;
  },
  getLength: function() {
    return xEnd - xStart;
  }
});

PosSelection = RowSelection.extend(_.extend({}, _.pick(ColumnSelection, "inColumn"), _.pick(ColumnSelection, "getLength"), {
  defaults: _.extend({}, ColumnSelection.prototype.defaults, RowSelection.prototype.defaults, {
    type: "pos"
  })
}));

module.exports.sel = Selection;

module.exports.possel = PosSelection;

module.exports.rowsel = RowSelection;

module.exports.columnsel = ColumnSelection;



},{"backbone-thin":4,"underscore":66}],78:[function(require,module,exports){
var Collection, SelectionManager, sel, _;

sel = require("./Selection");

_ = require("underscore");

Collection = require("backbone-thin").Collection;

module.exports = SelectionManager = Collection.extend({
  model: sel.sel,
  initialize: function(data, opts) {
    if (opts != null) {
      this.g = opts.g;
      this.listenTo(this.g, "residue:click", function(e) {
        return this._handleE(e.evt, new sel.possel({
          xStart: e.rowPos,
          xEnd: e.rowPos,
          seqId: e.seqId
        }));
      });
      this.listenTo(this.g, "row:click", function(e) {
        return this._handleE(e.evt, new sel.rowsel({
          seqId: e.seqId
        }));
      });
      return this.listenTo(this.g, "column:click", function(e) {
        return this._handleE(e.evt, new sel.columnsel({
          xStart: e.rowPos,
          xEnd: e.rowPos + e.stepSize - 1
        }));
      });
    }
  },
  getSelForRow: function(seqId) {
    return this.filter(function(el) {
      return el.inRow(seqId);
    });
  },
  getSelForColumns: function(rowPos) {
    return this.filter(function(el) {
      return el.inColumn(rowPos);
    });
  },
  addJSON: function(model) {
    return this.add(this._fromJSON(model));
  },
  _fromJSON: function(model) {
    switch (model.type) {
      case "column":
        return new sel.columnsel(model);
      case "row":
        return new sel.rowsel(model);
      case "pos":
        return new sel.possel(model);
    }
  },
  resetJSON: function(arr) {
    arr = _.map(arr, this._fromJSON);
    return this.reset(arr);
  },
  getBlocksForRow: function(seqId, maxLen) {
    var blocks, seli, selis, _i, _j, _k, _len, _ref, _ref1, _results, _results1;
    selis = this.filter(function(el) {
      return el.inRow(seqId);
    });
    blocks = [];
    for (_i = 0, _len = selis.length; _i < _len; _i++) {
      seli = selis[_i];
      if (seli.attributes.type === "row") {
        blocks = (function() {
          _results = [];
          for (var _j = 0; 0 <= maxLen ? _j <= maxLen : _j >= maxLen; 0 <= maxLen ? _j++ : _j--){ _results.push(_j); }
          return _results;
        }).apply(this);
        break;
      } else {
        blocks = blocks.concat((function() {
          _results1 = [];
          for (var _k = _ref = seli.attributes.xStart, _ref1 = seli.attributes.xEnd; _ref <= _ref1 ? _k <= _ref1 : _k >= _ref1; _ref <= _ref1 ? _k++ : _k--){ _results1.push(_k); }
          return _results1;
        }).apply(this));
      }
    }
    return blocks;
  },
  getAllColumnBlocks: function(conf) {
    var blocks, filtered, maxLen, seli, withPos, _i, _j, _len, _ref, _ref1, _results;
    maxLen = conf.maxLen;
    withPos = conf.withPos;
    blocks = [];
    if (conf.withPos) {
      filtered = this.filter(function(el) {
        return el.get('xStart') != null;
      });
    } else {
      filtered = this.filter(function(el) {
        return el.get('type') === "column";
      });
    }
    for (_i = 0, _len = filtered.length; _i < _len; _i++) {
      seli = filtered[_i];
      blocks = blocks.concat((function() {
        _results = [];
        for (var _j = _ref = seli.attributes.xStart, _ref1 = seli.attributes.xEnd; _ref <= _ref1 ? _j <= _ref1 : _j >= _ref1; _ref <= _ref1 ? _j++ : _j--){ _results.push(_j); }
        return _results;
      }).apply(this));
    }
    blocks = _.uniq(blocks);
    return blocks;
  },
  invertRow: function(rows) {
    var el, inverted, s, selRows, _i, _len;
    selRows = this.where({
      type: "row"
    });
    selRows = _.map(selRows, function(el) {
      return el.attributes.seqId;
    });
    inverted = _.filter(rows, function(el) {
      if (selRows.indexOf(el) >= 0) {
        return false;
      }
      return true;
    });
    s = [];
    for (_i = 0, _len = inverted.length; _i < _len; _i++) {
      el = inverted[_i];
      s.push(new sel.rowsel({
        seqId: el
      }));
    }
    return this.reset(s);
  },
  invertCol: function(columns) {
    var el, inverted, s, selColumns, xEnd, xStart, _i, _len;
    selColumns = this.where({
      type: "column"
    });
    selColumns = _.reduce(selColumns, function(memo, el) {
      var _i, _ref, _ref1, _results;
      return memo.concat((function() {
        _results = [];
        for (var _i = _ref = el.attributes.xStart, _ref1 = el.attributes.xEnd; _ref <= _ref1 ? _i <= _ref1 : _i >= _ref1; _ref <= _ref1 ? _i++ : _i--){ _results.push(_i); }
        return _results;
      }).apply(this));
    }, []);
    inverted = _.filter(columns, function(el) {
      if (selColumns.indexOf(el) >= 0) {
        return false;
      }
      return true;
    });
    if (inverted.length === 0) {
      return;
    }
    s = [];
    xStart = xEnd = inverted[0];
    for (_i = 0, _len = inverted.length; _i < _len; _i++) {
      el = inverted[_i];
      if (xEnd + 1 === el) {
        xEnd = el;
      } else {
        s.push(new sel.columnsel({
          xStart: xStart,
          xEnd: xEnd
        }));
        xStart = xEnd = el;
      }
    }
    if (xStart !== xEnd) {
      s.push(new sel.columnsel({
        xStart: xStart,
        xEnd: inverted[inverted.length - 1]
      }));
    }
    return this.reset(s);
  },
  _handleE: function(e, selection) {
    if (e.ctrlKey || e.metaKey) {
      return this.add(selection);
    } else {
      return this.reset([selection]);
    }
  },
  _reduceColumns: function() {
    return this.each(function(el, index, arr) {
      var cols, left, lefts, right, rights, xEnd, xStart, _i, _j, _len, _len1;
      cols = _.filter(arr, function(el) {
        return el.get('type') === 'column';
      });
      xStart = el.get('xStart');
      xEnd = el.get('xEnd');
      lefts = _.filter(cols, function(el) {
        return el.get('xEnd') === (xStart - 1);
      });
      for (_i = 0, _len = lefts.length; _i < _len; _i++) {
        left = lefts[_i];
        left.set('xEnd', xStart);
      }
      rights = _.filter(cols, function(el) {
        return el.get('xStart') === (xEnd + 1);
      });
      for (_j = 0, _len1 = rights.length; _j < _len1; _j++) {
        right = rights[_j];
        right.set('xStart', xEnd);
      }
      if (lefts.length > 0 || rights.length > 0) {
        console.log("removed el");
        return el.collection.remove(el);
      }
    });
  }
});



},{"./Selection":77,"backbone-thin":4,"underscore":66}],79:[function(require,module,exports){
var Config, Model;

Model = require("backbone-thin").Model;

module.exports = Config = Model.extend({
  defaults: {
    searchText: ""
  }
});



},{"backbone-thin":4}],80:[function(require,module,exports){
var Model, Visibility;

Model = require("backbone-thin").Model;

module.exports = Visibility = Model.extend({
  defaults: {
    searchBox: -10,
    overviewBox: 30,
    headerBox: -1,
    alignmentBody: 0
  }
});



},{"backbone-thin":4}],81:[function(require,module,exports){
var Model, Visibility;

Model = require("backbone-thin").Model;

module.exports = Visibility = Model.extend({
  defaults: {
    sequences: true,
    markers: true,
    metacell: false,
    conserv: false,
    overviewbox: false,
    seqlogo: false,
    gapHeader: false,
    leftHeader: true,
    labels: true,
    labelName: true,
    labelId: true,
    labelPartition: false,
    labelCheckbox: false,
    metaGaps: true,
    metaIdentity: true,
    metaLinks: true
  },
  constructor: function(attributes, options) {
    this.calcDefaults(options.model);
    return Model.apply(this, arguments);
  },
  initialize: function() {
    this.listenTo(this, "change:metaLinks change:metaIdentity change:metaGaps", function() {
      return this.trigger("change:metacell");
    }, this);
    this.listenTo(this, "change:labelName change:labelId change:labelPartition change:labelCheckbox", function() {
      return this.trigger("change:labels");
    }, this);
    return this.listenTo(this, "change:markers change:conserv change:seqlogo change:gapHeader", function() {
      return this.trigger("change:header");
    }, this);
  },
  calcDefaults: function(seqs) {
    var ids, seq;
    console.log(seqs);
    if (seqs.length > 0) {
      seq = seqs.at(0);
      ids = seq.get("ids");
      if (ids !== void 0 && Object.keys(ids).length === 0) {
        return this.defaults.metaLinks = false;
      }
    }
  }
});



},{"backbone-thin":4}],82:[function(require,module,exports){
var Model, Zoomer;

Model = require("backbone-thin").Model;

module.exports = Zoomer = Model.extend({
  constructor: function(attributes, options) {
    this.calcDefaults(options.model);
    Model.apply(this, arguments);
    this.g = options.g;
    this.listenTo(this, "change:labelIdLength change:labelNameLength change:labelPartLength change:labelCheckLength", function() {
      return this.trigger("change:labelWidth", this.getLabelWidth());
    }, this);
    this.listenTo(this, "change:metaLinksWidth change:metaIdentWidth change:metaGapWidth", function() {
      return this.trigger("change:metaWidth", this.getMetaWidth());
    }, this);
    return this;
  },
  defaults: {
    alignmentWidth: "auto",
    alignmentHeight: 225,
    columnWidth: 15,
    rowHeight: 15,
    autoResize: true,
    textVisible: true,
    labelIdLength: 30,
    labelNameLength: 100,
    labelPartLength: 15,
    labelCheckLength: 15,
    labelFontsize: 13,
    labelLineHeight: "13px",
    markerFontsize: "10px",
    stepSize: 1,
    markerStepSize: 2,
    markerHeight: 20,
    residueFont: "13",
    canvasEventScale: 1,
    boxRectHeight: 2,
    boxRectWidth: 2,
    overviewboxPaddingTop: 10,
    menuFontsize: "14px",
    menuItemFontsize: "14px",
    menuItemLineHeight: "14px",
    menuMarginLeft: "3px",
    menuPadding: "3px 4px 3px 4px",
    metaGapWidth: 35,
    metaIdentWidth: 40,
    metaLinksWidth: 25,
    _alignmentScrollLeft: 0,
    _alignmentScrollTop: 0
  },
  calcDefaults: function(model) {
    var maxLen;
    maxLen = model.getMaxLength();
    if (maxLen < 200 && model.length < 30) {
      return this.defaults.boxRectWidth = this.defaults.boxRectHeight = 5;
    }
  },
  getAlignmentWidth: function(n) {
    if (this.get("autoResize") && n !== void 0) {
      return this.get("columnWidth") * n;
    }
    if (this.get("alignmentWidth") === void 0 || this.get("alignmentWidth") === "auto" || this.get("alignmentWidth") === 0) {
      return this._adjustWidth();
    } else {
      return this.get("alignmentWidth");
    }
  },
  setLeftOffset: function(n) {
    var val;
    val = n;
    val = Math.max(0, val);
    val -= this.g.columns.calcHiddenColumns(val);
    return this.set("_alignmentScrollLeft", val * this.get('columnWidth'));
  },
  setTopOffset: function(n) {
    var height, i, seq, val, _i;
    val = Math.max(0, n - 1);
    height = 0;
    for (i = _i = 0; _i <= val; i = _i += 1) {
      seq = this.model.at(i);
      height += seq.attributes.height || 1;
    }
    return this.set("_alignmentScrollTop", height * this.get("rowHeight"));
  },
  getLeftBlockWidth: function() {
    var paddingLeft;
    paddingLeft = 0;
    if (this.g.vis.get("labels")) {
      paddingLeft += this.getLabelWidth();
    }
    if (this.g.vis.get("metacell")) {
      paddingLeft += this.getMetaWidth();
    }
    return paddingLeft;
  },
  getMetaWidth: function() {
    var val;
    val = 0;
    if (this.g.vis.get("metaGaps")) {
      val += this.get("metaGapWidth");
    }
    if (this.g.vis.get("metaIdentity")) {
      val += this.get("metaIdentWidth");
    }
    if (this.g.vis.get("metaLinks")) {
      val += this.get("metaLinksWidth");
    }
    return val;
  },
  getLabelWidth: function() {
    var val;
    val = 0;
    if (this.g.vis.get("labelName")) {
      val += this.get("labelNameLength");
    }
    if (this.g.vis.get("labelId")) {
      val += this.get("labelIdLength");
    }
    if (this.g.vis.get("labelPartition")) {
      val += this.get("labelPartLength");
    }
    if (this.g.vis.get("labelCheckbox")) {
      val += this.get("labelCheckLength");
    }
    return val;
  },
  _adjustWidth: function() {
    var calcWidth, maxWidth, parentWidth, val;
    if (!(this.el !== void 0 && this.model !== void 0)) {
      return;
    }
    if ((this.el.parentNode != null) && this.el.parentNode.offsetWidth !== 0) {
      parentWidth = this.el.parentNode.offsetWidth;
    } else {
      parentWidth = document.body.clientWidth - 35;
    }
    maxWidth = parentWidth - this.getLeftBlockWidth();
    calcWidth = this.getAlignmentWidth(this.model.getMaxLength() - this.g.columns.get('hidden').length);
    val = Math.min(maxWidth, calcWidth);
    val = Math.floor(val / this.get("columnWidth")) * this.get("columnWidth");
    return this.attributes.alignmentWidth = val;
  },
  autoResize: function() {
    if (this.get("autoResize")) {
      return this._adjustWidth(this.el, this.model);
    }
  },
  autoHeight: function(max) {
    var val;
    val = this.getMaxAlignmentHeight();
    if (max !== void 0 && max > 0) {
      val = Math.min(val, max);
    }
    return this.set("alignmentHeight", val);
  },
  setEl: function(el, model) {
    this.el = el;
    return this.model = model;
  },
  _checkScrolling: function(scrollObj, opts) {
    var xScroll, yScroll;
    xScroll = scrollObj[0];
    yScroll = scrollObj[1];
    this.set("_alignmentScrollLeft", xScroll, opts);
    return this.set("_alignmentScrollTop", yScroll, opts);
  },
  getMaxAlignmentHeight: function() {
    var height;
    height = 0;
    this.model.each(function(seq) {
      return height += seq.attributes.height || 1;
    });
    return height * this.get("rowHeight");
  },
  getMaxAlignmentWidth: function() {
    return this.model.getMaxLength() * this.get("columnWidth");
  }
});



},{"backbone-thin":4}],83:[function(require,module,exports){
var MSA;

MSA = require("./msa");

module.exports = function() {
  var msa;
  msa = function(args) {
    return MSA.apply(this, args);
  };
  msa.prototype = MSA.prototype;
  return new msa(arguments);
};

module.exports.msa = MSA;

module.exports.model = require("./model");

module.exports.menu = require("./menu");

module.exports.utils = require("./utils");

module.exports.selection = require("./g/selection/Selection");

module.exports.selcol = require("./g/selection/SelectionCol");

module.exports.view = require("backbone-viewj");

module.exports.boneView = require("backbone-childs");

module.exports._ = require('underscore');

module.exports.$ = require('jbone');

module.exports.io = {};

module.exports.io.xhr = require('xhr');

module.exports.io.fasta = require('biojs-io-fasta');

module.exports.io.clustal = require('biojs-io-clustal');

module.exports.io.gff = require('biojs-io-gff');

module.exports.version = "0.2.0";



},{"./g/selection/Selection":77,"./g/selection/SelectionCol":78,"./menu":85,"./model":101,"./msa":102,"./utils":106,"backbone-childs":2,"backbone-viewj":9,"biojs-io-clustal":"biojs-io-clustal","biojs-io-fasta":"biojs-io-fasta","biojs-io-gff":"biojs-io-gff","jbone":42,"underscore":66,"xhr":"xhr"}],84:[function(require,module,exports){
var ColorMenu, DebugMenu, ExportMenu, ExtraMenu, FilterMenu, HelpMenu, ImportMenu, MenuView, OrderingMenu, SelectionMenu, VisMenu, boneView;

boneView = require("backbone-childs");

ImportMenu = require("./views/ImportMenu");

FilterMenu = require("./views/FilterMenu");

SelectionMenu = require("./views/SelectionMenu");

VisMenu = require("./views/VisMenu");

ColorMenu = require("./views/ColorMenu");

OrderingMenu = require("./views/OrderingMenu");

ExtraMenu = require("./views/ExtraMenu");

ExportMenu = require("./views/ExportMenu");

HelpMenu = require("./views/HelpMenu");

DebugMenu = require("./views/DebugMenu");

module.exports = MenuView = boneView.extend({
  initialize: function(data) {
    this.msa = data.msa;
    this.addView("10_import", new ImportMenu({
      model: this.msa.seqs,
      g: this.msa.g,
      msa: this.msa
    }));
    this.addView("20_filter", new FilterMenu({
      model: this.msa.seqs,
      g: this.msa.g
    }));
    this.addView("30_selection", new SelectionMenu({
      model: this.msa.seqs,
      g: this.msa.g
    }));
    this.addView("40_vis", new VisMenu({
      model: this.msa.seqs,
      g: this.msa.g
    }));
    this.addView("50_color", new ColorMenu({
      model: this.msa.seqs,
      g: this.msa.g
    }));
    this.addView("60_ordering", new OrderingMenu({
      model: this.msa.seqs,
      g: this.msa.g
    }));
    this.addView("70_extra", new ExtraMenu({
      model: this.msa.seqs,
      g: this.msa.g,
      msa: this.msa
    }));
    this.addView("80_export", new ExportMenu({
      model: this.msa.seqs,
      g: this.msa.g,
      msa: this.msa
    }));
    this.addView("90_help", new HelpMenu({
      g: this.msa.g
    }));
    if (this.msa.g.config.get("debug")) {
      return this.addView("95_debug", new DebugMenu({
        g: this.msa.g
      }));
    }
  },
  render: function() {
    this.renderSubviews();
    this.el.setAttribute("class", "smenubar");
    return this.el.appendChild(document.createElement("p"));
  }
});



},{"./views/ColorMenu":87,"./views/DebugMenu":88,"./views/ExportMenu":89,"./views/ExtraMenu":90,"./views/FilterMenu":91,"./views/HelpMenu":92,"./views/ImportMenu":93,"./views/OrderingMenu":94,"./views/SelectionMenu":95,"./views/VisMenu":96,"backbone-childs":2}],85:[function(require,module,exports){
module.exports.defaultmenu = require("./defaultmenu");

module.exports.menubuilder = require("./menubuilder");



},{"./defaultmenu":84,"./menubuilder":86}],86:[function(require,module,exports){
var MenuBuilder, builder;

builder = require("menu-builder");

module.exports = MenuBuilder = builder.extend({
  buildDOM: function() {
    this.on("new:node", this.buildNode);
    this.on("new:button", this.buildButton);
    this.on("new:menu", this.buildMenu);
    return builder.prototype.buildDOM.call(this);
  },
  buildNode: function(li) {
    if (this.g != null) {
      return li.style.lineHeight = this.g.zoomer.get("menuItemLineHeight");
    }
  },
  buildButton: function(btn) {
    if (this.g != null) {
      btn.style.fontSize = this.g.zoomer.get("menuFontsize");
      btn.style.marginLeft = this.g.zoomer.get("menuMarginLeft");
      return btn.style.padding = this.g.zoomer.get("menuPadding");
    }
  },
  buildMenu: function(menu) {
    if (this.g != null) {
      return menu.style.fontSize = this.g.zoomer.get("menuItemFontsize");
    }
  }
});



},{"menu-builder":44}],87:[function(require,module,exports){
var ColorMenu, MenuBuilder, dom, _;

MenuBuilder = require("../menubuilder");

_ = require("underscore");

dom = require("dom-helper");

module.exports = ColorMenu = MenuBuilder.extend({
  initialize: function(data) {
    this.g = data.g;
    this.el.style.display = "inline-block";
    return this.listenTo(this.g.colorscheme, "change", function() {
      return this.render();
    });
  },
  render: function() {
    var colorschemes, menuColor, scheme, text, _i, _len;
    menuColor = this.setName("Color scheme");
    this.removeAllNodes();
    colorschemes = this.getColorschemes();
    for (_i = 0, _len = colorschemes.length; _i < _len; _i++) {
      scheme = colorschemes[_i];
      this.addScheme(menuColor, scheme);
    }
    text = "Background";
    if (this.g.colorscheme.get("colorBackground")) {
      text = "Hide " + text;
    } else {
      text = "Show " + text;
    }
    this.addNode(text, (function(_this) {
      return function() {
        return _this.g.colorscheme.set("colorBackground", !_this.g.colorscheme.get("colorBackground"));
      };
    })(this));
    this.grey(menuColor);
    dom.removeAllChilds(this.el);
    this.el.appendChild(this.buildDOM());
    return this;
  },
  addScheme: function(menuColor, scheme) {
    var current, style;
    style = {};
    current = this.g.colorscheme.get("scheme");
    if (current === scheme.id) {
      style.backgroundColor = "#77ED80";
    }
    return this.addNode(scheme.name, (function(_this) {
      return function() {
        return _this.g.colorscheme.set("scheme", scheme.id);
      };
    })(this), {
      style: style
    });
  },
  getColorschemes: function() {
    var schemes;
    schemes = [];
    schemes.push({
      name: "Zappo",
      id: "zappo"
    });
    schemes.push({
      name: "Taylor",
      id: "taylor"
    });
    schemes.push({
      name: "Hydrophobicity",
      id: "hydro"
    });
    schemes.push({
      name: "Lesk",
      id: "lesk"
    });
    schemes.push({
      name: "Cinema",
      id: "cinema"
    });
    schemes.push({
      name: "MAE",
      id: "mae"
    });
    schemes.push({
      name: "Clustal",
      id: "clustal"
    });
    schemes.push({
      name: "Clustal2",
      id: "clustal2"
    });
    schemes.push({
      name: "Turn",
      id: "turn"
    });
    schemes.push({
      name: "Strand",
      id: "strand"
    });
    schemes.push({
      name: "Buried",
      id: "buried"
    });
    schemes.push({
      name: "Helix",
      id: "helix"
    });
    schemes.push({
      name: "Nucleotide",
      id: "nucleotide"
    });
    schemes.push({
      name: "Purine",
      id: "purine"
    });
    schemes.push({
      name: "PID",
      id: "pid"
    });
    schemes.push({
      name: "No color",
      id: "foo"
    });
    return schemes;
  },
  grey: function(menuColor) {
    this.addNode("Shade", (function(_this) {
      return function() {
        _this.g.colorscheme.set("showLowerCase", false);
        return _this.model.each(function(seq) {
          var grey, residues;
          residues = seq.get("seq");
          grey = [];
          _.each(residues, function(el, index) {
            if (el === el.toLowerCase()) {
              return grey.push(index);
            }
          });
          return seq.set("grey", grey);
        });
      };
    })(this));
    this.addNode("Shade by threshold", (function(_this) {
      return function() {
        var conserv, grey, i, maxLen, threshold, _i, _ref;
        threshold = prompt("Enter threshold (in percent)", 20);
        threshold = threshold / 100;
        maxLen = _this.model.getMaxLength();
        conserv = _this.g.stats.scale(_this.g.stats.conservation());
        grey = [];
        for (i = _i = 0, _ref = maxLen - 1; 0 <= _ref ? _i <= _ref : _i >= _ref; i = 0 <= _ref ? ++_i : --_i) {
          if (conserv[i] < threshold) {
            grey.push(i);
          }
        }
        return _this.model.each(function(seq) {
          return seq.set("grey", grey);
        });
      };
    })(this));
    this.addNode("Shade selection", (function(_this) {
      return function() {
        var maxLen;
        maxLen = _this.model.getMaxLength();
        return _this.model.each(function(seq) {
          var blocks;
          blocks = _this.g.selcol.getBlocksForRow(seq.get("id"), maxLen);
          return seq.set("grey", blocks);
        });
      };
    })(this));
    return this.addNode("Reset shade", (function(_this) {
      return function() {
        _this.g.colorscheme.set("showLowerCase", true);
        return _this.model.each(function(seq) {
          return seq.set("grey", []);
        });
      };
    })(this));
  }
});



},{"../menubuilder":86,"dom-helper":41,"underscore":66}],88:[function(require,module,exports){
var DebugMenu, MenuBuilder;

MenuBuilder = require("../menubuilder");

module.exports = DebugMenu = MenuBuilder.extend({
  initialize: function(data) {
    this.g = data.g;
    return this.el.style.display = "inline-block";
  },
  render: function() {
    this.setName("Debug");
    this.addNode("Get the code", (function(_this) {
      return function() {
        return window.open("https://github.com/greenify/msa");
      };
    })(this));
    this.addNode("Toggle mouseover events", (function(_this) {
      return function() {
        _this.g.config.set("registerMouseHover", !_this.g.config.get("registerMouseHover"));
        return _this.g.onAll(function() {
          return console.log(arguments);
        });
      };
    })(this));
    this.el.appendChild(this.buildDOM());
    return this;
  }
});



},{"../menubuilder":86}],89:[function(require,module,exports){
var ExportMenu, Exporter, FastaExporter, MenuBuilder, _;

MenuBuilder = require("../menubuilder");

FastaExporter = require("biojs-io-fasta").writer;

_ = require("underscore");

Exporter = require("../../utils/export");

module.exports = ExportMenu = MenuBuilder.extend({
  initialize: function(data) {
    this.g = data.g;
    this.msa = data.msa;
    return this.el.style.display = "inline-block";
  },
  render: function() {
    this.setName("Export");
    this.addNode("View in Jalview", (function(_this) {
      return function() {
        var url;
        url = _this.g.config.get('url');
        if (url == null) {
          return alert("Sequence weren't imported via an URL");
        } else {
          if (url.indexOf("localhost" || url === "dragimport")) {
            return Exporter.publishWeb(_this.msa, function(link) {
              return Exporter.openInJalview(link, _this.g.colorscheme.get("scheme"));
            });
          } else {
            return Exporter.openInJalview(url, _this.g.colorscheme.get("scheme"));
          }
        }
      };
    })(this));
    this.addNode("Publish to the web", (function(_this) {
      return function() {
        return Exporter.publishWeb(_this.msa, function(link) {
          return window.open(link, '_blank');
        });
      };
    })(this));
    this.addNode("Share link", (function(_this) {
      return function() {
        return Exporter.shareLink(_this.msa, function(link) {
          return window.open(link, '_blank');
        });
      };
    })(this));
    this.addNode("Export sequences", (function(_this) {
      return function() {
        return Exporter.saveAsFile(_this.msa, "all.fasta");
      };
    })(this));
    this.addNode("Export selection", (function(_this) {
      return function() {
        return Exporter.saveSelection(_this.msa, "selection.fasta");
      };
    })(this));
    this.addNode("Export features", (function(_this) {
      return function() {
        return Exporter.saveAnnots(_this.msa, "features.gff3");
      };
    })(this));
    this.addNode("Export image", (function(_this) {
      return function() {
        return Exporter.saveAsImg(_this.msa, "biojs-msa.png");
      };
    })(this));
    this.el.appendChild(this.buildDOM());
    return this;
  }
});



},{"../../utils/export":104,"../menubuilder":86,"biojs-io-fasta":"biojs-io-fasta","underscore":66}],90:[function(require,module,exports){
var ExtraMenu, Loader, MenuBuilder, Seq, xhr;

MenuBuilder = require("../menubuilder");

Seq = require("../../model/Sequence");

Loader = require("../../utils/loader");

xhr = require("xhr");

module.exports = ExtraMenu = MenuBuilder.extend({
  initialize: function(data) {
    this.g = data.g;
    this.el.style.display = "inline-block";
    return this.msa = data.msa;
  },
  render: function() {
    var msa, stats;
    this.setName("Extras");
    stats = this.g.stats;
    msa = this.msa;
    this.addNode("Add consensus seq", (function(_this) {
      return function() {
        var con, seq;
        con = stats.consensus();
        seq = new Seq({
          seq: con,
          id: "0c",
          name: "consenus"
        });
        _this.model.add(seq);
        _this.model.setRef(seq);
        _this.model.comparator = function(seq) {
          return !seq.get("ref");
        };
        return _this.model.sort();
      };
    })(this));
    this.addNode("Calc Tree", function() {
      var cbs, newickStr, nwkData;
      newickStr = "";
      cbs = Loader.joinCb(function() {
        return msa.u.tree.showTree(nwkData);
      }, 2, this);
      msa.u.tree.loadTree(cbs);
      nwkData = {
        name: "root",
        children: [
          {
            name: "c1",
            branch_length: 4,
            children: msa.seqs.filter(function(f, i) {
              return i % 2 === 0;
            })
          }, {
            name: "c2",
            children: msa.seqs.filter(function(f, i) {
              return i % 2 === 1;
            }),
            branch_length: 4
          }
        ]
      };
      msa.seqs.each(function(s) {
        return s.set("branch_length", 2);
      });
      return cbs();
    });
    this.addNode("Increase font size", (function(_this) {
      return function() {
        var columnWidth, nColumnWidth, nFontSize;
        columnWidth = _this.g.zoomer.get("columnWidth");
        nColumnWidth = columnWidth + 5;
        _this.g.zoomer.set("columnWidth", nColumnWidth);
        _this.g.zoomer.set("rowHeight", nColumnWidth);
        nFontSize = nColumnWidth * 0.7;
        _this.g.zoomer.set("residueFont", nFontSize);
        return _this.g.zoomer.set("labelFontSize", nFontSize);
      };
    })(this));
    this.addNode("Decrease font size", (function(_this) {
      return function() {
        var columnWidth, nColumnWidth, nFontSize;
        columnWidth = _this.g.zoomer.get("columnWidth");
        nColumnWidth = columnWidth - 2;
        _this.g.zoomer.set("columnWidth", nColumnWidth);
        _this.g.zoomer.set("rowHeight", nColumnWidth);
        nFontSize = nColumnWidth * 0.6;
        _this.g.zoomer.set("residueFont", nFontSize);
        _this.g.zoomer.set("labelFontSize", nFontSize);
        if (_this.g.zoomer.get("columnWidth") < 8) {
          return _this.g.zoomer.set("textVisible", false);
        }
      };
    })(this));
    this.addNode("Minimized width", (function(_this) {
      return function() {
        return _this.g.zoomer.set("alignmentWidth", 600);
      };
    })(this));
    this.addNode("Minimized height", (function(_this) {
      return function() {
        return _this.g.zoomer.set("alignmentHeight", 120);
      };
    })(this));
    this.addNode("Jump to a column", (function(_this) {
      return function() {
        var offset;
        offset = prompt("Column", "20");
        if (offset < 0 || offset > _this.model.getMaxLength() || isNaN(offset)) {
          alert("invalid column");
          return;
        }
        return _this.g.zoomer.setLeftOffset(offset);
      };
    })(this));
    this.el.appendChild(this.buildDOM());
    return this;
  }
});



},{"../../model/Sequence":100,"../../utils/loader":107,"../menubuilder":86,"xhr":"xhr"}],91:[function(require,module,exports){
var FilterMenu, MenuBuilder, _;

MenuBuilder = require("../menubuilder");

_ = require("underscore");

module.exports = FilterMenu = MenuBuilder.extend({
  initialize: function(data) {
    this.g = data.g;
    return this.el.style.display = "inline-block";
  },
  render: function() {
    this.setName("Filter");
    this.addNode("Hide columns by threshold", (function(_this) {
      return function(e) {
        var conserv, hidden, i, maxLen, threshold, _i, _ref;
        threshold = prompt("Enter threshold (in percent)", 20);
        threshold = threshold / 100;
        maxLen = _this.model.getMaxLength();
        hidden = [];
        conserv = _this.g.stats.scale(_this.g.stats.conservation());
        for (i = _i = 0, _ref = maxLen - 1; 0 <= _ref ? _i <= _ref : _i >= _ref; i = 0 <= _ref ? ++_i : --_i) {
          if (conserv[i] < threshold) {
            hidden.push(i);
          }
        }
        return _this.g.columns.set("hidden", hidden);
      };
    })(this));
    this.addNode("Hide columns by selection", (function(_this) {
      return function() {
        var hidden, hiddenOld;
        hiddenOld = _this.g.columns.get("hidden");
        hidden = hiddenOld.concat(_this.g.selcol.getAllColumnBlocks({
          maxLen: _this.model.getMaxLength(),
          withPos: true
        }));
        _this.g.selcol.reset([]);
        return _this.g.columns.set("hidden", hidden);
      };
    })(this));
    this.addNode("Hide columns by gaps", (function(_this) {
      return function() {
        var gapContent, gaps, hidden, i, maxLen, threshold, total, _i, _ref;
        threshold = prompt("Enter threshold (in percent)", 20);
        threshold = threshold / 100;
        maxLen = _this.model.getMaxLength();
        hidden = [];
        for (i = _i = 0, _ref = maxLen - 1; 0 <= _ref ? _i <= _ref : _i >= _ref; i = 0 <= _ref ? ++_i : --_i) {
          gaps = 0;
          total = 0;
          _this.model.each(function(el) {
            if (el.get('seq')[i] === "-") {
              gaps++;
            }
            return total++;
          });
          gapContent = gaps / total;
          if (gapContent > threshold) {
            hidden.push(i);
          }
        }
        return _this.g.columns.set("hidden", hidden);
      };
    })(this));
    this.addNode("Hide seqs by identity", (function(_this) {
      return function() {
        var threshold;
        threshold = prompt("Enter threshold (in percent)", 20);
        threshold = threshold / 100;
        return _this.model.each(function(el) {
          if (el.get('identity') < threshold) {
            return el.set('hidden', true);
          }
        });
      };
    })(this));
    this.addNode("Hide seqs by selection", (function(_this) {
      return function() {
        var hidden, ids;
        hidden = _this.g.selcol.where({
          type: "row"
        });
        ids = _.map(hidden, function(el) {
          return el.get('seqId');
        });
        _this.g.selcol.reset([]);
        return _this.model.each(function(el) {
          if (ids.indexOf(el.get('id')) >= 0) {
            return el.set('hidden', true);
          }
        });
      };
    })(this));
    this.addNode("Hide seqs by gaps", (function(_this) {
      return function() {
        var threshold;
        threshold = prompt("Enter threshold (in percent)", 40);
        return _this.model.each(function(el, i) {
          var gaps, seq;
          seq = el.get('seq');
          gaps = _.reduce(seq, (function(memo, c) {
            if (c === '-') {
              memo++;
            }
            return memo;
          }), 0);
          if (gaps > threshold) {
            return el.set('hidden', true);
          }
        });
      };
    })(this));
    this.addNode("Reset", (function(_this) {
      return function() {
        _this.g.columns.set("hidden", []);
        return _this.model.each(function(el) {
          if (el.get('hidden')) {
            return el.set('hidden', false);
          }
        });
      };
    })(this));
    this.el.appendChild(this.buildDOM());
    return this;
  }
});



},{"../menubuilder":86,"underscore":66}],92:[function(require,module,exports){
var HelpMenu, MenuBuilder;

MenuBuilder = require("../menubuilder");

module.exports = HelpMenu = MenuBuilder.extend({
  initialize: function(data) {
    return this.g = data.g;
  },
  render: function() {
    this.setName("Help");
    this.addNode("About the project", (function(_this) {
      return function() {
        return window.open("https://github.com/greenify/msa");
      };
    })(this));
    this.addNode("Report issues", (function(_this) {
      return function() {
        return window.open("https://github.com/greenify/msa/issues");
      };
    })(this));
    this.addNode("User manual", (function(_this) {
      return function() {
        return window.open("https://github.com/greenify/msa/wiki");
      };
    })(this));
    this.el.style.display = "inline-block";
    this.el.appendChild(this.buildDOM());
    return this;
  }
});



},{"../menubuilder":86}],93:[function(require,module,exports){
var ImportMenu, MenuBuilder, k;

MenuBuilder = require("../menubuilder");

k = require("koala-js");

module.exports = ImportMenu = MenuBuilder.extend({
  initialize: function(data) {
    this.g = data.g;
    this.el.style.display = "inline-block";
    return this.msa = data.msa;
  },
  render: function() {
    var msa, uploader;
    msa = this.msa;
    uploader = k.mk("input");
    uploader.type = "file";
    uploader.style.display = "none";
    uploader.multiple = true;
    uploader.addEventListener("change", function() {
      var files;
      files = uploader.files || [];
      return msa.u.file.importFiles(files);
    });
    this.el.appendChild(uploader);
    this.setName("Import");
    this.addNode("URL", (function(_this) {
      return function(e) {
        var url;
        url = prompt("URL", "http://rostlab.org/~goldberg/clustalw2-I20140818-215249-0556-53699878-pg.clustalw");
        return _this.msa.u.file.importURL(url, function() {});
      };
    })(this));
    this.addNode("From file", (function(_this) {
      return function() {
        return uploader.click();
      };
    })(this));
    this.addNode("Drag & Drop", (function(_this) {
      return function() {
        return alert("Yep. Just drag & drop your file");
      };
    })(this));
    this.el.appendChild(this.buildDOM());
    return this;
  }
});



},{"../menubuilder":86,"koala-js":43}],94:[function(require,module,exports){
var MenuBuilder, OrderingMenu, dom, _;

MenuBuilder = require("../menubuilder");

dom = require("dom-helper");

_ = require('underscore');

module.exports = OrderingMenu = MenuBuilder.extend({
  initialize: function(data) {
    this.g = data.g;
    this.order = "ID";
    return this.el.style.display = "inline-block";
  },
  setOrder: function(order) {
    this.order = order;
    return this.render();
  },
  render: function() {
    var comps, el, m, _i, _len;
    this.setName("Ordering");
    this.removeAllNodes();
    comps = this.getComparators();
    for (_i = 0, _len = comps.length; _i < _len; _i++) {
      m = comps[_i];
      this._addNode(m);
    }
    el = this.buildDOM();
    dom.removeAllChilds(this.el);
    this.el.appendChild(el);
    return this;
  },
  _addNode: function(m) {
    var style, text;
    text = m.text;
    style = {};
    if (text === this.order) {
      style.backgroundColor = "#77ED80";
    }
    return this.addNode(text, (function(_this) {
      return function() {
        if (m.precode != null) {
          m.precode();
        }
        _this.model.comparator = m.comparator;
        _this.model.sort();
        return _this.setOrder(m.text);
      };
    })(this), {
      style: style
    });
  },
  getComparators: function() {
    var models, setIdent;
    models = [];
    models.push({
      text: "ID",
      comparator: "id"
    });
    models.push({
      text: "ID Desc",
      comparator: function(a, b) {
        return -("" + a.get("id")).localeCompare("" + b.get("id"), [], {
          numeric: true
        });
      }
    });
    models.push({
      text: "Label",
      comparator: "name"
    });
    models.push({
      text: "Label Desc",
      comparator: function(a, b) {
        return -a.get("name").localeCompare(b.get("name"));
      }
    });
    models.push({
      text: "Seq",
      comparator: "seq"
    });
    models.push({
      text: "Seq Desc",
      comparator: function(a, b) {
        return -a.get("seq").localeCompare(b.get("seq"));
      }
    });
    setIdent = (function(_this) {
      return function() {
        return _this.ident = _this.g.stats.identity();
      };
    })(this);
    models.push({
      text: "Identity",
      comparator: (function(_this) {
        return function(a, b) {
          var val;
          val = _this.ident[a.id] - _this.ident[b.id];
          if (val > 0) {
            return 1;
          }
          if (val < 0) {
            return -1;
          }
          return 0;
        };
      })(this),
      precode: setIdent
    });
    models.push({
      text: "Identity Desc",
      comparator: (function(_this) {
        return function(a, b) {
          var val;
          val = _this.ident[a.id] - _this.ident[b.id];
          if (val > 0) {
            return -1;
          }
          if (val < 0) {
            return 1;
          }
          return 0;
        };
      })(this),
      precode: setIdent
    });
    models.push({
      text: "Reference",
      comparator: function(seq) {
        return !seq.get("ref");
      }
    });
    models.push({
      text: "Partition codes",
      comparator: "partition",
      precode: (function(_this) {
        return function() {
          _this.g.vis.set('labelPartition', true);
          return _this.model.each(function(el) {
            return el.set('partition', _.random(1, 3));
          });
        };
      })(this)
    });
    return models;
  }
});



},{"../menubuilder":86,"dom-helper":41,"underscore":66}],95:[function(require,module,exports){
var MenuBuilder, SelectionMenu;

MenuBuilder = require("../menubuilder");

module.exports = SelectionMenu = MenuBuilder.extend({
  initialize: function(data) {
    this.g = data.g;
    return this.el.style.display = "inline-block";
  },
  render: function() {
    this.setName("Selection");
    this.addNode("Find Motif (supports RegEx)", (function(_this) {
      return function() {
        var search;
        search = prompt("your search", "D");
        return _this.g.user.set("searchText", search);
      };
    })(this));
    this.addNode("Invert columns", (function(_this) {
      return function() {
        var _i, _ref, _results;
        return _this.g.selcol.invertCol((function() {
          _results = [];
          for (var _i = 0, _ref = _this.model.getMaxLength(); 0 <= _ref ? _i <= _ref : _i >= _ref; 0 <= _ref ? _i++ : _i--){ _results.push(_i); }
          return _results;
        }).apply(this));
      };
    })(this));
    this.addNode("Invert rows", (function(_this) {
      return function() {
        return _this.g.selcol.invertRow(_this.model.pluck("id"));
      };
    })(this));
    this.addNode("Reset", (function(_this) {
      return function() {
        return _this.g.selcol.reset();
      };
    })(this));
    this.el.appendChild(this.buildDOM());
    return this;
  }
});



},{"../menubuilder":86}],96:[function(require,module,exports){
var MenuBuilder, VisMenu, dom;

MenuBuilder = require("../menubuilder");

dom = require("dom-helper");

module.exports = VisMenu = MenuBuilder.extend({
  initialize: function(data) {
    this.g = data.g;
    this.el.style.display = "inline-block";
    return this.listenTo(this.g.vis, "change", this.render);
  },
  render: function() {
    var visEl, visElements, _i, _len;
    this.removeAllNodes();
    this.setName("Vis.elements");
    visElements = this.getVisElements();
    for (_i = 0, _len = visElements.length; _i < _len; _i++) {
      visEl = visElements[_i];
      this._addVisEl(visEl);
    }
    this.addNode("Reset", (function(_this) {
      return function() {
        _this.g.vis.set("labels", true);
        _this.g.vis.set("sequences", true);
        _this.g.vis.set("metacell", true);
        _this.g.vis.set("conserv", true);
        _this.g.vis.set("labelId", true);
        _this.g.vis.set("labelName", true);
        _this.g.vis.set("labelCheckbox", false);
        _this.g.vis.set("seqlogo", false);
        _this.g.vis.set("gapHeader", false);
        _this.g.vis.set("leftHeader", true);
        _this.g.vis.set("metaGaps", true);
        _this.g.vis.set("metaIdentity", true);
        return _this.g.vis.set("metaLinks", true);
      };
    })(this));
    dom.removeAllChilds(this.el);
    this.el.appendChild(this.buildDOM());
    return this;
  },
  _addVisEl: function(visEl) {
    var pre, style;
    style = {};
    if (this.g.vis.get(visEl.id)) {
      pre = "Hide ";
      style.color = "red";
    } else {
      pre = "Show ";
      style.color = "green";
    }
    return this.addNode(pre + visEl.name, (function(_this) {
      return function() {
        return _this.g.vis.set(visEl.id, !_this.g.vis.get(visEl.id));
      };
    })(this), {
      style: style
    });
  },
  getVisElements: function() {
    var vis;
    vis = [];
    vis.push({
      name: "Markers",
      id: "markers"
    });
    vis.push({
      name: "Labels",
      id: "labels"
    });
    vis.push({
      name: "Meta info",
      id: "metacell"
    });
    vis.push({
      name: "Overviewbox",
      id: "overviewbox"
    });
    vis.push({
      name: "Conserv",
      id: "conserv"
    });
    vis.push({
      name: "Seq. logo",
      id: "seqlogo"
    });
    vis.push({
      name: "Gap Header",
      id: "gapHeader"
    });
    vis.push({
      name: "Left header",
      id: "leftHeader"
    });
    vis.push({
      name: "Label name",
      id: "labelName"
    });
    vis.push({
      name: "Label id",
      id: "labelId"
    });
    vis.push({
      name: "Label checkbox",
      id: "labelCheckbox"
    });
    vis.push({
      name: "Meta gaps",
      id: "metaGaps"
    });
    vis.push({
      name: "Meta identity",
      id: "metaIdentity"
    });
    vis.push({
      name: "Meta links",
      id: "metaLinks"
    });
    return vis;
  }
});



},{"../menubuilder":86,"dom-helper":41}],97:[function(require,module,exports){
var Feature, Model;

Feature = require("./Feature");

Model = require("backbone-thin").Model;

module.exports = Feature = Model.extend({
  defaults: {
    xStart: -1,
    xEnd: -1,
    height: -1,
    text: "",
    fillColor: "red",
    fillOpacity: 0.5,
    type: "rectangle",
    borderSize: 1,
    borderColor: "black",
    borderOpacity: 0.5,
    validate: true,
    row: 0
  },
  initialize: function(obj) {
    if (obj.start != null) {
      this.set("xStart", obj.start);
    }
    if (obj.end != null) {
      this.set("xEnd", obj.end);
    }
    if (obj.attributes != null) {
      if (obj.attributes.Name != null) {
        this.set("text", obj.attributes.Name);
      }
      if (obj.attributes.Color != null) {
        this.set("fillColor", obj.attributes.Color);
      }
    }
    if (this.attributes.xEnd < this.attributes.xStart) {
      console.warn("invalid feature range for", this.attributes);
    }
    if (!_.isNumber(this.attributes.xStart) || !_.isNumber(this.attributes.xEnd)) {
      console.warn("please provide numeric feature ranges", obj);
      this.set("xStart", parseInt(this.attributes.xStart));
      return this.set("xEnd", parseInt(this.attributes.xEnd));
    }
  },
  validate: function() {
    if (isNaN(this.attributes.xStart || isNaN(this.attributes.xEnd))) {
      return "features need integer start and end.";
    }
  },
  contains: function(index) {
    return this.attributes.xStart <= index && index <= this.attributes.xEnd;
  }
});



},{"./Feature":97,"backbone-thin":4}],98:[function(require,module,exports){
var Collection, Feature, FeatureCol, _;

Feature = require("./Feature");

Collection = require("backbone-thin").Collection;

_ = require("underscore");

module.exports = FeatureCol = Collection.extend({
  model: Feature,
  constructor: function() {
    this.startOnCache = [];
    this.on("all", function() {
      return this.startOnCache = [];
    }, this);
    return Collection.apply(this, arguments);
  },
  startOn: function(index) {
    if (this.startOnCache[index] == null) {
      this.startOnCache[index] = this.where({
        xStart: index
      });
    }
    return this.startOnCache[index];
  },
  contains: function(index) {
    return this.reduce(function(el, memo) {
      return memo || el.contains(index);
    }, false);
  },
  getFeatureOnRow: function(row, x) {
    return this.filter(function(el) {
      return el.get("row") === row && el.get("xStart") <= x && x <= el.get("xEnd");
    });
  },
  assignRows: function() {
    var len, rows, x;
    len = (this.max(function(el) {
      return el.get("xEnd");
    })).attributes.xEnd;
    rows = (function() {
      var _i, _results;
      _results = [];
      for (x = _i = 0; 0 <= len ? _i <= len : _i >= len; x = 0 <= len ? ++_i : --_i) {
        _results.push(0);
      }
      return _results;
    })();
    this.each(function(el) {
      var max, _i, _ref, _ref1;
      max = 0;
      for (x = _i = _ref = el.get("xStart"), _ref1 = el.get("xEnd"); _i <= _ref1; x = _i += 1) {
        if (rows[x] > max) {
          max = rows[x];
        }
        rows[x]++;
      }
      return el.set("row", max);
    });
    return _.max(rows);
  },
  getCurrentHeight: function() {
    return (this.max(function(el) {
      return el.get("row");
    })).attributes.row + 1;
  },
  getMinRows: function() {
    var len, rows, x;
    len = (this.max(function(el) {
      return el.get("xEnd");
    })).attributes.xEnd;
    rows = (function() {
      var _i, _results;
      _results = [];
      for (x = _i = 0; 0 <= len ? _i <= len : _i >= len; x = 0 <= len ? ++_i : --_i) {
        _results.push(0);
      }
      return _results;
    })();
    this.each(function(el) {
      var _i, _ref, _ref1, _results;
      _results = [];
      for (x = _i = _ref = el.get("xStart"), _ref1 = el.get("xEnd"); _i <= _ref1; x = _i += 1) {
        _results.push(rows[x]++);
      }
      return _results;
    });
    return _.max(rows);
  }
});



},{"./Feature":97,"backbone-thin":4,"underscore":66}],99:[function(require,module,exports){
var Collection, FeatureCol, SeqManager, Sequence;

Sequence = require("./Sequence");

FeatureCol = require("./FeatureCol");

Collection = require("backbone-thin").Collection;

module.exports = SeqManager = Collection.extend({
  model: Sequence,
  constructor: function(seqs, g) {
    Collection.apply(this, arguments);
    this.g = g;
    this.on("add reset remove", (function(_this) {
      return function() {
        _this.lengthCache = null;
        return _this._bindSeqsWithFeatures();
      };
    })(this), this);
    this.on("reset", (function(_this) {
      return function() {
        return _this._autoSetRefSeq();
      };
    })(this));
    this._autoSetRefSeq();
    this.lengthCache = null;
    this.features = {};
    return this;
  },
  getMaxLength: function() {
    if (this.models.length === 0) {
      return 0;
    }
    if (this.lengthCache === null) {
      this.lengthCache = this.max(function(seq) {
        return seq.get("seq").length;
      }).get("seq").length;
    }
    return this.lengthCache;
  },
  prev: function(model, endless) {
    var index;
    index = this.indexOf(model) - 1;
    if (index < 0 && endless) {
      index = this.length - 1;
    }
    return this.at(index);
  },
  next: function(model, endless) {
    var index;
    index = this.indexOf(model) + 1;
    if (index === this.length && endless) {
      index = 0;
    }
    return this.at(index);
  },
  calcHiddenSeqs: function(n) {
    var i, nNew, _i;
    nNew = n;
    for (i = _i = 0; 0 <= nNew ? _i <= nNew : _i >= nNew; i = 0 <= nNew ? ++_i : --_i) {
      if (this.at(i).get("hidden")) {
        nNew++;
      }
    }
    return nNew - n;
  },
  addFeatures: function(features) {
    var colors, obj;
    if (features.config != null) {
      obj = features;
      features = features.seqs;
      if (obj.config.colors != null) {
        colors = obj.config.colors;
        _.each(features, function(seq) {
          return _.each(seq, function(val) {
            if (colors[val.feature] != null) {
              return val.fillColor = colors[val.feature];
            }
          });
        });
      }
    }
    if (_.isEmpty(this.features)) {
      this.features = features;
    } else {
      _.each(features, (function(_this) {
        return function(val, key) {
          if (!_this.features.hasOwnProperty(key)) {
            return _this.features[key] = val;
          } else {
            return _this.features[key] = _.union(_this.features[key], val);
          }
        };
      })(this));
    }
    return this._bindSeqsWithFeatures();
  },
  _bindSeqWithFeatures: function(seq) {
    var features;
    features = this.features[seq.attributes.name];
    if (features) {
      seq.set("features", new FeatureCol(features));
      seq.attributes.features.assignRows();
      return seq.set("height", seq.attributes.features.getCurrentHeight() + 1);
    }
  },
  _bindSeqsWithFeatures: function() {
    return this.each((function(_this) {
      return function(seq) {
        return _this._bindSeqWithFeatures(seq);
      };
    })(this));
  },
  removeAllFeatures: function() {
    return delete this.features;
  },
  _autoSetRefSeq: function() {
    if (this.length > 0) {
      return this.at(0).set("ref", true);
    }
  },
  setRef: function(seq) {
    var obj;
    obj = this.get(seq);
    this.each(function(s) {
      if (seq.cid) {
        if (obj.cid === s.cid) {
          return s.set("ref", true);
        } else {
          return s.set("ref", false);
        }
      }
    });
    this.g.config.set("hasRef", true);
    return this.trigger("change:reference", seq);
  }
});



},{"./FeatureCol":98,"./Sequence":100,"backbone-thin":4}],100:[function(require,module,exports){
var FeatureCol, Model, Sequence;

Model = require("backbone-thin").Model;

FeatureCol = require("./FeatureCol");

module.exports = Sequence = Model.extend({
  defaults: {
    name: "",
    id: "",
    seq: "",
    height: 1,
    ref: false
  },
  initialize: function() {
    this.set("grey", []);
    if (this.get("features") == null) {
      return this.set("features", new FeatureCol());
    }
  }
});



},{"./FeatureCol":98,"backbone-thin":4}],101:[function(require,module,exports){
module.exports.seq = require("./Sequence");

module.exports.seqcol = require("./SeqCollection");

module.exports.feature = require("./Feature");

module.exports.featurecol = require("./FeatureCol");



},{"./Feature":97,"./FeatureCol":98,"./SeqCollection":99,"./Sequence":100}],102:[function(require,module,exports){
var $, Colorator, Columns, Config, Eventhandler, FileHelper, Package, ProxyHelper, SelCol, SeqCollection, Stage, Stats, TreeHelper, User, VisOrdering, Visibility, Zoomer, boneView;

SeqCollection = require("./model/SeqCollection");

Colorator = require("./g/colorscheme");

Columns = require("./g/columns");

Config = require("./g/config");

Package = require("./g/package");

SelCol = require("./g/selection/SelectionCol");

User = require("./g/user");

Visibility = require("./g/visibility");

VisOrdering = require("./g/visOrdering");

Zoomer = require("./g/zoomer");

boneView = require("backbone-childs");

Eventhandler = require("biojs-events");

Stage = require("./views/Stage");

Stats = require("stat.seqs");

$ = require("jbone");

FileHelper = require("./utils/file");

TreeHelper = require("./utils/tree");

ProxyHelper = require("./utils/proxy");

module.exports = boneView.extend({
  initialize: function(data) {
    var defMenu, events, menuDiv, pureSeq, wrapperDiv, _ref;
    if (data == null) {
      data = {};
    }
    if (data.colorscheme == null) {
      data.colorscheme = {};
    }
    if (data.columns == null) {
      data.columns = {};
    }
    if (data.conf == null) {
      data.conf = {};
    }
    if (data.vis == null) {
      data.vis = {};
    }
    if (data.zoomer == null) {
      if (!((_ref = data.visorder) != null ? _ref : data.zoomer = {})) {
        data.visorder = {};
      }
    }
    this.g = Eventhandler.mixin({});
    this.seqs = new SeqCollection(data.seqs, this.g);
    this.g.config = new Config(data.conf);
    this.g["package"] = new Package(this.g);
    this.g.selcol = new SelCol([], {
      g: this.g
    });
    this.g.user = new User();
    this.g.vis = new Visibility(data.vis, {
      model: this.seqs
    });
    this.g.visorder = new VisOrdering(data.visorder);
    this.g.zoomer = new Zoomer(data.zoomer, {
      g: this.g,
      model: this.seqs
    });
    if (window.location.hostname === "localhost") {
      this.g.config.set("debug", true);
    }
    pureSeq = this.seqs.pluck("seq");
    this.g.stats = new Stats(this.seqs);
    this.g.stats.alphabetSize = this.g.config.get("alphabetSize");
    this.g.columns = new Columns(data.columns, this.g.stats);
    this.g.colorscheme = new Colorator(data.colorscheme, pureSeq, this.g.stats);
    this.g.zoomer.setEl(this.el, this.seqs);
    this.addView("stage", new Stage({
      model: this.seqs,
      g: this.g
    }));
    this.el.setAttribute("class", "biojs_msa_div");
    this.u = {};
    this.u.file = new FileHelper(this);
    this.u.proxy = new ProxyHelper({
      g: this.g
    });
    this.u.tree = new TreeHelper(this);
    if (this.g.config.get("eventBus") === true) {
      this.startEventBus();
    }
    if (this.g.config.get("dropImport")) {
      events = {
        "dragover": this.dragOver,
        "drop": this.dropFile
      };
      this.delegateEvents(events);
    }
    if (data.importURL) {
      this.u.file.importURL(data.importURL, (function(_this) {
        return function() {
          return _this.render();
        };
      })(this));
    }
    if (data.bootstrapMenu) {
      menuDiv = document.createElement('div');
      wrapperDiv = document.createElement('div');
      if (!this.el.parentNode) {
        wrapperDiv.appendChild(menuDiv);
        wrapperDiv.appendChild(this.el);
      } else {
        this.el.parentNode.replaceChild(wrapperDiv, this.el);
        wrapperDiv.appendChild(menuDiv);
        wrapperDiv.appendChild(this.el);
      }
      defMenu = new msa.menu.defaultmenu({
        el: menuDiv,
        msa: this
      });
      defMenu.render();
    }
    return $(window).on("resize", (function(_this) {
      return function(e) {
        var f;
        f = function() {
          return this.g.zoomer.autoResize();
        };
        return setTimeout(f.bind(_this), 5);
      };
    })(this));
  },
  dragOver: function(e) {
    e.preventDefault();
    e.target.className = 'hover';
    return false;
  },
  dropFile: function(e) {
    var files;
    e.preventDefault();
    files = e.target.files || e.dataTransfer.files;
    this.u.file.importFiles(files);
    return false;
  },
  startEventBus: function() {
    var busObjs, key, _i, _len, _results;
    busObjs = ["config", "columns", "colorscheme", "selcol", "vis", "visorder", "zoomer"];
    _results = [];
    for (_i = 0, _len = busObjs.length; _i < _len; _i++) {
      key = busObjs[_i];
      _results.push(this._proxyToG(key));
    }
    return _results;
  },
  _proxyToG: function(key) {
    return this.listenTo(this.g[key], "all", function(name, prev, now, opts) {
      if (name === "change") {
        return;
      }
      if (opts != null) {
        return this.g.trigger(key + ":" + name, now, prev, opts);
      } else {
        return this.g.trigger(key + ":" + name, now, prev);
      }
    });
  },
  render: function() {
    if (this.seqs === void 0 || this.seqs.length === 0) {
      console.log("warning. empty seqs.");
    }
    this.renderSubviews();
    this.g.vis.set("loaded", true);
    return this;
  }
});



},{"./g/colorscheme":73,"./g/columns":74,"./g/config":75,"./g/package":76,"./g/selection/SelectionCol":78,"./g/user":79,"./g/visOrdering":80,"./g/visibility":81,"./g/zoomer":82,"./model/SeqCollection":99,"./utils/file":105,"./utils/proxy":108,"./utils/tree":111,"./views/Stage":115,"backbone-childs":2,"biojs-events":13,"jbone":42,"stat.seqs":65}],103:[function(require,module,exports){
var BMath;

module.exports = BMath = (function() {
  function BMath() {}

  BMath.randomInt = function(lower, upper) {
    var _ref, _ref1;
    if (upper == null) {
      _ref = [0, lower], lower = _ref[0], upper = _ref[1];
    }
    if (lower > upper) {
      _ref1 = [upper, lower], lower = _ref1[0], upper = _ref1[1];
    }
    return Math.floor(Math.random() * (upper - lower + 1) + lower);
  };

  BMath.uniqueId = function(length) {
    var id;
    if (length == null) {
      length = 8;
    }
    id = "";
    while (id.length < length) {
      id += Math.random().toString(36).substr(2);
    }
    return id.substr(0, length);
  };

  BMath.getRandomInt = function(min, max) {
    return Math.floor(Math.random() * (max - min + 1)) + min;
  };

  return BMath;

})();



},{}],104:[function(require,module,exports){
var Exporter, Fasta, GFF, blobURL, saveAs, xhr, _;

Fasta = require("biojs-io-fasta");

GFF = require("biojs-io-gff");

xhr = require("xhr");

blobURL = require("blueimp_canvastoblob");

saveAs = require("browser-saveas");

_ = require("underscore");

module.exports = Exporter = {
  openInJalview: function(url, colorscheme) {
    var host, jalviewUrl;
    if (url.charAt(0) === '.') {
      url = document.URL.substr(0, document.URL.lastIndexOf('/')) + "/" + url;
    }
    if (url.indexOf("http") < 0) {
      host = "http://" + window.location.hostname;
      url = host + url;
    }
    url = encodeURIComponent(url);
    jalviewUrl = "http://www.jalview.org/services/launchApp?open=" + url;
    jalviewUrl += "&colour=" + colorscheme;
    return window.open(jalviewUrl, '_blank');
  },
  publishWeb: function(that, cb) {
    var text, url;
    text = Fasta.write(that.seqs.toJSON());
    text = encodeURIComponent(text);
    url = that.u.proxy.corsURL("http://sprunge.biojs.net");
    return xhr({
      method: "POST",
      body: "sprunge=" + text,
      uri: url,
      headers: {
        "Content-Type": "application/x-www-form-urlencoded"
      }
    }, function(err, rep, body) {
      var link;
      link = body.trim();
      return cb(link);
    });
  },
  shareLink: function(that, cb) {
    var fCB, msaURL, url;
    url = that.g.config.get("importURL");
    msaURL = "http://biojs-msa.org/app/?seq=";
    fCB = function(link) {
      var fURL;
      fURL = msaURL + link;
      if (cb) {
        return cb(fURL);
      }
    };
    if (!url) {
      return Exporter.publishWeb(that, fCB);
    } else {
      return fCB(url);
    }
  },
  saveAsFile: function(that, name) {
    var blob, text;
    text = Fasta.write(that.seqs.toJSON());
    blob = new Blob([text], {
      type: 'text/plain'
    });
    return saveAs(blob, name);
  },
  saveSelection: function(that, name) {
    var blob, i, selection, text, _i, _ref;
    selection = that.g.selcol.pluck("seqId");
    console.log(selection);
    if (selection.length > 0) {
      selection = that.seqs.filter(function(el) {
        return _.contains(selection, el.get("id"));
      });
      for (i = _i = 0, _ref = selection.length - 1; _i <= _ref; i = _i += 1) {
        selection[i] = selection[i].toJSON();
      }
    } else {
      selection = that.seqs.toJSON();
      console.warn("no selection found");
    }
    text = Fasta.write(selection);
    blob = new Blob([text], {
      type: 'text/plain'
    });
    return saveAs(blob, name);
  },
  saveAnnots: function(that, name) {
    var blob, features, text;
    features = that.seqs.map(function(el) {
      var seqname;
      features = el.get("features");
      if (features.length === 0) {
        return;
      }
      seqname = el.get("name");
      features.each(function(s) {
        return s.set("seqname", seqname);
      });
      return features.toJSON();
    });
    features = _.flatten(_.compact(features));
    console.log(features);
    text = GFF.exportLines(features);
    blob = new Blob([text], {
      type: 'text/plain'
    });
    return saveAs(blob, name);
  },
  saveAsImg: function(that, name) {
    var canvas, url;
    canvas = that.getView('stage').getView('body').getView('seqblock').el;
    if (canvas != null) {
      url = canvas.toDataURL('image/png');
      return saveAs(blobURL(url), name, "image/png");
    }
  }
};



},{"biojs-io-fasta":"biojs-io-fasta","biojs-io-gff":"biojs-io-gff","blueimp_canvastoblob":38,"browser-saveas":39,"underscore":66,"xhr":"xhr"}],105:[function(require,module,exports){
var ClustalReader, FastaReader, FileHelper, GffReader, funs, xhr, _;

FastaReader = require("biojs-io-fasta");

ClustalReader = require("biojs-io-clustal");

GffReader = require("biojs-io-gff");

_ = require("underscore");

xhr = require("xhr");

module.exports = FileHelper = function(msa) {
  this.msa = msa;
  return this;
};

funs = {
  guessFileType: function(name) {
    var fileName;
    name = name.split(".");
    fileName = name[name.length(-1)];
    switch (fileName) {
      case "aln":
      case "clustal":
        return ClustalReader;
      case "fasta":
        return FastaReader;
      default:
        return FastaReader;
    }
  },
  guessFileFromText: function(text) {
    var reader, type;
    if (text == null) {
      console.warn("invalid file format");
      return ["", "error"];
    }
    if (text.substring(0, 7) === "CLUSTAL") {
      reader = ClustalReader;
      type = "seqs";
    } else if (text.substring(0, 1) === ">") {
      reader = FastaReader;
      type = "seqs";
    } else if (text.substring(0, 1) === "(") {
      type = "newick";
    } else {
      reader = GffReader;
      type = "features";
    }
    return [reader, type];
  },
  parseText: function(text) {
    var features, reader, seqs, type, _ref;
    _ref = this.guessFileFromText(text), reader = _ref[0], type = _ref[1];
    if (type === "seqs") {
      seqs = reader.parse(text);
      return [seqs, type];
    } else if (type === "features") {
      features = reader.parseSeqs(text);
      return [features, type];
    } else {
      return [text, type];
    }
  },
  importFiles: function(files) {
    var file, i, reader, _i, _ref, _results;
    _results = [];
    for (i = _i = 0, _ref = files.length - 1; _i <= _ref; i = _i += 1) {
      file = files[i];
      reader = new FileReader();
      reader.onload = (function(_this) {
        return function(evt) {
          return _this.importFile(evt.target.result);
        };
      })(this);
      _results.push(reader.readAsText(file));
    }
    return _results;
  },
  importFile: function(file) {
    var fileName, objs, type, _ref;
    _ref = this.parseText(file), objs = _ref[0], type = _ref[1];
    if (type === "error") {
      return "error";
    }
    if (type === "seqs") {
      this.msa.seqs.reset(objs);
      this.msa.g.config.set("url", "userimport");
      this.msa.g.trigger("url:userImport");
    } else if (type === "features") {
      this.msa.seqs.addFeatures(objs);
    } else if (type === "newick") {
      this.msa.u.tree.loadTree((function(_this) {
        return function() {
          return _this.msa.u.tree.showTree(file);
        };
      })(this));
    }
    return fileName = file.name;
  },
  importURL: function(url, cb) {
    url = this.msa.u.proxy.corsURL(url);
    this.msa.g.config.set("url", url);
    return xhr(url, (function(_this) {
      return function(err, status, body) {
        var res;
        if (!err) {
          res = _this.importFile(body);
          if (res === "error") {
            return;
          }
          _this.msa.g.trigger("import:url", url);
          if (cb) {
            return cb();
          }
        } else {
          return console.log(err);
        }
      };
    })(this));
  }
};

_.extend(FileHelper.prototype, funs);



},{"biojs-io-clustal":"biojs-io-clustal","biojs-io-fasta":"biojs-io-fasta","biojs-io-gff":"biojs-io-gff","underscore":66,"xhr":"xhr"}],106:[function(require,module,exports){
module.exports.bmath = require("./bmath");

module.exports.proxy = require("./proxy");

module.exports.seqgen = require("./seqgen");

module.exports.file = require("./file");

module.exports["export"] = require("./export");



},{"./bmath":103,"./export":104,"./file":105,"./proxy":108,"./seqgen":109}],107:[function(require,module,exports){
var k, loader,
  __indexOf = [].indexOf || function(item) { for (var i = 0, l = this.length; i < l; i++) { if (i in this && this[i] === item) return i; } return -1; };

k = require("koala-js");

module.exports = loader = {
  loadScript: function(url, cb) {
    var s, t;
    s = k.mk("script");
    s.type = "text/javascript";
    s.src = url;
    s.async = true;
    s.onload = s.onreadystatechange = function() {
      var r;
      if (!r && (!this.readyState || this.readyState === "complete")) {
        r = true;
        return cb();
      }
    };
    t = document.getElementsByTagName("script")[0];
    return t.parentNode.appendChild(s);
  },
  joinCb: function(retCb, finalLength, finalScope) {
    var callbackWrapper, cbsFinished, counter;
    finalLength = finalLength || 1;
    cbsFinished = 0;
    callbackWrapper = function(cb, scope) {
      if (cb == null) {
        return counter();
      } else {
        return function() {
          if (__indexOf.call(cb, "apply") >= 0) {
            cb.apply(scope, arguments);
          }
          return counter();
        };
      }
    };
    counter = function() {
      cbsFinished++;
      if (cbsFinished === finalLength) {
        return retCb.call(finalScope);
      }
    };
    return callbackWrapper;
  }
};



},{"koala-js":43}],108:[function(require,module,exports){
var ProxyHelper, proxyFun, _;

_ = require("underscore");

module.exports = ProxyHelper = function(opts) {
  this.g = opts.g;
  return this;
};

proxyFun = {
  corsURL: function(url) {
    if (document.URL.indexOf('localhost') >= 0 && url[0] === "/") {
      return url;
    }
    if (url.charAt(0) === "." || url.charAt(0) === "/") {
      return url;
    }
    url = url.replace("www\.", "");
    url = url.replace("http://", "");
    url = this.g.config.get('importProxy') + url;
    return url;
  }
};

_.extend(ProxyHelper.prototype, proxyFun);



},{"underscore":66}],109:[function(require,module,exports){
var BMath, Sequence, Stat, seqgen;

Sequence = require("biojs-model").seq;

BMath = require("./bmath");

Stat = require("stat.seqs");

seqgen = module.exports = {
  _generateSequence: function(len) {
    var i, text, _i, _ref;
    text = "";
    for (i = _i = 0, _ref = len - 1; _i <= _ref; i = _i += 1) {
      text += seqgen.getRandomChar();
    }
    return text;
  },
  getDummySequences: function(len, seqLen) {
    var i, seqs, _i;
    seqs = [];
    if (len == null) {
      len = BMath.getRandomInt(3, 5);
    }
    if (seqLen == null) {
      seqLen = BMath.getRandomInt(50, 200);
    }
    for (i = _i = 1; _i <= len; i = _i += 1) {
      seqs.push(new Sequence(seqgen._generateSequence(seqLen), "seq" + i, "r" + i));
    }
    return seqs;
  },
  getRandomChar: function(dict) {
    var possible;
    possible = dict || "ABCDEFGHIJKLMNOPQRSTUVWXYZ";
    return possible.charAt(Math.floor(Math.random() * possible.length));
  },
  genConservedSequences: function(len, seqLen, dict) {
    var c, cConserv, conservAim, counter, i, j, observed, pseqs, seqs, tolerance, _i, _j, _k, _l, _ref, _ref1;
    seqs = [];
    if (len == null) {
      len = BMath.getRandomInt(3, 5);
    }
    if (seqLen == null) {
      seqLen = BMath.getRandomInt(50, 200);
    }
    dict = dict || "ACDEFGHIKLMNPQRSTVWY---";
    for (i = _i = 1; _i <= len; i = _i += 1) {
      seqs[i - 1] = "";
    }
    tolerance = 0.2;
    conservAim = 1;
    for (i = _j = 0, _ref = seqLen - 1; _j <= _ref; i = _j += 1) {
      if (i % 3 === 0) {
        conservAim = (BMath.getRandomInt(50, 100)) / 100;
      }
      observed = [];
      for (j = _k = 0, _ref1 = len - 1; _k <= _ref1; j = _k += 1) {
        counter = 0;
        while (counter < 100) {
          c = seqgen.getRandomChar(dict);
          cConserv = Stat(observed);
          cConserv.addSeq(c);
          counter++;
          if (Math.abs(conservAim - cConserv.scale(cConserv.conservation())[0]) < tolerance) {
            break;
          }
        }
        seqs[j] += c;
        observed.push(c);
      }
    }
    pseqs = [];
    for (i = _l = 1; _l <= len; i = _l += 1) {
      pseqs.push(new Sequence(seqs[i - 1], "seq" + i, "r" + i));
    }
    return pseqs;
  }
};



},{"./bmath":103,"biojs-model":21,"stat.seqs":65}],110:[function(require,module,exports){
var Base, Line, Polygon, Rect, setAttr, svgns;

svgns = "http://www.w3.org/2000/svg";

setAttr = function(obj, opts) {
  var name, value;
  for (name in opts) {
    value = opts[name];
    obj.setAttributeNS(null, name, value);
  }
  return obj;
};

Base = function(opts) {
  var svg;
  svg = document.createElementNS(svgns, 'svg');
  svg.setAttribute("width", opts.width);
  svg.setAttribute("height", opts.height);
  return svg;
};

Rect = function(opts) {
  var rect;
  rect = document.createElementNS(svgns, 'rect');
  return setAttr(rect, opts);
};

Line = function(opts) {
  var line;
  line = document.createElementNS(svgns, 'line');
  return setAttr(line, opts);
};

Polygon = function(opts) {
  var line;
  line = document.createElementNS(svgns, 'polygon');
  return setAttr(line, opts);
};

module.exports.rect = Rect;

module.exports.line = Line;

module.exports.polygon = Polygon;

module.exports.base = Base;



},{}],111:[function(require,module,exports){
var tf, treeHelper, _;

_ = require("underscore");

module.exports = treeHelper = function(msa) {
  this.msa = msa;
  return this;
};

tf = {
  loadTree: function(cb) {
    return this.msa.g["package"].loadPackages(["msa-tnt", "biojs-io-newick"], cb);
  },
  showTree: function(newickStr) {
    var mt, newick, newickObj, nodes, sel, t, treeDiv;
    newick = this.require("biojs-io-newick");
    if (typeof newickStr === "string") {
      newickObj = newick.parse_newick(newickStr);
    } else {
      newickObj = newickStr;
    }
    mt = this.require("msa-tnt");
    sel = new mt.selections();
    treeDiv = document.createElement("div");
    document.body.appendChild(treeDiv);
    console.log(this.msa.seqs.models);
    console.log(newickObj);
    nodes = mt.app({
      seqs: this.msa.seqs.models,
      tree: newickObj
    });
    console.log("nodes", nodes);
    t = new mt.adapters.tree({
      model: nodes,
      el: treeDiv,
      sel: sel
    });
    return treeDiv.style.width = "500px";
  },
  require: function(pkg) {
    return require(pkg);
  }
};

_.extend(treeHelper.prototype, tf);



},{"underscore":66}],112:[function(require,module,exports){
var LabelBlock, SeqBlock, boneView;

boneView = require("backbone-childs");

SeqBlock = require("./canvas/CanvasSeqBlock");

LabelBlock = require("./labels/LabelBlock");

module.exports = boneView.extend({
  initialize: function(data) {
    var labelblock, seqblock;
    this.g = data.g;
    if (true) {
      labelblock = new LabelBlock({
        model: this.model,
        g: this.g
      });
      labelblock.ordering = -1;
      this.addView("labelblock", labelblock);
    }
    if (this.g.vis.get("sequences")) {
      seqblock = new SeqBlock({
        model: this.model,
        g: this.g
      });
      seqblock.ordering = 0;
      this.addView("seqblock", seqblock);
    }
    this.listenTo(this.g.zoomer, "change:alignmentHeight", this.adjustHeight);
    this.listenTo(this.g.zoomer, "change:alignmentWidth", this.adjustWidth);
    return this.listenTo(this.g.columns, "change:hidden", this.adjustHeight);
  },
  render: function() {
    this.renderSubviews();
    this.el.className = "biojs_msa_albody";
    this.el.style.whiteSpace = "nowrap";
    this.adjustHeight();
    this.adjustWidth();
    return this;
  },
  adjustHeight: function() {
    if (this.g.zoomer.get("alignmentHeight") === "auto") {
      return this.el.style.height = (this.g.zoomer.get("rowHeight") * this.model.length) + 5;
    } else {
      return this.el.style.height = this.g.zoomer.get("alignmentHeight");
    }
  },
  adjustWidth: function() {
    return this.el.style.width = this.getWidth();
  },
  getWidth: function() {
    var width;
    width = 0;
    width += this.g.zoomer.getLeftBlockWidth();
    if (this.g.vis.get("sequences")) {
      width += this.g.zoomer.get("alignmentWidth");
    }
    return width;
  }
});



},{"./canvas/CanvasSeqBlock":119,"./labels/LabelBlock":128,"backbone-childs":2}],113:[function(require,module,exports){
var OverviewBox, jbone, mouse, selection, view, _;

view = require("backbone-viewj");

mouse = require("mouse-pos");

selection = require("../g/selection/Selection");

jbone = require("jbone");

_ = require("underscore");

module.exports = OverviewBox = view.extend({
  className: "biojs_msa_overviewbox",
  tagName: "canvas",
  initialize: function(data) {
    this.g = data.g;
    this.listenTo(this.g.zoomer, "change:boxRectWidth change:boxRectHeight change:overviewboxPaddingTop", this.render);
    this.listenTo(this.g.selcol, "add reset change", this.render);
    this.listenTo(this.g.columns, "change:hidden", this.render);
    this.listenTo(this.g.colorscheme, "change:showLowerCase", this.render);
    this.listenTo(this.model, "change", _.debounce(this.render, 5));
    this.color = this.g.colorscheme.getSelectedScheme();
    this.listenTo(this.g.colorscheme, "change:scheme", function() {
      this.color = this.g.colorscheme.getSelectedScheme();
      return this.render();
    });
    return this.dragStart = [];
  },
  events: {
    click: "_onclick",
    mousedown: "_onmousedown"
  },
  render: function() {
    var c, color, hidden, i, j, rectHeight, rectWidth, seq, showLowerCase, x, y, _i, _j, _ref, _ref1;
    this._createCanvas();
    this.el.textContent = "overview";
    this.el.style.marginTop = this.g.zoomer.get("overviewboxPaddingTop");
    this.ctx.fillStyle = "#999999";
    this.ctx.fillRect(0, 0, this.el.width, this.el.height);
    rectWidth = this.g.zoomer.get("boxRectWidth");
    rectHeight = this.g.zoomer.get("boxRectHeight");
    hidden = this.g.columns.get("hidden");
    showLowerCase = this.g.colorscheme.get("showLowerCase");
    y = -rectHeight;
    for (i = _i = 0, _ref = this.model.length - 1; _i <= _ref; i = _i += 1) {
      seq = this.model.at(i).get("seq");
      x = 0;
      y = y + rectHeight;
      if (this.model.at(i).get("hidden")) {
        console.log(this.model.at(i).get("hidden"));
        this.ctx.fillStyle = "grey";
        this.ctx.fillRect(0, y, seq.length * rectWidth, rectHeight);
        continue;
      }
      for (j = _j = 0, _ref1 = seq.length - 1; _j <= _ref1; j = _j += 1) {
        c = seq[j];
        if (showLowerCase) {
          c = c.toUpperCase();
        }
        color = this.color.getColor(c, {
          pos: j
        });
        if (hidden.indexOf(j) >= 0) {
          color = "grey";
        }
        if (color != null) {
          this.ctx.fillStyle = color;
          this.ctx.fillRect(x, y, rectWidth, rectHeight);
        }
        x = x + rectWidth;
      }
    }
    return this._drawSelection();
  },
  _drawSelection: function() {
    var i, maxHeight, pos, rectHeight, rectWidth, sel, seq, _i, _ref;
    if (this.dragStart.length > 0 && !this.prolongSelection) {
      return;
    }
    rectWidth = this.g.zoomer.get("boxRectWidth");
    rectHeight = this.g.zoomer.get("boxRectHeight");
    maxHeight = rectHeight * this.model.length;
    this.ctx.fillStyle = "#ffff00";
    this.ctx.globalAlpha = 0.9;
    for (i = _i = 0, _ref = this.g.selcol.length - 1; _i <= _ref; i = _i += 1) {
      sel = this.g.selcol.at(i);
      if (sel.get('type') === 'column') {
        this.ctx.fillRect(rectWidth * sel.get('xStart'), 0, rectWidth * (sel.get('xEnd') - sel.get('xStart') + 1), maxHeight);
      } else if (sel.get('type') === 'row') {
        seq = (this.model.filter(function(el) {
          return el.get('id') === sel.get('seqId');
        }))[0];
        pos = this.model.indexOf(seq);
        this.ctx.fillRect(0, rectHeight * pos, rectWidth * seq.get('seq').length, rectHeight);
      } else if (sel.get('type') === 'pos') {
        seq = (this.model.filter(function(el) {
          return el.get('id') === sel.get('seqId');
        }))[0];
        pos = this.model.indexOf(seq);
        this.ctx.fillRect(rectWidth * sel.get('xStart'), rectHeight * pos, rectWidth * (sel.get('xEnd') - sel.get('xStart') + 1), rectHeight);
      }
    }
    return this.ctx.globalAlpha = 1;
  },
  _onclick: function(evt) {
    return this.g.trigger("meta:click", {
      seqId: this.model.get("id", {
        evt: evt
      })
    });
  },
  _onmousemove: function(e) {
    var rect;
    if (this.dragStart.length === 0) {
      return;
    }
    this.render();
    this.ctx.fillStyle = "#ffff00";
    this.ctx.globalAlpha = 0.9;
    rect = this._calcSelection(mouse.abs(e));
    this.ctx.fillRect(rect[0][0], rect[1][0], rect[0][1] - rect[0][0], rect[1][1] - rect[1][0]);
    e.preventDefault();
    return e.stopPropagation();
  },
  _onmousedown: function(e) {
    this.dragStart = mouse.abs(e);
    this.dragStartRel = mouse.rel(e);
    if (e.ctrlKey || e.metaKey) {
      this.prolongSelection = true;
    } else {
      this.prolongSelection = false;
    }
    jbone(document.body).on('mousemove.overmove', (function(_this) {
      return function(e) {
        return _this._onmousemove(e);
      };
    })(this));
    jbone(document.body).on('mouseup.overup', (function(_this) {
      return function(e) {
        return _this._onmouseup(e);
      };
    })(this));
    return this.dragStart;
  },
  _calcSelection: function(dragMove) {
    var dragRel, i, rect, _i, _j;
    dragRel = [dragMove[0] - this.dragStart[0], dragMove[1] - this.dragStart[1]];
    for (i = _i = 0; _i <= 1; i = _i += 1) {
      dragRel[i] = this.dragStartRel[i] + dragRel[i];
    }
    rect = [[this.dragStartRel[0], dragRel[0]], [this.dragStartRel[1], dragRel[1]]];
    for (i = _j = 0; _j <= 1; i = _j += 1) {
      if (rect[i][1] < rect[i][0]) {
        rect[i] = [rect[i][1], rect[i][0]];
      }
      rect[i][0] = Math.max(rect[i][0], 0);
    }
    return rect;
  },
  _endSelection: function(dragEnd) {
    var args, i, j, rect, selis, _i, _j, _k, _ref, _ref1;
    jbone(document.body).off('.overmove');
    jbone(document.body).off('.overup');
    if (this.dragStart.length === 0) {
      return;
    }
    rect = this._calcSelection(dragEnd);
    for (i = _i = 0; _i <= 1; i = ++_i) {
      rect[0][i] = Math.floor(rect[0][i] / this.g.zoomer.get("boxRectWidth"));
    }
    for (i = _j = 0; _j <= 1; i = ++_j) {
      rect[1][i] = Math.floor(rect[1][i] / this.g.zoomer.get("boxRectHeight"));
    }
    rect[0][1] = Math.min(this.model.getMaxLength() - 1, rect[0][1]);
    rect[1][1] = Math.min(this.model.length - 1, rect[1][1]);
    selis = [];
    for (j = _k = _ref = rect[1][0], _ref1 = rect[1][1]; _k <= _ref1; j = _k += 1) {
      args = {
        seqId: this.model.at(j).get('id'),
        xStart: rect[0][0],
        xEnd: rect[0][1]
      };
      selis.push(new selection.possel(args));
    }
    this.dragStart = [];
    if (this.prolongSelection) {
      this.g.selcol.add(selis);
    } else {
      this.g.selcol.reset(selis);
    }
    this.g.zoomer.setLeftOffset(rect[0][0]);
    return this.g.zoomer.setTopOffset(rect[1][0]);
  },
  _onmouseup: function(e) {
    return this._endSelection(mouse.abs(e));
  },
  _onmouseout: function(e) {
    return this._endSelection(mouse.abs(e));
  },
  _createCanvas: function() {
    var rectHeight, rectWidth;
    rectWidth = this.g.zoomer.get("boxRectWidth");
    rectHeight = this.g.zoomer.get("boxRectHeight");
    this.el.height = this.model.length * rectHeight;
    this.el.width = this.model.getMaxLength() * rectWidth;
    this.ctx = this.el.getContext("2d");
    this.el.style.overflow = "scroll";
    return this.el.style.cursor = "crosshair";
  }
});



},{"../g/selection/Selection":77,"backbone-viewj":9,"jbone":42,"mouse-pos":46,"underscore":66}],114:[function(require,module,exports){
var boneView, dom, k, sel, _;

boneView = require("backbone-childs");

_ = require('underscore');

k = require('koala-js');

dom = require('dom-helper');

sel = require("../g/selection/Selection");

module.exports = boneView.extend({
  initialize: function(data) {
    this.g = data.g;
    this.listenTo(this.g.user, "change:searchText", function(model, prop) {
      this.search(prop);
      return this.render();
    });
    this.sel = [];
    return this.selPos = 0;
  },
  events: {
    "scroll": "_sendScrollEvent"
  },
  render: function() {
    var searchText;
    this.renderSubviews();
    this.el.className = "biojs_msa_searchresult";
    searchText = this.g.user.get("searchText");
    if ((searchText != null) && searchText.length > 0) {
      if (this.sel.length === 0) {
        this.el.textContent = "no selection found";
      } else {
        this.resultBox = k.mk("div");
        this.resultBox.className = "biojs_msa_searchresult_ovbox";
        this.updateResult();
        this.el.appendChild(this.resultBox);
        this.el.appendChild(this.buildBtns());
      }
    }
    return this;
  },
  updateResult: function() {
    var seli, text;
    text = "search pattern: " + this.g.user.get("searchText");
    text += ", selection: " + (this.selPos + 1);
    seli = this.sel[this.selPos];
    text += " (";
    text += seli.get("xStart") + " - " + seli.get("xEnd");
    text += ", id: " + seli.get("seqId");
    text += ")";
    return this.resultBox.textContent = text;
  },
  buildBtns: function() {
    var allBtn, nextBtn, prevBtn, searchrow;
    prevBtn = k.mk("button");
    prevBtn.textContent = "Prev";
    prevBtn.addEventListener("click", (function(_this) {
      return function() {
        return _this.moveSel(-1);
      };
    })(this));
    nextBtn = k.mk("button");
    nextBtn.textContent = "Next";
    nextBtn.addEventListener("click", (function(_this) {
      return function() {
        return _this.moveSel(1);
      };
    })(this));
    allBtn = k.mk("button");
    allBtn.textContent = "All";
    allBtn.addEventListener("click", (function(_this) {
      return function() {
        return _this.g.selcol.reset(_this.sel);
      };
    })(this));
    searchrow = k.mk("div");
    searchrow.appendChild(prevBtn);
    searchrow.appendChild(nextBtn);
    searchrow.appendChild(allBtn);
    searchrow.className = "biojs_msa_searchresult_row";
    return searchrow;
  },
  moveSel: function(relDist) {
    var selNew;
    selNew = this.selPos + relDist;
    if (selNew < 0 || selNew >= this.sel.length) {
      return -1;
    } else {
      this.focus(selNew);
      this.selPos = selNew;
      return this.updateResult();
    }
  },
  focus: function(selPos) {
    var leftIndex, seli;
    seli = this.sel[selPos];
    leftIndex = seli.get("xStart");
    this.g.zoomer.setLeftOffset(leftIndex);
    return this.g.selcol.reset([seli]);
  },
  search: function(searchText) {
    var leftestIndex, newSeli, origIndex, search;
    search = new RegExp(searchText, "gi");
    newSeli = [];
    leftestIndex = origIndex = 100042;
    this.model.each(function(seq) {
      var args, index, match, strSeq, _results;
      strSeq = seq.get("seq");
      _results = [];
      while (match = search.exec(strSeq)) {
        index = match.index;
        args = {
          xStart: index,
          xEnd: index + match[0].length - 1,
          seqId: seq.get("id")
        };
        newSeli.push(new sel.possel(args));
        _results.push(leftestIndex = Math.min(index, leftestIndex));
      }
      return _results;
    });
    this.g.selcol.reset(newSeli);
    if (leftestIndex === origIndex) {
      leftestIndex = 0;
    }
    this.g.zoomer.setLeftOffset(leftestIndex);
    return this.sel = newSeli;
  }
});



},{"../g/selection/Selection":77,"backbone-childs":2,"dom-helper":41,"koala-js":43,"underscore":66}],115:[function(require,module,exports){
var AlignmentBody, HeaderBlock, OverviewBox, Search, boneView, _;

boneView = require("backbone-childs");

AlignmentBody = require("./AlignmentBody");

HeaderBlock = require("./header/HeaderBlock");

OverviewBox = require("./OverviewBox");

Search = require("./Search");

_ = require('underscore');

module.exports = boneView.extend({
  initialize: function(data) {
    this.g = data.g;
    this.draw();
    this.listenTo(this.g.stats, "reset", function() {
      return this.rerender();
    });
    this.listenTo(this.model, "change:hidden", _.debounce(this.rerender, 10));
    this.listenTo(this.model, "sort", this.rerender);
    this.listenTo(this.model, "add", function() {
      return console.log("seq add");
    });
    this.listenTo(this.g.vis, "change:sequences", this.rerender);
    this.listenTo(this.g.vis, "change:overviewbox", this.rerender);
    return this.listenTo(this.g.visorder, "change", this.rerender);
  },
  draw: function() {
    var body, headerblock, overviewbox, searchblock;
    this.removeViews();
    if (this.g.vis.get("overviewbox")) {
      overviewbox = new OverviewBox({
        model: this.model,
        g: this.g
      });
      overviewbox.ordering = this.g.visorder.get('overviewBox');
      this.addView("overviewBox", overviewbox);
    }
    if (true) {
      headerblock = new HeaderBlock({
        model: this.model,
        g: this.g
      });
      headerblock.ordering = this.g.visorder.get('headerBox');
      this.addView("headerBox", headerblock);
    }
    if (true) {
      searchblock = new Search({
        model: this.model,
        g: this.g
      });
      searchblock.ordering = this.g.visorder.get('searchBox');
      this.addView("searchbox", searchblock);
    }
    body = new AlignmentBody({
      model: this.model,
      g: this.g
    });
    body.ordering = this.g.visorder.get('alignmentBody');
    return this.addView("body", body);
  },
  render: function() {
    this.renderSubviews();
    this.el.className = "biojs_msa_stage";
    return this;
  },
  rerender: function() {
    this.draw();
    return this.render();
  }
});



},{"./AlignmentBody":112,"./OverviewBox":113,"./Search":114,"./header/HeaderBlock":123,"backbone-childs":2,"underscore":66}],116:[function(require,module,exports){
var CanvasCharCache, Events;

Events = require("biojs-events");

module.exports = CanvasCharCache = (function() {
  function CanvasCharCache(_at_g) {
    this.g = _at_g;
    this.cache = {};
    this.cacheHeight = 0;
    this.cacheWidth = 0;
  }

  CanvasCharCache.prototype.getFontTile = function(letter, width, height) {
    if (width !== this.cacheWidth || height !== this.cacheHeight) {
      this.cacheHeight = height;
      this.cacheWidth = width;
      this.cache = {};
    }
    if (this.cache[letter] === void 0) {
      this.createTile(letter, width, height);
    }
    return this.cache[letter];
  };

  CanvasCharCache.prototype.createTile = function(letter, width, height) {
    var canvas;
    canvas = this.cache[letter] = document.createElement("canvas");
    canvas.width = width;
    canvas.height = height;
    this.ctx = canvas.getContext('2d');
    this.ctx.font = this.g.zoomer.get("residueFont") + "px mono";
    this.ctx.textBaseline = 'middle';
    this.ctx.textAlign = "center";
    return this.ctx.fillText(letter, width / 2, height / 2, width);
  };

  return CanvasCharCache;

})();



},{"biojs-events":13}],117:[function(require,module,exports){
var Events, cache, cacheConstructor, _;

_ = require("underscore");

Events = require("biojs-events");

cache = {
  setMaxScrollHeight: function() {
    return this.maxScrollHeight = this.g.zoomer.getMaxAlignmentHeight() - this.g.zoomer.get('alignmentHeight');
  },
  setMaxScrollWidth: function() {
    return this.maxScrollWidth = this.g.zoomer.getMaxAlignmentWidth() - this.g.zoomer.getAlignmentWidth();
  }
};

module.exports = cacheConstructor = function(g, model) {
  this.g = g;
  this.model = model;
  this.maxScrollWidth = 0;
  this.maxScrollHeight = 0;
  this.setMaxScrollHeight();
  this.setMaxScrollWidth();
  this.listenTo(this.g.zoomer, "change:rowHeight", this.setMaxScrollHeight);
  this.listenTo(this.g.zoomer, "change:columnWidth", this.setMaxScrollWidth);
  this.listenTo(this.g.zoomer, "change:alignmentWidth", this.setMaxScrollWidth);
  this.listenTo(this.g.zoomer, "change:alignmentHeight", this.setMaxScrollHeight);
  this.listenTo(this.model, "add change reset", function() {
    this.setMaxScrollHeight();
    return this.setMaxScrollWidth();
  }, this);
  return this;
};

_.extend(cacheConstructor.prototype, cache);

Events.mixin(cacheConstructor.prototype);



},{"biojs-events":13,"underscore":66}],118:[function(require,module,exports){
var SelectionClass, _;

_ = require("underscore");

module.exports = SelectionClass = function(g, ctx) {
  this.g = g;
  this.ctx = ctx;
  return this;
};

_.extend(SelectionClass.prototype, {
  _getSelection: function(model) {
    var maxLen, n, rows, sel, selection, sels, _i, _j, _k, _len, _ref, _ref1, _ref2;
    maxLen = model.get("seq").length;
    selection = [];
    sels = this.g.selcol.getSelForRow(model.get("id"));
    rows = _.find(sels, function(el) {
      return el.get("type") === "row";
    });
    if (rows != null) {
      for (n = _i = 0, _ref = maxLen - 1; _i <= _ref; n = _i += 1) {
        selection.push(n);
      }
    } else if (sels.length > 0) {
      for (_j = 0, _len = sels.length; _j < _len; _j++) {
        sel = sels[_j];
        for (n = _k = _ref1 = sel.get("xStart"), _ref2 = sel.get("xEnd"); _k <= _ref2; n = _k += 1) {
          selection.push(n);
        }
      }
    }
    return selection;
  },
  _appendSelection: function(data) {
    var boxHeight, boxWidth, hiddenOffset, k, mNextSel, mPrevSel, n, selection, seq, _i, _ref, _ref1, _results;
    seq = data.model.get("seq");
    selection = this._getSelection(data.model);
    _ref = this._getPrevNextSelection(data.model), mPrevSel = _ref[0], mNextSel = _ref[1];
    boxWidth = this.g.zoomer.get("columnWidth");
    boxHeight = this.g.zoomer.get("rowHeight");
    if (selection.length === 0) {
      return;
    }
    hiddenOffset = 0;
    _results = [];
    for (n = _i = 0, _ref1 = seq.length - 1; _i <= _ref1; n = _i += 1) {
      if (data.hidden.indexOf(n) >= 0) {
        _results.push(hiddenOffset++);
      } else {
        k = n - hiddenOffset;
        if (selection.indexOf(n) >= 0 && (k === 0 || selection.indexOf(n - 1) < 0)) {
          _results.push(this._renderSelection({
            n: n,
            k: k,
            selection: selection,
            mPrevSel: mPrevSel,
            mNextSel: mNextSel,
            xZero: data.xZero,
            yZero: data.yZero,
            model: data.model
          }));
        } else {
          _results.push(void 0);
        }
      }
    }
    return _results;
  },
  _renderSelection: function(data) {
    var beforeStyle, beforeWidth, boxHeight, boxWidth, hidden, i, k, mNextSel, mPrevSel, n, selection, selectionLength, totalWidth, xPart, xPos, xZero, yZero, _i, _j, _ref, _ref1;
    xZero = data.xZero;
    yZero = data.yZero;
    n = data.n;
    k = data.k;
    selection = data.selection;
    mPrevSel = data.mPrevSel;
    mNextSel = data.mNextSel;
    selectionLength = 0;
    for (i = _i = n, _ref = data.model.get("seq").length - 1; _i <= _ref; i = _i += 1) {
      if (selection.indexOf(i) >= 0) {
        selectionLength++;
      } else {
        break;
      }
    }
    boxWidth = this.g.zoomer.get("columnWidth");
    boxHeight = this.g.zoomer.get("rowHeight");
    totalWidth = (boxWidth * selectionLength) + 1;
    hidden = this.g.columns.get('hidden');
    this.ctx.beginPath();
    beforeWidth = this.ctx.lineWidth;
    this.ctx.lineWidth = 3;
    beforeStyle = this.ctx.strokeStyle;
    this.ctx.strokeStyle = "#FF0000";
    xZero += k * boxWidth;
    xPart = 0;
    for (i = _j = 0, _ref1 = selectionLength - 1; 0 <= _ref1 ? _j <= _ref1 : _j >= _ref1; i = 0 <= _ref1 ? ++_j : --_j) {
      xPos = n + i;
      if (hidden.indexOf(xPos) >= 0) {
        continue;
      }
      if (!((mPrevSel != null) && mPrevSel.indexOf(xPos) >= 0)) {
        this.ctx.moveTo(xZero + xPart, yZero);
        this.ctx.lineTo(xPart + boxWidth + xZero, yZero);
      }
      if (!((mNextSel != null) && mNextSel.indexOf(xPos) >= 0)) {
        this.ctx.moveTo(xPart + xZero, boxHeight + yZero);
        this.ctx.lineTo(xPart + boxWidth + xZero, boxHeight + yZero);
      }
      xPart += boxWidth;
    }
    this.ctx.moveTo(xZero, yZero);
    this.ctx.lineTo(xZero, boxHeight + yZero);
    this.ctx.moveTo(xZero + totalWidth, yZero);
    this.ctx.lineTo(xZero + totalWidth, boxHeight + yZero);
    this.ctx.stroke();
    this.ctx.strokeStyle = beforeStyle;
    return this.ctx.lineWidth = beforeWidth;
  },
  _getPrevNextSelection: function(model) {
    var mNextSel, mPrevSel, modelNext, modelPrev;
    modelPrev = model.collection.prev(model);
    modelNext = model.collection.next(model);
    if (modelPrev != null) {
      mPrevSel = this._getSelection(modelPrev);
    }
    if (modelNext != null) {
      mNextSel = this._getSelection(modelNext);
    }
    return [mPrevSel, mNextSel];
  }
});



},{"underscore":66}],119:[function(require,module,exports){
var CanvasCoordsCache, CanvasSeqDrawer, CharCache, SelectionClass, boneView, jbone, mouse, _;

boneView = require("backbone-childs");

mouse = require("mouse-pos");

_ = require("underscore");

jbone = require("jbone");

CharCache = require("./CanvasCharCache");

SelectionClass = require("./CanvasSelection");

CanvasSeqDrawer = require("./CanvasSeqDrawer");

CanvasCoordsCache = require("./CanvasCoordsCache");

module.exports = boneView.extend({
  tagName: "canvas",
  initialize: function(data) {
    this.g = data.g;
    this.listenTo(this.g.zoomer, "change:_alignmentScrollLeft change:_alignmentScrollTop", function(model, value, options) {
      if (((options != null ? options.origin : void 0) == null) || options.origin !== "canvasseq") {
        return this.render();
      }
    });
    this.listenTo(this.g.columns, "change:hidden", this.render);
    this.listenTo(this.g.zoomer, "change:alignmentWidth change:alignmentHeight", this.render);
    this.listenTo(this.g.colorscheme, "change", this.render);
    this.listenTo(this.g.selcol, "reset add", this.render);
    this.el.style.display = "inline-block";
    this.el.style.overflowX = "hidden";
    this.el.style.overflowY = "hidden";
    this.el.className = "biojs_msa_seqblock";
    this.ctx = this.el.getContext('2d');
    this.cache = new CharCache(this.g);
    this.coordsCache = new CanvasCoordsCache(this.g, this.model);
    this.listenTo(this.g.zoomer, "change:residueFont", function() {
      this.cache = new CharCache(this.g);
      return this.render();
    });
    this.sel = new SelectionClass(this.g, this.ctx);
    this._setColor();
    this.throttleTime = 0;
    this.throttleCounts = 0;
    if (document.documentElement.style.webkitAppearance != null) {
      this.throttledDraw = function() {
        var start, tTime;
        start = +new Date();
        this.draw();
        this.throttleTime += +new Date() - start;
        this.throttleCounts++;
        if (this.throttleCounts > 15) {
          tTime = Math.ceil(this.throttleTime / this.throttleCounts);
          console.log("avgDrawTime/WebKit", tTime);
          return this.throttledDraw = this.draw;
        }
      };
    } else {
      this.throttledDraw = _.throttle(this.throttledDraw, 30);
    }
    return this.manageEvents();
  },
  throttledDraw: function() {
    var start, tTime;
    start = +new Date();
    this.draw();
    this.throttleTime += +new Date() - start;
    this.throttleCounts++;
    if (this.throttleCounts > 15) {
      tTime = Math.ceil(this.throttleTime / this.throttleCounts);
      console.log("avgDrawTime", tTime);
      tTime *= 1.2;
      tTime = Math.max(20, tTime);
      return this.throttledDraw = _.throttle(this.draw, tTime);
    }
  },
  manageEvents: function() {
    var events;
    events = {};
    events.mousedown = "_onmousedown";
    events.touchstart = "_ontouchstart";
    if (this.g.config.get("registerMouseClicks")) {
      events.dblclick = "_onclick";
    }
    if (this.g.config.get("registerMouseHover")) {
      events.mousein = "_onmousein";
      events.mouseout = "_onmouseout";
    }
    events.mousewheel = "_onmousewheel";
    events.DOMMouseScroll = "_onmousewheel";
    this.delegateEvents(events);
    this.listenTo(this.g.config, "change:registerMouseHover", this.manageEvents);
    this.listenTo(this.g.config, "change:registerMouseClick", this.manageEvents);
    return this.dragStart = [];
  },
  _setColor: function() {
    return this.color = this.g.colorscheme.getSelectedScheme();
  },
  draw: function() {
    this.el.width = this.el.width;
    if ((this.seqDrawer != null) && this.model.length > 0) {
      this.seqDrawer.drawLetters();
      this.seqDrawer.drawRows(this.sel._appendSelection, this.sel);
      return this.seqDrawer.drawRows(this.drawFeatures, this);
    }
  },
  drawFeatures: function(data) {
    var ctx, rectHeight, rectWidth;
    rectWidth = this.g.zoomer.get("columnWidth");
    rectHeight = this.g.zoomer.get("rowHeight");
    if (data.model.attributes.height > 1) {
      ctx = this.ctx;
      data.model.attributes.features.each(function(feature) {
        var len, y;
        ctx.fillStyle = feature.attributes.fillColor || "red";
        len = feature.attributes.xEnd - feature.attributes.xStart + 1;
        y = (feature.attributes.row + 1) * rectHeight;
        return ctx.fillRect(feature.attributes.xStart * rectWidth + data.xZero, y + data.yZero, rectWidth * len, rectHeight);
      });
      ctx.fillStyle = "black";
      ctx.font = this.g.zoomer.get("residueFont") + "px mono";
      ctx.textBaseline = 'middle';
      ctx.textAlign = "center";
      return data.model.attributes.features.each(function(feature) {
        var len, y;
        len = feature.attributes.xEnd - feature.attributes.xStart + 1;
        y = (feature.attributes.row + 1) * rectHeight;
        return ctx.fillText(feature.attributes.text, data.xZero + feature.attributes.xStart * rectWidth + (len / 2) * rectWidth, data.yZero + rectHeight * 0.5 + y);
      });
    }
  },
  render: function() {
    this.el.setAttribute('height', this.g.zoomer.get("alignmentHeight") + "px");
    this.el.setAttribute('width', this.g.zoomer.getAlignmentWidth() + "px");
    this.g.zoomer._checkScrolling(this._checkScrolling([this.g.zoomer.get('_alignmentScrollLeft'), this.g.zoomer.get('_alignmentScrollTop')]), {
      header: "canvasseq"
    });
    this._setColor();
    this.seqDrawer = new CanvasSeqDrawer(this.g, this.ctx, this.model, {
      width: this.el.width,
      height: this.el.height,
      color: this.color,
      cache: this.cache
    });
    this.throttledDraw();
    return this;
  },
  _onmousemove: function(e, reversed) {
    var dragEnd, i, relDist, relEnd, scaleFactor, scrollCorrected, _i, _j, _k;
    if (this.dragStart.length === 0) {
      return;
    }
    dragEnd = mouse.abs(e);
    relEnd = [dragEnd[0] - this.dragStart[0], dragEnd[1] - this.dragStart[1]];
    scaleFactor = this.g.zoomer.get("canvasEventScale");
    if (reversed) {
      scaleFactor = 3;
    }
    for (i = _i = 0; _i <= 1; i = _i += 1) {
      relEnd[i] = relEnd[i] * scaleFactor;
    }
    relDist = [this.dragStartScroll[0] - relEnd[0], this.dragStartScroll[1] - relEnd[1]];
    for (i = _j = 0; _j <= 1; i = _j += 1) {
      relDist[i] = Math.round(relDist[i]);
    }
    scrollCorrected = this._checkScrolling(relDist);
    this.g.zoomer._checkScrolling(scrollCorrected, {
      origin: "canvasseq"
    });
    for (i = _k = 0; _k <= 1; i = _k += 1) {
      if (scrollCorrected[i] !== relDist[i]) {
        if (scrollCorrected[i] === 0) {
          this.dragStart[i] = dragEnd[i];
          this.dragStartScroll[i] = 0;
        } else {
          this.dragStart[i] = dragEnd[i] - scrollCorrected[i];
        }
      }
    }
    this.throttledDraw();
    if (e.preventDefault != null) {
      e.preventDefault();
      return e.stopPropagation();
    }
  },
  _ontouchmove: function(e) {
    this._onmousemove(e.changedTouches[0], true);
    e.preventDefault();
    return e.stopPropagation();
  },
  _onmousedown: function(e) {
    this.dragStart = mouse.abs(e);
    this.dragStartScroll = [this.g.zoomer.get('_alignmentScrollLeft'), this.g.zoomer.get('_alignmentScrollTop')];
    jbone(document.body).on('mousemove.overmove', (function(_this) {
      return function(e) {
        return _this._onmousemove(e);
      };
    })(this));
    jbone(document.body).on('mouseup.overup', (function(_this) {
      return function() {
        return _this._cleanup();
      };
    })(this));
    return e.preventDefault();
  },
  _ontouchstart: function(e) {
    this.dragStart = mouse.abs(e.changedTouches[0]);
    this.dragStartScroll = [this.g.zoomer.get('_alignmentScrollLeft'), this.g.zoomer.get('_alignmentScrollTop')];
    jbone(document.body).on('touchmove.overtmove', (function(_this) {
      return function(e) {
        return _this._ontouchmove(e);
      };
    })(this));
    return jbone(document.body).on('touchend.overtend touchleave.overtleave touchcancel.overtcanel', (function(_this) {
      return function(e) {
        return _this._touchCleanup(e);
      };
    })(this));
  },
  _onmousewinout: function(e) {
    if (e.toElement === document.body.parentNode) {
      return this._cleanup();
    }
  },
  _cleanup: function() {
    this.dragStart = [];
    jbone(document.body).off('.overmove');
    jbone(document.body).off('.overup');
    return jbone(document.body).off('.overout');
  },
  _touchCleanup: function(e) {
    if (e.changedTouches.length > 0) {
      this._onmousemove(e.changedTouches[0], true);
    }
    this.dragStart = [];
    jbone(document.body).off('.overtmove');
    jbone(document.body).off('.overtend');
    jbone(document.body).off('.overtleave');
    return jbone(document.body).off('.overtcancel');
  },
  _onmousewheel: function(e) {
    var delta;
    delta = mouse.wheelDelta(e);
    this.g.zoomer.set('_alignmentScrollLeft', this.g.zoomer.get('_alignmentScrollLeft') + delta[0]);
    this.g.zoomer.set('_alignmentScrollTop', this.g.zoomer.get('_alignmentScrollTop') + delta[1]);
    return e.preventDefault();
  },
  _onclick: function(e) {
    var res;
    res = this._getClickPos(e);
    if (res != null) {
      if (res.feature != null) {
        this.g.trigger("feature:click", res);
      } else {
        this.g.trigger("residue:click", res);
      }
    }
    return this.throttledDraw();
  },
  _onmousein: function(e) {
    var res;
    res = this._getClickPos(e);
    if (res != null) {
      if (res.feature != null) {
        this.g.trigger("feature:mousein", res);
      } else {
        this.g.trigger("residue:mousein", res);
      }
    }
    return this.throttledDraw();
  },
  _onmouseout: function(e) {
    var res;
    res = this._getClickPos(e);
    if (res != null) {
      if (res.feature != null) {
        this.g.trigger("feature:mouseout", res);
      } else {
        this.g.trigger("residue:mouseout", res);
      }
    }
    return this.throttledDraw();
  },
  _getClickPos: function(e) {
    var coords, feature, features, rowNumber, seqId, x, y, _ref;
    coords = mouse.rel(e);
    coords[0] += this.g.zoomer.get("_alignmentScrollLeft");
    x = Math.floor(coords[0] / this.g.zoomer.get("columnWidth"));
    _ref = this.seqDrawer._getSeqForYClick(coords[1]), y = _ref[0], rowNumber = _ref[1];
    x += this.g.columns.calcHiddenColumns(x);
    y += this.model.calcHiddenSeqs(y);
    x = Math.max(0, x);
    y = Math.max(0, y);
    seqId = this.model.at(y).get("id");
    if (rowNumber > 0) {
      features = this.model.at(y).get("features").getFeatureOnRow(rowNumber - 1, x);
      if (features.length !== 0) {
        feature = features[0];
        console.log(features[0].attributes);
        return {
          seqId: seqId,
          feature: feature,
          rowPos: x,
          evt: e
        };
      }
    } else {
      return {
        seqId: seqId,
        rowPos: x,
        evt: e
      };
    }
  },
  _checkScrolling: function(scrollObj) {
    var i, max, _i;
    max = [this.coordsCache.maxScrollWidth, this.coordsCache.maxScrollHeight];
    for (i = _i = 0; _i <= 1; i = _i += 1) {
      if (scrollObj[i] > max[i]) {
        scrollObj[i] = max[i];
      }
      if (scrollObj[i] < 0) {
        scrollObj[i] = 0;
      }
    }
    return scrollObj;
  }
});



},{"./CanvasCharCache":116,"./CanvasCoordsCache":117,"./CanvasSelection":118,"./CanvasSeqDrawer":120,"backbone-childs":2,"jbone":42,"mouse-pos":46,"underscore":66}],120:[function(require,module,exports){
var construc, drawer, _;

_ = require("underscore");

drawer = {
  drawLetters: function() {
    var rectHeight;
    rectHeight = this.rectHeight;
    this.ctx.globalAlpha = this.g.colorscheme.get("opacity");
    this.drawSeqs(function(data) {
      return this.drawSeq(data, this._drawRect);
    });
    this.ctx.globalAlpha = 1;
    return this.drawSeqs(function(data) {
      return this.drawSeq(data, this._drawLetter);
    });
  },
  drawSeqs: function(callback, target) {
    var hidden, i, seq, seqHeight, start, y, _i, _ref, _ref1, _results;
    hidden = this.g.columns.get("hidden");
    target = target || this;
    _ref = this.getStartSeq(), start = _ref[0], y = _ref[1];
    _results = [];
    for (i = _i = start, _ref1 = this.model.length - 1; _i <= _ref1; i = _i += 1) {
      seq = this.model.at(i);
      if (seq.get('hidden')) {
        continue;
      }
      callback.call(target, {
        model: seq,
        yPos: y,
        y: i,
        hidden: hidden
      });
      seqHeight = (seq.attributes.height || 1) * this.rectHeight;
      y = y + seqHeight;
      if (y > this.height) {
        break;
      } else {
        _results.push(void 0);
      }
    }
    return _results;
  },
  drawRows: function(callback, target) {
    return this.drawSeqs(function(data) {
      return this.drawRow(data, callback, target);
    });
  },
  drawRow: function(data, callback, target) {
    var rectWidth, start, x, xZero, yZero;
    rectWidth = this.g.zoomer.get("columnWidth");
    start = Math.max(0, Math.abs(Math.ceil(-this.g.zoomer.get('_alignmentScrollLeft') / rectWidth)));
    x = -Math.abs(-this.g.zoomer.get('_alignmentScrollLeft') % rectWidth);
    xZero = x - start * rectWidth;
    yZero = data.yPos;
    return callback.call(target, {
      model: data.model,
      xZero: xZero,
      yZero: yZero,
      hidden: data.hidden
    });
  },
  getStartSeq: function() {
    var counter, i, start, y;
    start = (Math.max(0, Math.floor(this.g.zoomer.get('_alignmentScrollTop') / this.rectHeight))) + 1;
    counter = 0;
    i = 0;
    while (counter < start && i < this.model.length) {
      counter += this.model.at(i).attributes.height || 1;
      i++;
    }
    y = Math.max(0, this.g.zoomer.get('_alignmentScrollTop') - counter * this.rectHeight + (this.model.at(i - 1).attributes.height || 1) * this.rectHeight);
    return [i - 1, -y];
  },
  _getSeqForYClick: function(click) {
    var clickedRows, counter, i, rowNumber, start, yDiff, yRel, _ref;
    _ref = this.getStartSeq(), start = _ref[0], yDiff = _ref[1];
    yRel = yDiff % this.rectHeight;
    clickedRows = (Math.max(0, Math.floor((click - yRel) / this.rectHeight))) + 1;
    counter = 0;
    i = start;
    while (counter < clickedRows && i < this.model.length) {
      counter += this.model.at(i).attributes.height || 1;
      i++;
    }
    rowNumber = Math.max(0, Math.floor(click / this.rectHeight) - counter + (this.model.at(i - 1).get("height") || 1));
    return [i - 1, rowNumber];
  },
  drawSeq: function(data, callback) {
    var c, elWidth, j, rectHeight, rectWidth, res, seq, start, x, y, _i, _ref, _results;
    seq = data.model.get("seq");
    y = data.yPos;
    rectWidth = this.rectWidth;
    rectHeight = this.rectHeight;
    start = Math.max(0, Math.abs(Math.ceil(-this.g.zoomer.get('_alignmentScrollLeft') / rectWidth)));
    x = -Math.abs(-this.g.zoomer.get('_alignmentScrollLeft') % rectWidth);
    res = {
      rectWidth: rectWidth,
      rectHeight: rectHeight,
      yPos: y,
      y: data.y
    };
    elWidth = this.width;
    _results = [];
    for (j = _i = start, _ref = seq.length - 1; _i <= _ref; j = _i += 1) {
      c = seq[j];
      c = c.toUpperCase();
      res.x = j;
      res.c = c;
      res.xPos = x;
      if (data.hidden.indexOf(j) < 0) {
        callback(this, res);
      } else {
        continue;
      }
      x = x + rectWidth;
      if (x > elWidth) {
        break;
      } else {
        _results.push(void 0);
      }
    }
    return _results;
  },
  _drawRect: function(that, data) {
    var color;
    color = that.color.getColor(data.c, {
      pos: data.x,
      y: data.y
    });
    if (color != null) {
      that.ctx.fillStyle = color;
      return that.ctx.fillRect(data.xPos, data.yPos, data.rectWidth, data.rectHeight);
    }
  },
  _drawLetter: function(that, data) {
    return that.ctx.drawImage(that.cache.getFontTile(data.c, data.rectWidth, data.rectHeight), data.xPos, data.yPos, data.rectWidth, data.rectHeight);
  }
};

module.exports = construc = function(g, ctx, model, opts) {
  this.g = g;
  this.ctx = ctx;
  this.model = model;
  this.width = opts.width;
  this.height = opts.height;
  this.color = opts.color;
  this.cache = opts.cache;
  this.rectHeight = this.g.zoomer.get("rowHeight");
  this.rectWidth = this.g.zoomer.get("columnWidth");
  return this;
};

_.extend(construc.prototype, drawer);



},{"underscore":66}],121:[function(require,module,exports){
var ConservationView, dom, svg, view;

view = require("backbone-viewj");

dom = require("dom-helper");

svg = require("../../utils/svg");

ConservationView = view.extend({
  className: "biojs_msa_conserv",
  initialize: function(data) {
    this.g = data.g;
    this.listenTo(this.g.zoomer, "change:stepSize change:labelWidth change:columnWidth", this.render);
    this.listenTo(this.g.vis, "change:labels change:metacell", this.render);
    this.listenTo(this.g.columns, "change:scaling", this.render);
    this.listenTo(this.g.stats, "reset", this.render);
    return this.manageEvents();
  },
  render: function() {
    var avgHeight, cellWidth, conserv, height, hidden, i, maxHeight, n, nMax, rect, s, stepSize, width, x, _i, _ref;
    conserv = this.g.stats.scale(this.g.stats.conservation());
    dom.removeAllChilds(this.el);
    nMax = this.model.getMaxLength();
    cellWidth = this.g.zoomer.get("columnWidth");
    maxHeight = 20;
    width = cellWidth * (nMax - this.g.columns.get('hidden').length);
    s = svg.base({
      height: maxHeight,
      width: width
    });
    s.style.display = "inline-block";
    s.style.cursor = "pointer";
    stepSize = this.g.zoomer.get("stepSize");
    hidden = this.g.columns.get("hidden");
    x = 0;
    n = 0;
    while (n < nMax) {
      if (hidden.indexOf(n) >= 0) {
        n += stepSize;
        continue;
      }
      width = cellWidth * stepSize;
      avgHeight = 0;
      for (i = _i = 0, _ref = stepSize - 1; 0 <= _ref ? _i <= _ref : _i >= _ref; i = 0 <= _ref ? ++_i : --_i) {
        avgHeight += conserv[n];
      }
      height = maxHeight * (avgHeight / stepSize);
      rect = svg.rect({
        x: x,
        y: maxHeight - height,
        width: width - cellWidth / 4,
        height: height,
        style: "stroke:red;stroke-width:1;"
      });
      rect.rowPos = n;
      s.appendChild(rect);
      x += width;
      n += stepSize;
    }
    this.el.appendChild(s);
    return this;
  },
  _onclick: function(evt) {
    var i, rowPos, stepSize, _i, _ref, _results;
    rowPos = evt.target.rowPos;
    stepSize = this.g.zoomer.get("stepSize");
    _results = [];
    for (i = _i = 0, _ref = stepSize - 1; _i <= _ref; i = _i += 1) {
      _results.push(this.g.trigger("bar:click", {
        rowPos: rowPos + i,
        evt: evt
      }));
    }
    return _results;
  },
  manageEvents: function() {
    var events;
    events = {};
    if (this.g.config.get("registerMouseClicks")) {
      events.click = "_onclick";
    }
    if (this.g.config.get("registerMouseHover")) {
      events.mousein = "_onmousein";
      events.mouseout = "_onmouseout";
    }
    this.delegateEvents(events);
    this.listenTo(this.g.config, "change:registerMouseHover", this.manageEvents);
    return this.listenTo(this.g.config, "change:registerMouseClick", this.manageEvents);
  },
  _onmousein: function(evt) {
    var rowPos;
    rowPos = this.g.zoomer.get("stepSize" * evt.rowPos);
    return this.g.trigger("bar:mousein", {
      rowPos: rowPos,
      evt: evt
    });
  },
  _onmouseout: function(evt) {
    var rowPos;
    rowPos = this.g.zoomer.get("stepSize" * evt.rowPos);
    return this.g.trigger("bar:mouseout", {
      rowPos: rowPos,
      evt: evt
    });
  }
});

module.exports = ConservationView;



},{"../../utils/svg":110,"backbone-viewj":9,"dom-helper":41}],122:[function(require,module,exports){
var ConservationView, dom, svg, view;

view = require("backbone-viewj");

dom = require("dom-helper");

svg = require("../../utils/svg");

ConservationView = view.extend({
  className: "biojs_msa_gapview",
  initialize: function(data) {
    this.g = data.g;
    this.listenTo(this.g.zoomer, "change:stepSize change:labelWidth change:columnWidth", this.render);
    this.listenTo(this.g.vis, "change:labels change:metacell", this.render);
    this.listenTo(this.g.columns, "change:scaling", this.render);
    this.listenTo(this.model, "reset", this.render);
    return this.manageEvents();
  },
  render: function() {
    var avgHeight, cellWidth, gaps, height, hidden, i, maxHeight, n, nMax, rect, s, stepSize, width, x, _i, _ref;
    gaps = this.g.stats.gaps();
    dom.removeAllChilds(this.el);
    nMax = this.model.getMaxLength();
    cellWidth = this.g.zoomer.get("columnWidth");
    maxHeight = 20;
    width = cellWidth * (nMax - this.g.columns.get('hidden').length);
    s = svg.base({
      height: maxHeight,
      width: width
    });
    s.style.display = "inline-block";
    s.style.cursor = "pointer";
    stepSize = this.g.zoomer.get("stepSize");
    hidden = this.g.columns.get("hidden");
    x = 0;
    n = 0;
    while (n < nMax) {
      if (hidden.indexOf(n) >= 0) {
        n += stepSize;
        continue;
      }
      width = cellWidth * stepSize;
      avgHeight = 0;
      for (i = _i = 0, _ref = stepSize - 1; 0 <= _ref ? _i <= _ref : _i >= _ref; i = 0 <= _ref ? ++_i : --_i) {
        avgHeight += gaps[n];
      }
      height = maxHeight * (avgHeight / stepSize);
      rect = svg.rect({
        x: x,
        y: maxHeight - height,
        width: width - cellWidth / 4,
        height: height,
        style: "stroke:red;stroke-width:1;"
      });
      rect.rowPos = n;
      s.appendChild(rect);
      x += width;
      n += stepSize;
    }
    this.el.appendChild(s);
    return this;
  },
  _onclick: function(evt) {
    var i, rowPos, stepSize, _i, _ref, _results;
    rowPos = evt.target.rowPos;
    stepSize = this.g.zoomer.get("stepSize");
    _results = [];
    for (i = _i = 0, _ref = stepSize - 1; _i <= _ref; i = _i += 1) {
      _results.push(this.g.trigger("gap:click", {
        rowPos: rowPos + i,
        evt: evt
      }));
    }
    return _results;
  },
  manageEvents: function() {
    var events;
    events = {};
    if (this.g.config.get("registerMouseClicks")) {
      events.click = "_onclick";
    }
    if (this.g.config.get("registerMouseHover")) {
      events.mousein = "_onmousein";
      events.mouseout = "_onmouseout";
    }
    this.delegateEvents(events);
    this.listenTo(this.g.config, "change:registerMouseHover", this.manageEvents);
    return this.listenTo(this.g.config, "change:registerMouseClick", this.manageEvents);
  },
  _onmousein: function(evt) {
    var rowPos;
    rowPos = this.g.zoomer.get("stepSize" * evt.rowPos);
    return this.g.trigger("gap:mousein", {
      rowPos: rowPos,
      evt: evt
    });
  },
  _onmouseout: function(evt) {
    var rowPos;
    rowPos = this.g.zoomer.get("stepSize" * evt.rowPos);
    return this.g.trigger("gap:mouseout", {
      rowPos: rowPos,
      evt: evt
    });
  }
});

module.exports = ConservationView;



},{"../../utils/svg":110,"backbone-viewj":9,"dom-helper":41}],123:[function(require,module,exports){
var LabelHeader, RightLabelHeader, boneView;

boneView = require("backbone-childs");

LabelHeader = require("./LabelHeader");

RightLabelHeader = require("./RightHeaderBlock");

module.exports = boneView.extend({
  initialize: function(data) {
    this.g = data.g;
    this.draw();
    return this.listenTo(this.g.vis, "change:labels change:metacell change:leftHeader", (function(_this) {
      return function() {
        _this.draw();
        return _this.render();
      };
    })(this));
  },
  draw: function() {
    var lHeader, rHeader;
    this.removeViews();
    if (this.g.vis.get("leftHeader") && (this.g.vis.get("labels") || this.g.vis.get("metacell"))) {
      lHeader = new LabelHeader({
        model: this.model,
        g: this.g
      });
      lHeader.ordering = -50;
      this.addView("lHeader", lHeader);
    }
    rHeader = new RightLabelHeader({
      model: this.model,
      g: this.g
    });
    rHeader.ordering = 0;
    return this.addView("rHeader", rHeader);
  },
  render: function() {
    this.renderSubviews();
    return this.el.className = "biojs_msa_header";
  }
});



},{"./LabelHeader":124,"./RightHeaderBlock":126,"backbone-childs":2}],124:[function(require,module,exports){
var LabelHeader, dom, k, view;

k = require("koala-js");

view = require("backbone-viewj");

dom = require("dom-helper");

module.exports = LabelHeader = view.extend({
  className: "biojs_msa_headers",
  initialize: function(data) {
    this.g = data.g;
    this.listenTo(this.g.vis, "change:metacell change:labels", this.render);
    return this.listenTo(this.g.zoomer, "change:labelWidth change:metaWidth", this.render);
  },
  render: function() {
    var width;
    dom.removeAllChilds(this.el);
    width = 0;
    width += this.g.zoomer.getLeftBlockWidth();
    this.el.style.width = width + "px";
    if (this.g.vis.get("labels")) {
      this.el.appendChild(this.labelDOM());
    }
    if (this.g.vis.get("metacell")) {
      this.el.appendChild(this.metaDOM());
    }
    this.el.style.display = "inline-block";
    this.el.style.fontSize = this.g.zoomer.get("markerFontsize");
    return this;
  },
  labelDOM: function() {
    var labelHeader, name;
    labelHeader = k.mk("div");
    labelHeader.style.width = this.g.zoomer.getLabelWidth();
    labelHeader.style.display = "inline-block";
    if (this.g.vis.get("labelCheckbox")) {
      labelHeader.appendChild(this.addEl(".", 10));
    }
    if (this.g.vis.get("labelId")) {
      labelHeader.appendChild(this.addEl("id", this.g.zoomer.get("labelIdLength")));
    }
    if (this.g.vis.get("labelPartition")) {
      labelHeader.appendChild(this.addEl("part", 15));
    }
    if (this.g.vis.get("labelName")) {
      name = this.addEl("name");
      labelHeader.appendChild(name);
    }
    return labelHeader;
  },
  addEl: function(content, width) {
    var id;
    id = document.createElement("span");
    id.textContent = content;
    if (width != null) {
      id.style.width = width + "px";
    }
    id.style.display = "inline-block";
    return id;
  },
  metaDOM: function() {
    var metaHeader;
    metaHeader = k.mk("div");
    metaHeader.style.width = this.g.zoomer.getMetaWidth();
    metaHeader.style.display = "inline-block";
    if (this.g.vis.get("metaGaps")) {
      metaHeader.appendChild(this.addEl("gaps", this.g.zoomer.get('metaGapWidth')));
    }
    if (this.g.vis.get("metaIdentity")) {
      metaHeader.appendChild(this.addEl("ident", this.g.zoomer.get('metaIdentWidth')));
    }
    if (this.g.vis.get("metaLinks")) {
      metaHeader.appendChild(this.addEl("links"));
    }
    return metaHeader;
  }
});



},{"backbone-viewj":9,"dom-helper":41,"koala-js":43}],125:[function(require,module,exports){
var HeaderView, dom, jbone, svg, view;

view = require("backbone-viewj");

dom = require("dom-helper");

svg = require("../../utils/svg");

jbone = require("jbone");

HeaderView = view.extend({
  className: "biojs_msa_marker",
  initialize: function(data) {
    this.g = data.g;
    this.listenTo(this.g.zoomer, "change:stepSize change:labelWidth change:columnWidth change:markerStepSize change:markerFontsize", this.render);
    this.listenTo(this.g.vis, "change:labels change:metacell", this.render);
    return this.manageEvents();
  },
  render: function() {
    var cellWidth, container, hidden, n, nMax, span, stepSize;
    dom.removeAllChilds(this.el);
    this.el.style.fontSize = this.g.zoomer.get("markerFontsize");
    container = document.createElement("span");
    n = 0;
    cellWidth = this.g.zoomer.get("columnWidth");
    nMax = this.model.getMaxLength();
    stepSize = this.g.zoomer.get("stepSize");
    hidden = this.g.columns.get("hidden");
    while (n < nMax) {
      if (hidden.indexOf(n) >= 0) {
        this.markerHidden(span, n, stepSize);
        n += stepSize;
        continue;
      }
      span = document.createElement("span");
      span.style.width = (cellWidth * stepSize) + "px";
      span.style.display = "inline-block";
      if ((n + 1) % this.g.zoomer.get('markerStepSize') === 0) {
        span.textContent = n + 1;
      } else {
        span.textContent = ".";
      }
      span.rowPos = n;
      n += stepSize;
      container.appendChild(span);
    }
    this.el.appendChild(container);
    return this;
  },
  markerHidden: function(span, n, stepSize) {
    var hidden, index, j, length, min, nMax, prevHidden, s, triangle, _i, _j;
    hidden = this.g.columns.get("hidden").slice(0);
    min = Math.max(0, n - stepSize);
    prevHidden = true;
    for (j = _i = min; _i <= n; j = _i += 1) {
      prevHidden &= hidden.indexOf(j) >= 0;
    }
    if (prevHidden) {
      return;
    }
    nMax = this.model.getMaxLength();
    length = 0;
    index = -1;
    for (n = _j = n; _j <= nMax; n = _j += 1) {
      if (!(index >= 0)) {
        index = hidden.indexOf(n);
      }
      if (hidden.indexOf(n) >= 0) {
        length++;
      } else {
        break;
      }
    }
    s = svg.base({
      height: 10,
      width: 10
    });
    s.style.position = "relative";
    triangle = svg.polygon({
      points: "0,0 5,5 10,0",
      style: "fill:lime;stroke:purple;stroke-width:1"
    });
    jbone(triangle).on("click", (function(_this) {
      return function(evt) {
        hidden.splice(index, length);
        return _this.g.columns.set("hidden", hidden);
      };
    })(this));
    s.appendChild(triangle);
    span.appendChild(s);
    return s;
  },
  manageEvents: function() {
    var events;
    events = {};
    if (this.g.config.get("registerMouseClicks")) {
      events.click = "_onclick";
    }
    if (this.g.config.get("registerMouseHover")) {
      events.mousein = "_onmousein";
      events.mouseout = "_onmouseout";
    }
    this.delegateEvents(events);
    this.listenTo(this.g.config, "change:registerMouseHover", this.manageEvents);
    return this.listenTo(this.g.config, "change:registerMouseClick", this.manageEvents);
  },
  _onclick: function(evt) {
    var rowPos, stepSize;
    rowPos = evt.target.rowPos;
    stepSize = this.g.zoomer.get("stepSize");
    return this.g.trigger("column:click", {
      rowPos: rowPos,
      stepSize: stepSize,
      evt: evt
    });
  },
  _onmousein: function(evt) {
    var rowPos, stepSize;
    rowPos = this.g.zoomer.get("stepSize" * evt.rowPos);
    stepSize = this.g.zoomer.get("stepSize");
    return this.g.trigger("column:mousein", {
      rowPos: rowPos,
      stepSize: stepSize,
      evt: evt
    });
  },
  _onmouseout: function(evt) {
    var rowPos, stepSize;
    rowPos = this.g.zoomer.get("stepSize" * evt.rowPos);
    stepSize = this.g.zoomer.get("stepSize");
    return this.g.trigger("column:mouseout", {
      rowPos: rowPos,
      stepSize: stepSize,
      evt: evt
    });
  }
});

module.exports = HeaderView;



},{"../../utils/svg":110,"backbone-viewj":9,"dom-helper":41,"jbone":42}],126:[function(require,module,exports){
var ConservationView, GapView, MarkerView, SeqLogoWrapper, boneView, _;

MarkerView = require("./MarkerView");

ConservationView = require("./ConservationView");

boneView = require("backbone-childs");

_ = require('underscore');

SeqLogoWrapper = require("./SeqLogoWrapper");

GapView = require("./GapView");

module.exports = boneView.extend({
  initialize: function(data) {
    this.g = data.g;
    this.blockEvents = false;
    this.listenTo(this.g.vis, "change:header", function() {
      this.draw();
      return this.render();
    });
    this.listenTo(this.g.vis, "change", this._setSpacer);
    this.listenTo(this.g.zoomer, "change:alignmentWidth", this._setWidth);
    this.listenTo(this.g.zoomer, "change:_alignmentScrollLeft", this._adjustScrollingLeft);
    this.listenTo(this.g.columns, "change:hidden", function() {
      this.draw();
      return this.render();
    });
    this.draw();
    return this.g.vis.once('change:loaded', this._adjustScrollingLeft, this);
  },
  events: {
    "scroll": "_sendScrollEvent"
  },
  draw: function() {
    var conserv, gapview, marker, seqlogo;
    this.removeViews();
    if (this.g.vis.get("conserv")) {
      conserv = new ConservationView({
        model: this.model,
        g: this.g
      });
      conserv.ordering = -20;
      this.addView("conserv", conserv);
    }
    if (this.g.vis.get("markers")) {
      marker = new MarkerView({
        model: this.model,
        g: this.g
      });
      marker.ordering = -10;
      this.addView("marker", marker);
    }
    if (this.g.vis.get("seqlogo")) {
      seqlogo = new SeqLogoWrapper({
        model: this.model,
        g: this.g
      });
      seqlogo.ordering = -30;
      this.addView("seqlogo", seqlogo);
    }
    if (this.g.vis.get("gapHeader")) {
      gapview = new GapView({
        model: this.model,
        g: this.g
      });
      gapview.ordering = -25;
      return this.addView("gapview", gapview);
    }
  },
  render: function() {
    this.renderSubviews();
    this._setSpacer();
    this.el.className = "biojs_msa_rheader";
    this.el.style.overflowX = "auto";
    this.el.style.display = "inline-block";
    this._setWidth();
    this._adjustScrollingLeft();
    return this;
  },
  _sendScrollEvent: function() {
    if (!this.blockEvents) {
      this.g.zoomer.set("_alignmentScrollLeft", this.el.scrollLeft, {
        origin: "header"
      });
    }
    return this.blockEvents = false;
  },
  _adjustScrollingLeft: function(model, value, options) {
    var scrollLeft;
    if (((options != null ? options.origin : void 0) == null) || options.origin !== "header") {
      scrollLeft = this.g.zoomer.get("_alignmentScrollLeft");
      this.blockEvents = true;
      return this.el.scrollLeft = scrollLeft;
    }
  },
  _setSpacer: function() {
    return this.el.style.marginLeft = this._getLabelWidth() + "px";
  },
  _getLabelWidth: function() {
    var paddingLeft;
    paddingLeft = 0;
    if (!this.g.vis.get("leftHeader")) {
      paddingLeft += this.g.zoomer.getLeftBlockWidth();
    }
    return paddingLeft;
  },
  _setWidth: function() {
    return this.el.style.width = this.g.zoomer.getAlignmentWidth() + "px";
  }
});



},{"./ConservationView":121,"./GapView":122,"./MarkerView":125,"./SeqLogoWrapper":127,"backbone-childs":2,"underscore":66}],127:[function(require,module,exports){
var SeqLogoView, view;

SeqLogoView = require("biojs-vis-seqlogo/light");

view = require("backbone-viewj");

module.exports = view.extend({
  initialize: function(data) {
    this.g = data.g;
    this.listenTo(this.g.zoomer, "change:alignmentWidth", this.render);
    this.listenTo(this.g.colorscheme, "change", function() {
      var colors;
      colors = this.g.colorscheme.getSelectedScheme();
      this.seqlogo.changeColors(colors);
      return this.render();
    });
    this.listenTo(this.g.zoomer, "change:columnWidth", function() {
      return this.seqlogo.column_width = this.g.zoomer.get('columnWidth');
    });
    this.render;
    return this.draw();
  },
  draw: function() {
    var arr, colors, data;
    console.log("redraw");
    arr = this.g.stats.conservResidue({
      scaled: true
    });
    arr = _.map(arr, function(el) {
      return _.pick(el, function(e, k) {
        return k !== "-";
      });
    });
    data = {
      alphabet: "aa",
      heightArr: arr
    };
    colors = this.g.colorscheme.getSelectedScheme();
    return this.seqlogo = new SeqLogoView({
      model: this.model,
      g: this.g,
      data: data,
      yaxis: false,
      scroller: false,
      xaxis: false,
      height: 100,
      column_width: this.g.zoomer.get('columnWidth'),
      positionMarker: false,
      zoom: 1,
      el: this.el,
      colors: colors
    });
  },
  render: function() {
    return this.seqlogo.render();
  }
});



},{"backbone-viewj":9,"biojs-vis-seqlogo/light":23}],128:[function(require,module,exports){
var LabelRowView, boneView;

LabelRowView = require("./LabelRowView");

boneView = require("backbone-childs");

module.exports = boneView.extend({
  initialize: function(data) {
    this.g = data.g;
    this.draw();
    this.listenTo(this.g.zoomer, "change:_alignmentScrollTop", this._adjustScrollingTop);
    this.g.vis.once('change:loaded', this._adjustScrollingTop, this);
    this.listenTo(this.g.zoomer, "change:alignmentHeight", this._setHeight);
    return this.listenTo(this.model, "change:reference", this.draw);
  },
  draw: function() {
    var i, view, _i, _ref, _results;
    this.removeViews();
    _results = [];
    for (i = _i = 0, _ref = this.model.length - 1; _i <= _ref; i = _i += 1) {
      if (this.model.at(i).get('hidden')) {
        continue;
      }
      view = new LabelRowView({
        model: this.model.at(i),
        g: this.g
      });
      view.ordering = i;
      _results.push(this.addView("row_" + i, view));
    }
    return _results;
  },
  events: {
    "scroll": "_sendScrollEvent"
  },
  _sendScrollEvent: function() {
    return this.g.zoomer.set("_alignmentScrollTop", this.el.scrollTop, {
      origin: "label"
    });
  },
  _adjustScrollingTop: function() {
    return this.el.scrollTop = this.g.zoomer.get("_alignmentScrollTop");
  },
  render: function() {
    this.renderSubviews();
    this.el.className = "biojs_msa_labelblock";
    this.el.style.display = "inline-block";
    this.el.style.verticalAlign = "top";
    this.el.style.overflowY = "auto";
    this.el.style.overflowX = "hidden";
    this.el.style.fontSize = (this.g.zoomer.get('labelFontsize')) + "px";
    this.el.style.lineHeight = "" + (this.g.zoomer.get("labelLineHeight"));
    this._setHeight();
    return this;
  },
  _setHeight: function() {
    return this.el.style.height = this.g.zoomer.get("alignmentHeight") + "px";
  }
});



},{"./LabelRowView":129,"backbone-childs":2}],129:[function(require,module,exports){
var LabelView, MetaView, boneView;

boneView = require("backbone-childs");

LabelView = require("./LabelView");

MetaView = require("./MetaView");

module.exports = boneView.extend({
  initialize: function(data) {
    this.g = data.g;
    this.draw();
    this.listenTo(this.g.vis, "change:labels", this.drawR);
    this.listenTo(this.g.vis, "change:metacell", this.drawR);
    this.listenTo(this.g.zoomer, "change:rowHeight", function() {
      return this.el.style.height = this.g.zoomer.get("rowHeight") + "px";
    });
    return this.listenTo(this.g.selcol, "change reset add", this.setSelection);
  },
  draw: function() {
    var meta;
    this.removeViews();
    if (this.g.vis.get("labels")) {
      this.addView("labels", new LabelView({
        model: this.model,
        g: this.g
      }));
    }
    if (this.g.vis.get("metacell")) {
      meta = new MetaView({
        model: this.model,
        g: this.g
      });
      return this.addView("metacell", meta);
    }
  },
  drawR: function() {
    this.draw();
    return this.render();
  },
  render: function() {
    this.renderSubviews();
    this.el.setAttribute("class", "biojs_msa_labelrow");
    this.el.style.height = this.g.zoomer.get("rowHeight") * (this.model.attributes.height || 1) + "px";
    this.setSelection();
    return this;
  },
  setSelection: function() {
    var sel;
    sel = this.g.selcol.getSelForRow(this.model.id);
    if (sel.length > 0) {
      return this.el.style.fontWeight = "bold";
    } else {
      return this.el.style.fontWeight = "normal";
    }
  }
});



},{"./LabelView":130,"./MetaView":131,"backbone-childs":2}],130:[function(require,module,exports){
var LabelView, dom, view;

view = require("backbone-viewj");

dom = require("dom-helper");

LabelView = view.extend({
  initialize: function(data) {
    this.seq = data.seq;
    this.g = data.g;
    return this.manageEvents();
  },
  manageEvents: function() {
    var events;
    events = {};
    if (this.g.config.get("registerMouseClicks")) {
      events.click = "_onclick";
    }
    if (this.g.config.get("registerMouseHover")) {
      events.mousein = "_onmousein";
      events.mouseout = "_onmouseout";
    }
    this.delegateEvents(events);
    this.listenTo(this.g.config, "change:registerMouseHover", this.manageEvents);
    this.listenTo(this.g.config, "change:registerMouseClick", this.manageEvents);
    this.listenTo(this.g.vis, "change:labelName change:labelId change:labelPartition change:labelCheckbox", this.render);
    this.listenTo(this.g.zoomer, "change:labelIdLength change:labelNameLength change:labelPartLength change:labelCheckLength", this.render);
    return this.listenTo(this.g.zoomer, "change:labelFontSize change:labelLineHeight change:labelWidth change:rowHeight", this.render);
  },
  render: function() {
    var checkBox, id, name, part, val;
    dom.removeAllChilds(this.el);
    this.el.style.width = (this.g.zoomer.getLabelWidth()) + "px";
    this.el.setAttribute("class", "biojs_msa_labels");
    if (this.g.vis.get("labelCheckbox")) {
      checkBox = document.createElement("input");
      checkBox.setAttribute("type", "checkbox");
      checkBox.value = this.model.get('id');
      checkBox.name = "seq";
      checkBox.style.width = this.g.zoomer.get("labelCheckLength") + "px";
      this.el.appendChild(checkBox);
    }
    if (this.g.vis.get("labelId")) {
      id = document.createElement("span");
      val = this.model.get("id");
      if (!isNaN(val)) {
        val++;
      }
      id.textContent = val;
      id.style.width = this.g.zoomer.get("labelIdLength") + "px";
      id.style.display = "inline-block";
      this.el.appendChild(id);
    }
    if (this.g.vis.get("labelPartition")) {
      part = document.createElement("span");
      part.style.width = this.g.zoomer.get("labelPartLength") + "px";
      part.textContent = this.model.get("partition");
      part.style.display = "inline-block";
      this.el.appendChild(id);
      this.el.appendChild(part);
    }
    if (this.g.vis.get("labelName")) {
      name = document.createElement("span");
      name.textContent = this.model.get("name");
      if (this.model.get("ref") && this.g.config.get("hasRef")) {
        name.style.fontWeight = "bold";
      }
      name.style.width = this.g.zoomer.get("labelNameLength") + "px";
      this.el.appendChild(name);
    }
    this.el.style.overflow = scroll;
    this.el.style.fontSize = (this.g.zoomer.get('labelFontsize')) + "px";
    return this;
  },
  _onclick: function(evt) {
    var seqId;
    seqId = this.model.get("id");
    return this.g.trigger("row:click", {
      seqId: seqId,
      evt: evt
    });
  },
  _onmousein: function(evt) {
    var seqId;
    seqId = this.model.get("id");
    return this.g.trigger("row:mouseout", {
      seqId: seqId,
      evt: evt
    });
  },
  _onmouseout: function(evt) {
    var seqId;
    seqId = this.model.get("id");
    return this.g.trigger("row:mouseout", {
      seqId: seqId,
      evt: evt
    });
  }
});

module.exports = LabelView;



},{"backbone-viewj":9,"dom-helper":41}],131:[function(require,module,exports){
var MenuBuilder, MetaView, dom, st, view, _;

view = require("backbone-viewj");

MenuBuilder = require("../../menu/menubuilder");

_ = require('underscore');

dom = require("dom-helper");

st = require("msa-seqtools");

module.exports = MetaView = view.extend({
  className: "biojs_msa_metaview",
  initialize: function(data) {
    this.g = data.g;
    this.listenTo(this.g.vis, "change:metacell", this.render);
    return this.listenTo(this.g.zoomer, "change:metaWidth", this.render);
  },
  events: {
    click: "_onclick",
    mousein: "_onmousein",
    mouseout: "_onmouseout"
  },
  render: function() {
    var gapSpan, gaps, ident, identSpan, linkEl, links, menu, seq, width;
    dom.removeAllChilds(this.el);
    this.el.style.display = "inline-block";
    width = this.g.zoomer.getMetaWidth();
    this.el.style.width = width - 10;
    this.el.style.paddingRight = 5;
    this.el.style.paddingLeft = 5;
    this.el.style.fontSize = (this.g.zoomer.get('labelFontsize') - 2) + "px";
    if (this.g.vis.get("metaGaps")) {
      seq = this.model.get('seq');
      gaps = _.reduce(seq, (function(memo, c) {
        if (c === '-') {
          memo++;
        }
        return memo;
      }), 0);
      gaps = (gaps / seq.length).toFixed(1);
      gapSpan = document.createElement('span');
      gapSpan.textContent = gaps;
      gapSpan.style.display = "inline-block";
      gapSpan.style.width = 35;
      this.el.appendChild(gapSpan);
    }
    if (this.g.vis.get("metaIdentity")) {
      ident = this.g.stats.identity()[this.model.id];
      identSpan = document.createElement('span');
      if (this.model.get("ref") && this.g.config.get("hasRef")) {
        identSpan.textContent = "ref.";
      } else if (ident != null) {
        identSpan.textContent = ident.toFixed(2);
      }
      identSpan.style.display = "inline-block";
      identSpan.style.width = 40;
      this.el.appendChild(identSpan);
    }
    if (this.g.vis.get("metaLinks")) {
      if (this.model.attributes.ids) {
        links = st.buildLinks(this.model.attributes.ids);
        if (_.keys(links).length > 0) {
          menu = new MenuBuilder({
            name: "↗"
          });
          console.log(_.keys(links));
          _.each(links, function(val, key) {
            return menu.addNode(key, function(e) {
              return window.open(val);
            });
          });
          linkEl = menu.buildDOM();
          linkEl.style.cursor = "pointer";
          return this.el.appendChild(linkEl);
        }
      }
    }
  },
  _onclick: function(evt) {
    return this.g.trigger("meta:click", {
      seqId: this.model.get("id", {
        evt: evt
      })
    });
  },
  _onmousein: function(evt) {
    return this.g.trigger("meta:mousein", {
      seqId: this.model.get("id", {
        evt: evt
      })
    });
  },
  _onmouseout: function(evt) {
    return this.g.trigger("meta:mouseout", {
      seqId: this.model.get("id", {
        evt: evt
      })
    });
  }
});



},{"../../menu/menubuilder":86,"backbone-viewj":9,"dom-helper":41,"msa-seqtools":64,"underscore":66}],"biojs-io-clustal":[function(require,module,exports){
// Generated by CoffeeScript 1.8.0
var Clustal, GenericReader, st,
  __hasProp = {}.hasOwnProperty,
  __extends = function(child, parent) { for (var key in parent) { if (__hasProp.call(parent, key)) child[key] = parent[key]; } function ctor() { this.constructor = child; } ctor.prototype = parent.prototype; child.prototype = new ctor(); child.__super__ = parent.prototype; return child; };

GenericReader = require("./generic_reader");

st = require("msa-seqtools");

module.exports = Clustal = (function(_super) {
  __extends(Clustal, _super);

  function Clustal() {
    return Clustal.__super__.constructor.apply(this, arguments);
  }

  Clustal.parse = function(text) {
    var blockstate, cSeq, k, keys, label, line, lines, match, obj, regex, seqCounter, seqs, sequence;
    seqs = [];
    if (Object.prototype.toString.call(text) === '[object Array]') {
      lines = text;
    } else {
      lines = text.split("\n");
    }
    if (lines[0].slice(0, 6) === !"CLUSTAL") {
      throw new Error("Invalid CLUSTAL Header");
    }
    k = 0;
    blockstate = 1;
    seqCounter = 0;
    while (k < lines.length) {
      k++;
      line = lines[k];
      if ((line == null) || line.length === 0) {
        blockstate = 1;
        continue;
      }
      if (line.trim().length === 0) {
        blockstate = 1;
        continue;
      } else {
        if (st.contains(line, "*")) {
          continue;
        }
        if (blockstate === 1) {
          seqCounter = 0;
          blockstate = 0;
        }
        regex = /^(?:\s*)(\S+)(?:\s+)(\S+)(?:\s*)(\d*)(?:\s*|$)/g;
        match = regex.exec(line);
        if (match != null) {
          label = match[1];
          sequence = match[2];
          if (seqCounter >= seqs.length) {
            obj = st.getMeta(label);
            label = obj.name;
            cSeq = new st.model(sequence, label, seqCounter);
            cSeq.ids = obj.ids || {};
            cSeq.details = obj.details || {};
            keys = Object.keys(cSeq.ids);
            if (keys.length > 0) {
              cSeq.id = cSeq.ids[keys[0]];
            }
            seqs.push(cSeq);
          } else {
            seqs[seqCounter].seq += sequence;
          }
          seqCounter++;
        } else {
          console.log("parse error", line);
        }
      }
    }
    return seqs;
  };

  return Clustal;

})(GenericReader);

},{"./generic_reader":16,"msa-seqtools":64}],"biojs-io-fasta":[function(require,module,exports){
// Generated by CoffeeScript 1.9.0
module.exports = require("./parser");

},{"./parser":18}],"biojs-io-gff":[function(require,module,exports){
/*
 * biojs-io-gff
 * https://github.com/greenify/biojs-io-gff
 *
 * Copyright (c) 2014 greenify
 * Licensed under the Apache 2 license.
 */

var gff = function() {};

module.exports = gff;

var utils = require("./utils");
var jalview = require("./jalview");

/**
 * Method responsible to parse GFF
 * @see https://www.sanger.ac.uk/resources/software/gff/spec.html#t_2
 *
 * @example
 *
 *     biojsiogff.parse('SEQ1  EMBL  atg  103  105  .  +  0');
 *
 * @method parse
 * @param {String} file GFF file
 * @return {String} Returns JSON representation
 */

gff.parse = function(file) {
  var lines = file.split("\n");
  var config = {};
  var arr = [];
  config.type = gff._guessType(lines);
  var offset = 0;
  if (config.type === "jalview") {
    var ret = jalview.readHeader(lines);
    //console.log(ret);
    offset = ret.offset;
    config.colors = ret.colors;
    arr = ret.features;
  }
  for (var i = offset; i < lines.length; i++) {
    // ignore comments for now
    var line = lines[i];
    if (line.length === 0 || line[0] === "#")
      continue;

    line = gff.parseLine(line);
    if (line !== undefined)
      arr.push(line);
  }
  return {
    features: arr,
    config: config
  };
};

gff._guessType = function(line) {
  if (line[0].substring(0, 15) === "##gff-version 3") {
    return "gff3";
  } else if (line[0].indexOf("#") < 0 && line[0].split("\t").length === 2) {
    // no comments and two columns. let's hope this is from jalview
    return "jalview";
  }
  // unable to read file header. lets hope this is gff3
  return "gff3";
};

/**
 * parses GFF and returns a dictionary of all seqs with their features
 * @method parseSeqs
 * @param {String} file GFF file
 * @return {String} Returns dictionary of sequences with an array of their features
 */
gff.parseSeqs = function(file) {
  var obj = gff.parse(file);
  var seqs = {};
  obj.features.forEach(function(entry) {
    var key = entry.seqname;
    if (seqs[key] === undefined) seqs[key] = [];
    delete entry.seqname;
    seqs[key].push(entry);
  });
  delete obj.features;
  obj.seqs = seqs;
  return obj;
};

/*
 * parses one GFF line and returns it
 */
gff.parseLine = function(line) {
  var tLine = {};

  var columns = line.split(/\s+/);
  // ignore empty lines
  if (columns.length === 1)
    return;

  tLine.seqname = columns[0];
  tLine.source = columns[1];
  tLine.feature = columns[2];
  tLine.start = parseInt(columns[3]);
  tLine.end = parseInt(columns[4]);
  tLine.score = columns[5]; // only DNA,RNA
  tLine.strand = columns[6]; // only DNA,RNA
  tLine.frame = columns[7]; // only DNA,RNA
  var attr = columns.slice(8).join(" "); // plain text comments

  // remove undefined (dot)
  Object.keys(tLine).forEach(function(key) {
    if (tLine[key] === ".") {
      tLine[key] = undefined;
    }
  });

  // parse optional parameters
  if (tLine.score) {
    tLine.score = parseFloat(tLine.score);
  }
  if (tLine.frame) {
    tLine.frame = parseInt(tLine.frame);
  }

  tLine.attributes = utils.extractKeys(attr);
  return tLine;
};

gff.exportLine = function(line) {
  var attrs = Object.keys(line.attributes).map(function(key) {
    return key + "=" + line.attributes[key];
  }).join(";");
  var cells = [line.seqname, line.source, line.feature, line.start, line.end, line.score,
    line.strand, line.frame, attrs
  ];
  cells = cells.map(function(e) {
    if (e === undefined) {
      return ".";
    }
    return e;
  });
  return cells.join("\t");
};

gff.exportLines = function(lines) {
  return "##gff-version 3\n" + lines.map(gff.exportLine).join("\n");
};

gff.exportSeqs = function(seqs) {
  var lines = [];
  for (var key in seqs) {
    seqs[key].forEach(function(e) {
      e.seqname = key;
      lines.push(e);
    });
  }
  return gff.exportLines(lines);
};

},{"./jalview":19,"./utils":20}],"msa":[function(require,module,exports){
// browser globals
if (typeof biojs === 'undefined') {
  biojs = {};
}
if (typeof biojs.vis === 'undefined') {
  biojs.vis = {};
}
// use two namespaces
window.msa = biojs.vis.msa = module.exports = require('./src/index');

// TODO: how should this be bundled

if (typeof biojs.io === 'undefined') {
  biojs.io = {};
}

// just bundle the two parsers
window.biojs.io.fasta = require("biojs-io-fasta");
window.biojs.io.clustal = require("biojs-io-clustal");
window.biojs.xhr = require("xhr");

module.exports = require("./src/index");

require('./css/msa.css');

},{"./css/msa.css":1,"./src/index":83,"biojs-io-clustal":"biojs-io-clustal","biojs-io-fasta":"biojs-io-fasta","xhr":"xhr"}],"xhr":[function(require,module,exports){
var window = require("global/window")
var once = require("once")
var parseHeaders = require('parse-headers')

var messages = {
    "0": "Internal XMLHttpRequest Error",
    "4": "4xx Client Error",
    "5": "5xx Server Error"
}

var XHR = window.XMLHttpRequest || noop
var XDR = "withCredentials" in (new XHR()) ? XHR : window.XDomainRequest

module.exports = createXHR

function createXHR(options, callback) {
    if (typeof options === "string") {
        options = { uri: options }
    }

    options = options || {}
    callback = once(callback)

    var xhr = options.xhr || null

    if (!xhr) {
        if (options.cors || options.useXDR) {
            xhr = new XDR()
        }else{
            xhr = new XHR()
        }
    }

    var uri = xhr.url = options.uri || options.url
    var method = xhr.method = options.method || "GET"
    var body = options.body || options.data
    var headers = xhr.headers = options.headers || {}
    var sync = !!options.sync
    var isJson = false
    var key
    var load = options.response ? loadResponse : loadXhr

    if ("json" in options) {
        isJson = true
        headers["Accept"] = "application/json"
        if (method !== "GET" && method !== "HEAD") {
            headers["Content-Type"] = "application/json"
            body = JSON.stringify(options.json)
        }
    }

    xhr.onreadystatechange = readystatechange
    xhr.onload = load
    xhr.onerror = error
    // IE9 must have onprogress be set to a unique function.
    xhr.onprogress = function () {
        // IE must die
    }
    // hate IE
    xhr.ontimeout = noop
    xhr.open(method, uri, !sync)
                                    //backward compatibility
    if (options.withCredentials || (options.cors && options.withCredentials !== false)) {
        xhr.withCredentials = true
    }

    // Cannot set timeout with sync request
    if (!sync) {
        xhr.timeout = "timeout" in options ? options.timeout : 5000
    }

    if (xhr.setRequestHeader) {
        for(key in headers){
            if(headers.hasOwnProperty(key)){
                xhr.setRequestHeader(key, headers[key])
            }
        }
    } else if (options.headers) {
        throw new Error("Headers cannot be set on an XDomainRequest object")
    }

    if ("responseType" in options) {
        xhr.responseType = options.responseType
    }
    
    if ("beforeSend" in options && 
        typeof options.beforeSend === "function"
    ) {
        options.beforeSend(xhr)
    }

    xhr.send(body)

    return xhr

    function readystatechange() {
        if (xhr.readyState === 4) {
            load()
        }
    }

    function getBody() {
        // Chrome with requestType=blob throws errors arround when even testing access to responseText
        var body = null

        if (xhr.response) {
            body = xhr.response
        } else if (xhr.responseType === 'text' || !xhr.responseType) {
            body = xhr.responseText || xhr.responseXML
        }

        if (isJson) {
            try {
                body = JSON.parse(body)
            } catch (e) {}
        }

        return body
    }

    function getStatusCode() {
        return xhr.status === 1223 ? 204 : xhr.status
    }

    // if we're getting a none-ok statusCode, build & return an error
    function errorFromStatusCode(status, body) {
        var error = null
        if (status === 0 || (status >= 400 && status < 600)) {
            var message = (typeof body === "string" ? body : false) ||
                messages[String(status).charAt(0)]
            error = new Error(message)
            error.statusCode = status
        }

        return error
    }

    // will load the data & process the response in a special response object
    function loadResponse() {
        var status = getStatusCode()
        var body = getBody()
        var error = errorFromStatusCode(status, body)
        var response = {
            body: body,
            statusCode: status,
            statusText: xhr.statusText,
            raw: xhr
        }
        if(xhr.getAllResponseHeaders){ //remember xhr can in fact be XDR for CORS in IE
            response.headers = parseHeaders(xhr.getAllResponseHeaders())
        } else {
            response.headers = {}
        }

        callback(error, response, response.body)
    }

    // will load the data and add some response properties to the source xhr
    // and then respond with that
    function loadXhr() {
        var status = getStatusCode()
        var error = errorFromStatusCode(status)

        xhr.status = xhr.statusCode = status
        xhr.body = getBody()
        xhr.headers = parseHeaders(xhr.getAllResponseHeaders())

        callback(error, xhr, xhr.body)
    }

    function error(evt) {
        callback(evt, xhr)
    }
}


function noop() {}

},{"global/window":67,"once":68,"parse-headers":72}]},{},["msa"])
//# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIm5vZGVfbW9kdWxlcy9icm93c2VyaWZ5L25vZGVfbW9kdWxlcy9icm93c2VyLXBhY2svX3ByZWx1ZGUuanMiLCJjc3MvbXNhLmNzcyIsIm5vZGVfbW9kdWxlcy9iYWNrYm9uZS1jaGlsZHMvaW5kZXguanMiLCJub2RlX21vZHVsZXMvYmFja2JvbmUtdGhpbi9jb2xsZWN0aW9uLmpzIiwibm9kZV9tb2R1bGVzL2JhY2tib25lLXRoaW4vaW5kZXguanMiLCJub2RlX21vZHVsZXMvYmFja2JvbmUtdGhpbi9tb2RlbC5qcyIsIm5vZGVfbW9kdWxlcy9iYWNrYm9uZS10aGluL25vZGVfbW9kdWxlcy9iYWNrYm9uZS1ldmVudHMtc3RhbmRhbG9uZS9iYWNrYm9uZS1ldmVudHMtc3RhbmRhbG9uZS5qcyIsIm5vZGVfbW9kdWxlcy9iYWNrYm9uZS10aGluL25vZGVfbW9kdWxlcy9iYWNrYm9uZS1ldmVudHMtc3RhbmRhbG9uZS9pbmRleC5qcyIsIm5vZGVfbW9kdWxlcy9iYWNrYm9uZS10aGluL25vZGVfbW9kdWxlcy9iYWNrYm9uZS1leHRlbmQtc3RhbmRhbG9uZS9iYWNrYm9uZS1leHRlbmQtc3RhbmRhbG9uZS5qcyIsIm5vZGVfbW9kdWxlcy9iYWNrYm9uZS12aWV3ai9pbmRleC5qcyIsIm5vZGVfbW9kdWxlcy9iaW9qcy1ldmVudHMvaW5kZXguanMiLCJub2RlX21vZHVsZXMvYmlvanMtaW8tY2x1c3RhbC9saWIvZ2VuZXJpY19yZWFkZXIuanMiLCJub2RlX21vZHVsZXMvYmlvanMtaW8tZmFzdGEvbGliL2dlbmVyaWNfcmVhZGVyLmpzIiwibm9kZV9tb2R1bGVzL2Jpb2pzLWlvLWZhc3RhL2xpYi9wYXJzZXIuanMiLCJub2RlX21vZHVsZXMvYmlvanMtaW8tZ2ZmL2xpYi9qYWx2aWV3LmpzIiwibm9kZV9tb2R1bGVzL2Jpb2pzLWlvLWdmZi9saWIvdXRpbHMuanMiLCJub2RlX21vZHVsZXMvYmlvanMtbW9kZWwvc3JjL2luZGV4LmpzIiwibm9kZV9tb2R1bGVzL2Jpb2pzLW1vZGVsL3NyYy9zZXEuanMiLCJub2RlX21vZHVsZXMvYmlvanMtdmlzLXNlcWxvZ28vbGlnaHQuanMiLCJub2RlX21vZHVsZXMvYmlvanMtdmlzLXNlcWxvZ28vc3JjL2F4aXMuanMiLCJub2RlX21vZHVsZXMvYmlvanMtdmlzLXNlcWxvZ28vc3JjL2NhbnZhc1N1cHBvcnQuanMiLCJub2RlX21vZHVsZXMvYmlvanMtdmlzLXNlcWxvZ28vc3JjL2NvbG9ycy9hYS5qcyIsIm5vZGVfbW9kdWxlcy9iaW9qcy12aXMtc2VxbG9nby9zcmMvY29sb3JzL2RuYS5qcyIsIm5vZGVfbW9kdWxlcy9iaW9qcy12aXMtc2VxbG9nby9zcmMvZXZlbnRMaXN0ZW5lci5qcyIsIm5vZGVfbW9kdWxlcy9iaW9qcy12aXMtc2VxbG9nby9zcmMvaW5kZXguanMiLCJub2RlX21vZHVsZXMvYmlvanMtdmlzLXNlcWxvZ28vc3JjL2luZm8vc2V0dGluZ3MuanMiLCJub2RlX21vZHVsZXMvYmlvanMtdmlzLXNlcWxvZ28vc3JjL21vZGVsL2xldHRlci5qcyIsIm5vZGVfbW9kdWxlcy9iaW9qcy12aXMtc2VxbG9nby9zcmMvcmVuZGVyL2RyYXcvYm9yZGVyLmpzIiwibm9kZV9tb2R1bGVzL2Jpb2pzLXZpcy1zZXFsb2dvL3NyYy9yZW5kZXIvZHJhdy9jb2x1bW5fbnVtYmVyLmpzIiwibm9kZV9tb2R1bGVzL2Jpb2pzLXZpcy1zZXFsb2dvL3NyYy9yZW5kZXIvZHJhdy90aWNrcy5qcyIsIm5vZGVfbW9kdWxlcy9iaW9qcy12aXMtc2VxbG9nby9zcmMvcmVuZGVyL3JlbmRlci5qcyIsIm5vZGVfbW9kdWxlcy9iaW9qcy12aXMtc2VxbG9nby9zcmMvcmVuZGVyL3JlbmRlcl93aXRoX3JlY3RzLmpzIiwibm9kZV9tb2R1bGVzL2Jpb2pzLXZpcy1zZXFsb2dvL3NyYy9yZW5kZXIvcmVuZGVyX3dpdGhfdGV4dC5qcyIsIm5vZGVfbW9kdWxlcy9ibHVlaW1wX2NhbnZhc3RvYmxvYi9pbmRleC5qcyIsIm5vZGVfbW9kdWxlcy9icm93c2VyLXNhdmVhcy9pbmRleC5qcyIsIm5vZGVfbW9kdWxlcy9jc3NpZnkvYnJvd3Nlci5qcyIsIm5vZGVfbW9kdWxlcy9kb20taGVscGVyL2luZGV4LmpzIiwibm9kZV9tb2R1bGVzL2pib25lL2Rpc3QvamJvbmUuanMiLCJub2RlX21vZHVsZXMva29hbGEtanMvaW5kZXguanMiLCJub2RlX21vZHVsZXMvbWVudS1idWlsZGVyL2luZGV4LmpzIiwibm9kZV9tb2R1bGVzL21lbnUtYnVpbGRlci9saWIvbWVudWJ1aWxkZXIuanMiLCJub2RlX21vZHVsZXMvbW91c2UtcG9zL2luZGV4LmpzIiwibm9kZV9tb2R1bGVzL21zYS1jb2xvcnNjaGVtZXMvc3JjL2J1cmllZC5qcyIsIm5vZGVfbW9kdWxlcy9tc2EtY29sb3JzY2hlbWVzL3NyYy9jaW5lbWEuanMiLCJub2RlX21vZHVsZXMvbXNhLWNvbG9yc2NoZW1lcy9zcmMvY2x1c3RhbC5qcyIsIm5vZGVfbW9kdWxlcy9tc2EtY29sb3JzY2hlbWVzL3NyYy9jbHVzdGFsMi5qcyIsIm5vZGVfbW9kdWxlcy9tc2EtY29sb3JzY2hlbWVzL3NyYy9oZWxpeC5qcyIsIm5vZGVfbW9kdWxlcy9tc2EtY29sb3JzY2hlbWVzL3NyYy9oeWRyb3Bob2JpY2l0eS5qcyIsIm5vZGVfbW9kdWxlcy9tc2EtY29sb3JzY2hlbWVzL3NyYy9pbmRleC5qcyIsIm5vZGVfbW9kdWxlcy9tc2EtY29sb3JzY2hlbWVzL3NyYy9sZXNrLmpzIiwibm9kZV9tb2R1bGVzL21zYS1jb2xvcnNjaGVtZXMvc3JjL21hZS5qcyIsIm5vZGVfbW9kdWxlcy9tc2EtY29sb3JzY2hlbWVzL3NyYy9udWNsZW90aWRlLmpzIiwibm9kZV9tb2R1bGVzL21zYS1jb2xvcnNjaGVtZXMvc3JjL3BpZF9jb2xvcnMuanMiLCJub2RlX21vZHVsZXMvbXNhLWNvbG9yc2NoZW1lcy9zcmMvcHVyaW5lLmpzIiwibm9kZV9tb2R1bGVzL21zYS1jb2xvcnNjaGVtZXMvc3JjL3NjaGVtZWNsYXNzLmpzIiwibm9kZV9tb2R1bGVzL21zYS1jb2xvcnNjaGVtZXMvc3JjL3N0cmFuZC5qcyIsIm5vZGVfbW9kdWxlcy9tc2EtY29sb3JzY2hlbWVzL3NyYy90YXlsb3IuanMiLCJub2RlX21vZHVsZXMvbXNhLWNvbG9yc2NoZW1lcy9zcmMvdHVybi5qcyIsIm5vZGVfbW9kdWxlcy9tc2EtY29sb3JzY2hlbWVzL3NyYy96YXBwby5qcyIsIm5vZGVfbW9kdWxlcy9tc2Etc2VxdG9vbHMvbGliL2luZGV4LmpzIiwibm9kZV9tb2R1bGVzL3N0YXQuc2Vxcy9saWIvaW5kZXguanMiLCJub2RlX21vZHVsZXMvdW5kZXJzY29yZS91bmRlcnNjb3JlLmpzIiwibm9kZV9tb2R1bGVzL3hoci9ub2RlX21vZHVsZXMvZ2xvYmFsL3dpbmRvdy5qcyIsIm5vZGVfbW9kdWxlcy94aHIvbm9kZV9tb2R1bGVzL29uY2Uvb25jZS5qcyIsIm5vZGVfbW9kdWxlcy94aHIvbm9kZV9tb2R1bGVzL3BhcnNlLWhlYWRlcnMvbm9kZV9tb2R1bGVzL2Zvci1lYWNoL2luZGV4LmpzIiwibm9kZV9tb2R1bGVzL3hoci9ub2RlX21vZHVsZXMvcGFyc2UtaGVhZGVycy9ub2RlX21vZHVsZXMvZm9yLWVhY2gvbm9kZV9tb2R1bGVzL2lzLWZ1bmN0aW9uL2luZGV4LmpzIiwibm9kZV9tb2R1bGVzL3hoci9ub2RlX21vZHVsZXMvcGFyc2UtaGVhZGVycy9ub2RlX21vZHVsZXMvdHJpbS9pbmRleC5qcyIsIm5vZGVfbW9kdWxlcy94aHIvbm9kZV9tb2R1bGVzL3BhcnNlLWhlYWRlcnMvcGFyc2UtaGVhZGVycy5qcyIsIi9ob21lL3hzZWJpL293bkNsb3VkL3Byb2plY3RzL2Jpb2pzLmJhay9wYWNrYWdlcy9tc2Evc3JjL2cvY29sb3JzY2hlbWUuY29mZmVlIiwiL2hvbWUveHNlYmkvb3duQ2xvdWQvcHJvamVjdHMvYmlvanMuYmFrL3BhY2thZ2VzL21zYS9zcmMvZy9jb2x1bW5zLmNvZmZlZSIsIi9ob21lL3hzZWJpL293bkNsb3VkL3Byb2plY3RzL2Jpb2pzLmJhay9wYWNrYWdlcy9tc2Evc3JjL2cvY29uZmlnLmNvZmZlZSIsIi9ob21lL3hzZWJpL293bkNsb3VkL3Byb2plY3RzL2Jpb2pzLmJhay9wYWNrYWdlcy9tc2Evc3JjL2cvcGFja2FnZS5jb2ZmZWUiLCIvaG9tZS94c2ViaS9vd25DbG91ZC9wcm9qZWN0cy9iaW9qcy5iYWsvcGFja2FnZXMvbXNhL3NyYy9nL3NlbGVjdGlvbi9TZWxlY3Rpb24uY29mZmVlIiwiL2hvbWUveHNlYmkvb3duQ2xvdWQvcHJvamVjdHMvYmlvanMuYmFrL3BhY2thZ2VzL21zYS9zcmMvZy9zZWxlY3Rpb24vU2VsZWN0aW9uQ29sLmNvZmZlZSIsIi9ob21lL3hzZWJpL293bkNsb3VkL3Byb2plY3RzL2Jpb2pzLmJhay9wYWNrYWdlcy9tc2Evc3JjL2cvdXNlci5jb2ZmZWUiLCIvaG9tZS94c2ViaS9vd25DbG91ZC9wcm9qZWN0cy9iaW9qcy5iYWsvcGFja2FnZXMvbXNhL3NyYy9nL3Zpc09yZGVyaW5nLmNvZmZlZSIsIi9ob21lL3hzZWJpL293bkNsb3VkL3Byb2plY3RzL2Jpb2pzLmJhay9wYWNrYWdlcy9tc2Evc3JjL2cvdmlzaWJpbGl0eS5jb2ZmZWUiLCIvaG9tZS94c2ViaS9vd25DbG91ZC9wcm9qZWN0cy9iaW9qcy5iYWsvcGFja2FnZXMvbXNhL3NyYy9nL3pvb21lci5jb2ZmZWUiLCIvaG9tZS94c2ViaS9vd25DbG91ZC9wcm9qZWN0cy9iaW9qcy5iYWsvcGFja2FnZXMvbXNhL3NyYy9pbmRleC5jb2ZmZWUiLCIvaG9tZS94c2ViaS9vd25DbG91ZC9wcm9qZWN0cy9iaW9qcy5iYWsvcGFja2FnZXMvbXNhL3NyYy9tZW51L2RlZmF1bHRtZW51LmNvZmZlZSIsIi9ob21lL3hzZWJpL293bkNsb3VkL3Byb2plY3RzL2Jpb2pzLmJhay9wYWNrYWdlcy9tc2Evc3JjL21lbnUvaW5kZXguY29mZmVlIiwiL2hvbWUveHNlYmkvb3duQ2xvdWQvcHJvamVjdHMvYmlvanMuYmFrL3BhY2thZ2VzL21zYS9zcmMvbWVudS9tZW51YnVpbGRlci5jb2ZmZWUiLCIvaG9tZS94c2ViaS9vd25DbG91ZC9wcm9qZWN0cy9iaW9qcy5iYWsvcGFja2FnZXMvbXNhL3NyYy9tZW51L3ZpZXdzL0NvbG9yTWVudS5jb2ZmZWUiLCIvaG9tZS94c2ViaS9vd25DbG91ZC9wcm9qZWN0cy9iaW9qcy5iYWsvcGFja2FnZXMvbXNhL3NyYy9tZW51L3ZpZXdzL0RlYnVnTWVudS5jb2ZmZWUiLCIvaG9tZS94c2ViaS9vd25DbG91ZC9wcm9qZWN0cy9iaW9qcy5iYWsvcGFja2FnZXMvbXNhL3NyYy9tZW51L3ZpZXdzL0V4cG9ydE1lbnUuY29mZmVlIiwiL2hvbWUveHNlYmkvb3duQ2xvdWQvcHJvamVjdHMvYmlvanMuYmFrL3BhY2thZ2VzL21zYS9zcmMvbWVudS92aWV3cy9FeHRyYU1lbnUuY29mZmVlIiwiL2hvbWUveHNlYmkvb3duQ2xvdWQvcHJvamVjdHMvYmlvanMuYmFrL3BhY2thZ2VzL21zYS9zcmMvbWVudS92aWV3cy9GaWx0ZXJNZW51LmNvZmZlZSIsIi9ob21lL3hzZWJpL293bkNsb3VkL3Byb2plY3RzL2Jpb2pzLmJhay9wYWNrYWdlcy9tc2Evc3JjL21lbnUvdmlld3MvSGVscE1lbnUuY29mZmVlIiwiL2hvbWUveHNlYmkvb3duQ2xvdWQvcHJvamVjdHMvYmlvanMuYmFrL3BhY2thZ2VzL21zYS9zcmMvbWVudS92aWV3cy9JbXBvcnRNZW51LmNvZmZlZSIsIi9ob21lL3hzZWJpL293bkNsb3VkL3Byb2plY3RzL2Jpb2pzLmJhay9wYWNrYWdlcy9tc2Evc3JjL21lbnUvdmlld3MvT3JkZXJpbmdNZW51LmNvZmZlZSIsIi9ob21lL3hzZWJpL293bkNsb3VkL3Byb2plY3RzL2Jpb2pzLmJhay9wYWNrYWdlcy9tc2Evc3JjL21lbnUvdmlld3MvU2VsZWN0aW9uTWVudS5jb2ZmZWUiLCIvaG9tZS94c2ViaS9vd25DbG91ZC9wcm9qZWN0cy9iaW9qcy5iYWsvcGFja2FnZXMvbXNhL3NyYy9tZW51L3ZpZXdzL1Zpc01lbnUuY29mZmVlIiwiL2hvbWUveHNlYmkvb3duQ2xvdWQvcHJvamVjdHMvYmlvanMuYmFrL3BhY2thZ2VzL21zYS9zcmMvbW9kZWwvRmVhdHVyZS5jb2ZmZWUiLCIvaG9tZS94c2ViaS9vd25DbG91ZC9wcm9qZWN0cy9iaW9qcy5iYWsvcGFja2FnZXMvbXNhL3NyYy9tb2RlbC9GZWF0dXJlQ29sLmNvZmZlZSIsIi9ob21lL3hzZWJpL293bkNsb3VkL3Byb2plY3RzL2Jpb2pzLmJhay9wYWNrYWdlcy9tc2Evc3JjL21vZGVsL1NlcUNvbGxlY3Rpb24uY29mZmVlIiwiL2hvbWUveHNlYmkvb3duQ2xvdWQvcHJvamVjdHMvYmlvanMuYmFrL3BhY2thZ2VzL21zYS9zcmMvbW9kZWwvU2VxdWVuY2UuY29mZmVlIiwiL2hvbWUveHNlYmkvb3duQ2xvdWQvcHJvamVjdHMvYmlvanMuYmFrL3BhY2thZ2VzL21zYS9zcmMvbW9kZWwvaW5kZXguY29mZmVlIiwiL2hvbWUveHNlYmkvb3duQ2xvdWQvcHJvamVjdHMvYmlvanMuYmFrL3BhY2thZ2VzL21zYS9zcmMvbXNhLmNvZmZlZSIsIi9ob21lL3hzZWJpL293bkNsb3VkL3Byb2plY3RzL2Jpb2pzLmJhay9wYWNrYWdlcy9tc2Evc3JjL3V0aWxzL2JtYXRoLmNvZmZlZSIsIi9ob21lL3hzZWJpL293bkNsb3VkL3Byb2plY3RzL2Jpb2pzLmJhay9wYWNrYWdlcy9tc2Evc3JjL3V0aWxzL2V4cG9ydC5jb2ZmZWUiLCIvaG9tZS94c2ViaS9vd25DbG91ZC9wcm9qZWN0cy9iaW9qcy5iYWsvcGFja2FnZXMvbXNhL3NyYy91dGlscy9maWxlLmNvZmZlZSIsIi9ob21lL3hzZWJpL293bkNsb3VkL3Byb2plY3RzL2Jpb2pzLmJhay9wYWNrYWdlcy9tc2Evc3JjL3V0aWxzL2luZGV4LmNvZmZlZSIsIi9ob21lL3hzZWJpL293bkNsb3VkL3Byb2plY3RzL2Jpb2pzLmJhay9wYWNrYWdlcy9tc2Evc3JjL3V0aWxzL2xvYWRlci5jb2ZmZWUiLCIvaG9tZS94c2ViaS9vd25DbG91ZC9wcm9qZWN0cy9iaW9qcy5iYWsvcGFja2FnZXMvbXNhL3NyYy91dGlscy9wcm94eS5jb2ZmZWUiLCIvaG9tZS94c2ViaS9vd25DbG91ZC9wcm9qZWN0cy9iaW9qcy5iYWsvcGFja2FnZXMvbXNhL3NyYy91dGlscy9zZXFnZW4uY29mZmVlIiwiL2hvbWUveHNlYmkvb3duQ2xvdWQvcHJvamVjdHMvYmlvanMuYmFrL3BhY2thZ2VzL21zYS9zcmMvdXRpbHMvc3ZnLmNvZmZlZSIsIi9ob21lL3hzZWJpL293bkNsb3VkL3Byb2plY3RzL2Jpb2pzLmJhay9wYWNrYWdlcy9tc2Evc3JjL3V0aWxzL3RyZWUuY29mZmVlIiwiL2hvbWUveHNlYmkvb3duQ2xvdWQvcHJvamVjdHMvYmlvanMuYmFrL3BhY2thZ2VzL21zYS9zcmMvdmlld3MvQWxpZ25tZW50Qm9keS5jb2ZmZWUiLCIvaG9tZS94c2ViaS9vd25DbG91ZC9wcm9qZWN0cy9iaW9qcy5iYWsvcGFja2FnZXMvbXNhL3NyYy92aWV3cy9PdmVydmlld0JveC5jb2ZmZWUiLCIvaG9tZS94c2ViaS9vd25DbG91ZC9wcm9qZWN0cy9iaW9qcy5iYWsvcGFja2FnZXMvbXNhL3NyYy92aWV3cy9TZWFyY2guY29mZmVlIiwiL2hvbWUveHNlYmkvb3duQ2xvdWQvcHJvamVjdHMvYmlvanMuYmFrL3BhY2thZ2VzL21zYS9zcmMvdmlld3MvU3RhZ2UuY29mZmVlIiwiL2hvbWUveHNlYmkvb3duQ2xvdWQvcHJvamVjdHMvYmlvanMuYmFrL3BhY2thZ2VzL21zYS9zcmMvdmlld3MvY2FudmFzL0NhbnZhc0NoYXJDYWNoZS5jb2ZmZWUiLCIvaG9tZS94c2ViaS9vd25DbG91ZC9wcm9qZWN0cy9iaW9qcy5iYWsvcGFja2FnZXMvbXNhL3NyYy92aWV3cy9jYW52YXMvQ2FudmFzQ29vcmRzQ2FjaGUuY29mZmVlIiwiL2hvbWUveHNlYmkvb3duQ2xvdWQvcHJvamVjdHMvYmlvanMuYmFrL3BhY2thZ2VzL21zYS9zcmMvdmlld3MvY2FudmFzL0NhbnZhc1NlbGVjdGlvbi5jb2ZmZWUiLCIvaG9tZS94c2ViaS9vd25DbG91ZC9wcm9qZWN0cy9iaW9qcy5iYWsvcGFja2FnZXMvbXNhL3NyYy92aWV3cy9jYW52YXMvQ2FudmFzU2VxQmxvY2suY29mZmVlIiwiL2hvbWUveHNlYmkvb3duQ2xvdWQvcHJvamVjdHMvYmlvanMuYmFrL3BhY2thZ2VzL21zYS9zcmMvdmlld3MvY2FudmFzL0NhbnZhc1NlcURyYXdlci5jb2ZmZWUiLCIvaG9tZS94c2ViaS9vd25DbG91ZC9wcm9qZWN0cy9iaW9qcy5iYWsvcGFja2FnZXMvbXNhL3NyYy92aWV3cy9oZWFkZXIvQ29uc2VydmF0aW9uVmlldy5jb2ZmZWUiLCIvaG9tZS94c2ViaS9vd25DbG91ZC9wcm9qZWN0cy9iaW9qcy5iYWsvcGFja2FnZXMvbXNhL3NyYy92aWV3cy9oZWFkZXIvR2FwVmlldy5jb2ZmZWUiLCIvaG9tZS94c2ViaS9vd25DbG91ZC9wcm9qZWN0cy9iaW9qcy5iYWsvcGFja2FnZXMvbXNhL3NyYy92aWV3cy9oZWFkZXIvSGVhZGVyQmxvY2suY29mZmVlIiwiL2hvbWUveHNlYmkvb3duQ2xvdWQvcHJvamVjdHMvYmlvanMuYmFrL3BhY2thZ2VzL21zYS9zcmMvdmlld3MvaGVhZGVyL0xhYmVsSGVhZGVyLmNvZmZlZSIsIi9ob21lL3hzZWJpL293bkNsb3VkL3Byb2plY3RzL2Jpb2pzLmJhay9wYWNrYWdlcy9tc2Evc3JjL3ZpZXdzL2hlYWRlci9NYXJrZXJWaWV3LmNvZmZlZSIsIi9ob21lL3hzZWJpL293bkNsb3VkL3Byb2plY3RzL2Jpb2pzLmJhay9wYWNrYWdlcy9tc2Evc3JjL3ZpZXdzL2hlYWRlci9SaWdodEhlYWRlckJsb2NrLmNvZmZlZSIsIi9ob21lL3hzZWJpL293bkNsb3VkL3Byb2plY3RzL2Jpb2pzLmJhay9wYWNrYWdlcy9tc2Evc3JjL3ZpZXdzL2hlYWRlci9TZXFMb2dvV3JhcHBlci5jb2ZmZWUiLCIvaG9tZS94c2ViaS9vd25DbG91ZC9wcm9qZWN0cy9iaW9qcy5iYWsvcGFja2FnZXMvbXNhL3NyYy92aWV3cy9sYWJlbHMvTGFiZWxCbG9jay5jb2ZmZWUiLCIvaG9tZS94c2ViaS9vd25DbG91ZC9wcm9qZWN0cy9iaW9qcy5iYWsvcGFja2FnZXMvbXNhL3NyYy92aWV3cy9sYWJlbHMvTGFiZWxSb3dWaWV3LmNvZmZlZSIsIi9ob21lL3hzZWJpL293bkNsb3VkL3Byb2plY3RzL2Jpb2pzLmJhay9wYWNrYWdlcy9tc2Evc3JjL3ZpZXdzL2xhYmVscy9MYWJlbFZpZXcuY29mZmVlIiwiL2hvbWUveHNlYmkvb3duQ2xvdWQvcHJvamVjdHMvYmlvanMuYmFrL3BhY2thZ2VzL21zYS9zcmMvdmlld3MvbGFiZWxzL01ldGFWaWV3LmNvZmZlZSIsIm5vZGVfbW9kdWxlcy9iaW9qcy1pby1jbHVzdGFsL2xpYi9jbHVzdGFsLmpzIiwibm9kZV9tb2R1bGVzL2Jpb2pzLWlvLWZhc3RhL2xpYi9pbmRleC5qcyIsIm5vZGVfbW9kdWxlcy9iaW9qcy1pby1nZmYvbGliL2luZGV4LmpzIiwiYnJvd3NlciIsIm5vZGVfbW9kdWxlcy94aHIvaW5kZXguanMiXSwibmFtZXMiOltdLCJtYXBwaW5ncyI6IkFBQUE7QUNBQTs7QUNBQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7QUN6R0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOztBQ3JiQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOztBQ0pBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOztBQzlXQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOztBQ3JSQTtBQUNBOztBQ0RBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7O0FDekVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7Ozs7Ozs7O0FDL0tBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOzs7Ozs7QUNyQkE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7O0FDM0JBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOztBQzNCQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOztBQ2hFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7O0FDaEZBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7QUNuQ0E7QUFDQTs7QUNEQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7QUNOQTtBQUNBO0FBQ0E7O0FDRkE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7QUN6RUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7O0FDVEE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7QUN0QkE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7QUNQQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOztBQzNGQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7O0FDalpBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOztBQ3hIQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7O0FDdENBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7QUNSQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7QUNOQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7QUNUQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7QUNqTEE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7O0FDeEtBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOztBQ2pPQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7O0FDbkZBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7O0FDdlBBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7O0FDckNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7QUN6Q0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7O0FDcjNCQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7O0FDMUJBO0FBQ0E7O0FDREE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7QUM5SUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOztBQzlEQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOztBQ3pCQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7O0FDN0JBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7QUM3QkE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7QUN6QkE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7QUN6QkE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7QUM1QkE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOztBQ25GQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7O0FDN0JBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7QUM3QkE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7QUNQQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7QUNyQkE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7O0FDVEE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7O0FDM0JBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7O0FDekJBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7O0FDekJBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7O0FDekJBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7O0FDekJBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOztBQ3BJQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7O0FDbFlBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7O0FDdjRDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7OztBQ1RBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7O0FDbkJBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFD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QTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7O0FDL0VBO0FBQ0E7QUFDQTs7QUNGQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7O0FDOUpBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOztBQ3hCQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSIsImZpbGUiOiJnZW5lcmF0ZWQuanMiLCJzb3VyY2VSb290IjoiIiwic291cmNlc0NvbnRlbnQiOlsiKGZ1bmN0aW9uIGUodCxuLHIpe2Z1bmN0aW9uIHMobyx1KXtpZighbltvXSl7aWYoIXRbb10pe3ZhciBhPXR5cGVvZiByZXF1aXJlPT1cImZ1bmN0aW9uXCImJnJlcXVpcmU7aWYoIXUmJmEpcmV0dXJuIGEobywhMCk7aWYoaSlyZXR1cm4gaShvLCEwKTt2YXIgZj1uZXcgRXJyb3IoXCJDYW5ub3QgZmluZCBtb2R1bGUgJ1wiK28rXCInXCIpO3Rocm93IGYuY29kZT1cIk1PRFVMRV9OT1RfRk9VTkRcIixmfXZhciBsPW5bb109e2V4cG9ydHM6e319O3Rbb11bMF0uY2FsbChsLmV4cG9ydHMsZnVuY3Rpb24oZSl7dmFyIG49dFtvXVsxXVtlXTtyZXR1cm4gcyhuP246ZSl9LGwsbC5leHBvcnRzLGUsdCxuLHIpfXJldHVybiBuW29dLmV4cG9ydHN9dmFyIGk9dHlwZW9mIHJlcXVpcmU9PVwiZnVuY3Rpb25cIiYmcmVxdWlyZTtmb3IodmFyIG89MDtvPHIubGVuZ3RoO28rKylzKHJbb10pO3JldHVybiBzfSkiLCJ2YXIgY3NzID0gXCIvKiBCQVNJQyAqL1xcblxcbi5iaW9qc19tc2Ffc3RhZ2Uge1xcbiAgICBjdXJzb3I6IGRlZmF1bHQ7XFxuICAgIGxpbmUtaGVpZ2h0OiBub3JtYWw7IFxcbn1cXG5cXG4uYmlvanNfbXNhX3NlcWJsb2NrIHtcXG4gICAgY3Vyc29yOiBtb3ZlO1xcbn1cXG5cXG4uYmlvanNfbXNhX2xheWVye1xcbiAgICBkaXNwbGF5OiBibG9jaztcXG4gICAgd2hpdGUtc3BhY2U6IG5vd3JhcDtcXG59XFxuXFxuLmJpb2pzX21zYV9sYWJlbHMge1xcbiAgICBjb2xvcjpibGFjaztcXG4gICAgZGlzcGxheTogaW5saW5lLWJsb2NrO1xcbiAgICB3aGl0ZS1zcGFjZTogbm93cmFwO1xcbiAgICBjdXJzb3I6IHBvaW50ZXI7XFxuICAgIHZlcnRpY2FsLWFsaWduOm1pZGRsZTtcXG4gICAgb3ZlcmZsb3c6IGhpZGRlbjtcXG4gICAgdGV4dC1vdmVyZmxvdzogY2xpcDtcXG4gICAgLyptYXJnaW46YXV0bzsgKi9cXG4gICAgdGV4dC1hbGlnbjogbGVmdDtcXG59XFxuXFxuLmJpb2pzX21zYV9oZWFkZXIge1xcbiAgICB3aGl0ZS1zcGFjZTogbm93cmFwO1xcbiAgICB0ZXh0LWFsaWduOiBsZWZ0O1xcbn1cXG5cXG4uYmlvanNfbXNhX2xhYmVscm93OmJlZm9yZSB7XFxuICAgIGNvbnRlbnQ6ICcnO1xcbiAgICBkaXNwbGF5OiBpbmxpbmUtYmxvY2s7XFxuICAgIHdpZHRoOiAwO1xcbiAgICBoZWlnaHQ6IDEwMCU7XFxuICAgIHZlcnRpY2FsLWFsaWduOiBtaWRkbGU7XFxufVxcblxcbi5iaW9qc19tc2FfbGFiZWxyb3d7XFxuICAgIGhlaWdodDogMTAwJTtcXG59XFxuXFxuLmJpb2pzX21zYV9sYWJlbGJsb2NrOjotd2Via2l0LXNjcm9sbGJhciwgLmJpb2pzX21zYV9yaGVhZGVyOjotd2Via2l0LXNjcm9sbGJhcntcXG4gICAgLy8gRklYIHNjcm9sbGJhcnMgb24gTWFjXFxuICAgIC13ZWJraXQtYXBwZWFyYW5jZTogbm9uZTtcXG4gICAgd2lkdGg6IDdweDtcXG4gICAgaGVpZ2h0OiA3cHg7XFxufVxcbi5iaW9qc19tc2FfbGFiZWxibG9jazo6LXdlYmtpdC1zY3JvbGxiYXItdGh1bWIsIC5iaW9qc19tc2FfcmhlYWRlcjo6LXdlYmtpdC1zY3JvbGxiYXItdGh1bWJ7XFxuICAgIGJvcmRlci1yYWRpdXM6IDRweDtcXG4gICAgYmFja2dyb3VuZC1jb2xvcjogcmdiYSgwLDAsMCwuNSk7XFxuICAgIGJveC1zaGFkb3c6IDAgMCAxcHggcmdiYSgyNTUsMjU1LDI1NSwuNSk7XFxufVxcblxcbi8qIEVORCBCQVNJQyAqL1xcbi8qIE1hcmtlciAqL1xcblxcbi5iaW9qc19tc2FfbWFya2Vye1xcbiAgICBjb2xvcjpncmV5O1xcbiAgICB3aGl0ZS1zcGFjZTogbm93cmFwO1xcbiAgICBjdXJzb3I6IHBvaW50ZXI7XFxufVxcblxcbi5iaW9qc19tc2FfbWFya2VyIHNwYW57XFxuICAgIHRleHQtYWxpZ246IGNlbnRlcjtcXG59XFxuXFxuLyogRU5EIE1hcmtlciAqL1xcbi8qIE1lbnViYXIgKi9cXG5cXG4uc21lbnViYXIgLnNtZW51YmFyX2FsaW5rIHtcXG4gICAgYmFja2dyb3VuZDogIzM0OThkYjtcXG4gICAgYmFja2dyb3VuZC1pbWFnZTogLXdlYmtpdC1saW5lYXItZ3JhZGllbnQodG9wLCAjMzQ5OGRiLCAjMjk4MGI5KTtcXG4gICAgYmFja2dyb3VuZC1pbWFnZTogLW1vei1saW5lYXItZ3JhZGllbnQodG9wLCAjMzQ5OGRiLCAjMjk4MGI5KTtcXG4gICAgYmFja2dyb3VuZC1pbWFnZTogLW1zLWxpbmVhci1ncmFkaWVudCh0b3AsICMzNDk4ZGIsICMyOTgwYjkpO1xcbiAgICBiYWNrZ3JvdW5kLWltYWdlOiAtby1saW5lYXItZ3JhZGllbnQodG9wLCAjMzQ5OGRiLCAjMjk4MGI5KTtcXG4gICAgYmFja2dyb3VuZC1pbWFnZTogbGluZWFyLWdyYWRpZW50KHRvIGJvdHRvbSwgIzM0OThkYiwgIzI5ODBiOSk7XFxuICAgIC13ZWJraXQtYm9yZGVyLXJhZGl1czogMjg7XFxuICAgIC1tb3otYm9yZGVyLXJhZGl1czogMjg7XFxuICAgIGJvcmRlci1yYWRpdXM6IDI4cHg7XFxuICAgIGZvbnQtZmFtaWx5OiBBcmlhbDtcXG4gICAgY29sb3I6ICNmZmZmZmY7XFxuICAgIHBhZGRpbmc6IDNweCAxMHB4IDNweCAxMHB4O1xcbiAgICBtYXJnaW4tbGVmdDogMTBweDtcXG4gICAgdGV4dC1kZWNvcmF0aW9uOiBub25lO1xcbn1cXG4uc21lbnViYXIge1xcbiAgICBkaXNwbGF5OiBpbmxpbmUtYmxvY2s7XFxufVxcblxcbi5zbWVudWJhciAuc21lbnViYXJfYWxpbms6aG92ZXIge1xcbiAgICBjdXJzb3I6IHBvaW50ZXI7XFxufVxcblxcblxcbi8qIGpxdWVyeSBkcm9wZG93biBDU1MgKi9cXG5cXG4uc21lbnUtZHJvcGRvd24ge1xcbiAgICBwb3NpdGlvbjogYWJzb2x1dGU7XFxuICAgIHotaW5kZXg6IDk5OTk5OTk7XFxuICAgIGRpc3BsYXk6IG5vbmU7XFxufVxcblxcbi5zbWVudS1kcm9wZG93biAuc21lbnUtZHJvcGRvd24tbWVudSxcXG4uc21lbnUtZHJvcGRvd24gLnNtZW51LWRyb3Bkb3duLXBhbmVsIHtcXG4gICAgbWluLXdpZHRoOiAxNjBweDtcXG4gICAgbWF4LXdpZHRoOiAzNjBweDtcXG4gICAgbGlzdC1zdHlsZTogbm9uZTtcXG4gICAgYmFja2dyb3VuZDogI0ZGRjtcXG4gICAgYm9yZGVyOiBzb2xpZCAxcHggI0RERDtcXG4gICAgYm9yZGVyOiBzb2xpZCAxcHggcmdiYSgwLCAwLCAwLCAuMik7XFxuICAgIGJvcmRlci1yYWRpdXM6IDZweDtcXG4gICAgYm94LXNoYWRvdzogMCA1cHggMTBweCByZ2JhKDAsIDAsIDAsIC4yKTtcXG4gICAgb3ZlcmZsb3c6IHZpc2libGU7XFxuICAgIHBhZGRpbmc6IDRweCAwO1xcbiAgICBtYXJnaW46IDA7XFxufVxcblxcbi5zbWVudS1kcm9wZG93biAuc21lbnUtZHJvcGRvd24tcGFuZWwge1xcbiAgICBwYWRkaW5nOiAxMHB4O1xcbn1cXG5cXG5cXG4uc21lbnUtZHJvcGRvd24uc21lbnUtZHJvcGRvd24tc2Nyb2xsIC5zbWVudS1kcm9wZG93bi1tZW51LFxcbi5zbWVudS1kcm9wZG93bi5zbWVudS1kcm9wZG93bi1zY3JvbGwgLnNtZW51LWRyb3Bkb3duLXBhbmVsIHtcXG4gICAgbWF4LWhlaWdodDogMzU4cHg7XFxuICAgIG92ZXJmbG93OiBhdXRvO1xcbn1cXG5cXG4uc21lbnUtZHJvcGRvd24gLnNtZW51LWRyb3Bkb3duLW1lbnUgTEkge1xcbiAgICBsaXN0LXN0eWxlOiBub25lO1xcbiAgICBwYWRkaW5nOiAwIDA7XFxuICAgIG1hcmdpbjogMDtcXG4gICAgbGluZS1oZWlnaHQ6IDE4cHg7XFxufVxcblxcbi5zbWVudS1kcm9wZG93biAuc21lbnUtZHJvcGRvd24tbWVudSBMSSxcXG4uc21lbnUtZHJvcGRvd24gLnNtZW51LWRyb3Bkb3duLW1lbnUgTEFCRUwge1xcbiAgICBkaXNwbGF5OiBibG9jaztcXG4gICAgY29sb3I6ICM1NTU7XFxuICAgIHRleHQtZGVjb3JhdGlvbjogbm9uZTtcXG4gICAgbGluZS1oZWlnaHQ6IDE4cHg7XFxuICAgIHBhZGRpbmc6IDNweCAxNXB4O1xcbiAgICB3aGl0ZS1zcGFjZTogbm93cmFwO1xcbn1cXG5cXG4uc21lbnUtZHJvcGRvd24gLnNtZW51LWRyb3Bkb3duLW1lbnUgTEk6aG92ZXIsXFxuLnNtZW51LWRyb3Bkb3duIC5zbWVudS1kcm9wZG93bi1tZW51IExBQkVMOmhvdmVyIHtcXG4gICAgYmFja2dyb3VuZC1jb2xvcjogIzA4QztcXG4gICAgY29sb3I6ICNGRkY7XFxuICAgIGN1cnNvcjogcG9pbnRlcjtcXG59XFxuXFxuLnNtZW51LWRyb3Bkb3duIC5zbWVudS1kcm9wZG93bi1tZW51IC5zbWVudS1kcm9wZG93bi1kaXZpZGVyIHtcXG4gICAgZm9udC1zaXplOiAxcHg7XFxuICAgIGJvcmRlci10b3A6IHNvbGlkIDFweCAjRTVFNUU1O1xcbiAgICBwYWRkaW5nOiAwO1xcbiAgICBtYXJnaW46IDVweCAwO1xcbn1cXG5cXG4vKiBFTkQgTWVudWJhciAqL1xcblwiOyAocmVxdWlyZShcIi9ob21lL3hzZWJpL293bkNsb3VkL3Byb2plY3RzL2Jpb2pzLmJhay9wYWNrYWdlcy9tc2Evbm9kZV9tb2R1bGVzL2Nzc2lmeVwiKSkoY3NzKTsgbW9kdWxlLmV4cG9ydHMgPSBjc3M7IiwidmFyIF8gPSByZXF1aXJlKCd1bmRlcnNjb3JlJyk7XG52YXIgdmlld1R5cGUgPSByZXF1aXJlKFwiYmFja2JvbmUtdmlld2pcIik7XG52YXIgcGx1Z2luYXRvcjtcblxuLyoqXG4gKiBSZW1vdmUgYW4gZWxlbWVudCBhbmQgcHJvdmlkZSBhIGZ1bmN0aW9uIHRoYXQgaW5zZXJ0cyBpdCBpbnRvIGl0cyBvcmlnaW5hbCBwb3NpdGlvblxuICogQHBhcmFtIGVsZW1lbnQge0VsZW1lbnR9IFRoZSBlbGVtZW50IHRvIGJlIHRlbXBvcmFyaWx5IHJlbW92ZWRcbiAqIEByZXR1cm4ge0Z1bmN0aW9ufSBBIGZ1bmN0aW9uIHRoYXQgaW5zZXJ0cyB0aGUgZWxlbWVudCBpbnRvIGl0cyBvcmlnaW5hbCBwb3NpdGlvblxuICoqL1xuZnVuY3Rpb24gcmVtb3ZlVG9JbnNlcnRMYXRlcihlbGVtZW50KSB7XG4gIHZhciBwYXJlbnROb2RlID0gZWxlbWVudC5wYXJlbnROb2RlO1xuICB2YXIgbmV4dFNpYmxpbmcgPSBlbGVtZW50Lm5leHRTaWJsaW5nO1xuICBwYXJlbnROb2RlLnJlbW92ZUNoaWxkKGVsZW1lbnQpO1xuICByZXR1cm4gZnVuY3Rpb24oKSB7XG4gICAgaWYgKG5leHRTaWJsaW5nKSB7XG4gICAgICBwYXJlbnROb2RlLmluc2VydEJlZm9yZShlbGVtZW50LCBuZXh0U2libGluZyk7XG4gICAgfSBlbHNlIHtcbiAgICAgIHBhcmVudE5vZGUuYXBwZW5kQ2hpbGQoZWxlbWVudCk7XG4gICAgfVxuICB9O1xufVxuXG52YXIgcmVtb3ZlQ2hpbGRzID0gZnVuY3Rpb24gKG5vZGUpIHtcbiAgICB2YXIgbGFzdDtcbiAgICB3aGlsZSAobGFzdCA9IG5vZGUubGFzdENoaWxkKSBub2RlLnJlbW92ZUNoaWxkKGxhc3QpO1xufTtcblxubW9kdWxlLmV4cG9ydHMgPSBwbHVnaW5hdG9yID0gdmlld1R5cGUuZXh0ZW5kKHtcbiAgcmVuZGVyU3Vidmlld3M6IGZ1bmN0aW9uKCkge1xuICAgIC8vIGl0IGlzIGZhc3RlciB0byByZW1vdmUgdGhlIGVudGlyZSBlbGVtZW50IGFuZCByZXBsYWNlIGl0XG4gICAgLy8gLT4gaG93ZXZlciB0aGlzIHdpbGwgbGVhZCB0byBsb3N0IGlkLGNsYXNzIGFuZCBzdHlsZSBwcm9wc1xuICAgIHZhciBvbGRFbCA9IHRoaXMuZWw7XG5cbiAgICAvLyBpdCBtaWdodCBiZSB0aGF0IHRoZSBlbGVtZW50IGlzIG5vdCBvbiB0aGUgRE9NIHlldFxuICAgIHZhciBlbE9uRG9tID0gb2xkRWwucGFyZW50Tm9kZSAhPSB1bmRlZmluZWQ7XG4gICAgaWYoZWxPbkRvbSl7XG4gICAgICB2YXIgaW5zZXJ0ID0gcmVtb3ZlVG9JbnNlcnRMYXRlcihvbGRFbClcbiAgICB9XG4gICAgcmVtb3ZlQ2hpbGRzKG9sZEVsKTtcblxuICAgIHZhciBmcmFnID0gZG9jdW1lbnQuY3JlYXRlRG9jdW1lbnRGcmFnbWVudCgpO1xuICAgIHZhciB2aWV3cyA9IHRoaXMuX3ZpZXdzKCk7XG4gICAgdmFyIHZpZXdzU29ydGVkID0gXy5zb3J0Qnkodmlld3MsIGZ1bmN0aW9uKGVsKSB7XG4gICAgICByZXR1cm4gZWwub3JkZXJpbmc7XG4gICAgfSk7XG4gICAgdmFyIHZpZXcsIG5vZGU7XG4gICAgZm9yICh2YXIgaSA9IDA7IGkgPCAgdmlld3NTb3J0ZWQubGVuZ3RoOyBpKyspIHtcbiAgICAgIHZpZXcgPSB2aWV3c1NvcnRlZFtpXTtcbiAgICAgIHZpZXcucmVuZGVyKCk7XG4gICAgICBub2RlID0gdmlldy5lbDtcbiAgICAgIGlmIChub2RlICE9IG51bGwpIHtcbiAgICAgICAgZnJhZy5hcHBlbmRDaGlsZChub2RlKTtcbiAgICAgIH1cbiAgICB9XG5cbiAgICBvbGRFbC5hcHBlbmRDaGlsZChmcmFnKTtcbiAgICBpZihlbE9uRG9tKXtcbiAgICAgIGluc2VydCgpO1xuICAgIH1cbiAgICByZXR1cm4gb2xkRWw7XG4gIH0sXG4gIGFkZFZpZXc6IGZ1bmN0aW9uKGtleSwgdmlldykge1xuICAgIHZhciB2aWV3cyA9IHRoaXMuX3ZpZXdzKCk7XG4gICAgaWYgKHZpZXcgPT0gbnVsbCkge1xuICAgICAgdGhyb3cgXCJJbnZhbGlkIHBsdWdpbi4gXCI7XG4gICAgfVxuICAgIGlmICh2aWV3Lm9yZGVyaW5nID09IG51bGwpIHtcbiAgICAgIHZpZXcub3JkZXJpbmcgPSBrZXk7XG4gICAgfVxuICAgIHJldHVybiB2aWV3c1trZXldID0gdmlldztcbiAgfSxcbiAgcmVtb3ZlVmlld3M6IGZ1bmN0aW9uKCkge1xuICAgIHZhciBlbCwga2V5O1xuICAgIHZhciB2aWV3cyA9IHRoaXMuX3ZpZXdzKCk7XG4gICAgZm9yIChrZXkgaW4gdmlld3MpIHtcbiAgICAgIGVsID0gdmlld3Nba2V5XTtcbiAgICAgIGVsLnVuZGVsZWdhdGVFdmVudHMoKTtcbiAgICAgIGVsLnVuYmluZCgpO1xuICAgICAgaWYgKGVsLnJlbW92ZVZpZXdzICE9IG51bGwpIHtcbiAgICAgICAgZWwucmVtb3ZlVmlld3MoKTtcbiAgICAgIH1cbiAgICAgIGVsLnJlbW92ZSgpO1xuICAgIH1cbiAgICByZXR1cm4gdGhpcy52aWV3cyA9IHt9O1xuICB9LFxuICByZW1vdmVWaWV3OiBmdW5jdGlvbihrZXkpIHtcbiAgICB2YXIgdmlld3MgPSB0aGlzLl92aWV3cygpO1xuICAgIHZpZXdzW2tleV0ucmVtb3ZlKCk7XG4gICAgcmV0dXJuIGRlbGV0ZSB2aWV3c1trZXldO1xuICB9LFxuICBnZXRWaWV3OiBmdW5jdGlvbihrZXkpIHtcbiAgICB2YXIgdmlld3MgPSB0aGlzLl92aWV3cygpO1xuICAgIHJldHVybiB2aWV3c1trZXldO1xuICB9LFxuICByZW1vdmU6IGZ1bmN0aW9uKCkge1xuICAgIHRoaXMucmVtb3ZlVmlld3MoKTtcbiAgICByZXR1cm4gdmlld1R5cGUucHJvdG90eXBlLnJlbW92ZS5hcHBseSh0aGlzKTtcbiAgfSxcbiAgX3ZpZXdzOiBmdW5jdGlvbigpIHtcbiAgICBpZiAodGhpcy52aWV3cyA9PSBudWxsKSB7XG4gICAgICB0aGlzLnZpZXdzID0ge307XG4gICAgfVxuICAgIHJldHVybiB0aGlzLnZpZXdzO1xuICB9XG59KTtcbiIsIi8vICAgICBCYWNrYm9uZS5qcyAxLjEuMlxuXG4vLyAgICAgKGMpIDIwMTAtMjAxNCBKZXJlbXkgQXNoa2VuYXMsIERvY3VtZW50Q2xvdWQgYW5kIEludmVzdGlnYXRpdmUgUmVwb3J0ZXJzICYgRWRpdG9yc1xuLy8gICAgIEJhY2tib25lIG1heSBiZSBmcmVlbHkgZGlzdHJpYnV0ZWQgdW5kZXIgdGhlIE1JVCBsaWNlbnNlLlxuLy8gICAgIEZvciBhbGwgZGV0YWlscyBhbmQgZG9jdW1lbnRhdGlvbjpcbi8vICAgICBodHRwOi8vYmFja2JvbmVqcy5vcmdcblxudmFyIEV2ZW50cyA9IHJlcXVpcmUoXCJiYWNrYm9uZS1ldmVudHMtc3RhbmRhbG9uZVwiKTtcbnZhciBleHRlbmQgPSByZXF1aXJlKFwiYmFja2JvbmUtZXh0ZW5kLXN0YW5kYWxvbmVcIik7XG52YXIgXyA9IHJlcXVpcmUoXCJ1bmRlcnNjb3JlXCIpO1xudmFyIE1vZGVsID0gcmVxdWlyZShcIi4vbW9kZWxcIik7XG5cbi8vIENyZWF0ZSBsb2NhbCByZWZlcmVuY2VzIHRvIGFycmF5IG1ldGhvZHMgd2UnbGwgd2FudCB0byB1c2UgbGF0ZXIuXG52YXIgYXJyYXkgPSBbXTtcbnZhciBzbGljZSA9IGFycmF5LnNsaWNlO1xuXG4vLyBCYWNrYm9uZS5Db2xsZWN0aW9uXG4vLyAtLS0tLS0tLS0tLS0tLS0tLS0tXG5cbi8vIElmIG1vZGVscyB0ZW5kIHRvIHJlcHJlc2VudCBhIHNpbmdsZSByb3cgb2YgZGF0YSwgYSBCYWNrYm9uZSBDb2xsZWN0aW9uIGlzXG4vLyBtb3JlIGFuYWxvZ291cyB0byBhIHRhYmxlIGZ1bGwgb2YgZGF0YSAuLi4gb3IgYSBzbWFsbCBzbGljZSBvciBwYWdlIG9mIHRoYXRcbi8vIHRhYmxlLCBvciBhIGNvbGxlY3Rpb24gb2Ygcm93cyB0aGF0IGJlbG9uZyB0b2dldGhlciBmb3IgYSBwYXJ0aWN1bGFyIHJlYXNvblxuLy8gLS0gYWxsIG9mIHRoZSBtZXNzYWdlcyBpbiB0aGlzIHBhcnRpY3VsYXIgZm9sZGVyLCBhbGwgb2YgdGhlIGRvY3VtZW50c1xuLy8gYmVsb25naW5nIHRvIHRoaXMgcGFydGljdWxhciBhdXRob3IsIGFuZCBzbyBvbi4gQ29sbGVjdGlvbnMgbWFpbnRhaW5cbi8vIGluZGV4ZXMgb2YgdGhlaXIgbW9kZWxzLCBib3RoIGluIG9yZGVyLCBhbmQgZm9yIGxvb2t1cCBieSBgaWRgLlxuXG4vLyBDcmVhdGUgYSBuZXcgKipDb2xsZWN0aW9uKiosIHBlcmhhcHMgdG8gY29udGFpbiBhIHNwZWNpZmljIHR5cGUgb2YgYG1vZGVsYC5cbi8vIElmIGEgYGNvbXBhcmF0b3JgIGlzIHNwZWNpZmllZCwgdGhlIENvbGxlY3Rpb24gd2lsbCBtYWludGFpblxuLy8gaXRzIG1vZGVscyBpbiBzb3J0IG9yZGVyLCBhcyB0aGV5J3JlIGFkZGVkIGFuZCByZW1vdmVkLlxudmFyIENvbGxlY3Rpb24gPSBmdW5jdGlvbihtb2RlbHMsIG9wdGlvbnMpIHtcbiAgb3B0aW9ucyB8fCAob3B0aW9ucyA9IHt9KTtcbiAgaWYgKG9wdGlvbnMubW9kZWwpIHRoaXMubW9kZWwgPSBvcHRpb25zLm1vZGVsO1xuICBpZiAob3B0aW9ucy5jb21wYXJhdG9yICE9PSB2b2lkIDApIHRoaXMuY29tcGFyYXRvciA9IG9wdGlvbnMuY29tcGFyYXRvcjtcbiAgdGhpcy5fcmVzZXQoKTtcbiAgdGhpcy5pbml0aWFsaXplLmFwcGx5KHRoaXMsIGFyZ3VtZW50cyk7XG4gIGlmIChtb2RlbHMpIHRoaXMucmVzZXQobW9kZWxzLCBfLmV4dGVuZCh7c2lsZW50OiB0cnVlfSwgb3B0aW9ucykpO1xufTtcblxuLy8gRGVmYXVsdCBvcHRpb25zIGZvciBgQ29sbGVjdGlvbiNzZXRgLlxudmFyIHNldE9wdGlvbnMgPSB7YWRkOiB0cnVlLCByZW1vdmU6IHRydWUsIG1lcmdlOiB0cnVlfTtcbnZhciBhZGRPcHRpb25zID0ge2FkZDogdHJ1ZSwgcmVtb3ZlOiBmYWxzZX07XG5cbi8vIERlZmluZSB0aGUgQ29sbGVjdGlvbidzIGluaGVyaXRhYmxlIG1ldGhvZHMuXG5fLmV4dGVuZChDb2xsZWN0aW9uLnByb3RvdHlwZSwgRXZlbnRzLCB7XG5cbiAgLy8gVGhlIGRlZmF1bHQgbW9kZWwgZm9yIGEgY29sbGVjdGlvbiBpcyBqdXN0IGEgKipCYWNrYm9uZS5Nb2RlbCoqLlxuICAvLyBUaGlzIHNob3VsZCBiZSBvdmVycmlkZGVuIGluIG1vc3QgY2FzZXMuXG4gIG1vZGVsOiBNb2RlbCxcblxuICAvLyBJbml0aWFsaXplIGlzIGFuIGVtcHR5IGZ1bmN0aW9uIGJ5IGRlZmF1bHQuIE92ZXJyaWRlIGl0IHdpdGggeW91ciBvd25cbiAgLy8gaW5pdGlhbGl6YXRpb24gbG9naWMuXG4gIGluaXRpYWxpemU6IGZ1bmN0aW9uKCl7fSxcblxuICAgIC8vIFRoZSBKU09OIHJlcHJlc2VudGF0aW9uIG9mIGEgQ29sbGVjdGlvbiBpcyBhbiBhcnJheSBvZiB0aGVcbiAgICAvLyBtb2RlbHMnIGF0dHJpYnV0ZXMuXG4gIHRvSlNPTjogZnVuY3Rpb24ob3B0aW9ucykge1xuICAgIHJldHVybiB0aGlzLm1hcChmdW5jdGlvbihtb2RlbCl7IHJldHVybiBtb2RlbC50b0pTT04ob3B0aW9ucyk7IH0pO1xuICB9LFxuXG4gICAgLy8gUHJveHkgYEJhY2tib25lLnN5bmNgIGJ5IGRlZmF1bHQuXG4gIHN5bmM6IGZ1bmN0aW9uKCkge1xuICAgIHJldHVybiBCYWNrYm9uZS5zeW5jLmFwcGx5KHRoaXMsIGFyZ3VtZW50cyk7XG4gIH0sXG5cbiAgICAvLyBBZGQgYSBtb2RlbCwgb3IgbGlzdCBvZiBtb2RlbHMgdG8gdGhlIHNldC5cbiAgYWRkOiBmdW5jdGlvbihtb2RlbHMsIG9wdGlvbnMpIHtcbiAgICByZXR1cm4gdGhpcy5zZXQobW9kZWxzLCBfLmV4dGVuZCh7bWVyZ2U6IGZhbHNlfSwgb3B0aW9ucywgYWRkT3B0aW9ucykpO1xuICB9LFxuXG4gICAgLy8gUmVtb3ZlIGEgbW9kZWwsIG9yIGEgbGlzdCBvZiBtb2RlbHMgZnJvbSB0aGUgc2V0LlxuICByZW1vdmU6IGZ1bmN0aW9uKG1vZGVscywgb3B0aW9ucykge1xuICAgIHZhciBzaW5ndWxhciA9ICFfLmlzQXJyYXkobW9kZWxzKTtcbiAgICBtb2RlbHMgPSBzaW5ndWxhciA/IFttb2RlbHNdIDogXy5jbG9uZShtb2RlbHMpO1xuICAgIG9wdGlvbnMgfHwgKG9wdGlvbnMgPSB7fSk7XG4gICAgZm9yICh2YXIgaSA9IDAsIGxlbmd0aCA9IG1vZGVscy5sZW5ndGg7IGkgPCBsZW5ndGg7IGkrKykge1xuICAgICAgdmFyIG1vZGVsID0gbW9kZWxzW2ldID0gdGhpcy5nZXQobW9kZWxzW2ldKTtcbiAgICAgIGlmICghbW9kZWwpIGNvbnRpbnVlO1xuICAgICAgdmFyIGlkID0gdGhpcy5tb2RlbElkKG1vZGVsLmF0dHJpYnV0ZXMpO1xuICAgICAgaWYgKGlkICE9IG51bGwpIGRlbGV0ZSB0aGlzLl9ieUlkW2lkXTtcbiAgICAgIGRlbGV0ZSB0aGlzLl9ieUlkW21vZGVsLmNpZF07XG4gICAgICB2YXIgaW5kZXggPSB0aGlzLmluZGV4T2YobW9kZWwpO1xuICAgICAgdGhpcy5tb2RlbHMuc3BsaWNlKGluZGV4LCAxKTtcbiAgICAgIHRoaXMubGVuZ3RoLS07XG4gICAgICBpZiAoIW9wdGlvbnMuc2lsZW50KSB7XG4gICAgICAgIG9wdGlvbnMuaW5kZXggPSBpbmRleDtcbiAgICAgICAgbW9kZWwudHJpZ2dlcigncmVtb3ZlJywgbW9kZWwsIHRoaXMsIG9wdGlvbnMpO1xuICAgICAgfVxuICAgICAgdGhpcy5fcmVtb3ZlUmVmZXJlbmNlKG1vZGVsLCBvcHRpb25zKTtcbiAgICB9XG4gICAgcmV0dXJuIHNpbmd1bGFyID8gbW9kZWxzWzBdIDogbW9kZWxzO1xuICB9LFxuXG4gICAgLy8gVXBkYXRlIGEgY29sbGVjdGlvbiBieSBgc2V0YC1pbmcgYSBuZXcgbGlzdCBvZiBtb2RlbHMsIGFkZGluZyBuZXcgb25lcyxcbiAgICAvLyByZW1vdmluZyBtb2RlbHMgdGhhdCBhcmUgbm8gbG9uZ2VyIHByZXNlbnQsIGFuZCBtZXJnaW5nIG1vZGVscyB0aGF0XG4gICAgLy8gYWxyZWFkeSBleGlzdCBpbiB0aGUgY29sbGVjdGlvbiwgYXMgbmVjZXNzYXJ5LiBTaW1pbGFyIHRvICoqTW9kZWwjc2V0KiosXG4gICAgLy8gdGhlIGNvcmUgb3BlcmF0aW9uIGZvciB1cGRhdGluZyB0aGUgZGF0YSBjb250YWluZWQgYnkgdGhlIGNvbGxlY3Rpb24uXG4gIHNldDogZnVuY3Rpb24obW9kZWxzLCBvcHRpb25zKSB7XG4gICAgb3B0aW9ucyA9IF8uZGVmYXVsdHMoe30sIG9wdGlvbnMsIHNldE9wdGlvbnMpO1xuICAgIGlmIChvcHRpb25zLnBhcnNlKSBtb2RlbHMgPSB0aGlzLnBhcnNlKG1vZGVscywgb3B0aW9ucyk7XG4gICAgdmFyIHNpbmd1bGFyID0gIV8uaXNBcnJheShtb2RlbHMpO1xuICAgIG1vZGVscyA9IHNpbmd1bGFyID8gKG1vZGVscyA/IFttb2RlbHNdIDogW10pIDogbW9kZWxzLnNsaWNlKCk7XG4gICAgdmFyIGlkLCBtb2RlbCwgYXR0cnMsIGV4aXN0aW5nLCBzb3J0O1xuICAgIHZhciBhdCA9IG9wdGlvbnMuYXQ7XG4gICAgdmFyIHNvcnRhYmxlID0gdGhpcy5jb21wYXJhdG9yICYmIChhdCA9PSBudWxsKSAmJiBvcHRpb25zLnNvcnQgIT09IGZhbHNlO1xuICAgIHZhciBzb3J0QXR0ciA9IF8uaXNTdHJpbmcodGhpcy5jb21wYXJhdG9yKSA/IHRoaXMuY29tcGFyYXRvciA6IG51bGw7XG4gICAgdmFyIHRvQWRkID0gW10sIHRvUmVtb3ZlID0gW10sIG1vZGVsTWFwID0ge307XG4gICAgdmFyIGFkZCA9IG9wdGlvbnMuYWRkLCBtZXJnZSA9IG9wdGlvbnMubWVyZ2UsIHJlbW92ZSA9IG9wdGlvbnMucmVtb3ZlO1xuICAgIHZhciBvcmRlciA9ICFzb3J0YWJsZSAmJiBhZGQgJiYgcmVtb3ZlID8gW10gOiBmYWxzZTtcblxuICAgIC8vIFR1cm4gYmFyZSBvYmplY3RzIGludG8gbW9kZWwgcmVmZXJlbmNlcywgYW5kIHByZXZlbnQgaW52YWxpZCBtb2RlbHNcbiAgICAvLyBmcm9tIGJlaW5nIGFkZGVkLlxuICAgIGZvciAodmFyIGkgPSAwLCBsZW5ndGggPSBtb2RlbHMubGVuZ3RoOyBpIDwgbGVuZ3RoOyBpKyspIHtcbiAgICAgIGF0dHJzID0gbW9kZWxzW2ldO1xuXG4gICAgICAvLyBJZiBhIGR1cGxpY2F0ZSBpcyBmb3VuZCwgcHJldmVudCBpdCBmcm9tIGJlaW5nIGFkZGVkIGFuZFxuICAgICAgLy8gb3B0aW9uYWxseSBtZXJnZSBpdCBpbnRvIHRoZSBleGlzdGluZyBtb2RlbC5cbiAgICAgIGlmIChleGlzdGluZyA9IHRoaXMuZ2V0KGF0dHJzKSkge1xuICAgICAgICBpZiAocmVtb3ZlKSBtb2RlbE1hcFtleGlzdGluZy5jaWRdID0gdHJ1ZTtcbiAgICAgICAgaWYgKG1lcmdlICYmIGF0dHJzICE9PSBleGlzdGluZykge1xuICAgICAgICAgIGF0dHJzID0gdGhpcy5faXNNb2RlbChhdHRycykgPyBhdHRycy5hdHRyaWJ1dGVzIDogYXR0cnM7XG4gICAgICAgICAgaWYgKG9wdGlvbnMucGFyc2UpIGF0dHJzID0gZXhpc3RpbmcucGFyc2UoYXR0cnMsIG9wdGlvbnMpO1xuICAgICAgICAgIGV4aXN0aW5nLnNldChhdHRycywgb3B0aW9ucyk7XG4gICAgICAgICAgaWYgKHNvcnRhYmxlICYmICFzb3J0ICYmIGV4aXN0aW5nLmhhc0NoYW5nZWQoc29ydEF0dHIpKSBzb3J0ID0gdHJ1ZTtcbiAgICAgICAgfVxuICAgICAgICBtb2RlbHNbaV0gPSBleGlzdGluZztcblxuICAgICAgICAvLyBJZiB0aGlzIGlzIGEgbmV3LCB2YWxpZCBtb2RlbCwgcHVzaCBpdCB0byB0aGUgYHRvQWRkYCBsaXN0LlxuICAgICAgfSBlbHNlIGlmIChhZGQpIHtcbiAgICAgICAgbW9kZWwgPSBtb2RlbHNbaV0gPSB0aGlzLl9wcmVwYXJlTW9kZWwoYXR0cnMsIG9wdGlvbnMpO1xuICAgICAgICBpZiAoIW1vZGVsKSBjb250aW51ZTtcbiAgICAgICAgdG9BZGQucHVzaChtb2RlbCk7XG4gICAgICAgIHRoaXMuX2FkZFJlZmVyZW5jZShtb2RlbCwgb3B0aW9ucyk7XG4gICAgICB9XG5cbiAgICAgIC8vIERvIG5vdCBhZGQgbXVsdGlwbGUgbW9kZWxzIHdpdGggdGhlIHNhbWUgYGlkYC5cbiAgICAgIG1vZGVsID0gZXhpc3RpbmcgfHwgbW9kZWw7XG4gICAgICBpZiAoIW1vZGVsKSBjb250aW51ZTtcbiAgICAgIGlkID0gdGhpcy5tb2RlbElkKG1vZGVsLmF0dHJpYnV0ZXMpO1xuICAgICAgaWYgKG9yZGVyICYmIChtb2RlbC5pc05ldygpIHx8ICFtb2RlbE1hcFtpZF0pKSBvcmRlci5wdXNoKG1vZGVsKTtcbiAgICAgIG1vZGVsTWFwW2lkXSA9IHRydWU7XG4gICAgfVxuXG4gICAgLy8gUmVtb3ZlIG5vbmV4aXN0ZW50IG1vZGVscyBpZiBhcHByb3ByaWF0ZS5cbiAgICBpZiAocmVtb3ZlKSB7XG4gICAgICBmb3IgKHZhciBpID0gMCwgbGVuZ3RoID0gdGhpcy5sZW5ndGg7IGkgPCBsZW5ndGg7IGkrKykge1xuICAgICAgICBpZiAoIW1vZGVsTWFwWyhtb2RlbCA9IHRoaXMubW9kZWxzW2ldKS5jaWRdKSB0b1JlbW92ZS5wdXNoKG1vZGVsKTtcbiAgICAgIH1cbiAgICAgIGlmICh0b1JlbW92ZS5sZW5ndGgpIHRoaXMucmVtb3ZlKHRvUmVtb3ZlLCBvcHRpb25zKTtcbiAgICB9XG5cbiAgICAvLyBTZWUgaWYgc29ydGluZyBpcyBuZWVkZWQsIHVwZGF0ZSBgbGVuZ3RoYCBhbmQgc3BsaWNlIGluIG5ldyBtb2RlbHMuXG4gICAgaWYgKHRvQWRkLmxlbmd0aCB8fCAob3JkZXIgJiYgb3JkZXIubGVuZ3RoKSkge1xuICAgICAgaWYgKHNvcnRhYmxlKSBzb3J0ID0gdHJ1ZTtcbiAgICAgIHRoaXMubGVuZ3RoICs9IHRvQWRkLmxlbmd0aDtcbiAgICAgIGlmIChhdCAhPSBudWxsKSB7XG4gICAgICAgIGZvciAodmFyIGkgPSAwLCBsZW5ndGggPSB0b0FkZC5sZW5ndGg7IGkgPCBsZW5ndGg7IGkrKykge1xuICAgICAgICAgIHRoaXMubW9kZWxzLnNwbGljZShhdCArIGksIDAsIHRvQWRkW2ldKTtcbiAgICAgICAgfVxuICAgICAgfSBlbHNlIHtcbiAgICAgICAgaWYgKG9yZGVyKSB0aGlzLm1vZGVscy5sZW5ndGggPSAwO1xuICAgICAgICB2YXIgb3JkZXJlZE1vZGVscyA9IG9yZGVyIHx8IHRvQWRkO1xuICAgICAgICBmb3IgKHZhciBpID0gMCwgbGVuZ3RoID0gb3JkZXJlZE1vZGVscy5sZW5ndGg7IGkgPCBsZW5ndGg7IGkrKykge1xuICAgICAgICAgIHRoaXMubW9kZWxzLnB1c2gob3JkZXJlZE1vZGVsc1tpXSk7XG4gICAgICAgIH1cbiAgICAgIH1cbiAgICB9XG5cbiAgICAvLyBTaWxlbnRseSBzb3J0IHRoZSBjb2xsZWN0aW9uIGlmIGFwcHJvcHJpYXRlLlxuICAgIGlmIChzb3J0KSB0aGlzLnNvcnQoe3NpbGVudDogdHJ1ZX0pO1xuXG4gICAgLy8gVW5sZXNzIHNpbGVuY2VkLCBpdCdzIHRpbWUgdG8gZmlyZSBhbGwgYXBwcm9wcmlhdGUgYWRkL3NvcnQgZXZlbnRzLlxuICAgIGlmICghb3B0aW9ucy5zaWxlbnQpIHtcbiAgICAgIHZhciBhZGRPcHRzID0gYXQgIT0gbnVsbCA/IF8uY2xvbmUob3B0aW9ucykgOiBvcHRpb25zO1xuICAgICAgZm9yICh2YXIgaSA9IDAsIGxlbmd0aCA9IHRvQWRkLmxlbmd0aDsgaSA8IGxlbmd0aDsgaSsrKSB7XG4gICAgICAgIGlmIChhdCAhPSBudWxsKSBhZGRPcHRzLmluZGV4ID0gYXQgKyBpO1xuICAgICAgICAobW9kZWwgPSB0b0FkZFtpXSkudHJpZ2dlcignYWRkJywgbW9kZWwsIHRoaXMsIGFkZE9wdHMpO1xuICAgICAgfVxuICAgICAgaWYgKHNvcnQgfHwgKG9yZGVyICYmIG9yZGVyLmxlbmd0aCkpIHRoaXMudHJpZ2dlcignc29ydCcsIHRoaXMsIG9wdGlvbnMpO1xuICAgIH1cblxuICAgIC8vIFJldHVybiB0aGUgYWRkZWQgKG9yIG1lcmdlZCkgbW9kZWwgKG9yIG1vZGVscykuXG4gICAgcmV0dXJuIHNpbmd1bGFyID8gbW9kZWxzWzBdIDogbW9kZWxzO1xuICB9LFxuXG4gICAgLy8gV2hlbiB5b3UgaGF2ZSBtb3JlIGl0ZW1zIHRoYW4geW91IHdhbnQgdG8gYWRkIG9yIHJlbW92ZSBpbmRpdmlkdWFsbHksXG4gICAgLy8geW91IGNhbiByZXNldCB0aGUgZW50aXJlIHNldCB3aXRoIGEgbmV3IGxpc3Qgb2YgbW9kZWxzLCB3aXRob3V0IGZpcmluZ1xuICAgIC8vIGFueSBncmFudWxhciBgYWRkYCBvciBgcmVtb3ZlYCBldmVudHMuIEZpcmVzIGByZXNldGAgd2hlbiBmaW5pc2hlZC5cbiAgICAvLyBVc2VmdWwgZm9yIGJ1bGsgb3BlcmF0aW9ucyBhbmQgb3B0aW1pemF0aW9ucy5cbiAgcmVzZXQ6IGZ1bmN0aW9uKG1vZGVscywgb3B0aW9ucykge1xuICAgIG9wdGlvbnMgfHwgKG9wdGlvbnMgPSB7fSk7XG4gICAgZm9yICh2YXIgaSA9IDAsIGxlbmd0aCA9IHRoaXMubW9kZWxzLmxlbmd0aDsgaSA8IGxlbmd0aDsgaSsrKSB7XG4gICAgICB0aGlzLl9yZW1vdmVSZWZlcmVuY2UodGhpcy5tb2RlbHNbaV0sIG9wdGlvbnMpO1xuICAgIH1cbiAgICBvcHRpb25zLnByZXZpb3VzTW9kZWxzID0gdGhpcy5tb2RlbHM7XG4gICAgdGhpcy5fcmVzZXQoKTtcbiAgICBtb2RlbHMgPSB0aGlzLmFkZChtb2RlbHMsIF8uZXh0ZW5kKHtzaWxlbnQ6IHRydWV9LCBvcHRpb25zKSk7XG4gICAgaWYgKCFvcHRpb25zLnNpbGVudCkgdGhpcy50cmlnZ2VyKCdyZXNldCcsIHRoaXMsIG9wdGlvbnMpO1xuICAgIHJldHVybiBtb2RlbHM7XG4gIH0sXG5cbiAgICAvLyBBZGQgYSBtb2RlbCB0byB0aGUgZW5kIG9mIHRoZSBjb2xsZWN0aW9uLlxuICBwdXNoOiBmdW5jdGlvbihtb2RlbCwgb3B0aW9ucykge1xuICAgIHJldHVybiB0aGlzLmFkZChtb2RlbCwgXy5leHRlbmQoe2F0OiB0aGlzLmxlbmd0aH0sIG9wdGlvbnMpKTtcbiAgfSxcblxuICAgIC8vIFJlbW92ZSBhIG1vZGVsIGZyb20gdGhlIGVuZCBvZiB0aGUgY29sbGVjdGlvbi5cbiAgcG9wOiBmdW5jdGlvbihvcHRpb25zKSB7XG4gICAgdmFyIG1vZGVsID0gdGhpcy5hdCh0aGlzLmxlbmd0aCAtIDEpO1xuICAgIHRoaXMucmVtb3ZlKG1vZGVsLCBvcHRpb25zKTtcbiAgICByZXR1cm4gbW9kZWw7XG4gIH0sXG5cbiAgICAvLyBBZGQgYSBtb2RlbCB0byB0aGUgYmVnaW5uaW5nIG9mIHRoZSBjb2xsZWN0aW9uLlxuICB1bnNoaWZ0OiBmdW5jdGlvbihtb2RlbCwgb3B0aW9ucykge1xuICAgIHJldHVybiB0aGlzLmFkZChtb2RlbCwgXy5leHRlbmQoe2F0OiAwfSwgb3B0aW9ucykpO1xuICB9LFxuXG4gICAgLy8gUmVtb3ZlIGEgbW9kZWwgZnJvbSB0aGUgYmVnaW5uaW5nIG9mIHRoZSBjb2xsZWN0aW9uLlxuICBzaGlmdDogZnVuY3Rpb24ob3B0aW9ucykge1xuICAgIHZhciBtb2RlbCA9IHRoaXMuYXQoMCk7XG4gICAgdGhpcy5yZW1vdmUobW9kZWwsIG9wdGlvbnMpO1xuICAgIHJldHVybiBtb2RlbDtcbiAgfSxcblxuICAgIC8vIFNsaWNlIG91dCBhIHN1Yi1hcnJheSBvZiBtb2RlbHMgZnJvbSB0aGUgY29sbGVjdGlvbi5cbiAgc2xpY2U6IGZ1bmN0aW9uKCkge1xuICAgIHJldHVybiBzbGljZS5hcHBseSh0aGlzLm1vZGVscywgYXJndW1lbnRzKTtcbiAgfSxcblxuICAgIC8vIEdldCBhIG1vZGVsIGZyb20gdGhlIHNldCBieSBpZC5cbiAgZ2V0OiBmdW5jdGlvbihvYmopIHtcbiAgICBpZiAob2JqID09IG51bGwpIHJldHVybiB2b2lkIDA7XG4gICAgdmFyIGlkID0gdGhpcy5tb2RlbElkKHRoaXMuX2lzTW9kZWwob2JqKSA/IG9iai5hdHRyaWJ1dGVzIDogb2JqKTtcbiAgICByZXR1cm4gdGhpcy5fYnlJZFtvYmpdIHx8IHRoaXMuX2J5SWRbaWRdIHx8IHRoaXMuX2J5SWRbb2JqLmNpZF07XG4gIH0sXG5cbiAgICAvLyBHZXQgdGhlIG1vZGVsIGF0IHRoZSBnaXZlbiBpbmRleC5cbiAgYXQ6IGZ1bmN0aW9uKGluZGV4KSB7XG4gICAgaWYgKGluZGV4IDwgMCkgaW5kZXggKz0gdGhpcy5sZW5ndGg7XG4gICAgcmV0dXJuIHRoaXMubW9kZWxzW2luZGV4XTtcbiAgfSxcblxuICAgIC8vIFJldHVybiBtb2RlbHMgd2l0aCBtYXRjaGluZyBhdHRyaWJ1dGVzLiBVc2VmdWwgZm9yIHNpbXBsZSBjYXNlcyBvZlxuICAgIC8vIGBmaWx0ZXJgLlxuICB3aGVyZTogZnVuY3Rpb24oYXR0cnMsIGZpcnN0KSB7XG4gICAgaWYgKF8uaXNFbXB0eShhdHRycykpIHJldHVybiBmaXJzdCA/IHZvaWQgMCA6IFtdO1xuICAgIHJldHVybiB0aGlzW2ZpcnN0ID8gJ2ZpbmQnIDogJ2ZpbHRlciddKGZ1bmN0aW9uKG1vZGVsKSB7XG4gICAgICBmb3IgKHZhciBrZXkgaW4gYXR0cnMpIHtcbiAgICAgICAgaWYgKGF0dHJzW2tleV0gIT09IG1vZGVsLmdldChrZXkpKSByZXR1cm4gZmFsc2U7XG4gICAgICB9XG4gICAgICByZXR1cm4gdHJ1ZTtcbiAgICB9KTtcbiAgfSxcblxuICAgIC8vIFJldHVybiB0aGUgZmlyc3QgbW9kZWwgd2l0aCBtYXRjaGluZyBhdHRyaWJ1dGVzLiBVc2VmdWwgZm9yIHNpbXBsZSBjYXNlc1xuICAgIC8vIG9mIGBmaW5kYC5cbiAgZmluZFdoZXJlOiBmdW5jdGlvbihhdHRycykge1xuICAgIHJldHVybiB0aGlzLndoZXJlKGF0dHJzLCB0cnVlKTtcbiAgfSxcblxuICAgIC8vIEZvcmNlIHRoZSBjb2xsZWN0aW9uIHRvIHJlLXNvcnQgaXRzZWxmLiBZb3UgZG9uJ3QgbmVlZCB0byBjYWxsIHRoaXMgdW5kZXJcbiAgICAvLyBub3JtYWwgY2lyY3Vtc3RhbmNlcywgYXMgdGhlIHNldCB3aWxsIG1haW50YWluIHNvcnQgb3JkZXIgYXMgZWFjaCBpdGVtXG4gICAgLy8gaXMgYWRkZWQuXG4gIHNvcnQ6IGZ1bmN0aW9uKG9wdGlvbnMpIHtcbiAgICBpZiAoIXRoaXMuY29tcGFyYXRvcikgdGhyb3cgbmV3IEVycm9yKCdDYW5ub3Qgc29ydCBhIHNldCB3aXRob3V0IGEgY29tcGFyYXRvcicpO1xuICAgIG9wdGlvbnMgfHwgKG9wdGlvbnMgPSB7fSk7XG5cbiAgICAvLyBSdW4gc29ydCBiYXNlZCBvbiB0eXBlIG9mIGBjb21wYXJhdG9yYC5cbiAgICBpZiAoXy5pc1N0cmluZyh0aGlzLmNvbXBhcmF0b3IpIHx8IHRoaXMuY29tcGFyYXRvci5sZW5ndGggPT09IDEpIHtcbiAgICAgIHRoaXMubW9kZWxzID0gdGhpcy5zb3J0QnkodGhpcy5jb21wYXJhdG9yLCB0aGlzKTtcbiAgICB9IGVsc2Uge1xuICAgICAgdGhpcy5tb2RlbHMuc29ydChfLmJpbmQodGhpcy5jb21wYXJhdG9yLCB0aGlzKSk7XG4gICAgfVxuXG4gICAgaWYgKCFvcHRpb25zLnNpbGVudCkgdGhpcy50cmlnZ2VyKCdzb3J0JywgdGhpcywgb3B0aW9ucyk7XG4gICAgcmV0dXJuIHRoaXM7XG4gIH0sXG5cbiAgICAvLyBQbHVjayBhbiBhdHRyaWJ1dGUgZnJvbSBlYWNoIG1vZGVsIGluIHRoZSBjb2xsZWN0aW9uLlxuICBwbHVjazogZnVuY3Rpb24oYXR0cikge1xuICAgIHJldHVybiBfLmludm9rZSh0aGlzLm1vZGVscywgJ2dldCcsIGF0dHIpO1xuICB9LFxuXG4gICAgLy8gRmV0Y2ggdGhlIGRlZmF1bHQgc2V0IG9mIG1vZGVscyBmb3IgdGhpcyBjb2xsZWN0aW9uLCByZXNldHRpbmcgdGhlXG4gICAgLy8gY29sbGVjdGlvbiB3aGVuIHRoZXkgYXJyaXZlLiBJZiBgcmVzZXQ6IHRydWVgIGlzIHBhc3NlZCwgdGhlIHJlc3BvbnNlXG4gICAgLy8gZGF0YSB3aWxsIGJlIHBhc3NlZCB0aHJvdWdoIHRoZSBgcmVzZXRgIG1ldGhvZCBpbnN0ZWFkIG9mIGBzZXRgLlxuICBmZXRjaDogZnVuY3Rpb24ob3B0aW9ucykge1xuICAgIG9wdGlvbnMgPSBvcHRpb25zID8gXy5jbG9uZShvcHRpb25zKSA6IHt9O1xuICAgIGlmIChvcHRpb25zLnBhcnNlID09PSB2b2lkIDApIG9wdGlvbnMucGFyc2UgPSB0cnVlO1xuICAgIHZhciBzdWNjZXNzID0gb3B0aW9ucy5zdWNjZXNzO1xuICAgIHZhciBjb2xsZWN0aW9uID0gdGhpcztcbiAgICBvcHRpb25zLnN1Y2Nlc3MgPSBmdW5jdGlvbihyZXNwKSB7XG4gICAgICB2YXIgbWV0aG9kID0gb3B0aW9ucy5yZXNldCA/ICdyZXNldCcgOiAnc2V0JztcbiAgICAgIGNvbGxlY3Rpb25bbWV0aG9kXShyZXNwLCBvcHRpb25zKTtcbiAgICAgIGlmIChzdWNjZXNzKSBzdWNjZXNzKGNvbGxlY3Rpb24sIHJlc3AsIG9wdGlvbnMpO1xuICAgICAgY29sbGVjdGlvbi50cmlnZ2VyKCdzeW5jJywgY29sbGVjdGlvbiwgcmVzcCwgb3B0aW9ucyk7XG4gICAgfTtcbiAgICB3cmFwRXJyb3IodGhpcywgb3B0aW9ucyk7XG4gICAgcmV0dXJuIHRoaXMuc3luYygncmVhZCcsIHRoaXMsIG9wdGlvbnMpO1xuICB9LFxuXG4gICAgLy8gQ3JlYXRlIGEgbmV3IGluc3RhbmNlIG9mIGEgbW9kZWwgaW4gdGhpcyBjb2xsZWN0aW9uLiBBZGQgdGhlIG1vZGVsIHRvIHRoZVxuICAgIC8vIGNvbGxlY3Rpb24gaW1tZWRpYXRlbHksIHVubGVzcyBgd2FpdDogdHJ1ZWAgaXMgcGFzc2VkLCBpbiB3aGljaCBjYXNlIHdlXG4gICAgLy8gd2FpdCBmb3IgdGhlIHNlcnZlciB0byBhZ3JlZS5cbiAgY3JlYXRlOiBmdW5jdGlvbihtb2RlbCwgb3B0aW9ucykge1xuICAgIG9wdGlvbnMgPSBvcHRpb25zID8gXy5jbG9uZShvcHRpb25zKSA6IHt9O1xuICAgIGlmICghKG1vZGVsID0gdGhpcy5fcHJlcGFyZU1vZGVsKG1vZGVsLCBvcHRpb25zKSkpIHJldHVybiBmYWxzZTtcbiAgICBpZiAoIW9wdGlvbnMud2FpdCkgdGhpcy5hZGQobW9kZWwsIG9wdGlvbnMpO1xuICAgIHZhciBjb2xsZWN0aW9uID0gdGhpcztcbiAgICB2YXIgc3VjY2VzcyA9IG9wdGlvbnMuc3VjY2VzcztcbiAgICBvcHRpb25zLnN1Y2Nlc3MgPSBmdW5jdGlvbihtb2RlbCwgcmVzcCkge1xuICAgICAgaWYgKG9wdGlvbnMud2FpdCkgY29sbGVjdGlvbi5hZGQobW9kZWwsIG9wdGlvbnMpO1xuICAgICAgaWYgKHN1Y2Nlc3MpIHN1Y2Nlc3MobW9kZWwsIHJlc3AsIG9wdGlvbnMpO1xuICAgIH07XG4gICAgbW9kZWwuc2F2ZShudWxsLCBvcHRpb25zKTtcbiAgICByZXR1cm4gbW9kZWw7XG4gIH0sXG5cbiAgICAvLyAqKnBhcnNlKiogY29udmVydHMgYSByZXNwb25zZSBpbnRvIGEgbGlzdCBvZiBtb2RlbHMgdG8gYmUgYWRkZWQgdG8gdGhlXG4gICAgLy8gY29sbGVjdGlvbi4gVGhlIGRlZmF1bHQgaW1wbGVtZW50YXRpb24gaXMganVzdCB0byBwYXNzIGl0IHRocm91Z2guXG4gIHBhcnNlOiBmdW5jdGlvbihyZXNwLCBvcHRpb25zKSB7XG4gICAgcmV0dXJuIHJlc3A7XG4gIH0sXG5cbiAgICAvLyBDcmVhdGUgYSBuZXcgY29sbGVjdGlvbiB3aXRoIGFuIGlkZW50aWNhbCBsaXN0IG9mIG1vZGVscyBhcyB0aGlzIG9uZS5cbiAgY2xvbmU6IGZ1bmN0aW9uKCkge1xuICAgIHJldHVybiBuZXcgdGhpcy5jb25zdHJ1Y3Rvcih0aGlzLm1vZGVscywge1xuICAgICAgbW9kZWw6IHRoaXMubW9kZWwsXG4gICAgICBjb21wYXJhdG9yOiB0aGlzLmNvbXBhcmF0b3JcbiAgICB9KTtcbiAgfSxcblxuICAgIC8vIERlZmluZSBob3cgdG8gdW5pcXVlbHkgaWRlbnRpZnkgbW9kZWxzIGluIHRoZSBjb2xsZWN0aW9uLlxuICBtb2RlbElkOiBmdW5jdGlvbiAoYXR0cnMpIHtcbiAgICByZXR1cm4gYXR0cnNbdGhpcy5tb2RlbC5wcm90b3R5cGUuaWRBdHRyaWJ1dGUgfHwgJ2lkJ107XG4gIH0sXG5cbiAgICAvLyBQcml2YXRlIG1ldGhvZCB0byByZXNldCBhbGwgaW50ZXJuYWwgc3RhdGUuIENhbGxlZCB3aGVuIHRoZSBjb2xsZWN0aW9uXG4gICAgLy8gaXMgZmlyc3QgaW5pdGlhbGl6ZWQgb3IgcmVzZXQuXG4gIF9yZXNldDogZnVuY3Rpb24oKSB7XG4gICAgdGhpcy5sZW5ndGggPSAwO1xuICAgIHRoaXMubW9kZWxzID0gW107XG4gICAgdGhpcy5fYnlJZCAgPSB7fTtcbiAgfSxcblxuICAgIC8vIFByZXBhcmUgYSBoYXNoIG9mIGF0dHJpYnV0ZXMgKG9yIG90aGVyIG1vZGVsKSB0byBiZSBhZGRlZCB0byB0aGlzXG4gICAgLy8gY29sbGVjdGlvbi5cbiAgX3ByZXBhcmVNb2RlbDogZnVuY3Rpb24oYXR0cnMsIG9wdGlvbnMpIHtcbiAgICBpZiAodGhpcy5faXNNb2RlbChhdHRycykpIHtcbiAgICAgIGlmICghYXR0cnMuY29sbGVjdGlvbikgYXR0cnMuY29sbGVjdGlvbiA9IHRoaXM7XG4gICAgICByZXR1cm4gYXR0cnM7XG4gICAgfVxuICAgIG9wdGlvbnMgPSBvcHRpb25zID8gXy5jbG9uZShvcHRpb25zKSA6IHt9O1xuICAgIG9wdGlvbnMuY29sbGVjdGlvbiA9IHRoaXM7XG4gICAgdmFyIG1vZGVsID0gbmV3IHRoaXMubW9kZWwoYXR0cnMsIG9wdGlvbnMpO1xuICAgIGlmICghbW9kZWwudmFsaWRhdGlvbkVycm9yKSByZXR1cm4gbW9kZWw7XG4gICAgdGhpcy50cmlnZ2VyKCdpbnZhbGlkJywgdGhpcywgbW9kZWwudmFsaWRhdGlvbkVycm9yLCBvcHRpb25zKTtcbiAgICByZXR1cm4gZmFsc2U7XG4gIH0sXG5cbiAgICAvLyBNZXRob2QgZm9yIGNoZWNraW5nIHdoZXRoZXIgYW4gb2JqZWN0IHNob3VsZCBiZSBjb25zaWRlcmVkIGEgbW9kZWwgZm9yXG4gICAgLy8gdGhlIHB1cnBvc2VzIG9mIGFkZGluZyB0byB0aGUgY29sbGVjdGlvbi5cbiAgX2lzTW9kZWw6IGZ1bmN0aW9uIChtb2RlbCkge1xuICAgIHJldHVybiBtb2RlbCBpbnN0YW5jZW9mIE1vZGVsO1xuICB9LFxuXG4gICAgLy8gSW50ZXJuYWwgbWV0aG9kIHRvIGNyZWF0ZSBhIG1vZGVsJ3MgdGllcyB0byBhIGNvbGxlY3Rpb24uXG4gIF9hZGRSZWZlcmVuY2U6IGZ1bmN0aW9uKG1vZGVsLCBvcHRpb25zKSB7XG4gICAgdGhpcy5fYnlJZFttb2RlbC5jaWRdID0gbW9kZWw7XG4gICAgdmFyIGlkID0gdGhpcy5tb2RlbElkKG1vZGVsLmF0dHJpYnV0ZXMpO1xuICAgIGlmIChpZCAhPSBudWxsKSB0aGlzLl9ieUlkW2lkXSA9IG1vZGVsO1xuICAgIG1vZGVsLm9uKCdhbGwnLCB0aGlzLl9vbk1vZGVsRXZlbnQsIHRoaXMpO1xuICB9LFxuXG4gICAgLy8gSW50ZXJuYWwgbWV0aG9kIHRvIHNldmVyIGEgbW9kZWwncyB0aWVzIHRvIGEgY29sbGVjdGlvbi5cbiAgX3JlbW92ZVJlZmVyZW5jZTogZnVuY3Rpb24obW9kZWwsIG9wdGlvbnMpIHtcbiAgICBpZiAodGhpcyA9PT0gbW9kZWwuY29sbGVjdGlvbikgZGVsZXRlIG1vZGVsLmNvbGxlY3Rpb247XG4gICAgbW9kZWwub2ZmKCdhbGwnLCB0aGlzLl9vbk1vZGVsRXZlbnQsIHRoaXMpO1xuICB9LFxuXG4gICAgLy8gSW50ZXJuYWwgbWV0aG9kIGNhbGxlZCBldmVyeSB0aW1lIGEgbW9kZWwgaW4gdGhlIHNldCBmaXJlcyBhbiBldmVudC5cbiAgICAvLyBTZXRzIG5lZWQgdG8gdXBkYXRlIHRoZWlyIGluZGV4ZXMgd2hlbiBtb2RlbHMgY2hhbmdlIGlkcy4gQWxsIG90aGVyXG4gICAgLy8gZXZlbnRzIHNpbXBseSBwcm94eSB0aHJvdWdoLiBcImFkZFwiIGFuZCBcInJlbW92ZVwiIGV2ZW50cyB0aGF0IG9yaWdpbmF0ZVxuICAgIC8vIGluIG90aGVyIGNvbGxlY3Rpb25zIGFyZSBpZ25vcmVkLlxuICBfb25Nb2RlbEV2ZW50OiBmdW5jdGlvbihldmVudCwgbW9kZWwsIGNvbGxlY3Rpb24sIG9wdGlvbnMpIHtcbiAgICBpZiAoKGV2ZW50ID09PSAnYWRkJyB8fCBldmVudCA9PT0gJ3JlbW92ZScpICYmIGNvbGxlY3Rpb24gIT09IHRoaXMpIHJldHVybjtcbiAgICBpZiAoZXZlbnQgPT09ICdkZXN0cm95JykgdGhpcy5yZW1vdmUobW9kZWwsIG9wdGlvbnMpO1xuICAgIGlmIChldmVudCA9PT0gJ2NoYW5nZScpIHtcbiAgICAgIHZhciBwcmV2SWQgPSB0aGlzLm1vZGVsSWQobW9kZWwucHJldmlvdXNBdHRyaWJ1dGVzKCkpO1xuICAgICAgdmFyIGlkID0gdGhpcy5tb2RlbElkKG1vZGVsLmF0dHJpYnV0ZXMpO1xuICAgICAgaWYgKHByZXZJZCAhPT0gaWQpIHtcbiAgICAgICAgaWYgKHByZXZJZCAhPSBudWxsKSBkZWxldGUgdGhpcy5fYnlJZFtwcmV2SWRdO1xuICAgICAgICBpZiAoaWQgIT0gbnVsbCkgdGhpcy5fYnlJZFtpZF0gPSBtb2RlbDtcbiAgICAgIH1cbiAgICB9XG4gICAgdGhpcy50cmlnZ2VyLmFwcGx5KHRoaXMsIGFyZ3VtZW50cyk7XG4gIH1cblxufSk7XG5cbi8vIFVuZGVyc2NvcmUgbWV0aG9kcyB0aGF0IHdlIHdhbnQgdG8gaW1wbGVtZW50IG9uIHRoZSBDb2xsZWN0aW9uLlxuLy8gOTAlIG9mIHRoZSBjb3JlIHVzZWZ1bG5lc3Mgb2YgQmFja2JvbmUgQ29sbGVjdGlvbnMgaXMgYWN0dWFsbHkgaW1wbGVtZW50ZWRcbi8vIHJpZ2h0IGhlcmU6XG52YXIgbWV0aG9kcyA9IFsnZm9yRWFjaCcsICdlYWNoJywgJ21hcCcsICdjb2xsZWN0JywgJ3JlZHVjZScsICdmb2xkbCcsXG4gICAgJ2luamVjdCcsICdyZWR1Y2VSaWdodCcsICdmb2xkcicsICdmaW5kJywgJ2RldGVjdCcsICdmaWx0ZXInLCAnc2VsZWN0JyxcbiAgICAncmVqZWN0JywgJ2V2ZXJ5JywgJ2FsbCcsICdzb21lJywgJ2FueScsICdpbmNsdWRlJywgJ2NvbnRhaW5zJywgJ2ludm9rZScsXG4gICAgJ21heCcsICdtaW4nLCAndG9BcnJheScsICdzaXplJywgJ2ZpcnN0JywgJ2hlYWQnLCAndGFrZScsICdpbml0aWFsJywgJ3Jlc3QnLFxuICAgICd0YWlsJywgJ2Ryb3AnLCAnbGFzdCcsICd3aXRob3V0JywgJ2RpZmZlcmVuY2UnLCAnaW5kZXhPZicsICdzaHVmZmxlJyxcbiAgICAnbGFzdEluZGV4T2YnLCAnaXNFbXB0eScsICdjaGFpbicsICdzYW1wbGUnLCAncGFydGl0aW9uJ107XG5cbi8vIE1peCBpbiBlYWNoIFVuZGVyc2NvcmUgbWV0aG9kIGFzIGEgcHJveHkgdG8gYENvbGxlY3Rpb24jbW9kZWxzYC5cbl8uZWFjaChtZXRob2RzLCBmdW5jdGlvbihtZXRob2QpIHtcbiAgaWYgKCFfW21ldGhvZF0pIHJldHVybjtcbiAgQ29sbGVjdGlvbi5wcm90b3R5cGVbbWV0aG9kXSA9IGZ1bmN0aW9uKCkge1xuICAgIHZhciBhcmdzID0gc2xpY2UuY2FsbChhcmd1bWVudHMpO1xuICAgIGFyZ3MudW5zaGlmdCh0aGlzLm1vZGVscyk7XG4gICAgcmV0dXJuIF9bbWV0aG9kXS5hcHBseShfLCBhcmdzKTtcbiAgfTtcbn0pO1xuXG4vLyBVbmRlcnNjb3JlIG1ldGhvZHMgdGhhdCB0YWtlIGEgcHJvcGVydHkgbmFtZSBhcyBhbiBhcmd1bWVudC5cbnZhciBhdHRyaWJ1dGVNZXRob2RzID0gWydncm91cEJ5JywgJ2NvdW50QnknLCAnc29ydEJ5JywgJ2luZGV4QnknXTtcblxuLy8gVXNlIGF0dHJpYnV0ZXMgaW5zdGVhZCBvZiBwcm9wZXJ0aWVzLlxuXy5lYWNoKGF0dHJpYnV0ZU1ldGhvZHMsIGZ1bmN0aW9uKG1ldGhvZCkge1xuICBpZiAoIV9bbWV0aG9kXSkgcmV0dXJuO1xuICBDb2xsZWN0aW9uLnByb3RvdHlwZVttZXRob2RdID0gZnVuY3Rpb24odmFsdWUsIGNvbnRleHQpIHtcbiAgICB2YXIgaXRlcmF0b3IgPSBfLmlzRnVuY3Rpb24odmFsdWUpID8gdmFsdWUgOiBmdW5jdGlvbihtb2RlbCkge1xuICAgICAgcmV0dXJuIG1vZGVsLmdldCh2YWx1ZSk7XG4gICAgfTtcbiAgICByZXR1cm4gX1ttZXRob2RdKHRoaXMubW9kZWxzLCBpdGVyYXRvciwgY29udGV4dCk7XG4gIH07XG59KTtcblxuLy8gc2V0dXAgaW5oZXJpdGFuY2VcbkNvbGxlY3Rpb24uZXh0ZW5kID0gZXh0ZW5kO1xubW9kdWxlLmV4cG9ydHMgPSBDb2xsZWN0aW9uO1xuIiwibW9kdWxlLmV4cG9ydHMuTW9kZWwgPSByZXF1aXJlKFwiLi9tb2RlbFwiKTtcbm1vZHVsZS5leHBvcnRzLkNvbGxlY3Rpb24gPSByZXF1aXJlKFwiLi9jb2xsZWN0aW9uXCIpO1xubW9kdWxlLmV4cG9ydHMuRXZlbnRzID0gcmVxdWlyZShcImJhY2tib25lLWV2ZW50cy1zdGFuZGFsb25lXCIpO1xubW9kdWxlLmV4cG9ydHMuZXh0ZW5kID0gcmVxdWlyZShcImJhY2tib25lLWV4dGVuZC1zdGFuZGFsb25lXCIpO1xuIiwiLy8gICAgIEJhY2tib25lLmpzIDEuMS4yXG5cbi8vICAgICAoYykgMjAxMC0yMDE0IEplcmVteSBBc2hrZW5hcywgRG9jdW1lbnRDbG91ZCBhbmQgSW52ZXN0aWdhdGl2ZSBSZXBvcnRlcnMgJiBFZGl0b3JzXG4vLyAgICAgQmFja2JvbmUgbWF5IGJlIGZyZWVseSBkaXN0cmlidXRlZCB1bmRlciB0aGUgTUlUIGxpY2Vuc2UuXG4vLyAgICAgRm9yIGFsbCBkZXRhaWxzIGFuZCBkb2N1bWVudGF0aW9uOlxuLy8gICAgIGh0dHA6Ly9iYWNrYm9uZWpzLm9yZ1xuXG52YXIgRXZlbnRzID0gcmVxdWlyZShcImJhY2tib25lLWV2ZW50cy1zdGFuZGFsb25lXCIpO1xudmFyIGV4dGVuZCA9IHJlcXVpcmUoXCJiYWNrYm9uZS1leHRlbmQtc3RhbmRhbG9uZVwiKTtcbnZhciBfID0gcmVxdWlyZShcInVuZGVyc2NvcmVcIik7XG5cbi8vIEJhY2tib25lLk1vZGVsXG4vLyAtLS0tLS0tLS0tLS0tLVxuXG4vLyBCYWNrYm9uZSAqKk1vZGVscyoqIGFyZSB0aGUgYmFzaWMgZGF0YSBvYmplY3QgaW4gdGhlIGZyYW1ld29yayAtLVxuLy8gZnJlcXVlbnRseSByZXByZXNlbnRpbmcgYSByb3cgaW4gYSB0YWJsZSBpbiBhIGRhdGFiYXNlIG9uIHlvdXIgc2VydmVyLlxuLy8gQSBkaXNjcmV0ZSBjaHVuayBvZiBkYXRhIGFuZCBhIGJ1bmNoIG9mIHVzZWZ1bCwgcmVsYXRlZCBtZXRob2RzIGZvclxuLy8gcGVyZm9ybWluZyBjb21wdXRhdGlvbnMgYW5kIHRyYW5zZm9ybWF0aW9ucyBvbiB0aGF0IGRhdGEuXG5cbi8vIENyZWF0ZSBhIG5ldyBtb2RlbCB3aXRoIHRoZSBzcGVjaWZpZWQgYXR0cmlidXRlcy4gQSBjbGllbnQgaWQgKGBjaWRgKVxuLy8gaXMgYXV0b21hdGljYWxseSBnZW5lcmF0ZWQgYW5kIGFzc2lnbmVkIGZvciB5b3UuXG52YXIgTW9kZWwgPSBmdW5jdGlvbihhdHRyaWJ1dGVzLCBvcHRpb25zKSB7XG4gIHZhciBhdHRycyA9IGF0dHJpYnV0ZXMgfHwge307XG4gIG9wdGlvbnMgfHwgKG9wdGlvbnMgPSB7fSk7XG4gIHRoaXMuY2lkID0gXy51bmlxdWVJZCgnYycpO1xuICB0aGlzLmF0dHJpYnV0ZXMgPSB7fTtcbiAgaWYgKG9wdGlvbnMuY29sbGVjdGlvbikgdGhpcy5jb2xsZWN0aW9uID0gb3B0aW9ucy5jb2xsZWN0aW9uO1xuICBpZiAob3B0aW9ucy5wYXJzZSkgYXR0cnMgPSB0aGlzLnBhcnNlKGF0dHJzLCBvcHRpb25zKSB8fCB7fTtcbiAgYXR0cnMgPSBfLmRlZmF1bHRzKHt9LCBhdHRycywgXy5yZXN1bHQodGhpcywgJ2RlZmF1bHRzJykpO1xuICB0aGlzLnNldChhdHRycywgb3B0aW9ucyk7XG4gIHRoaXMuY2hhbmdlZCA9IHt9O1xuICB0aGlzLmluaXRpYWxpemUuYXBwbHkodGhpcywgYXJndW1lbnRzKTtcbn07XG5cbi8vIEF0dGFjaCBhbGwgaW5oZXJpdGFibGUgbWV0aG9kcyB0byB0aGUgTW9kZWwgcHJvdG90eXBlLlxuXy5leHRlbmQoTW9kZWwucHJvdG90eXBlLCBFdmVudHMsIHtcblxuICAvLyBBIGhhc2ggb2YgYXR0cmlidXRlcyB3aG9zZSBjdXJyZW50IGFuZCBwcmV2aW91cyB2YWx1ZSBkaWZmZXIuXG4gIGNoYW5nZWQ6IG51bGwsXG5cbiAgLy8gVGhlIHZhbHVlIHJldHVybmVkIGR1cmluZyB0aGUgbGFzdCBmYWlsZWQgdmFsaWRhdGlvbi5cbiAgdmFsaWRhdGlvbkVycm9yOiBudWxsLFxuXG4gICAgLy8gVGhlIGRlZmF1bHQgbmFtZSBmb3IgdGhlIEpTT04gYGlkYCBhdHRyaWJ1dGUgaXMgYFwiaWRcImAuIE1vbmdvREIgYW5kXG4gICAgLy8gQ291Y2hEQiB1c2VycyBtYXkgd2FudCB0byBzZXQgdGhpcyB0byBgXCJfaWRcImAuXG4gIGlkQXR0cmlidXRlOiAnaWQnLFxuXG4gICAgLy8gSW5pdGlhbGl6ZSBpcyBhbiBlbXB0eSBmdW5jdGlvbiBieSBkZWZhdWx0LiBPdmVycmlkZSBpdCB3aXRoIHlvdXIgb3duXG4gICAgLy8gaW5pdGlhbGl6YXRpb24gbG9naWMuXG4gIGluaXRpYWxpemU6IGZ1bmN0aW9uKCl7fSxcblxuICAgIC8vIFJldHVybiBhIGNvcHkgb2YgdGhlIG1vZGVsJ3MgYGF0dHJpYnV0ZXNgIG9iamVjdC5cbiAgdG9KU09OOiBmdW5jdGlvbihvcHRpb25zKSB7XG4gICAgcmV0dXJuIF8uY2xvbmUodGhpcy5hdHRyaWJ1dGVzKTtcbiAgfSxcblxuICAgIC8vIFByb3h5IGBCYWNrYm9uZS5zeW5jYCBieSBkZWZhdWx0IC0tIGJ1dCBvdmVycmlkZSB0aGlzIGlmIHlvdSBuZWVkXG4gICAgLy8gY3VzdG9tIHN5bmNpbmcgc2VtYW50aWNzIGZvciAqdGhpcyogcGFydGljdWxhciBtb2RlbC5cbiAgc3luYzogZnVuY3Rpb24oKSB7XG4gICAgcmV0dXJuIEJhY2tib25lLnN5bmMuYXBwbHkodGhpcywgYXJndW1lbnRzKTtcbiAgfSxcblxuICAgIC8vIEdldCB0aGUgdmFsdWUgb2YgYW4gYXR0cmlidXRlLlxuICBnZXQ6IGZ1bmN0aW9uKGF0dHIpIHtcbiAgICByZXR1cm4gdGhpcy5hdHRyaWJ1dGVzW2F0dHJdO1xuICB9LFxuXG4gICAgLy8gR2V0IHRoZSBIVE1MLWVzY2FwZWQgdmFsdWUgb2YgYW4gYXR0cmlidXRlLlxuICBlc2NhcGU6IGZ1bmN0aW9uKGF0dHIpIHtcbiAgICByZXR1cm4gXy5lc2NhcGUodGhpcy5nZXQoYXR0cikpO1xuICB9LFxuXG4gICAgLy8gUmV0dXJucyBgdHJ1ZWAgaWYgdGhlIGF0dHJpYnV0ZSBjb250YWlucyBhIHZhbHVlIHRoYXQgaXMgbm90IG51bGxcbiAgICAvLyBvciB1bmRlZmluZWQuXG4gIGhhczogZnVuY3Rpb24oYXR0cikge1xuICAgIHJldHVybiB0aGlzLmdldChhdHRyKSAhPSBudWxsO1xuICB9LFxuXG4gICAgLy8gU2V0IGEgaGFzaCBvZiBtb2RlbCBhdHRyaWJ1dGVzIG9uIHRoZSBvYmplY3QsIGZpcmluZyBgXCJjaGFuZ2VcImAuIFRoaXMgaXNcbiAgICAvLyB0aGUgY29yZSBwcmltaXRpdmUgb3BlcmF0aW9uIG9mIGEgbW9kZWwsIHVwZGF0aW5nIHRoZSBkYXRhIGFuZCBub3RpZnlpbmdcbiAgICAvLyBhbnlvbmUgd2hvIG5lZWRzIHRvIGtub3cgYWJvdXQgdGhlIGNoYW5nZSBpbiBzdGF0ZS4gVGhlIGhlYXJ0IG9mIHRoZSBiZWFzdC5cbiAgc2V0OiBmdW5jdGlvbihrZXksIHZhbCwgb3B0aW9ucykge1xuICAgIHZhciBhdHRyLCBhdHRycywgdW5zZXQsIGNoYW5nZXMsIHNpbGVudCwgY2hhbmdpbmcsIHByZXYsIGN1cnJlbnQ7XG4gICAgaWYgKGtleSA9PSBudWxsKSByZXR1cm4gdGhpcztcblxuICAgIC8vIEhhbmRsZSBib3RoIGBcImtleVwiLCB2YWx1ZWAgYW5kIGB7a2V5OiB2YWx1ZX1gIC1zdHlsZSBhcmd1bWVudHMuXG4gICAgaWYgKHR5cGVvZiBrZXkgPT09ICdvYmplY3QnKSB7XG4gICAgICBhdHRycyA9IGtleTtcbiAgICAgIG9wdGlvbnMgPSB2YWw7XG4gICAgfSBlbHNlIHtcbiAgICAgIChhdHRycyA9IHt9KVtrZXldID0gdmFsO1xuICAgIH1cblxuICAgIG9wdGlvbnMgfHwgKG9wdGlvbnMgPSB7fSk7XG5cbiAgICAvLyBSdW4gdmFsaWRhdGlvbi5cbiAgICBpZiAoIXRoaXMuX3ZhbGlkYXRlKGF0dHJzLCBvcHRpb25zKSkgcmV0dXJuIGZhbHNlO1xuXG4gICAgLy8gRXh0cmFjdCBhdHRyaWJ1dGVzIGFuZCBvcHRpb25zLlxuICAgIHVuc2V0ICAgICAgICAgICA9IG9wdGlvbnMudW5zZXQ7XG4gICAgc2lsZW50ICAgICAgICAgID0gb3B0aW9ucy5zaWxlbnQ7XG4gICAgY2hhbmdlcyAgICAgICAgID0gW107XG4gICAgY2hhbmdpbmcgICAgICAgID0gdGhpcy5fY2hhbmdpbmc7XG4gICAgdGhpcy5fY2hhbmdpbmcgID0gdHJ1ZTtcblxuICAgIGlmICghY2hhbmdpbmcpIHtcbiAgICAgIHRoaXMuX3ByZXZpb3VzQXR0cmlidXRlcyA9IF8uY2xvbmUodGhpcy5hdHRyaWJ1dGVzKTtcbiAgICAgIHRoaXMuY2hhbmdlZCA9IHt9O1xuICAgIH1cbiAgICBjdXJyZW50ID0gdGhpcy5hdHRyaWJ1dGVzLCBwcmV2ID0gdGhpcy5fcHJldmlvdXNBdHRyaWJ1dGVzO1xuXG4gICAgLy8gQ2hlY2sgZm9yIGNoYW5nZXMgb2YgYGlkYC5cbiAgICBpZiAodGhpcy5pZEF0dHJpYnV0ZSBpbiBhdHRycykgdGhpcy5pZCA9IGF0dHJzW3RoaXMuaWRBdHRyaWJ1dGVdO1xuXG4gICAgLy8gRm9yIGVhY2ggYHNldGAgYXR0cmlidXRlLCB1cGRhdGUgb3IgZGVsZXRlIHRoZSBjdXJyZW50IHZhbHVlLlxuICAgIGZvciAoYXR0ciBpbiBhdHRycykge1xuICAgICAgdmFsID0gYXR0cnNbYXR0cl07XG4gICAgICBpZiAoIV8uaXNFcXVhbChjdXJyZW50W2F0dHJdLCB2YWwpKSBjaGFuZ2VzLnB1c2goYXR0cik7XG4gICAgICBpZiAoIV8uaXNFcXVhbChwcmV2W2F0dHJdLCB2YWwpKSB7XG4gICAgICAgIHRoaXMuY2hhbmdlZFthdHRyXSA9IHZhbDtcbiAgICAgIH0gZWxzZSB7XG4gICAgICAgIGRlbGV0ZSB0aGlzLmNoYW5nZWRbYXR0cl07XG4gICAgICB9XG4gICAgICB1bnNldCA/IGRlbGV0ZSBjdXJyZW50W2F0dHJdIDogY3VycmVudFthdHRyXSA9IHZhbDtcbiAgICB9XG5cbiAgICAvLyBUcmlnZ2VyIGFsbCByZWxldmFudCBhdHRyaWJ1dGUgY2hhbmdlcy5cbiAgICBpZiAoIXNpbGVudCkge1xuICAgICAgaWYgKGNoYW5nZXMubGVuZ3RoKSB0aGlzLl9wZW5kaW5nID0gb3B0aW9ucztcbiAgICAgIGZvciAodmFyIGkgPSAwLCBsZW5ndGggPSBjaGFuZ2VzLmxlbmd0aDsgaSA8IGxlbmd0aDsgaSsrKSB7XG4gICAgICAgIHRoaXMudHJpZ2dlcignY2hhbmdlOicgKyBjaGFuZ2VzW2ldLCB0aGlzLCBjdXJyZW50W2NoYW5nZXNbaV1dLCBvcHRpb25zKTtcbiAgICAgIH1cbiAgICB9XG5cbiAgICAvLyBZb3UgbWlnaHQgYmUgd29uZGVyaW5nIHdoeSB0aGVyZSdzIGEgYHdoaWxlYCBsb29wIGhlcmUuIENoYW5nZXMgY2FuXG4gICAgLy8gYmUgcmVjdXJzaXZlbHkgbmVzdGVkIHdpdGhpbiBgXCJjaGFuZ2VcImAgZXZlbnRzLlxuICAgIGlmIChjaGFuZ2luZykgcmV0dXJuIHRoaXM7XG4gICAgaWYgKCFzaWxlbnQpIHtcbiAgICAgIHdoaWxlICh0aGlzLl9wZW5kaW5nKSB7XG4gICAgICAgIG9wdGlvbnMgPSB0aGlzLl9wZW5kaW5nO1xuICAgICAgICB0aGlzLl9wZW5kaW5nID0gZmFsc2U7XG4gICAgICAgIHRoaXMudHJpZ2dlcignY2hhbmdlJywgdGhpcywgb3B0aW9ucyk7XG4gICAgICB9XG4gICAgfVxuICAgIHRoaXMuX3BlbmRpbmcgPSBmYWxzZTtcbiAgICB0aGlzLl9jaGFuZ2luZyA9IGZhbHNlO1xuICAgIHJldHVybiB0aGlzO1xuICB9LFxuXG4gICAgLy8gUmVtb3ZlIGFuIGF0dHJpYnV0ZSBmcm9tIHRoZSBtb2RlbCwgZmlyaW5nIGBcImNoYW5nZVwiYC4gYHVuc2V0YCBpcyBhIG5vb3BcbiAgICAvLyBpZiB0aGUgYXR0cmlidXRlIGRvZXNuJ3QgZXhpc3QuXG4gIHVuc2V0OiBmdW5jdGlvbihhdHRyLCBvcHRpb25zKSB7XG4gICAgcmV0dXJuIHRoaXMuc2V0KGF0dHIsIHZvaWQgMCwgXy5leHRlbmQoe30sIG9wdGlvbnMsIHt1bnNldDogdHJ1ZX0pKTtcbiAgfSxcblxuICAgIC8vIENsZWFyIGFsbCBhdHRyaWJ1dGVzIG9uIHRoZSBtb2RlbCwgZmlyaW5nIGBcImNoYW5nZVwiYC5cbiAgY2xlYXI6IGZ1bmN0aW9uKG9wdGlvbnMpIHtcbiAgICB2YXIgYXR0cnMgPSB7fTtcbiAgICBmb3IgKHZhciBrZXkgaW4gdGhpcy5hdHRyaWJ1dGVzKSBhdHRyc1trZXldID0gdm9pZCAwO1xuICAgIHJldHVybiB0aGlzLnNldChhdHRycywgXy5leHRlbmQoe30sIG9wdGlvbnMsIHt1bnNldDogdHJ1ZX0pKTtcbiAgfSxcblxuICAgIC8vIERldGVybWluZSBpZiB0aGUgbW9kZWwgaGFzIGNoYW5nZWQgc2luY2UgdGhlIGxhc3QgYFwiY2hhbmdlXCJgIGV2ZW50LlxuICAgIC8vIElmIHlvdSBzcGVjaWZ5IGFuIGF0dHJpYnV0ZSBuYW1lLCBkZXRlcm1pbmUgaWYgdGhhdCBhdHRyaWJ1dGUgaGFzIGNoYW5nZWQuXG4gIGhhc0NoYW5nZWQ6IGZ1bmN0aW9uKGF0dHIpIHtcbiAgICBpZiAoYXR0ciA9PSBudWxsKSByZXR1cm4gIV8uaXNFbXB0eSh0aGlzLmNoYW5nZWQpO1xuICAgIHJldHVybiBfLmhhcyh0aGlzLmNoYW5nZWQsIGF0dHIpO1xuICB9LFxuXG4gICAgLy8gUmV0dXJuIGFuIG9iamVjdCBjb250YWluaW5nIGFsbCB0aGUgYXR0cmlidXRlcyB0aGF0IGhhdmUgY2hhbmdlZCwgb3JcbiAgICAvLyBmYWxzZSBpZiB0aGVyZSBhcmUgbm8gY2hhbmdlZCBhdHRyaWJ1dGVzLiBVc2VmdWwgZm9yIGRldGVybWluaW5nIHdoYXRcbiAgICAvLyBwYXJ0cyBvZiBhIHZpZXcgbmVlZCB0byBiZSB1cGRhdGVkIGFuZC9vciB3aGF0IGF0dHJpYnV0ZXMgbmVlZCB0byBiZVxuICAgIC8vIHBlcnNpc3RlZCB0byB0aGUgc2VydmVyLiBVbnNldCBhdHRyaWJ1dGVzIHdpbGwgYmUgc2V0IHRvIHVuZGVmaW5lZC5cbiAgICAvLyBZb3UgY2FuIGFsc28gcGFzcyBhbiBhdHRyaWJ1dGVzIG9iamVjdCB0byBkaWZmIGFnYWluc3QgdGhlIG1vZGVsLFxuICAgIC8vIGRldGVybWluaW5nIGlmIHRoZXJlICp3b3VsZCBiZSogYSBjaGFuZ2UuXG4gIGNoYW5nZWRBdHRyaWJ1dGVzOiBmdW5jdGlvbihkaWZmKSB7XG4gICAgaWYgKCFkaWZmKSByZXR1cm4gdGhpcy5oYXNDaGFuZ2VkKCkgPyBfLmNsb25lKHRoaXMuY2hhbmdlZCkgOiBmYWxzZTtcbiAgICB2YXIgdmFsLCBjaGFuZ2VkID0gZmFsc2U7XG4gICAgdmFyIG9sZCA9IHRoaXMuX2NoYW5naW5nID8gdGhpcy5fcHJldmlvdXNBdHRyaWJ1dGVzIDogdGhpcy5hdHRyaWJ1dGVzO1xuICAgIGZvciAodmFyIGF0dHIgaW4gZGlmZikge1xuICAgICAgaWYgKF8uaXNFcXVhbChvbGRbYXR0cl0sICh2YWwgPSBkaWZmW2F0dHJdKSkpIGNvbnRpbnVlO1xuICAgICAgKGNoYW5nZWQgfHwgKGNoYW5nZWQgPSB7fSkpW2F0dHJdID0gdmFsO1xuICAgIH1cbiAgICByZXR1cm4gY2hhbmdlZDtcbiAgfSxcblxuICAgIC8vIEdldCB0aGUgcHJldmlvdXMgdmFsdWUgb2YgYW4gYXR0cmlidXRlLCByZWNvcmRlZCBhdCB0aGUgdGltZSB0aGUgbGFzdFxuICAgIC8vIGBcImNoYW5nZVwiYCBldmVudCB3YXMgZmlyZWQuXG4gIHByZXZpb3VzOiBmdW5jdGlvbihhdHRyKSB7XG4gICAgaWYgKGF0dHIgPT0gbnVsbCB8fCAhdGhpcy5fcHJldmlvdXNBdHRyaWJ1dGVzKSByZXR1cm4gbnVsbDtcbiAgICByZXR1cm4gdGhpcy5fcHJldmlvdXNBdHRyaWJ1dGVzW2F0dHJdO1xuICB9LFxuXG4gICAgLy8gR2V0IGFsbCBvZiB0aGUgYXR0cmlidXRlcyBvZiB0aGUgbW9kZWwgYXQgdGhlIHRpbWUgb2YgdGhlIHByZXZpb3VzXG4gICAgLy8gYFwiY2hhbmdlXCJgIGV2ZW50LlxuICBwcmV2aW91c0F0dHJpYnV0ZXM6IGZ1bmN0aW9uKCkge1xuICAgIHJldHVybiBfLmNsb25lKHRoaXMuX3ByZXZpb3VzQXR0cmlidXRlcyk7XG4gIH0sXG5cbiAgICAvLyBGZXRjaCB0aGUgbW9kZWwgZnJvbSB0aGUgc2VydmVyLiBJZiB0aGUgc2VydmVyJ3MgcmVwcmVzZW50YXRpb24gb2YgdGhlXG4gICAgLy8gbW9kZWwgZGlmZmVycyBmcm9tIGl0cyBjdXJyZW50IGF0dHJpYnV0ZXMsIHRoZXkgd2lsbCBiZSBvdmVycmlkZGVuLFxuICAgIC8vIHRyaWdnZXJpbmcgYSBgXCJjaGFuZ2VcImAgZXZlbnQuXG4gIGZldGNoOiBmdW5jdGlvbihvcHRpb25zKSB7XG4gICAgb3B0aW9ucyA9IG9wdGlvbnMgPyBfLmNsb25lKG9wdGlvbnMpIDoge307XG4gICAgaWYgKG9wdGlvbnMucGFyc2UgPT09IHZvaWQgMCkgb3B0aW9ucy5wYXJzZSA9IHRydWU7XG4gICAgdmFyIG1vZGVsID0gdGhpcztcbiAgICB2YXIgc3VjY2VzcyA9IG9wdGlvbnMuc3VjY2VzcztcbiAgICBvcHRpb25zLnN1Y2Nlc3MgPSBmdW5jdGlvbihyZXNwKSB7XG4gICAgICBpZiAoIW1vZGVsLnNldChtb2RlbC5wYXJzZShyZXNwLCBvcHRpb25zKSwgb3B0aW9ucykpIHJldHVybiBmYWxzZTtcbiAgICAgIGlmIChzdWNjZXNzKSBzdWNjZXNzKG1vZGVsLCByZXNwLCBvcHRpb25zKTtcbiAgICAgIG1vZGVsLnRyaWdnZXIoJ3N5bmMnLCBtb2RlbCwgcmVzcCwgb3B0aW9ucyk7XG4gICAgfTtcbiAgICB3cmFwRXJyb3IodGhpcywgb3B0aW9ucyk7XG4gICAgcmV0dXJuIHRoaXMuc3luYygncmVhZCcsIHRoaXMsIG9wdGlvbnMpO1xuICB9LFxuXG4gICAgLy8gU2V0IGEgaGFzaCBvZiBtb2RlbCBhdHRyaWJ1dGVzLCBhbmQgc3luYyB0aGUgbW9kZWwgdG8gdGhlIHNlcnZlci5cbiAgICAvLyBJZiB0aGUgc2VydmVyIHJldHVybnMgYW4gYXR0cmlidXRlcyBoYXNoIHRoYXQgZGlmZmVycywgdGhlIG1vZGVsJ3NcbiAgICAvLyBzdGF0ZSB3aWxsIGJlIGBzZXRgIGFnYWluLlxuICBzYXZlOiBmdW5jdGlvbihrZXksIHZhbCwgb3B0aW9ucykge1xuICAgIHZhciBhdHRycywgbWV0aG9kLCB4aHIsIGF0dHJpYnV0ZXMgPSB0aGlzLmF0dHJpYnV0ZXM7XG5cbiAgICAvLyBIYW5kbGUgYm90aCBgXCJrZXlcIiwgdmFsdWVgIGFuZCBge2tleTogdmFsdWV9YCAtc3R5bGUgYXJndW1lbnRzLlxuICAgIGlmIChrZXkgPT0gbnVsbCB8fCB0eXBlb2Yga2V5ID09PSAnb2JqZWN0Jykge1xuICAgICAgYXR0cnMgPSBrZXk7XG4gICAgICBvcHRpb25zID0gdmFsO1xuICAgIH0gZWxzZSB7XG4gICAgICAoYXR0cnMgPSB7fSlba2V5XSA9IHZhbDtcbiAgICB9XG5cbiAgICBvcHRpb25zID0gXy5leHRlbmQoe3ZhbGlkYXRlOiB0cnVlfSwgb3B0aW9ucyk7XG5cbiAgICAvLyBJZiB3ZSdyZSBub3Qgd2FpdGluZyBhbmQgYXR0cmlidXRlcyBleGlzdCwgc2F2ZSBhY3RzIGFzXG4gICAgLy8gYHNldChhdHRyKS5zYXZlKG51bGwsIG9wdHMpYCB3aXRoIHZhbGlkYXRpb24uIE90aGVyd2lzZSwgY2hlY2sgaWZcbiAgICAvLyB0aGUgbW9kZWwgd2lsbCBiZSB2YWxpZCB3aGVuIHRoZSBhdHRyaWJ1dGVzLCBpZiBhbnksIGFyZSBzZXQuXG4gICAgaWYgKGF0dHJzICYmICFvcHRpb25zLndhaXQpIHtcbiAgICAgIGlmICghdGhpcy5zZXQoYXR0cnMsIG9wdGlvbnMpKSByZXR1cm4gZmFsc2U7XG4gICAgfSBlbHNlIHtcbiAgICAgIGlmICghdGhpcy5fdmFsaWRhdGUoYXR0cnMsIG9wdGlvbnMpKSByZXR1cm4gZmFsc2U7XG4gICAgfVxuXG4gICAgLy8gU2V0IHRlbXBvcmFyeSBhdHRyaWJ1dGVzIGlmIGB7d2FpdDogdHJ1ZX1gLlxuICAgIGlmIChhdHRycyAmJiBvcHRpb25zLndhaXQpIHtcbiAgICAgIHRoaXMuYXR0cmlidXRlcyA9IF8uZXh0ZW5kKHt9LCBhdHRyaWJ1dGVzLCBhdHRycyk7XG4gICAgfVxuXG4gICAgLy8gQWZ0ZXIgYSBzdWNjZXNzZnVsIHNlcnZlci1zaWRlIHNhdmUsIHRoZSBjbGllbnQgaXMgKG9wdGlvbmFsbHkpXG4gICAgLy8gdXBkYXRlZCB3aXRoIHRoZSBzZXJ2ZXItc2lkZSBzdGF0ZS5cbiAgICBpZiAob3B0aW9ucy5wYXJzZSA9PT0gdm9pZCAwKSBvcHRpb25zLnBhcnNlID0gdHJ1ZTtcbiAgICB2YXIgbW9kZWwgPSB0aGlzO1xuICAgIHZhciBzdWNjZXNzID0gb3B0aW9ucy5zdWNjZXNzO1xuICAgIG9wdGlvbnMuc3VjY2VzcyA9IGZ1bmN0aW9uKHJlc3ApIHtcbiAgICAgIC8vIEVuc3VyZSBhdHRyaWJ1dGVzIGFyZSByZXN0b3JlZCBkdXJpbmcgc3luY2hyb25vdXMgc2F2ZXMuXG4gICAgICBtb2RlbC5hdHRyaWJ1dGVzID0gYXR0cmlidXRlcztcbiAgICAgIHZhciBzZXJ2ZXJBdHRycyA9IG1vZGVsLnBhcnNlKHJlc3AsIG9wdGlvbnMpO1xuICAgICAgaWYgKG9wdGlvbnMud2FpdCkgc2VydmVyQXR0cnMgPSBfLmV4dGVuZChhdHRycyB8fCB7fSwgc2VydmVyQXR0cnMpO1xuICAgICAgaWYgKF8uaXNPYmplY3Qoc2VydmVyQXR0cnMpICYmICFtb2RlbC5zZXQoc2VydmVyQXR0cnMsIG9wdGlvbnMpKSB7XG4gICAgICAgIHJldHVybiBmYWxzZTtcbiAgICAgIH1cbiAgICAgIGlmIChzdWNjZXNzKSBzdWNjZXNzKG1vZGVsLCByZXNwLCBvcHRpb25zKTtcbiAgICAgIG1vZGVsLnRyaWdnZXIoJ3N5bmMnLCBtb2RlbCwgcmVzcCwgb3B0aW9ucyk7XG4gICAgfTtcbiAgICB3cmFwRXJyb3IodGhpcywgb3B0aW9ucyk7XG5cbiAgICBtZXRob2QgPSB0aGlzLmlzTmV3KCkgPyAnY3JlYXRlJyA6IChvcHRpb25zLnBhdGNoID8gJ3BhdGNoJyA6ICd1cGRhdGUnKTtcbiAgICBpZiAobWV0aG9kID09PSAncGF0Y2gnICYmICFvcHRpb25zLmF0dHJzKSBvcHRpb25zLmF0dHJzID0gYXR0cnM7XG4gICAgeGhyID0gdGhpcy5zeW5jKG1ldGhvZCwgdGhpcywgb3B0aW9ucyk7XG5cbiAgICAvLyBSZXN0b3JlIGF0dHJpYnV0ZXMuXG4gICAgaWYgKGF0dHJzICYmIG9wdGlvbnMud2FpdCkgdGhpcy5hdHRyaWJ1dGVzID0gYXR0cmlidXRlcztcblxuICAgIHJldHVybiB4aHI7XG4gIH0sXG5cbiAgICAvLyBEZXN0cm95IHRoaXMgbW9kZWwgb24gdGhlIHNlcnZlciBpZiBpdCB3YXMgYWxyZWFkeSBwZXJzaXN0ZWQuXG4gICAgLy8gT3B0aW1pc3RpY2FsbHkgcmVtb3ZlcyB0aGUgbW9kZWwgZnJvbSBpdHMgY29sbGVjdGlvbiwgaWYgaXQgaGFzIG9uZS5cbiAgICAvLyBJZiBgd2FpdDogdHJ1ZWAgaXMgcGFzc2VkLCB3YWl0cyBmb3IgdGhlIHNlcnZlciB0byByZXNwb25kIGJlZm9yZSByZW1vdmFsLlxuICBkZXN0cm95OiBmdW5jdGlvbihvcHRpb25zKSB7XG4gICAgb3B0aW9ucyA9IG9wdGlvbnMgPyBfLmNsb25lKG9wdGlvbnMpIDoge307XG4gICAgdmFyIG1vZGVsID0gdGhpcztcbiAgICB2YXIgc3VjY2VzcyA9IG9wdGlvbnMuc3VjY2VzcztcblxuICAgIHZhciBkZXN0cm95ID0gZnVuY3Rpb24oKSB7XG4gICAgICBtb2RlbC5zdG9wTGlzdGVuaW5nKCk7XG4gICAgICBtb2RlbC50cmlnZ2VyKCdkZXN0cm95JywgbW9kZWwsIG1vZGVsLmNvbGxlY3Rpb24sIG9wdGlvbnMpO1xuICAgIH07XG5cbiAgICBvcHRpb25zLnN1Y2Nlc3MgPSBmdW5jdGlvbihyZXNwKSB7XG4gICAgICBpZiAob3B0aW9ucy53YWl0IHx8IG1vZGVsLmlzTmV3KCkpIGRlc3Ryb3koKTtcbiAgICAgIGlmIChzdWNjZXNzKSBzdWNjZXNzKG1vZGVsLCByZXNwLCBvcHRpb25zKTtcbiAgICAgIGlmICghbW9kZWwuaXNOZXcoKSkgbW9kZWwudHJpZ2dlcignc3luYycsIG1vZGVsLCByZXNwLCBvcHRpb25zKTtcbiAgICB9O1xuXG4gICAgaWYgKHRoaXMuaXNOZXcoKSkge1xuICAgICAgb3B0aW9ucy5zdWNjZXNzKCk7XG4gICAgICByZXR1cm4gZmFsc2U7XG4gICAgfVxuICAgIHdyYXBFcnJvcih0aGlzLCBvcHRpb25zKTtcblxuICAgIHZhciB4aHIgPSB0aGlzLnN5bmMoJ2RlbGV0ZScsIHRoaXMsIG9wdGlvbnMpO1xuICAgIGlmICghb3B0aW9ucy53YWl0KSBkZXN0cm95KCk7XG4gICAgcmV0dXJuIHhocjtcbiAgfSxcblxuICAgIC8vIERlZmF1bHQgVVJMIGZvciB0aGUgbW9kZWwncyByZXByZXNlbnRhdGlvbiBvbiB0aGUgc2VydmVyIC0tIGlmIHlvdSdyZVxuICAgIC8vIHVzaW5nIEJhY2tib25lJ3MgcmVzdGZ1bCBtZXRob2RzLCBvdmVycmlkZSB0aGlzIHRvIGNoYW5nZSB0aGUgZW5kcG9pbnRcbiAgICAvLyB0aGF0IHdpbGwgYmUgY2FsbGVkLlxuICB1cmw6IGZ1bmN0aW9uKCkge1xuICAgIHZhciBiYXNlID1cbiAgICAgIF8ucmVzdWx0KHRoaXMsICd1cmxSb290JykgfHxcbiAgICAgIF8ucmVzdWx0KHRoaXMuY29sbGVjdGlvbiwgJ3VybCcpIHx8XG4gICAgICB1cmxFcnJvcigpO1xuICAgIGlmICh0aGlzLmlzTmV3KCkpIHJldHVybiBiYXNlO1xuICAgIHJldHVybiBiYXNlLnJlcGxhY2UoLyhbXlxcL10pJC8sICckMS8nKSArIGVuY29kZVVSSUNvbXBvbmVudCh0aGlzLmlkKTtcbiAgfSxcblxuICAgIC8vICoqcGFyc2UqKiBjb252ZXJ0cyBhIHJlc3BvbnNlIGludG8gdGhlIGhhc2ggb2YgYXR0cmlidXRlcyB0byBiZSBgc2V0YCBvblxuICAgIC8vIHRoZSBtb2RlbC4gVGhlIGRlZmF1bHQgaW1wbGVtZW50YXRpb24gaXMganVzdCB0byBwYXNzIHRoZSByZXNwb25zZSBhbG9uZy5cbiAgcGFyc2U6IGZ1bmN0aW9uKHJlc3AsIG9wdGlvbnMpIHtcbiAgICByZXR1cm4gcmVzcDtcbiAgfSxcblxuICAgIC8vIENyZWF0ZSBhIG5ldyBtb2RlbCB3aXRoIGlkZW50aWNhbCBhdHRyaWJ1dGVzIHRvIHRoaXMgb25lLlxuICBjbG9uZTogZnVuY3Rpb24oKSB7XG4gICAgcmV0dXJuIG5ldyB0aGlzLmNvbnN0cnVjdG9yKHRoaXMuYXR0cmlidXRlcyk7XG4gIH0sXG5cbiAgICAvLyBBIG1vZGVsIGlzIG5ldyBpZiBpdCBoYXMgbmV2ZXIgYmVlbiBzYXZlZCB0byB0aGUgc2VydmVyLCBhbmQgbGFja3MgYW4gaWQuXG4gIGlzTmV3OiBmdW5jdGlvbigpIHtcbiAgICByZXR1cm4gIXRoaXMuaGFzKHRoaXMuaWRBdHRyaWJ1dGUpO1xuICB9LFxuXG4gICAgLy8gQ2hlY2sgaWYgdGhlIG1vZGVsIGlzIGN1cnJlbnRseSBpbiBhIHZhbGlkIHN0YXRlLlxuICBpc1ZhbGlkOiBmdW5jdGlvbihvcHRpb25zKSB7XG4gICAgcmV0dXJuIHRoaXMuX3ZhbGlkYXRlKHt9LCBfLmV4dGVuZChvcHRpb25zIHx8IHt9LCB7IHZhbGlkYXRlOiB0cnVlIH0pKTtcbiAgfSxcblxuICAgIC8vIFJ1biB2YWxpZGF0aW9uIGFnYWluc3QgdGhlIG5leHQgY29tcGxldGUgc2V0IG9mIG1vZGVsIGF0dHJpYnV0ZXMsXG4gICAgLy8gcmV0dXJuaW5nIGB0cnVlYCBpZiBhbGwgaXMgd2VsbC4gT3RoZXJ3aXNlLCBmaXJlIGFuIGBcImludmFsaWRcImAgZXZlbnQuXG4gIF92YWxpZGF0ZTogZnVuY3Rpb24oYXR0cnMsIG9wdGlvbnMpIHtcbiAgICBpZiAoIW9wdGlvbnMudmFsaWRhdGUgfHwgIXRoaXMudmFsaWRhdGUpIHJldHVybiB0cnVlO1xuICAgIGF0dHJzID0gXy5leHRlbmQoe30sIHRoaXMuYXR0cmlidXRlcywgYXR0cnMpO1xuICAgIHZhciBlcnJvciA9IHRoaXMudmFsaWRhdGlvbkVycm9yID0gdGhpcy52YWxpZGF0ZShhdHRycywgb3B0aW9ucykgfHwgbnVsbDtcbiAgICBpZiAoIWVycm9yKSByZXR1cm4gdHJ1ZTtcbiAgICB0aGlzLnRyaWdnZXIoJ2ludmFsaWQnLCB0aGlzLCBlcnJvciwgXy5leHRlbmQob3B0aW9ucywge3ZhbGlkYXRpb25FcnJvcjogZXJyb3J9KSk7XG4gICAgcmV0dXJuIGZhbHNlO1xuICB9XG5cbn0pO1xuXG4vLyBVbmRlcnNjb3JlIG1ldGhvZHMgdGhhdCB3ZSB3YW50IHRvIGltcGxlbWVudCBvbiB0aGUgTW9kZWwuXG52YXIgbW9kZWxNZXRob2RzID0gWydrZXlzJywgJ3ZhbHVlcycsICdwYWlycycsICdpbnZlcnQnLCAncGljaycsICdvbWl0JywgJ2NoYWluJywgJ2lzRW1wdHknXTtcblxuLy8gTWl4IGluIGVhY2ggVW5kZXJzY29yZSBtZXRob2QgYXMgYSBwcm94eSB0byBgTW9kZWwjYXR0cmlidXRlc2AuXG5fLmVhY2gobW9kZWxNZXRob2RzLCBmdW5jdGlvbihtZXRob2QpIHtcbiAgaWYgKCFfW21ldGhvZF0pIHJldHVybjtcbiAgTW9kZWwucHJvdG90eXBlW21ldGhvZF0gPSBmdW5jdGlvbigpIHtcbiAgICB2YXIgYXJncyA9IHNsaWNlLmNhbGwoYXJndW1lbnRzKTtcbiAgICBhcmdzLnVuc2hpZnQodGhpcy5hdHRyaWJ1dGVzKTtcbiAgICByZXR1cm4gX1ttZXRob2RdLmFwcGx5KF8sIGFyZ3MpO1xuICB9O1xufSk7XG5cbi8vIHNldHVwIGluaGVyaXRhbmNlXG5Nb2RlbC5leHRlbmQgPSBleHRlbmQ7XG5tb2R1bGUuZXhwb3J0cyA9IE1vZGVsO1xuIiwiLyoqXG4gKiBTdGFuZGFsb25lIGV4dHJhY3Rpb24gb2YgQmFja2JvbmUuRXZlbnRzLCBubyBleHRlcm5hbCBkZXBlbmRlbmN5IHJlcXVpcmVkLlxuICogRGVncmFkZXMgbmljZWx5IHdoZW4gQmFja29uZS91bmRlcnNjb3JlIGFyZSBhbHJlYWR5IGF2YWlsYWJsZSBpbiB0aGUgY3VycmVudFxuICogZ2xvYmFsIGNvbnRleHQuXG4gKlxuICogTm90ZSB0aGF0IGRvY3Mgc3VnZ2VzdCB0byB1c2UgdW5kZXJzY29yZSdzIGBfLmV4dGVuZCgpYCBtZXRob2QgdG8gYWRkIEV2ZW50c1xuICogc3VwcG9ydCB0byBzb21lIGdpdmVuIG9iamVjdC4gQSBgbWl4aW4oKWAgbWV0aG9kIGhhcyBiZWVuIGFkZGVkIHRvIHRoZSBFdmVudHNcbiAqIHByb3RvdHlwZSB0byBhdm9pZCB1c2luZyB1bmRlcnNjb3JlIGZvciB0aGF0IHNvbGUgcHVycG9zZTpcbiAqXG4gKiAgICAgdmFyIG15RXZlbnRFbWl0dGVyID0gQmFja2JvbmVFdmVudHMubWl4aW4oe30pO1xuICpcbiAqIE9yIGZvciBhIGZ1bmN0aW9uIGNvbnN0cnVjdG9yOlxuICpcbiAqICAgICBmdW5jdGlvbiBNeUNvbnN0cnVjdG9yKCl7fVxuICogICAgIE15Q29uc3RydWN0b3IucHJvdG90eXBlLmZvbyA9IGZ1bmN0aW9uKCl7fVxuICogICAgIEJhY2tib25lRXZlbnRzLm1peGluKE15Q29uc3RydWN0b3IucHJvdG90eXBlKTtcbiAqXG4gKiAoYykgMjAwOS0yMDEzIEplcmVteSBBc2hrZW5hcywgRG9jdW1lbnRDbG91ZCBJbmMuXG4gKiAoYykgMjAxMyBOaWNvbGFzIFBlcnJpYXVsdFxuICovXG4vKiBnbG9iYWwgZXhwb3J0czp0cnVlLCBkZWZpbmUsIG1vZHVsZSAqL1xuKGZ1bmN0aW9uKCkge1xuICB2YXIgcm9vdCA9IHRoaXMsXG4gICAgICBicmVha2VyID0ge30sXG4gICAgICBuYXRpdmVGb3JFYWNoID0gQXJyYXkucHJvdG90eXBlLmZvckVhY2gsXG4gICAgICBoYXNPd25Qcm9wZXJ0eSA9IE9iamVjdC5wcm90b3R5cGUuaGFzT3duUHJvcGVydHksXG4gICAgICBzbGljZSA9IEFycmF5LnByb3RvdHlwZS5zbGljZSxcbiAgICAgIGlkQ291bnRlciA9IDA7XG5cbiAgLy8gUmV0dXJucyBhIHBhcnRpYWwgaW1wbGVtZW50YXRpb24gbWF0Y2hpbmcgdGhlIG1pbmltYWwgQVBJIHN1YnNldCByZXF1aXJlZFxuICAvLyBieSBCYWNrYm9uZS5FdmVudHNcbiAgZnVuY3Rpb24gbWluaXNjb3JlKCkge1xuICAgIHJldHVybiB7XG4gICAgICBrZXlzOiBPYmplY3Qua2V5cyB8fCBmdW5jdGlvbiAob2JqKSB7XG4gICAgICAgIGlmICh0eXBlb2Ygb2JqICE9PSBcIm9iamVjdFwiICYmIHR5cGVvZiBvYmogIT09IFwiZnVuY3Rpb25cIiB8fCBvYmogPT09IG51bGwpIHtcbiAgICAgICAgICB0aHJvdyBuZXcgVHlwZUVycm9yKFwia2V5cygpIGNhbGxlZCBvbiBhIG5vbi1vYmplY3RcIik7XG4gICAgICAgIH1cbiAgICAgICAgdmFyIGtleSwga2V5cyA9IFtdO1xuICAgICAgICBmb3IgKGtleSBpbiBvYmopIHtcbiAgICAgICAgICBpZiAob2JqLmhhc093blByb3BlcnR5KGtleSkpIHtcbiAgICAgICAgICAgIGtleXNba2V5cy5sZW5ndGhdID0ga2V5O1xuICAgICAgICAgIH1cbiAgICAgICAgfVxuICAgICAgICByZXR1cm4ga2V5cztcbiAgICAgIH0sXG5cbiAgICAgIHVuaXF1ZUlkOiBmdW5jdGlvbihwcmVmaXgpIHtcbiAgICAgICAgdmFyIGlkID0gKytpZENvdW50ZXIgKyAnJztcbiAgICAgICAgcmV0dXJuIHByZWZpeCA/IHByZWZpeCArIGlkIDogaWQ7XG4gICAgICB9LFxuXG4gICAgICBoYXM6IGZ1bmN0aW9uKG9iaiwga2V5KSB7XG4gICAgICAgIHJldHVybiBoYXNPd25Qcm9wZXJ0eS5jYWxsKG9iaiwga2V5KTtcbiAgICAgIH0sXG5cbiAgICAgIGVhY2g6IGZ1bmN0aW9uKG9iaiwgaXRlcmF0b3IsIGNvbnRleHQpIHtcbiAgICAgICAgaWYgKG9iaiA9PSBudWxsKSByZXR1cm47XG4gICAgICAgIGlmIChuYXRpdmVGb3JFYWNoICYmIG9iai5mb3JFYWNoID09PSBuYXRpdmVGb3JFYWNoKSB7XG4gICAgICAgICAgb2JqLmZvckVhY2goaXRlcmF0b3IsIGNvbnRleHQpO1xuICAgICAgICB9IGVsc2UgaWYgKG9iai5sZW5ndGggPT09ICtvYmoubGVuZ3RoKSB7XG4gICAgICAgICAgZm9yICh2YXIgaSA9IDAsIGwgPSBvYmoubGVuZ3RoOyBpIDwgbDsgaSsrKSB7XG4gICAgICAgICAgICBpZiAoaXRlcmF0b3IuY2FsbChjb250ZXh0LCBvYmpbaV0sIGksIG9iaikgPT09IGJyZWFrZXIpIHJldHVybjtcbiAgICAgICAgICB9XG4gICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgZm9yICh2YXIga2V5IGluIG9iaikge1xuICAgICAgICAgICAgaWYgKHRoaXMuaGFzKG9iaiwga2V5KSkge1xuICAgICAgICAgICAgICBpZiAoaXRlcmF0b3IuY2FsbChjb250ZXh0LCBvYmpba2V5XSwga2V5LCBvYmopID09PSBicmVha2VyKSByZXR1cm47XG4gICAgICAgICAgICB9XG4gICAgICAgICAgfVxuICAgICAgICB9XG4gICAgICB9LFxuXG4gICAgICBvbmNlOiBmdW5jdGlvbihmdW5jKSB7XG4gICAgICAgIHZhciByYW4gPSBmYWxzZSwgbWVtbztcbiAgICAgICAgcmV0dXJuIGZ1bmN0aW9uKCkge1xuICAgICAgICAgIGlmIChyYW4pIHJldHVybiBtZW1vO1xuICAgICAgICAgIHJhbiA9IHRydWU7XG4gICAgICAgICAgbWVtbyA9IGZ1bmMuYXBwbHkodGhpcywgYXJndW1lbnRzKTtcbiAgICAgICAgICBmdW5jID0gbnVsbDtcbiAgICAgICAgICByZXR1cm4gbWVtbztcbiAgICAgICAgfTtcbiAgICAgIH1cbiAgICB9O1xuICB9XG5cbiAgdmFyIF8gPSBtaW5pc2NvcmUoKSwgRXZlbnRzO1xuXG4gIC8vIEJhY2tib25lLkV2ZW50c1xuICAvLyAtLS0tLS0tLS0tLS0tLS1cblxuICAvLyBBIG1vZHVsZSB0aGF0IGNhbiBiZSBtaXhlZCBpbiB0byAqYW55IG9iamVjdCogaW4gb3JkZXIgdG8gcHJvdmlkZSBpdCB3aXRoXG4gIC8vIGN1c3RvbSBldmVudHMuIFlvdSBtYXkgYmluZCB3aXRoIGBvbmAgb3IgcmVtb3ZlIHdpdGggYG9mZmAgY2FsbGJhY2tcbiAgLy8gZnVuY3Rpb25zIHRvIGFuIGV2ZW50OyBgdHJpZ2dlcmAtaW5nIGFuIGV2ZW50IGZpcmVzIGFsbCBjYWxsYmFja3MgaW5cbiAgLy8gc3VjY2Vzc2lvbi5cbiAgLy9cbiAgLy8gICAgIHZhciBvYmplY3QgPSB7fTtcbiAgLy8gICAgIF8uZXh0ZW5kKG9iamVjdCwgQmFja2JvbmUuRXZlbnRzKTtcbiAgLy8gICAgIG9iamVjdC5vbignZXhwYW5kJywgZnVuY3Rpb24oKXsgYWxlcnQoJ2V4cGFuZGVkJyk7IH0pO1xuICAvLyAgICAgb2JqZWN0LnRyaWdnZXIoJ2V4cGFuZCcpO1xuICAvL1xuICBFdmVudHMgPSB7XG5cbiAgICAvLyBCaW5kIGFuIGV2ZW50IHRvIGEgYGNhbGxiYWNrYCBmdW5jdGlvbi4gUGFzc2luZyBgXCJhbGxcImAgd2lsbCBiaW5kXG4gICAgLy8gdGhlIGNhbGxiYWNrIHRvIGFsbCBldmVudHMgZmlyZWQuXG4gICAgb246IGZ1bmN0aW9uKG5hbWUsIGNhbGxiYWNrLCBjb250ZXh0KSB7XG4gICAgICBpZiAoIWV2ZW50c0FwaSh0aGlzLCAnb24nLCBuYW1lLCBbY2FsbGJhY2ssIGNvbnRleHRdKSB8fCAhY2FsbGJhY2spIHJldHVybiB0aGlzO1xuICAgICAgdGhpcy5fZXZlbnRzIHx8ICh0aGlzLl9ldmVudHMgPSB7fSk7XG4gICAgICB2YXIgZXZlbnRzID0gdGhpcy5fZXZlbnRzW25hbWVdIHx8ICh0aGlzLl9ldmVudHNbbmFtZV0gPSBbXSk7XG4gICAgICBldmVudHMucHVzaCh7Y2FsbGJhY2s6IGNhbGxiYWNrLCBjb250ZXh0OiBjb250ZXh0LCBjdHg6IGNvbnRleHQgfHwgdGhpc30pO1xuICAgICAgcmV0dXJuIHRoaXM7XG4gICAgfSxcblxuICAgIC8vIEJpbmQgYW4gZXZlbnQgdG8gb25seSBiZSB0cmlnZ2VyZWQgYSBzaW5nbGUgdGltZS4gQWZ0ZXIgdGhlIGZpcnN0IHRpbWVcbiAgICAvLyB0aGUgY2FsbGJhY2sgaXMgaW52b2tlZCwgaXQgd2lsbCBiZSByZW1vdmVkLlxuICAgIG9uY2U6IGZ1bmN0aW9uKG5hbWUsIGNhbGxiYWNrLCBjb250ZXh0KSB7XG4gICAgICBpZiAoIWV2ZW50c0FwaSh0aGlzLCAnb25jZScsIG5hbWUsIFtjYWxsYmFjaywgY29udGV4dF0pIHx8ICFjYWxsYmFjaykgcmV0dXJuIHRoaXM7XG4gICAgICB2YXIgc2VsZiA9IHRoaXM7XG4gICAgICB2YXIgb25jZSA9IF8ub25jZShmdW5jdGlvbigpIHtcbiAgICAgICAgc2VsZi5vZmYobmFtZSwgb25jZSk7XG4gICAgICAgIGNhbGxiYWNrLmFwcGx5KHRoaXMsIGFyZ3VtZW50cyk7XG4gICAgICB9KTtcbiAgICAgIG9uY2UuX2NhbGxiYWNrID0gY2FsbGJhY2s7XG4gICAgICByZXR1cm4gdGhpcy5vbihuYW1lLCBvbmNlLCBjb250ZXh0KTtcbiAgICB9LFxuXG4gICAgLy8gUmVtb3ZlIG9uZSBvciBtYW55IGNhbGxiYWNrcy4gSWYgYGNvbnRleHRgIGlzIG51bGwsIHJlbW92ZXMgYWxsXG4gICAgLy8gY2FsbGJhY2tzIHdpdGggdGhhdCBmdW5jdGlvbi4gSWYgYGNhbGxiYWNrYCBpcyBudWxsLCByZW1vdmVzIGFsbFxuICAgIC8vIGNhbGxiYWNrcyBmb3IgdGhlIGV2ZW50LiBJZiBgbmFtZWAgaXMgbnVsbCwgcmVtb3ZlcyBhbGwgYm91bmRcbiAgICAvLyBjYWxsYmFja3MgZm9yIGFsbCBldmVudHMuXG4gICAgb2ZmOiBmdW5jdGlvbihuYW1lLCBjYWxsYmFjaywgY29udGV4dCkge1xuICAgICAgdmFyIHJldGFpbiwgZXYsIGV2ZW50cywgbmFtZXMsIGksIGwsIGosIGs7XG4gICAgICBpZiAoIXRoaXMuX2V2ZW50cyB8fCAhZXZlbnRzQXBpKHRoaXMsICdvZmYnLCBuYW1lLCBbY2FsbGJhY2ssIGNvbnRleHRdKSkgcmV0dXJuIHRoaXM7XG4gICAgICBpZiAoIW5hbWUgJiYgIWNhbGxiYWNrICYmICFjb250ZXh0KSB7XG4gICAgICAgIHRoaXMuX2V2ZW50cyA9IHt9O1xuICAgICAgICByZXR1cm4gdGhpcztcbiAgICAgIH1cblxuICAgICAgbmFtZXMgPSBuYW1lID8gW25hbWVdIDogXy5rZXlzKHRoaXMuX2V2ZW50cyk7XG4gICAgICBmb3IgKGkgPSAwLCBsID0gbmFtZXMubGVuZ3RoOyBpIDwgbDsgaSsrKSB7XG4gICAgICAgIG5hbWUgPSBuYW1lc1tpXTtcbiAgICAgICAgaWYgKGV2ZW50cyA9IHRoaXMuX2V2ZW50c1tuYW1lXSkge1xuICAgICAgICAgIHRoaXMuX2V2ZW50c1tuYW1lXSA9IHJldGFpbiA9IFtdO1xuICAgICAgICAgIGlmIChjYWxsYmFjayB8fCBjb250ZXh0KSB7XG4gICAgICAgICAgICBmb3IgKGogPSAwLCBrID0gZXZlbnRzLmxlbmd0aDsgaiA8IGs7IGorKykge1xuICAgICAgICAgICAgICBldiA9IGV2ZW50c1tqXTtcbiAgICAgICAgICAgICAgaWYgKChjYWxsYmFjayAmJiBjYWxsYmFjayAhPT0gZXYuY2FsbGJhY2sgJiYgY2FsbGJhY2sgIT09IGV2LmNhbGxiYWNrLl9jYWxsYmFjaykgfHxcbiAgICAgICAgICAgICAgICAgIChjb250ZXh0ICYmIGNvbnRleHQgIT09IGV2LmNvbnRleHQpKSB7XG4gICAgICAgICAgICAgICAgcmV0YWluLnB1c2goZXYpO1xuICAgICAgICAgICAgICB9XG4gICAgICAgICAgICB9XG4gICAgICAgICAgfVxuICAgICAgICAgIGlmICghcmV0YWluLmxlbmd0aCkgZGVsZXRlIHRoaXMuX2V2ZW50c1tuYW1lXTtcbiAgICAgICAgfVxuICAgICAgfVxuXG4gICAgICByZXR1cm4gdGhpcztcbiAgICB9LFxuXG4gICAgLy8gVHJpZ2dlciBvbmUgb3IgbWFueSBldmVudHMsIGZpcmluZyBhbGwgYm91bmQgY2FsbGJhY2tzLiBDYWxsYmFja3MgYXJlXG4gICAgLy8gcGFzc2VkIHRoZSBzYW1lIGFyZ3VtZW50cyBhcyBgdHJpZ2dlcmAgaXMsIGFwYXJ0IGZyb20gdGhlIGV2ZW50IG5hbWVcbiAgICAvLyAodW5sZXNzIHlvdSdyZSBsaXN0ZW5pbmcgb24gYFwiYWxsXCJgLCB3aGljaCB3aWxsIGNhdXNlIHlvdXIgY2FsbGJhY2sgdG9cbiAgICAvLyByZWNlaXZlIHRoZSB0cnVlIG5hbWUgb2YgdGhlIGV2ZW50IGFzIHRoZSBmaXJzdCBhcmd1bWVudCkuXG4gICAgdHJpZ2dlcjogZnVuY3Rpb24obmFtZSkge1xuICAgICAgaWYgKCF0aGlzLl9ldmVudHMpIHJldHVybiB0aGlzO1xuICAgICAgdmFyIGFyZ3MgPSBzbGljZS5jYWxsKGFyZ3VtZW50cywgMSk7XG4gICAgICBpZiAoIWV2ZW50c0FwaSh0aGlzLCAndHJpZ2dlcicsIG5hbWUsIGFyZ3MpKSByZXR1cm4gdGhpcztcbiAgICAgIHZhciBldmVudHMgPSB0aGlzLl9ldmVudHNbbmFtZV07XG4gICAgICB2YXIgYWxsRXZlbnRzID0gdGhpcy5fZXZlbnRzLmFsbDtcbiAgICAgIGlmIChldmVudHMpIHRyaWdnZXJFdmVudHMoZXZlbnRzLCBhcmdzKTtcbiAgICAgIGlmIChhbGxFdmVudHMpIHRyaWdnZXJFdmVudHMoYWxsRXZlbnRzLCBhcmd1bWVudHMpO1xuICAgICAgcmV0dXJuIHRoaXM7XG4gICAgfSxcblxuICAgIC8vIFRlbGwgdGhpcyBvYmplY3QgdG8gc3RvcCBsaXN0ZW5pbmcgdG8gZWl0aGVyIHNwZWNpZmljIGV2ZW50cyAuLi4gb3JcbiAgICAvLyB0byBldmVyeSBvYmplY3QgaXQncyBjdXJyZW50bHkgbGlzdGVuaW5nIHRvLlxuICAgIHN0b3BMaXN0ZW5pbmc6IGZ1bmN0aW9uKG9iaiwgbmFtZSwgY2FsbGJhY2spIHtcbiAgICAgIHZhciBsaXN0ZW5lcnMgPSB0aGlzLl9saXN0ZW5lcnM7XG4gICAgICBpZiAoIWxpc3RlbmVycykgcmV0dXJuIHRoaXM7XG4gICAgICB2YXIgZGVsZXRlTGlzdGVuZXIgPSAhbmFtZSAmJiAhY2FsbGJhY2s7XG4gICAgICBpZiAodHlwZW9mIG5hbWUgPT09ICdvYmplY3QnKSBjYWxsYmFjayA9IHRoaXM7XG4gICAgICBpZiAob2JqKSAobGlzdGVuZXJzID0ge30pW29iai5fbGlzdGVuZXJJZF0gPSBvYmo7XG4gICAgICBmb3IgKHZhciBpZCBpbiBsaXN0ZW5lcnMpIHtcbiAgICAgICAgbGlzdGVuZXJzW2lkXS5vZmYobmFtZSwgY2FsbGJhY2ssIHRoaXMpO1xuICAgICAgICBpZiAoZGVsZXRlTGlzdGVuZXIpIGRlbGV0ZSB0aGlzLl9saXN0ZW5lcnNbaWRdO1xuICAgICAgfVxuICAgICAgcmV0dXJuIHRoaXM7XG4gICAgfVxuXG4gIH07XG5cbiAgLy8gUmVndWxhciBleHByZXNzaW9uIHVzZWQgdG8gc3BsaXQgZXZlbnQgc3RyaW5ncy5cbiAgdmFyIGV2ZW50U3BsaXR0ZXIgPSAvXFxzKy87XG5cbiAgLy8gSW1wbGVtZW50IGZhbmN5IGZlYXR1cmVzIG9mIHRoZSBFdmVudHMgQVBJIHN1Y2ggYXMgbXVsdGlwbGUgZXZlbnRcbiAgLy8gbmFtZXMgYFwiY2hhbmdlIGJsdXJcImAgYW5kIGpRdWVyeS1zdHlsZSBldmVudCBtYXBzIGB7Y2hhbmdlOiBhY3Rpb259YFxuICAvLyBpbiB0ZXJtcyBvZiB0aGUgZXhpc3RpbmcgQVBJLlxuICB2YXIgZXZlbnRzQXBpID0gZnVuY3Rpb24ob2JqLCBhY3Rpb24sIG5hbWUsIHJlc3QpIHtcbiAgICBpZiAoIW5hbWUpIHJldHVybiB0cnVlO1xuXG4gICAgLy8gSGFuZGxlIGV2ZW50IG1hcHMuXG4gICAgaWYgKHR5cGVvZiBuYW1lID09PSAnb2JqZWN0Jykge1xuICAgICAgZm9yICh2YXIga2V5IGluIG5hbWUpIHtcbiAgICAgICAgb2JqW2FjdGlvbl0uYXBwbHkob2JqLCBba2V5LCBuYW1lW2tleV1dLmNvbmNhdChyZXN0KSk7XG4gICAgICB9XG4gICAgICByZXR1cm4gZmFsc2U7XG4gICAgfVxuXG4gICAgLy8gSGFuZGxlIHNwYWNlIHNlcGFyYXRlZCBldmVudCBuYW1lcy5cbiAgICBpZiAoZXZlbnRTcGxpdHRlci50ZXN0KG5hbWUpKSB7XG4gICAgICB2YXIgbmFtZXMgPSBuYW1lLnNwbGl0KGV2ZW50U3BsaXR0ZXIpO1xuICAgICAgZm9yICh2YXIgaSA9IDAsIGwgPSBuYW1lcy5sZW5ndGg7IGkgPCBsOyBpKyspIHtcbiAgICAgICAgb2JqW2FjdGlvbl0uYXBwbHkob2JqLCBbbmFtZXNbaV1dLmNvbmNhdChyZXN0KSk7XG4gICAgICB9XG4gICAgICByZXR1cm4gZmFsc2U7XG4gICAgfVxuXG4gICAgcmV0dXJuIHRydWU7XG4gIH07XG5cbiAgLy8gQSBkaWZmaWN1bHQtdG8tYmVsaWV2ZSwgYnV0IG9wdGltaXplZCBpbnRlcm5hbCBkaXNwYXRjaCBmdW5jdGlvbiBmb3JcbiAgLy8gdHJpZ2dlcmluZyBldmVudHMuIFRyaWVzIHRvIGtlZXAgdGhlIHVzdWFsIGNhc2VzIHNwZWVkeSAobW9zdCBpbnRlcm5hbFxuICAvLyBCYWNrYm9uZSBldmVudHMgaGF2ZSAzIGFyZ3VtZW50cykuXG4gIHZhciB0cmlnZ2VyRXZlbnRzID0gZnVuY3Rpb24oZXZlbnRzLCBhcmdzKSB7XG4gICAgdmFyIGV2LCBpID0gLTEsIGwgPSBldmVudHMubGVuZ3RoLCBhMSA9IGFyZ3NbMF0sIGEyID0gYXJnc1sxXSwgYTMgPSBhcmdzWzJdO1xuICAgIHN3aXRjaCAoYXJncy5sZW5ndGgpIHtcbiAgICAgIGNhc2UgMDogd2hpbGUgKCsraSA8IGwpIChldiA9IGV2ZW50c1tpXSkuY2FsbGJhY2suY2FsbChldi5jdHgpOyByZXR1cm47XG4gICAgICBjYXNlIDE6IHdoaWxlICgrK2kgPCBsKSAoZXYgPSBldmVudHNbaV0pLmNhbGxiYWNrLmNhbGwoZXYuY3R4LCBhMSk7IHJldHVybjtcbiAgICAgIGNhc2UgMjogd2hpbGUgKCsraSA8IGwpIChldiA9IGV2ZW50c1tpXSkuY2FsbGJhY2suY2FsbChldi5jdHgsIGExLCBhMik7IHJldHVybjtcbiAgICAgIGNhc2UgMzogd2hpbGUgKCsraSA8IGwpIChldiA9IGV2ZW50c1tpXSkuY2FsbGJhY2suY2FsbChldi5jdHgsIGExLCBhMiwgYTMpOyByZXR1cm47XG4gICAgICBkZWZhdWx0OiB3aGlsZSAoKytpIDwgbCkgKGV2ID0gZXZlbnRzW2ldKS5jYWxsYmFjay5hcHBseShldi5jdHgsIGFyZ3MpO1xuICAgIH1cbiAgfTtcblxuICB2YXIgbGlzdGVuTWV0aG9kcyA9IHtsaXN0ZW5UbzogJ29uJywgbGlzdGVuVG9PbmNlOiAnb25jZSd9O1xuXG4gIC8vIEludmVyc2lvbi1vZi1jb250cm9sIHZlcnNpb25zIG9mIGBvbmAgYW5kIGBvbmNlYC4gVGVsbCAqdGhpcyogb2JqZWN0IHRvXG4gIC8vIGxpc3RlbiB0byBhbiBldmVudCBpbiBhbm90aGVyIG9iamVjdCAuLi4ga2VlcGluZyB0cmFjayBvZiB3aGF0IGl0J3NcbiAgLy8gbGlzdGVuaW5nIHRvLlxuICBfLmVhY2gobGlzdGVuTWV0aG9kcywgZnVuY3Rpb24oaW1wbGVtZW50YXRpb24sIG1ldGhvZCkge1xuICAgIEV2ZW50c1ttZXRob2RdID0gZnVuY3Rpb24ob2JqLCBuYW1lLCBjYWxsYmFjaykge1xuICAgICAgdmFyIGxpc3RlbmVycyA9IHRoaXMuX2xpc3RlbmVycyB8fCAodGhpcy5fbGlzdGVuZXJzID0ge30pO1xuICAgICAgdmFyIGlkID0gb2JqLl9saXN0ZW5lcklkIHx8IChvYmouX2xpc3RlbmVySWQgPSBfLnVuaXF1ZUlkKCdsJykpO1xuICAgICAgbGlzdGVuZXJzW2lkXSA9IG9iajtcbiAgICAgIGlmICh0eXBlb2YgbmFtZSA9PT0gJ29iamVjdCcpIGNhbGxiYWNrID0gdGhpcztcbiAgICAgIG9ialtpbXBsZW1lbnRhdGlvbl0obmFtZSwgY2FsbGJhY2ssIHRoaXMpO1xuICAgICAgcmV0dXJuIHRoaXM7XG4gICAgfTtcbiAgfSk7XG5cbiAgLy8gQWxpYXNlcyBmb3IgYmFja3dhcmRzIGNvbXBhdGliaWxpdHkuXG4gIEV2ZW50cy5iaW5kICAgPSBFdmVudHMub247XG4gIEV2ZW50cy51bmJpbmQgPSBFdmVudHMub2ZmO1xuXG4gIC8vIE1peGluIHV0aWxpdHlcbiAgRXZlbnRzLm1peGluID0gZnVuY3Rpb24ocHJvdG8pIHtcbiAgICB2YXIgZXhwb3J0cyA9IFsnb24nLCAnb25jZScsICdvZmYnLCAndHJpZ2dlcicsICdzdG9wTGlzdGVuaW5nJywgJ2xpc3RlblRvJyxcbiAgICAgICAgICAgICAgICAgICAnbGlzdGVuVG9PbmNlJywgJ2JpbmQnLCAndW5iaW5kJ107XG4gICAgXy5lYWNoKGV4cG9ydHMsIGZ1bmN0aW9uKG5hbWUpIHtcbiAgICAgIHByb3RvW25hbWVdID0gdGhpc1tuYW1lXTtcbiAgICB9LCB0aGlzKTtcbiAgICByZXR1cm4gcHJvdG87XG4gIH07XG5cbiAgLy8gRXhwb3J0IEV2ZW50cyBhcyBCYWNrYm9uZUV2ZW50cyBkZXBlbmRpbmcgb24gY3VycmVudCBjb250ZXh0XG4gIGlmICh0eXBlb2YgZGVmaW5lID09PSBcImZ1bmN0aW9uXCIpIHtcbiAgICBkZWZpbmUoZnVuY3Rpb24oKSB7XG4gICAgICByZXR1cm4gRXZlbnRzO1xuICAgIH0pO1xuICB9IGVsc2UgaWYgKHR5cGVvZiBleHBvcnRzICE9PSAndW5kZWZpbmVkJykge1xuICAgIGlmICh0eXBlb2YgbW9kdWxlICE9PSAndW5kZWZpbmVkJyAmJiBtb2R1bGUuZXhwb3J0cykge1xuICAgICAgZXhwb3J0cyA9IG1vZHVsZS5leHBvcnRzID0gRXZlbnRzO1xuICAgIH1cbiAgICBleHBvcnRzLkJhY2tib25lRXZlbnRzID0gRXZlbnRzO1xuICB9IGVsc2Uge1xuICAgIHJvb3QuQmFja2JvbmVFdmVudHMgPSBFdmVudHM7XG4gIH1cbn0pKHRoaXMpO1xuIiwibW9kdWxlLmV4cG9ydHMgPSByZXF1aXJlKCcuL2JhY2tib25lLWV2ZW50cy1zdGFuZGFsb25lJyk7XG4iLCIoZnVuY3Rpb24gKGRlZmluaXRpb24pIHtcbiAgaWYgKHR5cGVvZiBleHBvcnRzID09PSBcIm9iamVjdFwiKSB7XG4gICAgbW9kdWxlLmV4cG9ydHMgPSBkZWZpbml0aW9uKCk7XG4gIH1cbiAgZWxzZSBpZiAodHlwZW9mIGRlZmluZSA9PT0gJ2Z1bmN0aW9uJyAmJiBkZWZpbmUuYW1kKSB7XG4gICAgZGVmaW5lKGRlZmluaXRpb24pO1xuICB9XG4gIGVsc2Uge1xuICAgIHdpbmRvdy5CYWNrYm9uZUV4dGVuZCA9IGRlZmluaXRpb24oKTtcbiAgfVxufSkoZnVuY3Rpb24gKCkge1xuICBcInVzZSBzdHJpY3RcIjtcbiAgXG4gIC8vIG1pbmktdW5kZXJzY29yZVxuICB2YXIgXyA9IHtcbiAgICBoYXM6IGZ1bmN0aW9uIChvYmosIGtleSkge1xuICAgICAgcmV0dXJuIE9iamVjdC5wcm90b3R5cGUuaGFzT3duUHJvcGVydHkuY2FsbChvYmosIGtleSk7XG4gICAgfSxcbiAgXG4gICAgZXh0ZW5kOiBmdW5jdGlvbihvYmopIHtcbiAgICAgIGZvciAodmFyIGk9MTsgaTxhcmd1bWVudHMubGVuZ3RoOyArK2kpIHtcbiAgICAgICAgdmFyIHNvdXJjZSA9IGFyZ3VtZW50c1tpXTtcbiAgICAgICAgaWYgKHNvdXJjZSkge1xuICAgICAgICAgIGZvciAodmFyIHByb3AgaW4gc291cmNlKSB7XG4gICAgICAgICAgICBvYmpbcHJvcF0gPSBzb3VyY2VbcHJvcF07XG4gICAgICAgICAgfVxuICAgICAgICB9XG4gICAgICB9XG4gICAgICByZXR1cm4gb2JqO1xuICAgIH1cbiAgfTtcblxuICAvLy8gRm9sbG93aW5nIGNvZGUgaXMgcGFzdGVkIGZyb20gQmFja2JvbmUuanMgLy8vXG5cbiAgLy8gSGVscGVyIGZ1bmN0aW9uIHRvIGNvcnJlY3RseSBzZXQgdXAgdGhlIHByb3RvdHlwZSBjaGFpbiwgZm9yIHN1YmNsYXNzZXMuXG4gIC8vIFNpbWlsYXIgdG8gYGdvb2cuaW5oZXJpdHNgLCBidXQgdXNlcyBhIGhhc2ggb2YgcHJvdG90eXBlIHByb3BlcnRpZXMgYW5kXG4gIC8vIGNsYXNzIHByb3BlcnRpZXMgdG8gYmUgZXh0ZW5kZWQuXG4gIHZhciBleHRlbmQgPSBmdW5jdGlvbihwcm90b1Byb3BzLCBzdGF0aWNQcm9wcykge1xuICAgIHZhciBwYXJlbnQgPSB0aGlzO1xuICAgIHZhciBjaGlsZDtcblxuICAgIC8vIFRoZSBjb25zdHJ1Y3RvciBmdW5jdGlvbiBmb3IgdGhlIG5ldyBzdWJjbGFzcyBpcyBlaXRoZXIgZGVmaW5lZCBieSB5b3VcbiAgICAvLyAodGhlIFwiY29uc3RydWN0b3JcIiBwcm9wZXJ0eSBpbiB5b3VyIGBleHRlbmRgIGRlZmluaXRpb24pLCBvciBkZWZhdWx0ZWRcbiAgICAvLyBieSB1cyB0byBzaW1wbHkgY2FsbCB0aGUgcGFyZW50J3MgY29uc3RydWN0b3IuXG4gICAgaWYgKHByb3RvUHJvcHMgJiYgXy5oYXMocHJvdG9Qcm9wcywgJ2NvbnN0cnVjdG9yJykpIHtcbiAgICAgIGNoaWxkID0gcHJvdG9Qcm9wcy5jb25zdHJ1Y3RvcjtcbiAgICB9IGVsc2Uge1xuICAgICAgY2hpbGQgPSBmdW5jdGlvbigpeyByZXR1cm4gcGFyZW50LmFwcGx5KHRoaXMsIGFyZ3VtZW50cyk7IH07XG4gICAgfVxuXG4gICAgLy8gQWRkIHN0YXRpYyBwcm9wZXJ0aWVzIHRvIHRoZSBjb25zdHJ1Y3RvciBmdW5jdGlvbiwgaWYgc3VwcGxpZWQuXG4gICAgXy5leHRlbmQoY2hpbGQsIHBhcmVudCwgc3RhdGljUHJvcHMpO1xuXG4gICAgLy8gU2V0IHRoZSBwcm90b3R5cGUgY2hhaW4gdG8gaW5oZXJpdCBmcm9tIGBwYXJlbnRgLCB3aXRob3V0IGNhbGxpbmdcbiAgICAvLyBgcGFyZW50YCdzIGNvbnN0cnVjdG9yIGZ1bmN0aW9uLlxuICAgIHZhciBTdXJyb2dhdGUgPSBmdW5jdGlvbigpeyB0aGlzLmNvbnN0cnVjdG9yID0gY2hpbGQ7IH07XG4gICAgU3Vycm9nYXRlLnByb3RvdHlwZSA9IHBhcmVudC5wcm90b3R5cGU7XG4gICAgY2hpbGQucHJvdG90eXBlID0gbmV3IFN1cnJvZ2F0ZSgpO1xuXG4gICAgLy8gQWRkIHByb3RvdHlwZSBwcm9wZXJ0aWVzIChpbnN0YW5jZSBwcm9wZXJ0aWVzKSB0byB0aGUgc3ViY2xhc3MsXG4gICAgLy8gaWYgc3VwcGxpZWQuXG4gICAgaWYgKHByb3RvUHJvcHMpIF8uZXh0ZW5kKGNoaWxkLnByb3RvdHlwZSwgcHJvdG9Qcm9wcyk7XG5cbiAgICAvLyBTZXQgYSBjb252ZW5pZW5jZSBwcm9wZXJ0eSBpbiBjYXNlIHRoZSBwYXJlbnQncyBwcm90b3R5cGUgaXMgbmVlZGVkXG4gICAgLy8gbGF0ZXIuXG4gICAgY2hpbGQuX19zdXBlcl9fID0gcGFyZW50LnByb3RvdHlwZTtcblxuICAgIHJldHVybiBjaGlsZDtcbiAgfTtcblxuICAvLyBFeHBvc2UgdGhlIGV4dGVuZCBmdW5jdGlvblxuICByZXR1cm4gZXh0ZW5kO1xufSk7XG4iLCIvLyB0aGlzIGlzIHRoZSBleHRyYWN0ZWQgdmlldyBtb2RlbCBmcm9tIGJhY2tib25lXG4vLyBub3RlIHRoYXQgd2UgaW5qZWN0IGpib25lIGFzIGpxdWVyeSByZXBsYWNtZW50XG4vLyAoYW5kIHVuZGVyc2NvcmUgZGlyZWN0bHkpXG4vL1xuLy8gVmlld3MgYXJlIGFsbW9zdCBtb3JlIGNvbnZlbnRpb24gdGhhbiB0aGV5IGFyZSBhY3R1YWwgY29kZS5cbi8vICBNVkMgcGF0dGVyblxuLy8gQmFja2JvbmUuVmlld1xuLy8gLS0tLS0tLS0tLS0tLVxuXG52YXIgXyA9IHJlcXVpcmUoXCJ1bmRlcnNjb3JlXCIpO1xudmFyIEV2ZW50cyA9IHJlcXVpcmUoXCJiYWNrYm9uZS1ldmVudHMtc3RhbmRhbG9uZVwiKTtcbnZhciBleHRlbmQgPSByZXF1aXJlKFwiYmFja2JvbmUtZXh0ZW5kLXN0YW5kYWxvbmVcIik7XG52YXIgJCA9IHJlcXVpcmUoJ2pib25lJyk7XG5cbi8vIEJhY2tib25lIFZpZXdzIGFyZSBhbG1vc3QgbW9yZSBjb252ZW50aW9uIHRoYW4gdGhleSBhcmUgYWN0dWFsIGNvZGUuIEEgVmlld1xuLy8gaXMgc2ltcGx5IGEgSmF2YVNjcmlwdCBvYmplY3QgdGhhdCByZXByZXNlbnRzIGEgbG9naWNhbCBjaHVuayBvZiBVSSBpbiB0aGVcbi8vIERPTS4gVGhpcyBtaWdodCBiZSBhIHNpbmdsZSBpdGVtLCBhbiBlbnRpcmUgbGlzdCwgYSBzaWRlYmFyIG9yIHBhbmVsLCBvclxuLy8gZXZlbiB0aGUgc3Vycm91bmRpbmcgZnJhbWUgd2hpY2ggd3JhcHMgeW91ciB3aG9sZSBhcHAuIERlZmluaW5nIGEgY2h1bmsgb2Zcbi8vIFVJIGFzIGEgKipWaWV3KiogYWxsb3dzIHlvdSB0byBkZWZpbmUgeW91ciBET00gZXZlbnRzIGRlY2xhcmF0aXZlbHksIHdpdGhvdXRcbi8vIGhhdmluZyB0byB3b3JyeSBhYm91dCByZW5kZXIgb3JkZXIgLi4uIGFuZCBtYWtlcyBpdCBlYXN5IGZvciB0aGUgdmlldyB0b1xuLy8gcmVhY3QgdG8gc3BlY2lmaWMgY2hhbmdlcyBpbiB0aGUgc3RhdGUgb2YgeW91ciBtb2RlbHMuXG5cbi8vIENyZWF0aW5nIGEgQmFja2JvbmUuVmlldyBjcmVhdGVzIGl0cyBpbml0aWFsIGVsZW1lbnQgb3V0c2lkZSBvZiB0aGUgRE9NLFxuLy8gaWYgYW4gZXhpc3RpbmcgZWxlbWVudCBpcyBub3QgcHJvdmlkZWQuLi5cbnZhciBWaWV3ID0gIGZ1bmN0aW9uKG9wdGlvbnMpIHtcbiAgdGhpcy5jaWQgPSBfLnVuaXF1ZUlkKCd2aWV3Jyk7XG4gIG9wdGlvbnMgfHwgKG9wdGlvbnMgPSB7fSk7XG4gIF8uZXh0ZW5kKHRoaXMsIF8ucGljayhvcHRpb25zLCB2aWV3T3B0aW9ucykpO1xuICB0aGlzLl9lbnN1cmVFbGVtZW50KCk7XG4gIHRoaXMuaW5pdGlhbGl6ZS5hcHBseSh0aGlzLCBhcmd1bWVudHMpO1xufTtcblxuLy8gQ2FjaGVkIHJlZ2V4IHRvIHNwbGl0IGtleXMgZm9yIGBkZWxlZ2F0ZWAuXG52YXIgZGVsZWdhdGVFdmVudFNwbGl0dGVyID0gL14oXFxTKylcXHMqKC4qKSQvO1xuXG4vLyBMaXN0IG9mIHZpZXcgb3B0aW9ucyB0byBiZSBtZXJnZWQgYXMgcHJvcGVydGllcy5cbnZhciB2aWV3T3B0aW9ucyA9IFsnbW9kZWwnLCAnY29sbGVjdGlvbicsICdlbCcsICdpZCcsICdhdHRyaWJ1dGVzJywgJ2NsYXNzTmFtZScsICd0YWdOYW1lJywgJ2V2ZW50cyddO1xuXG4vLyBTZXQgdXAgYWxsIGluaGVyaXRhYmxlICoqQmFja2JvbmUuVmlldyoqIHByb3BlcnRpZXMgYW5kIG1ldGhvZHMuXG5fLmV4dGVuZChWaWV3LnByb3RvdHlwZSwgRXZlbnRzLCB7XG5cbiAgLy8gVGhlIGRlZmF1bHQgYHRhZ05hbWVgIG9mIGEgVmlldydzIGVsZW1lbnQgaXMgYFwiZGl2XCJgLlxuICB0YWdOYW1lOiAnZGl2JyxcblxuICAvLyBqUXVlcnkgZGVsZWdhdGUgZm9yIGVsZW1lbnQgbG9va3VwLCBzY29wZWQgdG8gRE9NIGVsZW1lbnRzIHdpdGhpbiB0aGVcbiAgLy8gY3VycmVudCB2aWV3LiBUaGlzIHNob3VsZCBiZSBwcmVmZXJyZWQgdG8gZ2xvYmFsIGxvb2t1cHMgd2hlcmUgcG9zc2libGUuXG4gICQ6IGZ1bmN0aW9uKHNlbGVjdG9yKSB7XG4gICAgcmV0dXJuIHRoaXMuJGVsLmZpbmQoc2VsZWN0b3IpO1xuICB9LFxuXG4gICAgLy8gSW5pdGlhbGl6ZSBpcyBhbiBlbXB0eSBmdW5jdGlvbiBieSBkZWZhdWx0LiBPdmVycmlkZSBpdCB3aXRoIHlvdXIgb3duXG4gICAgLy8gaW5pdGlhbGl6YXRpb24gbG9naWMuXG4gIGluaXRpYWxpemU6IGZ1bmN0aW9uKCl7fSxcblxuICAgIC8vICoqcmVuZGVyKiogaXMgdGhlIGNvcmUgZnVuY3Rpb24gdGhhdCB5b3VyIHZpZXcgc2hvdWxkIG92ZXJyaWRlLCBpbiBvcmRlclxuICAgIC8vIHRvIHBvcHVsYXRlIGl0cyBlbGVtZW50IChgdGhpcy5lbGApLCB3aXRoIHRoZSBhcHByb3ByaWF0ZSBIVE1MLiBUaGVcbiAgICAvLyBjb252ZW50aW9uIGlzIGZvciAqKnJlbmRlcioqIHRvIGFsd2F5cyByZXR1cm4gYHRoaXNgLlxuICByZW5kZXI6IGZ1bmN0aW9uKCkge1xuICAgIHJldHVybiB0aGlzO1xuICB9LFxuXG4gICAgLy8gUmVtb3ZlIHRoaXMgdmlldyBieSB0YWtpbmcgdGhlIGVsZW1lbnQgb3V0IG9mIHRoZSBET00sIGFuZCByZW1vdmluZyBhbnlcbiAgICAvLyBhcHBsaWNhYmxlIEJhY2tib25lLkV2ZW50cyBsaXN0ZW5lcnMuXG4gIHJlbW92ZTogZnVuY3Rpb24oKSB7XG4gICAgdGhpcy5fcmVtb3ZlRWxlbWVudCgpO1xuICAgIHRoaXMuc3RvcExpc3RlbmluZygpO1xuICAgIHJldHVybiB0aGlzO1xuICB9LFxuXG4gICAgLy8gUmVtb3ZlIHRoaXMgdmlldydzIGVsZW1lbnQgZnJvbSB0aGUgZG9jdW1lbnQgYW5kIGFsbCBldmVudCBsaXN0ZW5lcnNcbiAgICAvLyBhdHRhY2hlZCB0byBpdC4gRXhwb3NlZCBmb3Igc3ViY2xhc3NlcyB1c2luZyBhbiBhbHRlcm5hdGl2ZSBET01cbiAgICAvLyBtYW5pcHVsYXRpb24gQVBJLlxuICBfcmVtb3ZlRWxlbWVudDogZnVuY3Rpb24oKSB7XG4gICAgdGhpcy4kZWwucmVtb3ZlKCk7XG4gIH0sXG5cbiAgICAvLyBDaGFuZ2UgdGhlIHZpZXcncyBlbGVtZW50IChgdGhpcy5lbGAgcHJvcGVydHkpIGFuZCByZS1kZWxlZ2F0ZSB0aGVcbiAgICAvLyB2aWV3J3MgZXZlbnRzIG9uIHRoZSBuZXcgZWxlbWVudC5cbiAgc2V0RWxlbWVudDogZnVuY3Rpb24oZWxlbWVudCkge1xuICAgIHRoaXMudW5kZWxlZ2F0ZUV2ZW50cygpO1xuICAgIHRoaXMuX3NldEVsZW1lbnQoZWxlbWVudCk7XG4gICAgdGhpcy5kZWxlZ2F0ZUV2ZW50cygpO1xuICAgIHJldHVybiB0aGlzO1xuICB9LFxuXG4gICAgLy8gQ3JlYXRlcyB0aGUgYHRoaXMuZWxgIGFuZCBgdGhpcy4kZWxgIHJlZmVyZW5jZXMgZm9yIHRoaXMgdmlldyB1c2luZyB0aGVcbiAgICAvLyBnaXZlbiBgZWxgLiBgZWxgIGNhbiBiZSBhIENTUyBzZWxlY3RvciBvciBhbiBIVE1MIHN0cmluZywgYSBqUXVlcnlcbiAgICAvLyBjb250ZXh0IG9yIGFuIGVsZW1lbnQuIFN1YmNsYXNzZXMgY2FuIG92ZXJyaWRlIHRoaXMgdG8gdXRpbGl6ZSBhblxuICAgIC8vIGFsdGVybmF0aXZlIERPTSBtYW5pcHVsYXRpb24gQVBJIGFuZCBhcmUgb25seSByZXF1aXJlZCB0byBzZXQgdGhlXG4gICAgLy8gYHRoaXMuZWxgIHByb3BlcnR5LlxuICBfc2V0RWxlbWVudDogZnVuY3Rpb24oZWwpIHtcbiAgICB0aGlzLiRlbCA9IGVsIGluc3RhbmNlb2YgJCA/IGVsIDogJChlbCk7XG4gICAgdGhpcy5lbCA9IHRoaXMuJGVsWzBdO1xuICB9LFxuXG4gICAgLy8gU2V0IGNhbGxiYWNrcywgd2hlcmUgYHRoaXMuZXZlbnRzYCBpcyBhIGhhc2ggb2ZcbiAgICAvL1xuICAgIC8vICp7XCJldmVudCBzZWxlY3RvclwiOiBcImNhbGxiYWNrXCJ9KlxuICAgIC8vXG4gICAgLy8gICAgIHtcbiAgICAvLyAgICAgICAnbW91c2Vkb3duIC50aXRsZSc6ICAnZWRpdCcsXG4gICAgLy8gICAgICAgJ2NsaWNrIC5idXR0b24nOiAgICAgJ3NhdmUnLFxuICAgIC8vICAgICAgICdjbGljayAub3Blbic6ICAgICAgIGZ1bmN0aW9uKGUpIHsgLi4uIH1cbiAgICAvLyAgICAgfVxuICAgIC8vXG4gICAgLy8gcGFpcnMuIENhbGxiYWNrcyB3aWxsIGJlIGJvdW5kIHRvIHRoZSB2aWV3LCB3aXRoIGB0aGlzYCBzZXQgcHJvcGVybHkuXG4gICAgLy8gVXNlcyBldmVudCBkZWxlZ2F0aW9uIGZvciBlZmZpY2llbmN5LlxuICAgIC8vIE9taXR0aW5nIHRoZSBzZWxlY3RvciBiaW5kcyB0aGUgZXZlbnQgdG8gYHRoaXMuZWxgLlxuICBkZWxlZ2F0ZUV2ZW50czogZnVuY3Rpb24oZXZlbnRzKSB7XG4gICAgaWYgKCEoZXZlbnRzIHx8IChldmVudHMgPSBfLnJlc3VsdCh0aGlzLCAnZXZlbnRzJykpKSkgcmV0dXJuIHRoaXM7XG4gICAgdGhpcy51bmRlbGVnYXRlRXZlbnRzKCk7XG4gICAgZm9yICh2YXIga2V5IGluIGV2ZW50cykge1xuICAgICAgdmFyIG1ldGhvZCA9IGV2ZW50c1trZXldO1xuICAgICAgaWYgKCFfLmlzRnVuY3Rpb24obWV0aG9kKSkgbWV0aG9kID0gdGhpc1tldmVudHNba2V5XV07XG4gICAgICBpZiAoIW1ldGhvZCkgY29udGludWU7XG4gICAgICB2YXIgbWF0Y2ggPSBrZXkubWF0Y2goZGVsZWdhdGVFdmVudFNwbGl0dGVyKTtcbiAgICAgIHRoaXMuZGVsZWdhdGUobWF0Y2hbMV0sIG1hdGNoWzJdLCBfLmJpbmQobWV0aG9kLCB0aGlzKSk7XG4gICAgfVxuICAgIHJldHVybiB0aGlzO1xuICB9LFxuXG4gICAgLy8gQWRkIGEgc2luZ2xlIGV2ZW50IGxpc3RlbmVyIHRvIHRoZSB2aWV3J3MgZWxlbWVudCAob3IgYSBjaGlsZCBlbGVtZW50XG4gICAgLy8gdXNpbmcgYHNlbGVjdG9yYCkuIFRoaXMgb25seSB3b3JrcyBmb3IgZGVsZWdhdGUtYWJsZSBldmVudHM6IG5vdCBgZm9jdXNgLFxuICAgIC8vIGBibHVyYCwgYW5kIG5vdCBgY2hhbmdlYCwgYHN1Ym1pdGAsIGFuZCBgcmVzZXRgIGluIEludGVybmV0IEV4cGxvcmVyLlxuICBkZWxlZ2F0ZTogZnVuY3Rpb24oZXZlbnROYW1lLCBzZWxlY3RvciwgbGlzdGVuZXIpIHtcbiAgICB0aGlzLiRlbC5vbihldmVudE5hbWUgKyAnLmRlbGVnYXRlRXZlbnRzJyArIHRoaXMuY2lkLCBzZWxlY3RvciwgbGlzdGVuZXIpO1xuICB9LFxuXG4gICAgLy8gQ2xlYXJzIGFsbCBjYWxsYmFja3MgcHJldmlvdXNseSBib3VuZCB0byB0aGUgdmlldyBieSBgZGVsZWdhdGVFdmVudHNgLlxuICAgIC8vIFlvdSB1c3VhbGx5IGRvbid0IG5lZWQgdG8gdXNlIHRoaXMsIGJ1dCBtYXkgd2lzaCB0byBpZiB5b3UgaGF2ZSBtdWx0aXBsZVxuICAgIC8vIEJhY2tib25lIHZpZXdzIGF0dGFjaGVkIHRvIHRoZSBzYW1lIERPTSBlbGVtZW50LlxuICB1bmRlbGVnYXRlRXZlbnRzOiBmdW5jdGlvbigpIHtcbiAgICBpZiAodGhpcy4kZWwpIHRoaXMuJGVsLm9mZignLmRlbGVnYXRlRXZlbnRzJyArIHRoaXMuY2lkKTtcbiAgICByZXR1cm4gdGhpcztcbiAgfSxcblxuICAgIC8vIEEgZmluZXItZ3JhaW5lZCBgdW5kZWxlZ2F0ZUV2ZW50c2AgZm9yIHJlbW92aW5nIGEgc2luZ2xlIGRlbGVnYXRlZCBldmVudC5cbiAgICAvLyBgc2VsZWN0b3JgIGFuZCBgbGlzdGVuZXJgIGFyZSBib3RoIG9wdGlvbmFsLlxuICB1bmRlbGVnYXRlOiBmdW5jdGlvbihldmVudE5hbWUsIHNlbGVjdG9yLCBsaXN0ZW5lcikge1xuICAgIHRoaXMuJGVsLm9mZihldmVudE5hbWUgKyAnLmRlbGVnYXRlRXZlbnRzJyArIHRoaXMuY2lkLCBzZWxlY3RvciwgbGlzdGVuZXIpO1xuICB9LFxuXG4gICAgLy8gUHJvZHVjZXMgYSBET00gZWxlbWVudCB0byBiZSBhc3NpZ25lZCB0byB5b3VyIHZpZXcuIEV4cG9zZWQgZm9yXG4gICAgLy8gc3ViY2xhc3NlcyB1c2luZyBhbiBhbHRlcm5hdGl2ZSBET00gbWFuaXB1bGF0aW9uIEFQSS5cbiAgX2NyZWF0ZUVsZW1lbnQ6IGZ1bmN0aW9uKHRhZ05hbWUpIHtcbiAgICByZXR1cm4gZG9jdW1lbnQuY3JlYXRlRWxlbWVudCh0YWdOYW1lKTtcbiAgfSxcblxuICAgIC8vIEVuc3VyZSB0aGF0IHRoZSBWaWV3IGhhcyBhIERPTSBlbGVtZW50IHRvIHJlbmRlciBpbnRvLlxuICAgIC8vIElmIGB0aGlzLmVsYCBpcyBhIHN0cmluZywgcGFzcyBpdCB0aHJvdWdoIGAkKClgLCB0YWtlIHRoZSBmaXJzdFxuICAgIC8vIG1hdGNoaW5nIGVsZW1lbnQsIGFuZCByZS1hc3NpZ24gaXQgdG8gYGVsYC4gT3RoZXJ3aXNlLCBjcmVhdGVcbiAgICAvLyBhbiBlbGVtZW50IGZyb20gdGhlIGBpZGAsIGBjbGFzc05hbWVgIGFuZCBgdGFnTmFtZWAgcHJvcGVydGllcy5cbiAgX2Vuc3VyZUVsZW1lbnQ6IGZ1bmN0aW9uKCkge1xuICAgIGlmICghdGhpcy5lbCkge1xuICAgICAgdmFyIGF0dHJzID0gXy5leHRlbmQoe30sIF8ucmVzdWx0KHRoaXMsICdhdHRyaWJ1dGVzJykpO1xuICAgICAgaWYgKHRoaXMuaWQpIGF0dHJzLmlkID0gXy5yZXN1bHQodGhpcywgJ2lkJyk7XG4gICAgICBpZiAodGhpcy5jbGFzc05hbWUpIGF0dHJzWydjbGFzcyddID0gXy5yZXN1bHQodGhpcywgJ2NsYXNzTmFtZScpO1xuICAgICAgdGhpcy5zZXRFbGVtZW50KHRoaXMuX2NyZWF0ZUVsZW1lbnQoXy5yZXN1bHQodGhpcywgJ3RhZ05hbWUnKSkpO1xuICAgICAgdGhpcy5fc2V0QXR0cmlidXRlcyhhdHRycyk7XG4gICAgfSBlbHNlIHtcbiAgICAgIHRoaXMuc2V0RWxlbWVudChfLnJlc3VsdCh0aGlzLCAnZWwnKSk7XG4gICAgfVxuICB9LFxuXG4gICAgLy8gU2V0IGF0dHJpYnV0ZXMgZnJvbSBhIGhhc2ggb24gdGhpcyB2aWV3J3MgZWxlbWVudC4gIEV4cG9zZWQgZm9yXG4gICAgLy8gc3ViY2xhc3NlcyB1c2luZyBhbiBhbHRlcm5hdGl2ZSBET00gbWFuaXB1bGF0aW9uIEFQSS5cbiAgX3NldEF0dHJpYnV0ZXM6IGZ1bmN0aW9uKGF0dHJpYnV0ZXMpIHtcbiAgICB0aGlzLiRlbC5hdHRyKGF0dHJpYnV0ZXMpO1xuICB9XG5cbn0pO1xuXG4vLyBzZXR1cCBpbmhlcml0YW5jZVxuVmlldy5leHRlbmQgPSBleHRlbmQ7XG5tb2R1bGUuZXhwb3J0cyA9IFZpZXc7XG4iLCJ2YXIgZXZlbnRzID0gcmVxdWlyZShcImJhY2tib25lLWV2ZW50cy1zdGFuZGFsb25lXCIpO1xuXG5ldmVudHMub25BbGwgPSBmdW5jdGlvbihjYWxsYmFjayxjb250ZXh0KXtcbiAgdGhpcy5vbihcImFsbFwiLCBjYWxsYmFjayxjb250ZXh0KTtcbiAgcmV0dXJuIHRoaXM7XG59O1xuXG4vLyBNaXhpbiB1dGlsaXR5XG5ldmVudHMub2xkTWl4aW4gPSBldmVudHMubWl4aW47XG5ldmVudHMubWl4aW4gPSBmdW5jdGlvbihwcm90bykge1xuICBldmVudHMub2xkTWl4aW4ocHJvdG8pO1xuICAvLyBhZGQgY3VzdG9tIG9uQWxsXG4gIHZhciBleHBvcnRzID0gWydvbkFsbCddO1xuICBmb3IodmFyIGk9MDsgaSA8IGV4cG9ydHMubGVuZ3RoO2krKyl7XG4gICAgdmFyIG5hbWUgPSBleHBvcnRzW2ldO1xuICAgIHByb3RvW25hbWVdID0gdGhpc1tuYW1lXTtcbiAgfVxuICByZXR1cm4gcHJvdG87XG59O1xuXG5tb2R1bGUuZXhwb3J0cyA9IGV2ZW50cztcbiIsIi8vIEdlbmVyYXRlZCBieSBDb2ZmZWVTY3JpcHQgMS44LjBcbnZhciBHZW5lcmljUmVhZGVyLCB4aHI7XG5cbnhociA9IHJlcXVpcmUoJ3hocicpO1xuXG5tb2R1bGUuZXhwb3J0cyA9IEdlbmVyaWNSZWFkZXIgPSAoZnVuY3Rpb24oKSB7XG4gIGZ1bmN0aW9uIEdlbmVyaWNSZWFkZXIoKSB7fVxuXG4gIEdlbmVyaWNSZWFkZXIucmVhZCA9IGZ1bmN0aW9uKHVybCwgY2FsbGJhY2spIHtcbiAgICB2YXIgb25yZXQ7XG4gICAgb25yZXQgPSAoZnVuY3Rpb24oX3RoaXMpIHtcbiAgICAgIHJldHVybiBmdW5jdGlvbihlcnIsIHJlc3BvbnNlLCB0ZXh0KSB7XG4gICAgICAgIHJldHVybiBfdGhpcy5fb25SZXRyaWV2YWwodGV4dCwgY2FsbGJhY2spO1xuICAgICAgfTtcbiAgICB9KSh0aGlzKTtcbiAgICByZXR1cm4geGhyKHVybCwgb25yZXQpO1xuICB9O1xuXG4gIEdlbmVyaWNSZWFkZXIuX29uUmV0cmlldmFsID0gZnVuY3Rpb24odGV4dCwgY2FsbGJhY2spIHtcbiAgICB2YXIgclRleHQ7XG4gICAgclRleHQgPSB0aGlzLnBhcnNlKHRleHQpO1xuICAgIHJldHVybiBjYWxsYmFjayhyVGV4dCk7XG4gIH07XG5cbiAgcmV0dXJuIEdlbmVyaWNSZWFkZXI7XG5cbn0pKCk7XG4iLCIvLyBHZW5lcmF0ZWQgYnkgQ29mZmVlU2NyaXB0IDEuOS4wXG52YXIgR2VuZXJpY1JlYWRlciwgeGhyO1xuXG54aHIgPSByZXF1aXJlKCd4aHInKTtcblxubW9kdWxlLmV4cG9ydHMgPSBHZW5lcmljUmVhZGVyID0gKGZ1bmN0aW9uKCkge1xuICBmdW5jdGlvbiBHZW5lcmljUmVhZGVyKCkge31cblxuICBHZW5lcmljUmVhZGVyLnJlYWQgPSBmdW5jdGlvbih1cmwsIGNhbGxiYWNrKSB7XG4gICAgdmFyIG9ucmV0O1xuICAgIG9ucmV0ID0gKGZ1bmN0aW9uKF90aGlzKSB7XG4gICAgICByZXR1cm4gZnVuY3Rpb24oZXJyLCByZXNwb25zZSwgdGV4dCkge1xuICAgICAgICByZXR1cm4gX3RoaXMuX29uUmV0cmlldmFsKHRleHQsIGNhbGxiYWNrKTtcbiAgICAgIH07XG4gICAgfSkodGhpcyk7XG4gICAgcmV0dXJuIHhocih1cmwsIG9ucmV0KTtcbiAgfTtcblxuICBHZW5lcmljUmVhZGVyLl9vblJldHJpZXZhbCA9IGZ1bmN0aW9uKHRleHQsIGNhbGxiYWNrKSB7XG4gICAgdmFyIHJUZXh0O1xuICAgIHJUZXh0ID0gdGhpcy5wYXJzZSh0ZXh0KTtcbiAgICByZXR1cm4gY2FsbGJhY2soclRleHQpO1xuICB9O1xuXG4gIHJldHVybiBHZW5lcmljUmVhZGVyO1xuXG59KSgpO1xuIiwiLy8gR2VuZXJhdGVkIGJ5IENvZmZlZVNjcmlwdCAxLjkuMFxudmFyIEZhc3RhLCBHZW5lcmljUmVhZGVyLCBzdCxcbiAgX19leHRlbmRzID0gZnVuY3Rpb24oY2hpbGQsIHBhcmVudCkgeyBmb3IgKHZhciBrZXkgaW4gcGFyZW50KSB7IGlmIChfX2hhc1Byb3AuY2FsbChwYXJlbnQsIGtleSkpIGNoaWxkW2tleV0gPSBwYXJlbnRba2V5XTsgfSBmdW5jdGlvbiBjdG9yKCkgeyB0aGlzLmNvbnN0cnVjdG9yID0gY2hpbGQ7IH0gY3Rvci5wcm90b3R5cGUgPSBwYXJlbnQucHJvdG90eXBlOyBjaGlsZC5wcm90b3R5cGUgPSBuZXcgY3RvcigpOyBjaGlsZC5fX3N1cGVyX18gPSBwYXJlbnQucHJvdG90eXBlOyByZXR1cm4gY2hpbGQ7IH0sXG4gIF9faGFzUHJvcCA9IHt9Lmhhc093blByb3BlcnR5O1xuXG5HZW5lcmljUmVhZGVyID0gcmVxdWlyZShcIi4vZ2VuZXJpY19yZWFkZXJcIik7XG5cbnN0ID0gcmVxdWlyZShcIm1zYS1zZXF0b29sc1wiKTtcblxubW9kdWxlLmV4cG9ydHMgPSBGYXN0YSA9IChmdW5jdGlvbihfc3VwZXIpIHtcbiAgX19leHRlbmRzKEZhc3RhLCBfc3VwZXIpO1xuXG4gIGZ1bmN0aW9uIEZhc3RhKCkge1xuICAgIHJldHVybiBGYXN0YS5fX3N1cGVyX18uY29uc3RydWN0b3IuYXBwbHkodGhpcywgYXJndW1lbnRzKTtcbiAgfVxuXG4gIEZhc3RhLnBhcnNlID0gZnVuY3Rpb24odGV4dCkge1xuICAgIHZhciBjdXJyZW50U2VxLCBrZXlzLCBsYWJlbCwgbGluZSwgb2JqLCBzZXFzLCBfaSwgX2xlbjtcbiAgICBzZXFzID0gW107XG4gICAgaWYgKCF0ZXh0IHx8IHRleHQubGVuZ3RoID09PSAwKSB7XG4gICAgICByZXR1cm4gW107XG4gICAgfVxuICAgIGlmIChPYmplY3QucHJvdG90eXBlLnRvU3RyaW5nLmNhbGwodGV4dCkgIT09ICdbb2JqZWN0IEFycmF5XScpIHtcbiAgICAgIHRleHQgPSB0ZXh0LnNwbGl0KFwiXFxuXCIpO1xuICAgIH1cbiAgICBmb3IgKF9pID0gMCwgX2xlbiA9IHRleHQubGVuZ3RoOyBfaSA8IF9sZW47IF9pKyspIHtcbiAgICAgIGxpbmUgPSB0ZXh0W19pXTtcbiAgICAgIGlmIChsaW5lWzBdID09PSBcIj5cIiB8fCBsaW5lWzBdID09PSBcIjtcIikge1xuICAgICAgICBsYWJlbCA9IGxpbmUuc2xpY2UoMSk7XG4gICAgICAgIG9iaiA9IHN0LmdldE1ldGEobGFiZWwpO1xuICAgICAgICBsYWJlbCA9IG9iai5uYW1lO1xuICAgICAgICBjdXJyZW50U2VxID0gbmV3IHN0Lm1vZGVsKFwiXCIsIGxhYmVsLCBzZXFzLmxlbmd0aCk7XG4gICAgICAgIGN1cnJlbnRTZXEuaWRzID0gb2JqLmlkcyB8fCB7fTtcbiAgICAgICAga2V5cyA9IE9iamVjdC5rZXlzKGN1cnJlbnRTZXEuaWRzKTtcbiAgICAgICAgaWYgKGtleXMubGVuZ3RoID4gMCkge1xuICAgICAgICAgIGN1cnJlbnRTZXEuaWQgPSBjdXJyZW50U2VxLmlkc1trZXlzWzBdXTtcbiAgICAgICAgfVxuICAgICAgICBjdXJyZW50U2VxLmRldGFpbHMgPSBvYmouZGV0YWlscyB8fCB7fTtcbiAgICAgICAgc2Vxcy5wdXNoKGN1cnJlbnRTZXEpO1xuICAgICAgfSBlbHNlIHtcbiAgICAgICAgY3VycmVudFNlcS5zZXEgKz0gbGluZTtcbiAgICAgIH1cbiAgICB9XG4gICAgcmV0dXJuIHNlcXM7XG4gIH07XG5cbiAgRmFzdGEud3JpdGUgPSBmdW5jdGlvbihzZXFzLCBhY2Nlc3MpIHtcbiAgICB2YXIgc2VxLCB0ZXh0LCBfaSwgX2xlbjtcbiAgICB0ZXh0ID0gXCJcIjtcbiAgICBmb3IgKF9pID0gMCwgX2xlbiA9IHNlcXMubGVuZ3RoOyBfaSA8IF9sZW47IF9pKyspIHtcbiAgICAgIHNlcSA9IHNlcXNbX2ldO1xuICAgICAgaWYgKGFjY2VzcyAhPSBudWxsKSB7XG4gICAgICAgIHNlcSA9IGFjY2VzcyhzZXEpO1xuICAgICAgfVxuICAgICAgdGV4dCArPSBcIj5cIiArIHNlcS5uYW1lICsgXCJcXG5cIjtcbiAgICAgIHRleHQgKz0gKHN0LnNwbGl0TkNoYXJzKHNlcS5zZXEsIDgwKSkuam9pbihcIlxcblwiKTtcbiAgICAgIHRleHQgKz0gXCJcXG5cIjtcbiAgICB9XG4gICAgcmV0dXJuIHRleHQ7XG4gIH07XG5cbiAgcmV0dXJuIEZhc3RhO1xuXG59KShHZW5lcmljUmVhZGVyKTtcbiIsInZhciBqYWx2aWV3ID0ge307XG5tb2R1bGUuZXhwb3J0cyA9IGphbHZpZXc7XG52YXIgdXRpbHMgPSByZXF1aXJlKFwiLi91dGlsc1wiKTtcblxuLy8gaHR0cDovL3d3dy5qYWx2aWV3Lm9yZy9oZWxwL2h0bWwvZmVhdHVyZXMvZmVhdHVyZXNGb3JtYXQuaHRtbFxuamFsdmlldy5yZWFkSGVhZGVyID0gZnVuY3Rpb24obGluZXMpIHtcbiAgdmFyIGNvbG9ycyA9IHt9O1xuICB2YXIgaSA9IDA7XG4gIHZhciBmZWF0dXJlcyA9IFtdO1xuICB2YXIgY3VycmVudEdyb3VwO1xuXG4gIGZvciAoOyBpIDwgbGluZXMubGVuZ3RoOyBpKyspIHtcbiAgICB2YXIgbGluZSA9IGxpbmVzW2ldO1xuICAgIGlmIChsaW5lLmluZGV4T2YoXCIjXCIpID49IDApIHtcbiAgICAgIC8vIG5vIGNvbW1lbnRzIGFsbG93ZWQgLT4gc3RvcFxuICAgICAgYnJlYWs7XG4gICAgfVxuICAgIHZhciBjb2x1bW5zID0gbGluZS5zcGxpdCgvXFx0Lyk7XG4gICAgdmFyIGZpcnN0Q2VsbCA9IGNvbHVtbnNbMF0udHJpbSgpO1xuICAgIGlmIChmaXJzdENlbGwgPT09IFwiR0ZGXCIpIHtcbiAgICAgIC8vIHRoaXMgc3ltYm9saXplcyB0aGUgZW5kIFxuICAgICAgYnJlYWs7XG4gICAgfSBlbHNlIGlmIChjb2x1bW5zLmxlbmd0aCA9PT0gMikge1xuICAgICAgaWYgKGZpcnN0Q2VsbCA9PT0gXCJzdGFydGdyb3VwXCIpIHtcbiAgICAgICAgY3VycmVudEdyb3VwID0gY29sdW1uc1sxXS50cmltKCk7XG4gICAgICB9IGVsc2UgaWYgKGZpcnN0Q2VsbCA9PT0gXCJlbmRncm91cFwiKSB7XG4gICAgICAgIGN1cnJlbnRHcm91cCA9IFwiXCI7XG4gICAgICAgIGNvbnRpbnVlO1xuICAgICAgfSBlbHNlIHtcbiAgICAgICAgLy8gcGFyc2UgY29sb3JcbiAgICAgICAgY29sb3JzW2NvbHVtbnNbMF1dID0gamFsdmlldy5wYXJzZUNvbG9yKGNvbHVtbnNbMV0pO1xuICAgICAgfVxuICAgIH0gZWxzZSBpZihjb2x1bW5zLmxlbmd0aCA+PSA1KXtcbiAgICAgIHZhciBhcnIgPSBqYWx2aWV3LnBhcnNlTGluZShjb2x1bW5zKTtcbiAgICAgIGlmIChjdXJyZW50R3JvdXApIHtcbiAgICAgICAgYXJyLmF0dHJpYnV0ZXMuUGFyZW50ID0gY3VycmVudEdyb3VwO1xuICAgICAgfVxuICAgICAgZmVhdHVyZXMucHVzaChhcnIpO1xuICAgIH1cbiAgfVxuXG4gIHJldHVybiB7XG4gICAgb2Zmc2V0OiBpLFxuICAgIGNvbG9yczogY29sb3JzLFxuICAgIGZlYXR1cmVzOiBmZWF0dXJlc1xuICB9O1xufTtcblxuamFsdmlldy5wYXJzZUNvbG9yID0gZnVuY3Rpb24oY2VsbCkge1xuICBpZiAoY2VsbC5pbmRleE9mKFwiLFwiKSA+PSAwKSB7XG4gICAgLy8gcmdiIGNvZGVcbiAgICByZXR1cm4gdXRpbHMucmdiVG9IZXgoY2VsbC5zcGxpdChcIixcIikubWFwKGZ1bmN0aW9uKGVsKSB7XG4gICAgICByZXR1cm4gcGFyc2VJbnQoZWwpO1xuICAgIH0pKTtcbiAgfVxuICAvLyBjb2xvciBuYW1lcyB3aXRoIGxlbmd0aCA9PSA2XG4gIC8vICdiaXNxdWUsbWFyb29uLG9yYW5nZSxvcmNoaWQscHVycGxlLHNhbG1vbixzaWVubmEsdG9tYXRvLHZpb2xldCx5ZWxsb3cnXG4gIGlmIChjZWxsLmxlbmd0aCA9PT0gNiAmJiBwYXJzZUludChjZWxsLmNoYXJBdCgwKSwgMTYpIDw9IDE2ICYmIGNlbGwgIT09ICdiaXNxdWUnKSB7XG4gICAgLy8gaGV4IGNvZGVcbiAgICByZXR1cm4gXCIjXCIgKyBjZWxsO1xuICB9XG4gIC8vIGNvbG9yIG5hbWVcbiAgcmV0dXJuIGNlbGw7XG59O1xuXG5cbmphbHZpZXcucGFyc2VMaW5lID0gZnVuY3Rpb24oY29sdW1ucykge1xuICB2YXIgb2JqID0ge1xuICAgIGF0dHJpYnV0ZXM6IHt9XG4gIH07XG4gIG9iai5hdHRyaWJ1dGVzLk5hbWUgPSBjb2x1bW5zWzBdLnRyaW0oKTsgLy9kZXNjXG4gIG9iai5zZXFuYW1lID0gY29sdW1uc1sxXS50cmltKCk7IC8vIGlkXG4gIG9iai5zdGFydCA9IHBhcnNlSW50KGNvbHVtbnNbM10pO1xuICBvYmouZW5kID0gcGFyc2VJbnQoY29sdW1uc1s0XSk7XG4gIG9iai5mZWF0dXJlID0gY29sdW1uc1s1XS50cmltKCk7XG4gIGlmIChvYmouc2VxbmFtZSA9PT0gXCJJRF9OT1RfU1BFQ0lGSUVEXCIpIHtcbiAgICBvYmouc2VxbmFtZSA9IGNvbHVtbnNbMl0udHJpbSgpOyAvLyBhbHRlcm5hdGl2ZSBpZFxuICB9XG4gIHJldHVybiBvYmo7XG59O1xuIiwidmFyIHV0aWxzID0ge307XG5tb2R1bGUuZXhwb3J0cyA9IHV0aWxzO1xuXG51dGlscy5leHRyYWN0S2V5cyA9IGZ1bmN0aW9uIGV4dHJhY3RLZXlzKGF0dHIpIHtcbiAgLy8gZXh0cmFjdCBrZXktdmFsdWUgZGVmaW5pdGlvbnNcbiAgdmFyIGF0dHJpYnV0ZXMgPSB7fTtcbiAgdmFyIGF0dHJBcnIgPSBhdHRyLnNwbGl0KFwiO1wiKTtcbiAgYXR0ckFyci5mb3JFYWNoKGZ1bmN0aW9uKGVsKSB7XG4gICAgdmFyIGtleUFyciwga2V5LCB2YWw7XG4gICAgaWYgKGVsLmluZGV4T2YoXCI9XCIpID4gMCkge1xuICAgICAga2V5QXJyID0gZWwuc3BsaXQoXCI9XCIpO1xuICAgICAga2V5ID0ga2V5QXJyWzBdO1xuICAgICAgdmFsID0ga2V5QXJyWzFdO1xuICAgICAgYXR0cmlidXRlc1trZXldID0gdmFsO1xuICAgIH0gZWxzZSBpZiAoZWwuaW5kZXhPZihcIiBcIikgPiAwKSB7XG4gICAgICBrZXlBcnIgPSBlbC5zcGxpdChcIiBcIik7XG4gICAgICBrZXkgPSBrZXlBcnJbMF07XG4gICAgICB2YWwgPSBrZXlBcnJbMV0ucmVwbGFjZSgvXCIvZywgJycpO1xuICAgICAgYXR0cmlidXRlc1trZXldID0gdmFsO1xuICAgIH1cbiAgfSk7XG4gIHJldHVybiBhdHRyaWJ1dGVzO1xufTtcblxuZnVuY3Rpb24gY29tcG9uZW50VG9IZXgoYykge1xuICB2YXIgaGV4ID0gYy50b1N0cmluZygxNik7XG4gIHJldHVybiBoZXgubGVuZ3RoID09PSAxID8gXCIwXCIgKyBoZXggOiBoZXg7XG59XG5cbnV0aWxzLnJnYlRvSGV4ID0gZnVuY3Rpb24ociwgZywgYikge1xuICBpZihyLmxlbmd0aCA9PT0gMyl7XG4gICAgcmV0dXJuIHV0aWxzLnJnYlRvSGV4KHJbMF0sclsxXSwgclsyXSk7XG4gIH1cbiAgcmV0dXJuIFwiI1wiICsgY29tcG9uZW50VG9IZXgocikgKyBjb21wb25lbnRUb0hleChnKSArIGNvbXBvbmVudFRvSGV4KGIpO1xufTtcbiIsIm1vZHVsZS5leHBvcnRzLnNlcSA9IHJlcXVpcmUoXCIuL3NlcVwiKTtcbiIsIm1vZHVsZS5leHBvcnRzID0gZnVuY3Rpb24oc2VxLCBuYW1lLCBpZCkge1xuICAgIHRoaXMuc2VxID0gc2VxO1xuICAgIHRoaXMubmFtZSA9IG5hbWU7XG4gICAgdGhpcy5pZCA9IGlkO1xuICAgIHRoaXMubWV0YSA9IHt9O1xufTtcbiIsIi8vIHRoaXMgaXMgYSBsaWdodC13ZWlnaHQgYnVpbGQgd2l0aG91dCB0aGUgc2Nyb2xsaW5nIG1vZHVsZVxubW9kdWxlLmV4cG9ydHMgPSByZXF1aXJlKFwiLi9zcmMvaW5kZXguanNcIik7XG4iLCJtb2R1bGUuZXhwb3J0cyA9IHtcbiAgICByZW5kZXJfeF9heGlzX2xhYmVsOiBmdW5jdGlvbiAoKSB7XG4gICAgICB2YXIgbGFiZWwgPSBcIk1vZGVsIFBvc2l0aW9uXCI7XG4gICAgICBpZiAodGhpcy5kaXNwbGF5X2FsaV9tYXApIHtcbiAgICAgICAgbGFiZWwgPSBcIkFsaWdubWVudCBDb2x1bW5cIjtcbiAgICAgIH1cbiAgICAgIHRoaXMuY2FsbGVkX29uLmZpbmQoJy5sb2dvX3hheGlzJykucmVtb3ZlKCk7XG4gICAgICB0aGlzLmNhbGxlZF9vbi5wcmVwZW5kKCc8ZGl2IGNsYXNzPVwibG9nb194YXhpc1wiIGNsYXNzPVwiY2VudGVyZWRcIiBzdHlsZT1cIm1hcmdpbi1sZWZ0OjQwcHhcIj48cCBjbGFzcz1cInhheGlzX3RleHRcIiBzdHlsZT1cIndpZHRoOjEwZW07bWFyZ2luOjFlbSBhdXRvXCI+JyArIGxhYmVsICsgJzwvcD48L2Rpdj4nKTtcblxuICAgIH0sXG4gICAgcmVuZGVyX3lfYXhpc19sYWJlbDogZnVuY3Rpb24gKCkge1xuICAgICAgLy9hdHRhY2ggYSBjYW52YXMgZm9yIHRoZSB5LWF4aXNcbiAgICAgIHRoaXMuZG9tX2VsZW1lbnQucGFyZW50KCkuYmVmb3JlKCc8Y2FudmFzIGNsYXNzPVwibG9nb195YXhpc1wiIGhlaWdodD1cIicrdGhpcy5vcHRpb25zLmhlaWdodCsnXCIgd2lkdGg9XCI1NVwiPjwvY2FudmFzPicpO1xuICAgICAgdmFyIGNhbnZhcyA9IHRoaXMuY2FsbGVkX29uLmZpbmQoJy5sb2dvX3lheGlzJyksXG4gICAgICB0b3BfcGl4X2hlaWdodCA9IDAsXG4gICAgICBib3R0b21fcGl4X2hlaWdodCA9IDAsXG4gICAgICB0b3BfaGVpZ2h0ID0gTWF0aC5hYnModGhpcy5kYXRhLm1heF9oZWlnaHQpLFxuICAgICAgYm90dG9tX2hlaWdodCA9IChpc05hTih0aGlzLmRhdGEubWluX2hlaWdodF9vYnMpKSA/IDAgOiBwYXJzZUludCh0aGlzLmRhdGEubWluX2hlaWdodF9vYnMsIDEwKSxcbiAgICAgIGNvbnRleHQgPSBudWxsLFxuICAgICAgYXhpc19sYWJlbCA9IFwiSW5mb3JtYXRpb24gQ29udGVudCAoYml0cylcIjtcblxuICAgICAgY29udGV4dCA9IGNhbnZhc1swXS5nZXRDb250ZXh0KCcyZCcpO1xuICAgICAgLy9kcmF3IG1pbi9tYXggdGljayBtYXJrc1xuICAgICAgY29udGV4dC5iZWdpblBhdGgoKTtcbiAgICAgIGNvbnRleHQubW92ZVRvKDU1LCAxKTtcbiAgICAgIGNvbnRleHQubGluZVRvKDQwLCAxKTtcblxuICAgICAgY29udGV4dC5tb3ZlVG8oNTUsIHRoaXMuaW5mb19jb250ZW50X2hlaWdodCk7XG4gICAgICBjb250ZXh0LmxpbmVUbyg0MCwgdGhpcy5pbmZvX2NvbnRlbnRfaGVpZ2h0KTtcblxuXG4gICAgICBjb250ZXh0Lm1vdmVUbyg1NSwgKHRoaXMuaW5mb19jb250ZW50X2hlaWdodCAvIDIpKTtcbiAgICAgIGNvbnRleHQubGluZVRvKDQwLCAodGhpcy5pbmZvX2NvbnRlbnRfaGVpZ2h0IC8gMikpO1xuICAgICAgY29udGV4dC5saW5lV2lkdGggPSAxO1xuICAgICAgY29udGV4dC5zdHJva2VTdHlsZSA9IFwiIzY2NjY2NlwiO1xuICAgICAgY29udGV4dC5zdHJva2UoKTtcblxuICAgICAgLy9kcmF3IHRoZSBsYWJlbCB0ZXh0XG4gICAgICBjb250ZXh0LmZpbGxTdHlsZSA9IFwiIzY2NjY2NlwiO1xuICAgICAgY29udGV4dC50ZXh0QWxpZ24gPSBcInJpZ2h0XCI7XG4gICAgICBjb250ZXh0LmZvbnQgPSBcImJvbGQgMTBweCBBcmlhbFwiO1xuXG4gICAgICAvLyBkcmF3IHRoZSBtYXggbGFiZWxcbiAgICAgIGNvbnRleHQudGV4dEJhc2VsaW5lID0gXCJ0b3BcIjtcbiAgICAgIGNvbnRleHQuZmlsbFRleHQocGFyc2VGbG9hdCh0aGlzLmRhdGEubWF4X2hlaWdodCkudG9GaXhlZCgxKSwgMzgsIDApO1xuICAgICAgY29udGV4dC50ZXh0QmFzZWxpbmUgPSBcIm1pZGRsZVwiO1xuXG4gICAgICAvLyBkcmF3IHRoZSBtaWRwb2ludCBsYWJlbHNcbiAgICAgIGNvbnRleHQuZmlsbFRleHQocGFyc2VGbG9hdCh0aGlzLmRhdGEubWF4X2hlaWdodCAvIDIpLnRvRml4ZWQoMSksIDM4LCAodGhpcy5pbmZvX2NvbnRlbnRfaGVpZ2h0IC8gMikpO1xuICAgICAgLy8gZHJhdyB0aGUgbWluIGxhYmVsXG4gICAgICBjb250ZXh0LmZpbGxUZXh0KCcwJywgMzgsIHRoaXMuaW5mb19jb250ZW50X2hlaWdodCk7XG5cbiAgICAgIC8vIGRyYXcgdGhlIGF4aXMgbGFiZWxcbiAgICAgIGlmICh0aGlzLmRhdGEuaGVpZ2h0X2NhbGMgPT09ICdzY29yZScpIHtcbiAgICAgICAgYXhpc19sYWJlbCA9IFwiU2NvcmUgKGJpdHMpXCI7XG4gICAgICB9XG5cbiAgICAgIGNvbnRleHQuc2F2ZSgpO1xuICAgICAgY29udGV4dC50cmFuc2xhdGUoNSwgdGhpcy5oZWlnaHQgLyAyIC0gMjApO1xuICAgICAgY29udGV4dC5yb3RhdGUoLU1hdGguUEkgLyAyKTtcbiAgICAgIGNvbnRleHQudGV4dEFsaWduID0gXCJjZW50ZXJcIjtcbiAgICAgIGNvbnRleHQuZm9udCA9IFwibm9ybWFsIDEycHggQXJpYWxcIjtcbiAgICAgIGNvbnRleHQuZmlsbFRleHQoYXhpc19sYWJlbCwgMSwgMCk7XG4gICAgICBjb250ZXh0LnJlc3RvcmUoKTtcblxuICAgICAgLy8gZHJhdyB0aGUgaW5zZXJ0IHJvdyBsYWJlbHNcbiAgICAgIGNvbnRleHQuZmlsbFRleHQoJ29jY3VwYW5jeScsIDU1LCB0aGlzLmluZm9fY29udGVudF9oZWlnaHQgKyA3KTtcbiAgICAgIGlmICh0aGlzLnNob3dfaW5zZXJ0cykge1xuICAgICAgICBjb250ZXh0LmZpbGxUZXh0KCdpbnMuIHByb2IuJywgNTAsIDI4MCk7XG4gICAgICAgIGNvbnRleHQuZmlsbFRleHQoJ2lucy4gbGVuLicsIDQ2LCAyOTYpO1xuICAgICAgfVxuICAgIH1cbn07IFxuIiwidmFyIGNhbnZfc3VwcG9ydCA9IG51bGw7XG5cbm1vZHVsZS5leHBvcnRzID0gZnVuY3Rpb24gY2FudmFzU3VwcG9ydCgpIHtcbiAgaWYgKCFjYW52X3N1cHBvcnQpIHtcbiAgICB2YXIgZWxlbSA9IGRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoJ2NhbnZhcycpO1xuICAgIGNhbnZfc3VwcG9ydCA9ICEhKGVsZW0uZ2V0Q29udGV4dCAmJiBlbGVtLmdldENvbnRleHQoJzJkJykpO1xuICB9XG4gIHJldHVybiBjYW52X3N1cHBvcnQ7XG59XG4iLCJtb2R1bGUuZXhwb3J0cyA9IHtcbiAgJ0EnOiAnI0ZGOTk2NicsXG4gICdDJzogJyMwMDk5OTknLFxuICAnRCc6ICcjRkYwMDAwJyxcbiAgJ0UnOiAnI0NDMDAzMycsXG4gICdGJzogJyMwMEZGMDAnLFxuICAnRyc6ICcjZjJmMjBjJyxcbiAgJ0gnOiAnIzY2MDAzMycsXG4gICdJJzogJyNDQzk5MzMnLFxuICAnSyc6ICcjNjYzMzAwJyxcbiAgJ0wnOiAnI0ZGOTkzMycsXG4gICdNJzogJyNDQzk5Q0MnLFxuICAnTic6ICcjMzM2NjY2JyxcbiAgJ1AnOiAnIzAwOTlGRicsXG4gICdRJzogJyM2NjY2Q0MnLFxuICAnUic6ICcjOTkwMDAwJyxcbiAgJ1MnOiAnIzAwMDBGRicsXG4gICdUJzogJyMwMEZGRkYnLFxuICAnVic6ICcjRkZDQzMzJyxcbiAgJ1cnOiAnIzY2Q0M2NicsXG4gICdZJzogJyMwMDY2MDAnXG59O1xuIiwibW9kdWxlLmV4cG9ydHMgPSB7XG4gICAgJ0EnOiAnI2NiZjc1MScsXG4gICAgJ0MnOiAnIzVlYzBjYycsXG4gICAgJ0cnOiAnI2ZmZGY1OScsXG4gICAgJ1QnOiAnI2I1MWYxNicsXG4gICAgJ1UnOiAnI2I1MWYxNidcbiAgfTtcbiIsInZhciAkID0gcmVxdWlyZShcImpib25lXCIpO1xuXG5tb2R1bGUuZXhwb3J0cyA9IGZ1bmN0aW9uKCRlbCxsb2dvLCBsb2dvX2dyYXBoaWMpe1xuXG4gICRlbC5maW5kKCcubG9nb19zZXR0aW5nc19zd2l0Y2gsIC5sb2dvX3NldHRpbmdzIC5jbG9zZScpLm9uKCdjbGljaycsIGZ1bmN0aW9uIChlKSB7XG4gICAgZS5wcmV2ZW50RGVmYXVsdCgpO1xuICAgICQoJy5sb2dvX3NldHRpbmdzJykudG9nZ2xlKCk7XG4gIH0pO1xuXG4gICRlbC5maW5kKCcubG9nb19yZXNldCcpLm9uKCdjbGljaycsIGZ1bmN0aW9uIChlKSB7XG4gICAgZS5wcmV2ZW50RGVmYXVsdCgpO1xuICAgIGxvZ28uY2hhbmdlWm9vbSh7J3RhcmdldCc6IGxvZ28uZGVmYXVsdF96b29tfSk7XG4gIH0pO1xuXG4gICRlbC5maW5kKCcubG9nb19jaGFuZ2UnKS5vbignY2xpY2snLCBmdW5jdGlvbiAoZSkge1xuICAgIGUucHJldmVudERlZmF1bHQoKTtcbiAgfSk7XG5cbiAgJGVsLmZpbmQoJy5sb2dvX3pvb21pbicpLm9uKCdjbGljaycsIGZ1bmN0aW9uIChlKSB7XG4gICAgZS5wcmV2ZW50RGVmYXVsdCgpO1xuICAgIGxvZ28uY2hhbmdlWm9vbSh7J2Rpc3RhbmNlJzogMC4xLCAnZGlyZWN0aW9uJzogJysnfSk7XG4gIH0pO1xuXG4gICRlbC5maW5kKCcubG9nb196b29tb3V0Jykub24oJ2NsaWNrJywgZnVuY3Rpb24gKGUpIHtcbiAgICBlLnByZXZlbnREZWZhdWx0KCk7XG4gICAgbG9nby5jaGFuZ2Vab29tKHsnZGlzdGFuY2UnOiAwLjEsICdkaXJlY3Rpb24nOiAnLSd9KTtcbiAgfSk7XG5cbiAgJGVsLmZpbmQoJy5sb2dvX3NjYWxlJykub24oJ2NoYW5nZScsIGZ1bmN0aW9uIChlKSB7XG4gICAgbG9nby50b2dnbGVTY2FsZSh0aGlzLnZhbHVlKTtcbiAgfSk7XG5cbiAgJGVsLmZpbmQoJy5sb2dvX2NvbG9yJykub24oJ2NoYW5nZScsIGZ1bmN0aW9uIChlKSB7XG4gICAgbG9nby50b2dnbGVDb2xvcnNjaGVtZSh0aGlzLnZhbHVlKTtcbiAgfSk7XG5cbiAgJGVsLmZpbmQoJy5sb2dvX2FsaV9tYXAnKS5vbignY2hhbmdlJywgZnVuY3Rpb24gKGUpIHtcbiAgICBsb2dvLnRvZ2dsZUFsaU1hcCh0aGlzLnZhbHVlKTtcbiAgfSk7XG5cbiAgJGVsLmZpbmQoJy5sb2dvX3Bvc2l0aW9uJykub24oJ2NoYW5nZScsIGZ1bmN0aW9uICgpIHtcbiAgICBpZiAoIXRoaXMudmFsdWUubWF0Y2goL15cXGQrJC9tKSkge1xuICAgICAgcmV0dXJuO1xuICAgIH1cbiAgICBsb2dvLnNjcm9sbFRvQ29sdW1uKHRoaXMudmFsdWUsIDEpO1xuICB9KTtcblxuICBsb2dvX2dyYXBoaWMub24oJ2RibGNsaWNrJywgZnVuY3Rpb24gKGUpIHtcbiAgICAvLyBuZWVkIHRvIGdldCBjb29yZGluYXRlcyBvZiBtb3VzZSBjbGlja1xuICAgIGNvbnNvbGUubG9nKFwiZGJsY2xpY2tcIiwgbG9nbyk7XG5cbiAgICBvZmZzZXQgPSBsb2dvLmxvZ29fZ3JhcGhpYy5vZmZzZXQoKSxcbiAgICB4ID0gcGFyc2VJbnQoKGUucGFnZVggLSBvZmZzZXQubGVmdCksIDEwKSxcblxuICAgIC8vIGdldCBtb3VzZSBwb3NpdGlvbiBpbiB0aGUgd2luZG93XG4gICAgd2luZG93X3Bvc2l0aW9uID0gZS5wYWdlWCAtICRlbC5wYXJlbnQoKS5vZmZzZXQoKS5sZWZ0LFxuXG4gICAgLy8gZ2V0IGNvbHVtbiBudW1iZXJcbiAgICBjb2wgPSBsb2dvLmNvbHVtbkZyb21Db29yZGluYXRlcyh4KSxcblxuICAgIGNvbnNvbGUubG9nKFwiY29sXCIsIGNvbCk7XG5cbiAgICAvLyBjaG9vc2UgbmV3IHpvb20gbGV2ZWwgYW5kIHpvb20gaW4uXG4gICAgY3VycmVudCA9IGxvZ28uem9vbTtcblxuICAgIGlmIChjdXJyZW50IDwgMSkge1xuICAgICAgbG9nby5jaGFuZ2Vab29tKHsndGFyZ2V0JzogMSwgb2Zmc2V0OiB3aW5kb3dfcG9zaXRpb24sIGNvbHVtbjogY29sfSk7XG4gICAgfSBlbHNlIHtcbiAgICAgIGxvZ28uY2hhbmdlWm9vbSh7J3RhcmdldCc6IDAuMywgb2Zmc2V0OiB3aW5kb3dfcG9zaXRpb24sIGNvbHVtbjogY29sfSk7XG4gICAgfVxuXG4gICAgcmV0dXJuO1xuICB9KTtcblxuICAkKGRvY3VtZW50KS5vbigkZWwuYXR0cignaWQnKSArIFwiLnNjcm9sbGVkVG9cIiwgZnVuY3Rpb24gKGUsIGxlZnQsIHRvcCwgem9vbSkge1xuICAgIGxvZ28ucmVuZGVyKHt0YXJnZXQ6IGxlZnR9KTtcbiAgfSk7XG5cbiAgJChkb2N1bWVudCkub24oJ2tleWRvd24nLCBmdW5jdGlvbiAoZSkge1xuICAgIGlmICghZS5jdHJsS2V5KSB7XG4gICAgICBpZiAoZS53aGljaCA9PT0gNjEgfHwgZS53aGljaCA9PT0gMTA3KSB7XG4gICAgICAgIHpvb20gKz0gMC4xO1xuICAgICAgICBsb2dvLmNoYW5nZVpvb20oeydkaXN0YW5jZSc6IDAuMSwgJ2RpcmVjdGlvbic6ICcrJ30pO1xuICAgICAgfVxuICAgICAgaWYgKGUud2hpY2ggPT09IDEwOSB8fCBlLndoaWNoID09PSAwKSB7XG4gICAgICAgIHpvb20gPSB6b29tIC0gMC4xO1xuICAgICAgICBsb2dvLmNoYW5nZVpvb20oeydkaXN0YW5jZSc6IDAuMSwgJ2RpcmVjdGlvbic6ICctJ30pO1xuICAgICAgfVxuICAgIH1cbiAgfSk7XG59XG4iLCJfID0gcmVxdWlyZShcInVuZGVyc2NvcmVcIik7XG5cbi8vdmFyIENvbnNlbnN1c0NvbG9ycyA9IHJlcXVpcmUoXCIuL2NvbnNlbnN1c0NvbG9ycy5qc1wiKTtcbnZhciBjYW52YXNTdXBwb3J0ID0gcmVxdWlyZShcIi4vY2FudmFzU3VwcG9ydC5qc1wiKTtcbnZhciByZW5kZXIgPSByZXF1aXJlKFwiLi9yZW5kZXIvcmVuZGVyLmpzXCIpO1xudmFyIExldHRlciA9IHJlcXVpcmUoXCIuL21vZGVsL2xldHRlci5qc1wiKTtcbnZhciB2aWV3ID0gcmVxdWlyZShcImJhY2tib25lLXZpZXdqXCIpO1xudmFyIGF4aXMgPSByZXF1aXJlKFwiLi9heGlzXCIpO1xudmFyIGV2ZW50TGlzdGVuZXIgPSByZXF1aXJlKFwiLi9ldmVudExpc3RlbmVyLmpzXCIpO1xudmFyIHNldHRpbmdzID0gcmVxdWlyZShcIi4vaW5mby9zZXR0aW5ncy5qc1wiKTtcblxudmFyIGpib25lID0gcmVxdWlyZShcImpib25lXCIpO1xuXG5tb2R1bGUuZXhwb3J0cyA9IHZpZXcuZXh0ZW5kKHtcblxuICBvcHRpb25zOiB7XG4gICAgeGF4aXM6IHRydWUsXG4gICAgeWF4aXM6IHRydWUsXG4gICAgaGVpZ2h0OiAzMDAsXG4gICAgY29sdW1uX3dpZHRoOiAzNCxcbiAgICBkZWJ1ZzogdHJ1ZSxcbiAgICBzY2FsZV9oZWlnaHRfZW5hYmxlZDogdHJ1ZSxcbiAgICBzY2FsZWRfbWF4OiB0cnVlLFxuICAgIHpvb21fYnV0dG9uczogdHJ1ZSxcbiAgICBjb2xvcnNjaGVtZTogJ2RlZmF1bHQnLFxuICAgIGRhdGE6IHVuZGVmaW5lZCxcbiAgICBzdGFydDogMSxcbiAgICBlbmQ6IHVuZGVmaW5lZCxcbiAgICB6b29tOiAwLjQsXG4gICAgY29sb3JzOiB1bmRlZmluZWQsXG4gICAgZGl2aWRlcjogZmFsc2UsXG4gICAgc2hvd19wcm9iczogZmFsc2UsXG4gICAgZGl2aWRlcl9zdGVwOiA1LFxuICAgIHNob3dfZGl2aWRlcjogZmFsc2UsXG4gICAgYm9yZGVyOiBmYWxzZSxcbiAgICBzZXR0aW5nczogZmFsc2UsXG4gICAgc2Nyb2xsZXI6IHRydWUsXG4gICAgcG9zaXRpb25NYXJrZXI6IHRydWVcbiAgfSxcblxuICBsb2FkRGVmYXVsdDogZnVuY3Rpb24ob3B0aW9ucyl7XG4gICAgdGhpcy5kYXRhID0gb3B0aW9ucy5kYXRhO1xuXG4gICAgLy8gbmV2ZXIgc2hvdyB0aGUgYWxpZ25tZW50IGNvb3JkaW5hdGVzIGJ5IGRlZmF1bHQgYXMgdGhhdCB3b3VsZCBnZXRcbiAgICAvLyByZWFsbHkgY29uZnVzaW5nLlxuICAgIHRoaXMuZGlzcGxheV9hbGlfbWFwID0gMDtcblxuICAgIHRoaXMuYWxwaGFiZXQgPSBvcHRpb25zLmRhdGEuYWxwaGFiZXQgfHwgJ2RuYSc7XG5cbiAgICB0aGlzLnN0YXJ0ID0gb3B0aW9ucy5zdGFydDtcbiAgICAvL3RoaXMuZW5kID0gb3B0aW9ucy5lbmQgfHwgdGhpcy5kYXRhLmhlaWdodEFyci5sZW5ndGg7XG4gICAgdGhpcy56b29tID0gcGFyc2VGbG9hdChvcHRpb25zLnpvb20pIHx8IDAuNDtcbiAgICB0aGlzLmRlZmF1bHRfem9vbSA9IHRoaXMuem9vbTtcblxuICAgIHRoaXMuY29sdW1uX3dpZHRoID0gb3B0aW9ucy5jb2x1bW5fd2lkdGg7XG4gICAgdGhpcy5oZWlnaHQgPSBvcHRpb25zLmhlaWdodDtcbiAgICB0aGlzLmNhbnZhc193aWR0aCA9IDUwMDA7XG4gICAgdGhpcy5zY2FsZV9oZWlnaHRfZW5hYmxlZCA9IG9wdGlvbnMuc2NhbGVfaGVpZ2h0X2VuYWJsZWQ7XG5cbiAgICAvLyB0aGlzIG5lZWRzIHRvIGJlIHNldCB0byBudWxsIGhlcmUgc28gdGhhdCB3ZSBjYW4gaW5pdGlhbGlzZSBpdCBhZnRlclxuICAgIC8vIHRoZSByZW5kZXIgZnVuY3Rpb24gaGFzIGZpcmVkIGFuZCB0aGUgd2lkdGggZGV0ZXJtaW5lZC5cbiAgICB0aGlzLnNjcm9sbG1lID0gbnVsbDtcblxuICAgIHRoaXMucHJldmlvdXNfdGFyZ2V0ID0gMDtcbiAgICAvLyBrZWVwcyB0cmFjayBvZiB3aGljaCBjYW52YXMgZWxlbWVudHMgaGF2ZSBiZWVuIGRyYXduIGFuZCB3aGljaCBvbmVzIGhhdmVuJ3QuXG4gICAgdGhpcy5yZW5kZXJlZCA9IFtdO1xuICAgIHRoaXMucHJldmlvdXNfem9vbSA9IDA7XG5cbiAgICBpZih0aGlzLmRhdGEubWF4X2hlaWdodCA9PSB1bmRlZmluZWQpe1xuICAgICAgdGhpcy5kYXRhLm1heF9oZWlnaHQgPSB0aGlzLmNhbGNNYXhIZWlnaHQodGhpcy5kYXRhLmhlaWdodEFycik7IFxuICAgIH1cblxuICAgIC8vIG9ubHkgc2hvdyBpbnNlcnQgd2hlbiB3ZSBhY3R1YWxseSBoYXZlIHRoZSBkYXRhXG4gICAgaWYoIXRoaXMuZGF0YS5pbnNlcnRfcHJvYnMgfHwgIXRoaXMuZGF0YS5kZWxldGVfcHJvYnMpe1xuICAgICAgdGhpcy5vcHRpb25zLnNob3dfcHJvYnMgPSBmYWxzZTtcbiAgICB9XG5cbiAgICBpZiAob3B0aW9ucy5zY2FsZWRfbWF4KSB7XG4gICAgICB0aGlzLmRhdGEubWF4X2hlaWdodCA9IG9wdGlvbnMuZGF0YS5tYXhfaGVpZ2h0X29icyB8fCB0aGlzLmRhdGEubWF4X2hlaWdodCB8fCAyO1xuICAgIH0gZWxzZSB7XG4gICAgICB0aGlzLmRhdGEubWF4X2hlaWdodCA9IG9wdGlvbnMuZGF0YS5tYXhfaGVpZ2h0X3RoZW9yeSB8fCB0aGlzLmRhdGEubWF4X2hlaWdodCB8fCAyO1xuICAgIH1cblxuICAgIGlmKG9wdGlvbnMuY29sb3JzKXtcbiAgICAgIHRoaXMuY2hhbmdlQ29sb3JzKG9wdGlvbnMuY29sb3JzKTtcbiAgICB9ZWxzZXtcbiAgICAgIGlmICh0aGlzLmFscGhhYmV0ID09PSAnYWEnKSB7XG4gICAgICAgIHRoaXMuYWFfY29sb3JzID0gcmVxdWlyZShcIi4vY29sb3JzL2FhLmpzXCIpO1xuICAgICAgICB0aGlzLmNoYW5nZUNvbG9ycyh0aGlzLmFhX2NvbG9ycyk7XG4gICAgICB9ZWxzZXtcbiAgICAgICAgdGhpcy5kbmFfY29sb3JzID0gcmVxdWlyZShcIi4vY29sb3JzL2RuYS5qc1wiKTtcbiAgICAgICAgdGhpcy5jaGFuZ2VDb2xvcnModGhpcy5kbmFfY29sb3JzKTtcbiAgICAgIH1cbiAgICB9XG4gIH0sXG4gIGluaXRpYWxpemU6IGZ1bmN0aW9uKG9wdGlvbnMpIHtcbiAgICBpZiAoIWNhbnZhc1N1cHBvcnQoKSkge1xuICAgICAgdGhpcy5lbC50ZXh0Q29udGVudCA9IFwiWW91ciBicm93c2VyIGRvZXNuJ3Qgc3VwcG9ydCBjYW52YXMuXCI7XG4gICAgICByZXR1cm47XG4gICAgfVxuICAgIGlmKG9wdGlvbnMuZGF0YSA9PSB1bmRlZmluZWQpe1xuICAgICAgdGhpcy5lbC50ZXh0Q29udGVudCA9IFwiTm8gZGF0YSBhZGRlZC5cIjtcbiAgICB9XG5cbiAgICAvLyBsb2FkIGRlZmF1bHQgc2V0dGluZ3NcbiAgICBfLmV4dGVuZCh0aGlzLm9wdGlvbnMsb3B0aW9ucyk7XG4gICAgdmFyIG9wdCA9IHRoaXMub3B0aW9ucztcbiAgICB0aGlzLmxvYWREZWZhdWx0KG9wdCk7XG5cbiAgICBpZighdGhpcy5vcHRpb25zLnNob3dfcHJvYnMpe1xuICAgICAgdGhpcy5pbmZvX2NvbnRlbnRfaGVpZ2h0ID0gdGhpcy5oZWlnaHQ7XG4gICAgfWVsc2V7XG4gICAgICAvLyB0dXJuIG9mZiB0aGUgaW5zZXJ0IHJvd3MgaWYgdGhlIGhtbSB1c2VkIHRoZSBvYnNlcnZlZCBvciB3ZWlnaHRlZCBwcm9jZXNzaW5nIGZsYWdzLlxuICAgICAgaWYgKHRoaXMuZGF0YS5wcm9jZXNzaW5nICYmIC9eb2JzZXJ2ZWR8d2VpZ2h0ZWQvLnRlc3QodGhpcy5kYXRhLnByb2Nlc3NpbmcpKSB7XG4gICAgICAgIHRoaXMuc2hvd19pbnNlcnRzID0gMDtcbiAgICAgICAgdGhpcy5pbmZvX2NvbnRlbnRfaGVpZ2h0ID0gdGhpcy5oZWlnaHQgLSAxNDtcbiAgICAgIH0gZWxzZSB7XG4gICAgICAgIHRoaXMuc2hvd19pbnNlcnRzID0gMTtcbiAgICAgICAgdGhpcy5pbmZvX2NvbnRlbnRfaGVpZ2h0ID0gdGhpcy5oZWlnaHQgLSA0NDtcbiAgICAgIH1cbiAgICB9XG4gICAgdGhpcy4kZWwgPSBqYm9uZSh0aGlzLmVsKTtcblxuICAgIHRoaXMuaW5pdERpdnMoKTtcblxuICAgIGlmKHRoaXMub3B0aW9ucy5zZXR0aW5ncyl7XG4gICAgICB2YXIgZm9ybSA9IHNldHRpbmdzKHRoaXMsb3B0KTtcbiAgICAgIHRoaXMuJGVsLmFwcGVuZChmb3JtKTtcbiAgICB9XG5cbiAgICBldmVudExpc3RlbmVyKHRoaXMuJGVsLHRoaXMsIHRoaXMubG9nb19ncmFwaGljKTtcbiAgICAvKlxuICAgICAgIGlmIChvcHQuY29sdW1uSW5mbykge1xuICAgICAgIHZhciBjb2x1bW5JbmZvID0gcmVxdWlyZShcIi4vaW5mby9jb2x1bW5faW5mby5qc1wiKTtcbiAgICAgICBjb2x1bW5JbmZvKHRoaXMpO1xuICAgICAgIH1cbiAgICAgICAqL1xuXG4gIH0sXG4gIGluaXREaXZzOiBmdW5jdGlvbigpe1xuICAgIHZhciBsb2dvX2dyYXBoaWMgPSBtayhcImRpdlwiKTtcbiAgICBsb2dvX2dyYXBoaWMuY2xhc3NOYW1lID0gXCJsb2dvX2dyYXBoaWNcIjtcbiAgICB0aGlzLmxvZ29fZ3JhcGhpYyA9IGpib25lKGxvZ29fZ3JhcGhpYyk7XG5cbiAgICB2YXIgY29udGFpbmVyID0gbWsoXCJkaXZcIik7XG4gICAgY29udGFpbmVyLmNsYXNzTmFtZSA9IFwibG9nb19jb250YWluZXJcIjtcbiAgICBjb250YWluZXIuc3R5bGUuaGVpZ2h0ID0gdGhpcy5oZWlnaHQ7XG4gICAgdGhpcy5jb250YWluZXIgPSBqYm9uZShjb250YWluZXIpO1xuXG4gICAgdGhpcy5jb250YWluZXIuYXBwZW5kKGxvZ29fZ3JhcGhpYyk7XG5cbiAgICAvLyBhZGQgc29tZSBpbnRlcm5hbCBkaXZzIGZvciBzY3JvbGxpbmcgZXRjLlxuICAgIHRoaXMuJGVsLmFwcGVuZChjb250YWluZXIpO1xuXG4gICAgaWYodGhpcy5vcHRpb25zLmRpdmlkZXIpe1xuICAgICAgdmFyIGRpdmlkZXIgPSBtayhcImRpdlwiKTtcbiAgICAgIGRpdmlkZXIuY2xhc3NOYW1lID0gXCJsb2dvX2RpdmlkZXJcIjtcbiAgICAgIHRoaXMuJGVsLmFwcGVuZChkaXZpZGVyKTtcbiAgICB9XG5cbiAgICB0aGlzLmRvbV9lbGVtZW50ID0gamJvbmUobG9nb19ncmFwaGljKTtcbiAgICB0aGlzLmNhbGxlZF9vbiA9IHRoaXMuJGVsO1xuXG4gICAgaWYodGhpcy5vcHRpb25zLnhheGlzKXtcbiAgICAgIGF4aXMucmVuZGVyX3hfYXhpc19sYWJlbC5jYWxsKHRoaXMpO1xuICAgIH1cbiAgICBpZih0aGlzLm9wdGlvbnMueWF4aXMpe1xuICAgICAgYXhpcy5yZW5kZXJfeV9heGlzX2xhYmVsLmNhbGwodGhpcyk7XG4gICAgfWVsc2V7XG4gICAgICB0aGlzLmNvbnRhaW5lclswXS5zdHlsZS5tYXJnaW5MZWZ0ID0gXCIwcHhcIjtcbiAgICB9XG5cbiAgfSxcblxuICByZW5kZXI6IGZ1bmN0aW9uKCl7XG4gICAgcmVuZGVyLmNhbGwodGhpcyk7IFxuICAgIHJldHVybiB0aGlzO1xuICB9LFxuXG4gIGNoYW5nZUNvbG9yczogZnVuY3Rpb24oY29sb3JzKXtcbiAgICB0aGlzLmNvbG9ycyA9IGNvbG9ycztcbiAgICB2YXIgYlVzZUNvbG9yT2JqZWN0ID0gKGNvbG9ycyAhPSB1bmRlZmluZWQgJiYgY29sb3JzLnR5cGUgIT0gdW5kZWZpbmVkKTtcbiAgICBpZihiVXNlQ29sb3JPYmplY3Qpe1xuICAgICAgdGhpcy5jb2xvcnNjaGVtZSA9IFwiZHluYW1pY1wiO1xuICAgIH1cbiAgICB0aGlzLmJ1aWxkQWxwaGFiZXQoKTtcbiAgfSxcblxuICBidWlsZEFscGhhYmV0OiBmdW5jdGlvbigpe1xuICAgIC8qXG4gICAgICAgaWYgKHRoaXMuYWxwaGFiZXQgPT09ICdhYScpIHtcbiAgICAgICB2YXIgcHJvYnNfYXJyID0gdGhpcy5kYXRhLnByb2JzX2FycjtcbiAgICAgICBpZiAocHJvYnNfYXJyKSB7XG4gICAgICAgdmFyIGNjID0gbmV3IENvbnNlbnN1c0NvbG9ycygpO1xuICAgICAgIHRoaXMuY21hcCA9IGNjLmNvbG9yX21hcChwcm9ic19hcnIpO1xuICAgICAgIH1cbiAgICAgICB9XG4gICAgICAgKi9cblxuICAgIC8vYnVpbGQgdGhlIGxldHRlciBjYW52YXNlc1xuICAgIHRoaXMubGV0dGVycyA9IHt9O1xuICAgIHZhciBjb2xvcnMgPSB0aGlzLmNvbG9ycztcbiAgICBpZih0aGlzLmNvbG9yc2NoZW1lID09IFwiZHluYW1pY1wiKXtcbiAgICAgIHZhciB0Q29sb3JzID0gXCJBQkNERUZHSElKS0xNTk9QUVJTVFVWV1hZWlwiLnNwbGl0KCcnKTtcbiAgICAgIGNvbG9ycyA9IHt9O1xuICAgICAgdENvbG9ycy5mb3JFYWNoKGZ1bmN0aW9uKGUpe1xuICAgICAgICBjb2xvcnNbZV0gPSBcIlwiO1xuICAgICAgfSk7XG4gICAgfVxuICAgIGZvciAodmFyIGxldHRlciBpbiBjb2xvcnMpIHtcbiAgICAgIGlmIChjb2xvcnMuaGFzT3duUHJvcGVydHkobGV0dGVyKSkge1xuICAgICAgICB2YXIgbG9wdGlvbnMgPSB7Y29sb3I6IGNvbG9yc1tsZXR0ZXJdfTtcbiAgICAgICAgdGhpcy5sZXR0ZXJzW2xldHRlcl0gPSBuZXcgTGV0dGVyKGxldHRlciwgbG9wdGlvbnMpO1xuICAgICAgfVxuICAgIH1cbiAgfSxcblxuICB0b2dnbGVDb2xvcnNjaGVtZTogZnVuY3Rpb24gKHNjaGVtZSkge1xuICAgIC8vIHdvcmsgb3V0IHRoZSBjdXJyZW50IGNvbHVtbiB3ZSBhcmUgb24gc28gd2UgY2FuIHJldHVybiB0aGVyZVxuICAgIHZhciBjb2xfdG90YWwgPSB0aGlzLmN1cnJlbnRDb2x1bW4oKTtcblxuICAgIGlmIChzY2hlbWUpIHtcbiAgICAgIGlmIChzY2hlbWUgPT09ICdkZWZhdWx0Jykge1xuICAgICAgICB0aGlzLmNvbG9yc2NoZW1lID0gJ2RlZmF1bHQnO1xuICAgICAgfSBlbHNlIHtcbiAgICAgICAgdGhpcy5jb2xvcnNjaGVtZSA9ICdjb25zZW5zdXMnO1xuICAgICAgfVxuICAgIH0gZWxzZSB7XG4gICAgICBpZiAodGhpcy5jb2xvcnNjaGVtZSA9PT0gJ2RlZmF1bHQnKSB7XG4gICAgICAgIHRoaXMuY29sb3JzY2hlbWUgPSAnY29uc2Vuc3VzJztcbiAgICAgIH0gZWxzZSB7XG4gICAgICAgIHRoaXMuY29sb3JzY2hlbWUgPSAnZGVmYXVsdCc7XG4gICAgICB9XG4gICAgfVxuXG4gICAgLy8gcmVzZXQgdGhlIHJlbmRlcmVkIGNvdW50ZXIgc28gdGhhdCBlYWNoIHNlY3Rpb24gd2lsbCByZS1yZW5kZXJcbiAgICAvLyB3aXRoIHRoZSBuZXcgaGVpZ2h0c1xuICAgIHRoaXMucmVuZGVyZWQgPSBbXTtcblxuICAgIC8vIHJlLWZsb3cgYW5kIHJlLXJlbmRlciB0aGUgY29udGVudFxuICAgIHRoaXMuc2Nyb2xsbWUucmVmbG93KCk7XG4gICAgLy9zY3JvbGwgb2ZmIGJ5IG9uZSB0byBmb3JjZSBhIHJlbmRlciBvZiB0aGUgY2FudmFzLlxuICAgIHRoaXMuc2Nyb2xsVG9Db2x1bW4oY29sX3RvdGFsICsgMSk7XG4gICAgLy9zY3JvbGwgYmFjayB0byB0aGUgbG9jYXRpb24gd2Ugc3RhcnRlZCBhdC5cbiAgICB0aGlzLnNjcm9sbFRvQ29sdW1uKGNvbF90b3RhbCk7XG4gIH0sXG5cbiAgdG9nZ2xlU2NhbGU6IGZ1bmN0aW9uIChzY2FsZSkge1xuICAgIC8vIHdvcmsgb3V0IHRoZSBjdXJyZW50IGNvbHVtbiB3ZSBhcmUgb24gc28gd2UgY2FuIHJldHVybiB0aGVyZVxuICAgIHZhciBjb2xfdG90YWwgPSB0aGlzLmN1cnJlbnRDb2x1bW4oKTtcblxuICAgIGlmIChzY2FsZSkge1xuICAgICAgaWYgKHNjYWxlID09PSAnb2JzJykge1xuICAgICAgICB0aGlzLmRhdGEubWF4X2hlaWdodCA9IHRoaXMuZGF0YS5tYXhfaGVpZ2h0X29icztcbiAgICAgIH0gZWxzZSB7XG4gICAgICAgIHRoaXMuZGF0YS5tYXhfaGVpZ2h0ID0gdGhpcy5kYXRhLm1heF9oZWlnaHRfdGhlb3J5O1xuICAgICAgfVxuICAgIH0gZWxzZSB7XG4gICAgICAvLyB0b2dnbGUgdGhlIG1heCBoZWlnaHRcbiAgICAgIGlmICh0aGlzLmRhdGEubWF4X2hlaWdodCA9PT0gdGhpcy5kYXRhLm1heF9oZWlnaHRfb2JzKSB7XG4gICAgICAgIHRoaXMuZGF0YS5tYXhfaGVpZ2h0ID0gdGhpcy5kYXRhLm1heF9oZWlnaHRfdGhlb3J5O1xuICAgICAgfSBlbHNlIHtcbiAgICAgICAgdGhpcy5kYXRhLm1heF9oZWlnaHQgPSB0aGlzLmRhdGEubWF4X2hlaWdodF9vYnM7XG4gICAgICB9XG4gICAgfVxuICAgIC8vIHJlc2V0IHRoZSByZW5kZXJlZCBjb3VudGVyIHNvIHRoYXQgZWFjaCBzZWN0aW9uIHdpbGwgcmUtcmVuZGVyXG4gICAgLy8gd2l0aCB0aGUgbmV3IGhlaWdodHNcbiAgICB0aGlzLnJlbmRlcmVkID0gW107XG4gICAgLy91cGRhdGUgdGhlIHktYXhpc1xuICAgIGlmKHRoaXMubG9nb1lBeGlzKXtcbiAgICAgIHRoaXMubG9nb1lBeGlzLnJlbW92ZSgpO1xuICAgICAgLy90aGlzLmNhbGxlZF9vbi5maW5kKCcubG9nb195YXhpcycpLnJlbW92ZSgpO1xuICAgIH1cbiAgICBheGlzLnJlbmRlcl95X2F4aXNfbGFiZWwuY2FsbCh0aGlzKTtcblxuICAgIC8vIHJlLWZsb3cgYW5kIHJlLXJlbmRlciB0aGUgY29udGVudFxuICAgIHRoaXMuc2Nyb2xsbWUucmVmbG93KCk7XG4gICAgLy9zY3JvbGwgb2ZmIGJ5IG9uZSB0byBmb3JjZSBhIHJlbmRlciBvZiB0aGUgY2FudmFzLlxuICAgIHRoaXMuc2Nyb2xsVG9Db2x1bW4oY29sX3RvdGFsICsgMSk7XG4gICAgLy9zY3JvbGwgYmFjayB0byB0aGUgbG9jYXRpb24gd2Ugc3RhcnRlZCBhdC5cbiAgICB0aGlzLnNjcm9sbFRvQ29sdW1uKGNvbF90b3RhbCk7XG4gIH0sXG4gIHRvZ2dsZUFsaU1hcDogZnVuY3Rpb24gKGNvb3Jkcykge1xuICAgIC8vIHdvcmsgb3V0IHRoZSBjdXJyZW50IGNvbHVtbiB3ZSBhcmUgb24gc28gd2UgY2FuIHJldHVybiB0aGVyZVxuICAgIHZhciBjb2xfdG90YWwgPSB0aGlzLmN1cnJlbnRDb2x1bW4oKTtcblxuICAgIGlmIChjb29yZHMpIHtcbiAgICAgIGlmIChjb29yZHMgPT09ICdtb2RlbCcpIHtcbiAgICAgICAgdGhpcy5kaXNwbGF5X2FsaV9tYXAgPSAwO1xuICAgICAgfSBlbHNlIHtcbiAgICAgICAgdGhpcy5kaXNwbGF5X2FsaV9tYXAgPSAxO1xuICAgICAgfVxuICAgIH0gZWxzZSB7XG4gICAgICAvLyB0b2dnbGUgdGhlIG1heCBoZWlnaHRcbiAgICAgIGlmICh0aGlzLmRpc3BsYXlfYWxpX21hcCA9PT0gMSkge1xuICAgICAgICB0aGlzLmRpc3BsYXlfYWxpX21hcCA9IDA7XG4gICAgICB9IGVsc2Uge1xuICAgICAgICB0aGlzLmRpc3BsYXlfYWxpX21hcCA9IDE7XG4gICAgICB9XG4gICAgfVxuICAgIGF4aXMucmVuZGVyX3hfYXhpc19sYWJlbCh0aGlzKTtcblxuICAgIC8vIHJlc2V0IHRoZSByZW5kZXJlZCBjb3VudGVyIHNvIHRoYXQgZWFjaCBzZWN0aW9uIHdpbGwgcmUtcmVuZGVyXG4gICAgLy8gd2l0aCB0aGUgbmV3IGhlaWdodHNcbiAgICB0aGlzLnJlbmRlcmVkID0gW107XG5cbiAgICAvLyByZS1mbG93IGFuZCByZS1yZW5kZXIgdGhlIGNvbnRlbnRcbiAgICB0aGlzLnNjcm9sbG1lLnJlZmxvdygpO1xuICAgIC8vc2Nyb2xsIG9mZiBieSBvbmUgdG8gZm9yY2UgYSByZW5kZXIgb2YgdGhlIGNhbnZhcy5cbiAgICB0aGlzLnNjcm9sbFRvQ29sdW1uKGNvbF90b3RhbCArIDEpO1xuICAgIC8vc2Nyb2xsIGJhY2sgdG8gdGhlIGxvY2F0aW9uIHdlIHN0YXJ0ZWQgYXQuXG4gICAgdGhpcy5zY3JvbGxUb0NvbHVtbihjb2xfdG90YWwpO1xuICB9LFxuXG4gIGN1cnJlbnRDb2x1bW46IGZ1bmN0aW9uICgpIHtcbiAgICB2YXIgYmVmb3JlX2xlZnQgPSB0aGlzLnNjcm9sbG1lLnNjcm9sbGVyLmdldFZhbHVlcygpLmxlZnQsXG4gICAgY29sX3dpZHRoID0gKHRoaXMuY29sdW1uX3dpZHRoICogdGhpcy56b29tKSxcbiAgICBjb2xfY291bnQgPSBiZWZvcmVfbGVmdCAvIGNvbF93aWR0aCxcbiAgICBoYWxmX3Zpc2libGVfY29sdW1ucyA9ICh0aGlzLmNvbnRhaW5lci53aWR0aCgpIC8gY29sX3dpZHRoKSAvIDIsXG4gICAgY29sX3RvdGFsID0gTWF0aC5jZWlsKGNvbF9jb3VudCArIGhhbGZfdmlzaWJsZV9jb2x1bW5zKTtcbiAgICByZXR1cm4gY29sX3RvdGFsO1xuICB9LFxuXG4gIGNoYW5nZVpvb206IGZ1bmN0aW9uIChvcHRpb25zKSB7XG4gICAgdmFyIHpvb21fbGV2ZWwgPSAwLjMsXG4gICAgZXhwZWN0ZWRfd2lkdGggPSBudWxsO1xuICAgIGlmIChvcHRpb25zLnRhcmdldCkge1xuICAgICAgem9vbV9sZXZlbCA9IG9wdGlvbnMudGFyZ2V0O1xuICAgIH0gZWxzZSBpZiAob3B0aW9ucy5kaXN0YW5jZSkge1xuICAgICAgem9vbV9sZXZlbCA9IChwYXJzZUZsb2F0KHRoaXMuem9vbSkgLSBwYXJzZUZsb2F0KG9wdGlvbnMuZGlzdGFuY2UpKS50b0ZpeGVkKDEpO1xuICAgICAgaWYgKG9wdGlvbnMuZGlyZWN0aW9uID09PSAnKycpIHtcbiAgICAgICAgem9vbV9sZXZlbCA9IChwYXJzZUZsb2F0KHRoaXMuem9vbSkgKyBwYXJzZUZsb2F0KG9wdGlvbnMuZGlzdGFuY2UpKS50b0ZpeGVkKDEpO1xuICAgICAgfVxuICAgIH1cblxuICAgIGlmICh6b29tX2xldmVsID4gMSkge1xuICAgICAgem9vbV9sZXZlbCA9IDE7XG4gICAgfSBlbHNlIGlmICh6b29tX2xldmVsIDwgMC4xKSB7XG4gICAgICB6b29tX2xldmVsID0gMC4xO1xuICAgIH1cblxuICAgIC8vIHNlZSBpZiB3ZSBuZWVkIHRvIHpvb20gb3Igbm90XG4gICAgZXhwZWN0ZWRfd2lkdGggPSAodGhpcy5sb2dvX2dyYXBoaWMud2lkdGgoKSAqIHpvb21fbGV2ZWwpIC8gdGhpcy56b29tO1xuICAgIGlmIChleHBlY3RlZF93aWR0aCA+IHRoaXMuY29udGFpbmVyLndpZHRoKCkpIHtcbiAgICAgIC8vIGlmIGEgY2VudGVyIGlzIG5vdCBzcGVjaWZpZWQsIHRoZW4gdXNlIHRoZSBjdXJyZW50IGNlbnRlciBvZiB0aGUgdmlld1xuICAgICAgaWYgKCFvcHRpb25zLmNvbHVtbikge1xuICAgICAgICAvL3dvcmsgb3V0IG15IGN1cnJlbnQgcG9zaXRpb25cbiAgICAgICAgdmFyIGNvbF90b3RhbCA9IHRoaXMuY3VycmVudENvbHVtbigpO1xuXG4gICAgICAgIHRoaXMuem9vbSA9IHpvb21fbGV2ZWw7XG4gICAgICAgIHRoaXMucmVuZGVyKHt6b29tOiB0aGlzLnpvb219KTtcbiAgICAgICAgdGhpcy5zY3JvbGxtZS5yZWZsb3coKTtcblxuICAgICAgICAvL3Njcm9sbCB0byBwcmV2aW91cyBwb3NpdGlvblxuICAgICAgICB0aGlzLnNjcm9sbFRvQ29sdW1uKGNvbF90b3RhbCk7XG4gICAgICB9IGVsc2UgeyAvLyBjZW50ZXIgYXJvdW5kIHRoZSBtb3VzZSBjbGljayBwb3NpdGlvbi5cbiAgICAgICAgdGhpcy56b29tID0gem9vbV9sZXZlbDtcbiAgICAgICAgdGhpcy5yZW5kZXIoe3pvb206IHRoaXMuem9vbX0pO1xuICAgICAgICB0aGlzLnNjcm9sbG1lLnJlZmxvdygpO1xuXG4gICAgICAgIHZhciBjb29yZHMgPSB0aGlzLmNvb3JkaW5hdGVzRnJvbUNvbHVtbihvcHRpb25zLmNvbHVtbik7XG4gICAgICAgIHRoaXMuc2Nyb2xsbWUuc2Nyb2xsZXIuc2Nyb2xsVG8oY29vcmRzIC0gb3B0aW9ucy5vZmZzZXQpO1xuICAgICAgfVxuICAgIH1cbiAgICByZXR1cm4gdGhpcy56b29tO1xuXG4gIH0sXG5cbiAgY29sdW1uRnJvbUNvb3JkaW5hdGVzOiBmdW5jdGlvbiAoeCkge1xuICAgIHZhciBjb2x1bW4gPSBNYXRoLmNlaWwoeCAvICh0aGlzLmNvbHVtbl93aWR0aCAqIHRoaXMuem9vbSkpO1xuICAgIHJldHVybiBjb2x1bW47XG4gIH0sXG5cbiAgY29vcmRpbmF0ZXNGcm9tQ29sdW1uOiBmdW5jdGlvbiAoY29sKSB7XG4gICAgdmFyIG5ld19jb2x1bW4gPSBjb2wgLSAxLFxuICAgIHggPSAobmV3X2NvbHVtbiAgKiAodGhpcy5jb2x1bW5fd2lkdGggKiB0aGlzLnpvb20pKSArICgodGhpcy5jb2x1bW5fd2lkdGggKiB0aGlzLnpvb20pIC8gMik7XG4gICAgcmV0dXJuIHg7XG4gIH0sXG5cbiAgc2Nyb2xsVG9Db2x1bW46IGZ1bmN0aW9uIChudW0sIGFuaW1hdGUpIHtcbiAgICB2YXIgaGFsZl92aWV3ID0gKHRoaXMubG9nb19jb250YWluZXIud2lkdGgoKSAvIDIpLFxuICAgIG5ld19sZWZ0ID0gdGhpcy5jb29yZGluYXRlc0Zyb21Db2x1bW4obnVtKTtcbiAgICB0aGlzLnNjcm9sbG1lLnNjcm9sbGVyLnNjcm9sbFRvKG5ld19sZWZ0IC0gaGFsZl92aWV3LCAwLCBhbmltYXRlKTtcbiAgfSxcbiAgY2FsY01heEhlaWdodDogZnVuY3Rpb24oY29sdW1ucyl7XG4gICAgLy8gbG9vcHMgb3ZlciBhbGwgY29sdW1ucyBhbmQgcmV0dXJuIHRoZSBtYXggaGVpZ2h0IHNlZW4gXG4gICAgcmV0dXJuIGNvbHVtbnMucmVkdWNlKGZ1bmN0aW9uKG0sYyl7XG4gICAgICB2YXIgY29sID0gMDtcbiAgICAgIGZvcih2YXIgayBpbiBjKXtcbiAgICAgICAgY29sICs9IGNba107XG4gICAgICB9XG4gICAgICByZXR1cm4gY29sID4gbSA/IGNvbCA6IG07XG4gICAgfSwwKTtcbiAgfVxuXG5cbn0pO1xuXG52YXIgbWsgPSBmdW5jdGlvbihuYW1lKXtcbiAgcmV0dXJuIGRvY3VtZW50LmNyZWF0ZUVsZW1lbnQobmFtZSk7XG59XG4iLCJ2YXIgJCA9IHJlcXVpcmUoXCJqYm9uZVwiKTtcblxubW9kdWxlLmV4cG9ydHMgPSBmdW5jdGlvbihsb2dvLG9wdGlvbnMpe1xuICB2YXIgZm9ybSA9ICQoJzxmb3JtIGNsYXNzPVwibG9nb19mb3JtXCI+PGZpZWxkc2V0PjxsYWJlbCBmb3I9XCJwb3NpdGlvblwiPkNvbHVtbiBudW1iZXI8L2xhYmVsPicgK1xuICAgICAgICAgICAgICAgJzxpbnB1dCB0eXBlPVwidGV4dFwiIG5hbWU9XCJwb3NpdGlvblwiIGNsYXNzPVwibG9nb19wb3NpdGlvblwiPjwvaW5wdXQ+JyArXG4gICAgICAgICAgICAgICAnPGJ1dHRvbiBjbGFzcz1cImJ1dHRvbiBsb2dvX2NoYW5nZVwiPkdvPC9idXR0b24+PC9maWVsZHNldD4nICtcbiAgICAgICAgICAgICAgICc8L2Zvcm0+Jyk7XG5cbiAgdmFyIHNldHRpbmdzID0gJCgnPGRpdiBjbGFzcz1cImxvZ29fc2V0dGluZ3NcIj48L2Rpdj4nKTtcbiAgc2V0dGluZ3MuYXBwZW5kKCc8c3BhbiBjbGFzcz1cImNsb3NlXCI+eDwvc3Bhbj4nKTtcblxuXG5cbiAgLyogd2UgZG9uJ3Qgd2FudCB0byB0b2dnbGUgaWYgdGhlIG1heCBoZWlnaHRfb2JzIGlzIGdyZWF0ZXIgdGhhbiBtYXggdGhlb3JldGljYWxcbiAgICogYXMgbGV0dGVycyB3aWxsIGZhbGwgb2ZmIHRoZSB0b3AuXG4gICAqL1xuICBpZiAobG9nby5zY2FsZV9oZWlnaHRfZW5hYmxlZCAmJiAobG9nby5kYXRhLm1heF9oZWlnaHRfb2JzIDwgbG9nby5kYXRhLm1heF9oZWlnaHRfdGhlb3J5KSkge1xuICAgIHZhciBvYnNfY2hlY2tlZCA9ICcnLFxuICAgIHRoZW9yeV9jaGVja2VkID0gJycsXG4gICAgdGhlb3J5X2hlbHAgPSAnJyxcbiAgICBvYnNfaGVscCA9ICcnO1xuXG4gICAgaWYgKGxvZ28uZGF0YS5tYXhfaGVpZ2h0X29icyA9PT0gbG9nby5kYXRhLm1heF9oZWlnaHQpIHtcbiAgICAgIG9ic19jaGVja2VkID0gJ2NoZWNrZWQnO1xuICAgIH0gZWxzZSB7XG4gICAgICB0aGVvcnlfY2hlY2tlZCA9ICdjaGVja2VkJztcbiAgICB9XG4gIH1cblxuXG5cbiAgdmFyIHNjYWxlX2NvbnRyb2xzID0gJzxmaWVsZHNldD48bGVnZW5kPlNjYWxlPC9sZWdlbmQ+JyArXG4gICAgJzxsYWJlbD48aW5wdXQgdHlwZT1cInJhZGlvXCIgbmFtZT1cInNjYWxlXCIgY2xhc3M9XCJsb2dvX3NjYWxlXCIgdmFsdWU9XCJvYnNcIiAnICsgb2JzX2NoZWNrZWQgK1xuICAgICcvPk1heGltdW0gT2JzZXJ2ZWQgJyArIG9ic19oZWxwICtcbiAgICAnPC9sYWJlbD48L2JyPicgK1xuICAgICc8bGFiZWw+PGlucHV0IHR5cGU9XCJyYWRpb1wiIG5hbWU9XCJzY2FsZVwiIGNsYXNzPVwibG9nb19zY2FsZVwiIHZhbHVlPVwidGhlb3J5XCIgJyArIHRoZW9yeV9jaGVja2VkICtcbiAgICAnLz5NYXhpbXVtIFRoZW9yZXRpY2FsICcgKyB0aGVvcnlfaGVscCArXG4gICAgJzwvbGFiZWw+JyArXG4gICAgJzwvZmllbGRzZXQ+JztcblxuICBzZXR0aW5ncy5hcHBlbmQoc2NhbGVfY29udHJvbHMpO1xuXG4gIGlmIChsb2dvLmRhdGEuaGVpZ2h0X2NhbGMgIT09ICdzY29yZScgJiYgbG9nby5kYXRhLmFscGhhYmV0ID09PSAnYWEnICYmIGxvZ28uZGF0YS5wcm9ic19hcnIpIHtcblxuICAgIHZhciBkZWZfY29sb3IgPSBudWxsLFxuICAgIGNvbl9jb2xvciA9IG51bGwsXG4gICAgZGVmX2hlbHAgPSAnJyxcbiAgICBjb25faGVscCA9ICcnO1xuXG4gICAgaWYgKGxvZ28uY29sb3JzY2hlbWUgPT09ICdkZWZhdWx0Jykge1xuICAgICAgZGVmX2NvbG9yID0gJ2NoZWNrZWQnO1xuICAgIH0gZWxzZSB7XG4gICAgICBjb25fY29sb3IgPSAnY2hlY2tlZCc7XG4gICAgfTtcblxuICAgIGlmIChvcHRpb25zLmhlbHApIHtcbiAgICAgIGRlZl9oZWxwID0gJzxhIGNsYXNzPVwiaGVscFwiIGhyZWY9XCIvaGVscCNjb2xvcnNfZGVmYXVsdFwiIHRpdGxlPVwiRWFjaCBsZXR0ZXIgcmVjZWl2ZXMgaXRzIG93biBjb2xvci5cIj4nICtcbiAgICAgICAgJzxzcGFuIGFyaWEtaGlkZGVuPVwidHJ1ZVwiIGRhdGEtaWNvbj1cIj9cIj48L3NwYW4+PHNwYW4gY2xhc3M9XCJyZWFkZXItdGV4dFwiPmhlbHA8L3NwYW4+PC9hPic7XG4gICAgICBjb25faGVscCA9ICc8YSBjbGFzcz1cImhlbHBcIiBocmVmPVwiL2hlbHAjY29sb3JzX2NvbnNlbnN1c1wiIHRpdGxlPVwiTGV0dGVycyBhcmUgY29sb3JlZCBhcyBpbiBDbHVzdGFseCBhbmQgSmFsdmlldywgd2l0aCBjb2xvcnMgZGVwZW5kaW5nIG9uIGNvbXBvc2l0aW9uIG9mIHRoZSBjb2x1bW4uXCI+JyArXG4gICAgICAgICc8c3BhbiBhcmlhLWhpZGRlbj1cInRydWVcIiBkYXRhLWljb249XCI/XCI+PC9zcGFuPjxzcGFuIGNsYXNzPVwicmVhZGVyLXRleHRcIj5oZWxwPC9zcGFuPjwvYT4nO1xuICAgIH1cblxuICAgIHZhciBjb2xvcl9jb250cm9scyA9ICc8ZmllbGRzZXQ+PGxlZ2VuZD5Db2xvciBTY2hlbWU8L2xlZ2VuZD4nICtcbiAgICAgICc8bGFiZWw+PGlucHV0IHR5cGU9XCJyYWRpb1wiIG5hbWU9XCJjb2xvclwiIGNsYXNzPVwibG9nb19jb2xvclwiIHZhbHVlPVwiZGVmYXVsdFwiICcgKyBkZWZfY29sb3IgK1xuICAgICAgJy8+RGVmYXVsdCAnICsgZGVmX2hlbHAgK1xuICAgICAgJzwvbGFiZWw+PC9icj4nICtcbiAgICAgICc8bGFiZWw+PGlucHV0IHR5cGU9XCJyYWRpb1wiIG5hbWU9XCJjb2xvclwiIGNsYXNzPVwibG9nb19jb2xvclwiIHZhbHVlPVwiY29uc2Vuc3VzXCIgJyArIGNvbl9jb2xvciArXG4gICAgICAnLz5Db25zZW5zdXMgQ29sb3JzICcgKyBjb25faGVscCArXG4gICAgICAnPC9sYWJlbD4nICtcbiAgICAgICc8L2ZpZWxkc2V0Pic7XG4gICAgc2V0dGluZ3MuYXBwZW5kKGNvbG9yX2NvbnRyb2xzKTtcbiAgfVxuXG5cbiAgaWYgKGxvZ28uZGF0YS5hbGlfbWFwKSB7XG4gICAgdmFyIG1vZF9jaGVja2VkID0gbnVsbCxcbiAgICBhbGlfY2hlY2tlZCA9IG51bGwsXG4gICAgbW9kX2hlbHAgPSAnJyxcbiAgICBhbGlfaGVscCA9ICcnO1xuXG4gICAgaWYgKGxvZ28uZGlzcGxheV9hbGlfbWFwID09PSAwKSB7XG4gICAgICBtb2RfY2hlY2tlZCA9ICdjaGVja2VkJztcbiAgICB9IGVsc2Uge1xuICAgICAgYWxpX2NoZWNrZWQgPSAnY2hlY2tlZCc7XG4gICAgfVxuXG4gICAgaWYgKG9wdGlvbnMuaGVscCkge1xuICAgICAgbW9kX2hlbHAgPSAnPGEgY2xhc3M9XCJoZWxwXCIgaHJlZj1cIi9oZWxwI2Nvb3Jkc19tb2RlbFwiIHRpdGxlPVwiVGhlIGNvb3JkaW5hdGVzIGFsb25nIHRoZSB0b3Agb2YgdGhlIHBsb3Qgc2hvdyB0aGUgbW9kZWwgcG9zaXRpb24uXCI+JyArXG4gICAgICAgICc8c3BhbiBhcmlhLWhpZGRlbj1cInRydWVcIiBkYXRhLWljb249XCI/XCI+PC9zcGFuPjxzcGFuIGNsYXNzPVwicmVhZGVyLXRleHRcIj5oZWxwPC9zcGFuPjwvYT4nO1xuICAgICAgYWxpX2hlbHAgPSAnPGEgY2xhc3M9XCJoZWxwXCIgaHJlZj1cIi9oZWxwI2Nvb3Jkc19hbGlcIiB0aXRsZT1cIlRoZSBjb29yZGluYXRlcyBhbG9uZyB0aGUgdG9wIG9mIHRoZSBwbG90IHNob3cgdGhlIGNvbHVtbiBpbiB0aGUgYWxpZ25tZW50IGFzc29jaWF0ZWQgd2l0aCB0aGUgbW9kZWxcIj4nICtcbiAgICAgICAgJzxzcGFuIGFyaWEtaGlkZGVuPVwidHJ1ZVwiIGRhdGEtaWNvbj1cIj9cIj48L3NwYW4+PHNwYW4gY2xhc3M9XCJyZWFkZXItdGV4dFwiPmhlbHA8L3NwYW4+PC9hPic7XG4gICAgfVxuXG4gICAgdmFyIGFsaV9jb250cm9scyA9ICc8ZmllbGRzZXQ+PGxlZ2VuZD5Db29yZGluYXRlczwvbGVnZW5kPicgK1xuICAgICAgJzxsYWJlbD48aW5wdXQgdHlwZT1cInJhZGlvXCIgbmFtZT1cImNvb3Jkc1wiIGNsYXNzPVwibG9nb19hbGlfbWFwXCIgdmFsdWU9XCJtb2RlbFwiICcgKyBtb2RfY2hlY2tlZCArXG4gICAgICAnLz5Nb2RlbCAnICsgbW9kX2hlbHAgK1xuICAgICAgJzwvbGFiZWw+PC9icj4nICtcbiAgICAgICc8bGFiZWw+PGlucHV0IHR5cGU9XCJyYWRpb1wiIG5hbWU9XCJjb29yZHNcIiBjbGFzcz1cImxvZ29fYWxpX21hcFwiIHZhbHVlPVwiYWxpZ25tZW50XCIgJyArIGFsaV9jaGVja2VkICtcbiAgICAgICcvPkFsaWdubWVudCAnICsgYWxpX2hlbHAgK1xuICAgICAgJzwvbGFiZWw+JyArXG4gICAgICAnPC9maWVsZHNldD4nO1xuICAgIHNldHRpbmdzLmFwcGVuZChhbGlfY29udHJvbHMpO1xuICB9XG5cblxuICB2YXIgY29udHJvbHMgPSAkKCc8ZGl2IGNsYXNzPVwibG9nb19jb250cm9sc1wiPjwvZGl2PicpO1xuICBpZiAobG9nby56b29tX2VuYWJsZWQpIHtcbiAgICBjb250cm9scy5hcHBlbmQoJzxidXR0b24gY2xhc3M9XCJsb2dvX3pvb21vdXQgYnV0dG9uXCI+LTwvYnV0dG9uPicgK1xuICAgICAgICAgICAgICAgICAgICAnPGJ1dHRvbiBjbGFzcz1cImxvZ29fem9vbWluIGJ1dHRvblwiPis8L2J1dHRvbj4nKTtcbiAgfVxuXG4gIGlmIChzZXR0aW5ncy5jaGlsZHJlbigpLmxlbmd0aCA+IDApIHtcbiAgICBjb250cm9scy5hcHBlbmQoJzxidXR0b24gY2xhc3M9XCJsb2dvX3NldHRpbmdzX3N3aXRjaCBidXR0b25cIj5TZXR0aW5nczwvYnV0dG9uPicpO1xuICAgIGNvbnRyb2xzLmFwcGVuZChzZXR0aW5ncyk7XG4gIH1cblxuICBmb3JtLmFwcGVuZChjb250cm9scyk7XG5cbiAgcmV0dXJuIGZvcm07XG59XG4iLCJtb2R1bGUuZXhwb3J0cyA9IGZ1bmN0aW9uIExldHRlcihsZXR0ZXIsIG9wdGlvbnMpIHtcbiAgb3B0aW9ucyA9IG9wdGlvbnMgfHwge307XG4gIHRoaXMudmFsdWUgPSBsZXR0ZXI7XG4gIHRoaXMud2lkdGggPSBwYXJzZUludChvcHRpb25zLndpZHRoLCAxMCkgfHwgMTAwO1xuXG4gIC8vVyBpcyAzMCUgd2lkZXIgdGhhbiB0aGUgb3RoZXIgbGV0dGVycywgc28gbmVlZCB0byBtYWtlIHN1cmVcbiAgLy9pdCBnZXRzIG1vZGlmaWVkIGFjY29yZGluZ2x5LlxuICBpZiAodGhpcy52YWx1ZSA9PT0gJ1cnKSB7XG4gICAgdGhpcy53aWR0aCArPSAodGhpcy53aWR0aCAqIDMwKSAvIDEwMDtcbiAgfVxuXG4gIHRoaXMuaGVpZ2h0ID0gcGFyc2VJbnQob3B0aW9ucy5oZWlnaHQsIDEwKSB8fCAxMDA7XG5cbiAgdGhpcy5jb2xvciA9IG9wdGlvbnMuY29sb3IgfHwgJyMwMDAwMDAnO1xuICAvLyBpZiB0aGUgaGVpZ2h0IGFuZCB3aWR0aCBhcmUgY2hhbmdlZCBmcm9tIHRoZSBkZWZhdWx0LCB0aGVuXG4gIC8vIHRoaXMgd2lsbCBhbHNvIG5lZWQgdG8gYmUgY2hhbmdlZCBhcyBpdCBjYW50IGJlIGNhbGN1bGF0ZWRcbiAgLy8gZHluYW1pY2FsbHkuXG4gIHRoaXMuZm9udFNpemUgPSBvcHRpb25zLmZvbnRTaXplIHx8IDEzODtcblxuICB0aGlzLnNjYWxlZCA9IGZ1bmN0aW9uICgpIHsgfTtcblxuICB0aGlzLmRyYXcgPSBmdW5jdGlvbiAoZXh0X2N0eCwgdGFyZ2V0X2hlaWdodCwgdGFyZ2V0X3dpZHRoLCB4LCB5LCBjb2xvcikge1xuICAgIHZhciBoX3JhdGlvID0gdGFyZ2V0X2hlaWdodCAvIHRoaXMuaGVpZ2h0LFxuICAgIHdfcmF0aW8gPSB0YXJnZXRfd2lkdGggLyB0aGlzLndpZHRoLFxuICAgIHByZXZfZm9udCA9IGV4dF9jdHguZm9udDtcbiAgICBleHRfY3R4LnRyYW5zZm9ybSh3X3JhdGlvLCAwLCAwLCBoX3JhdGlvLCB4LCB5KTtcbiAgICBleHRfY3R4LmZpbGxTdHlsZSA9IGNvbG9yIHx8IHRoaXMuY29sb3I7XG4gICAgZXh0X2N0eC50ZXh0QWxpZ24gPSBcImNlbnRlclwiO1xuICAgIGV4dF9jdHguZm9udCA9IFwiYm9sZCBcIiArIHRoaXMuZm9udFNpemUgKyBcInB4IEFyaWFsXCI7XG5cbiAgICBleHRfY3R4LmZpbGxUZXh0KHRoaXMudmFsdWUsIDAsIDApO1xuICAgIC8vcmVzdG9yZSB0aGUgY2FudmFzIHNldHRpbmdzXG4gICAgZXh0X2N0eC5zZXRUcmFuc2Zvcm0oMSwgMCwgMCwgMSwgMCwgMCk7XG4gICAgZXh0X2N0eC5maWxsU3R5bGUgPSAnIzAwMDAwMCc7XG4gICAgZXh0X2N0eC5mb250ID0gcHJldl9mb250O1xuICB9O1xuXG59XG4iLCJtb2R1bGUuZXhwb3J0cyA9IGZ1bmN0aW9uIGRyYXdfYm9yZGVyKGNvbnRleHQsIHksIHdpZHRoKSB7XG4gIGNvbnRleHQuYmVnaW5QYXRoKCk7XG4gIGNvbnRleHQubW92ZVRvKDAsIHkpO1xuICBjb250ZXh0LmxpbmVUbyh3aWR0aCwgeSk7XG4gIGNvbnRleHQubGluZVdpZHRoID0gMTtcbiAgY29udGV4dC5zdHJva2VTdHlsZSA9IFwiIzk5OTk5OVwiO1xuICBjb250ZXh0LnN0cm9rZSgpO1xufVxuIiwibW9kdWxlLmV4cG9ydHMgPSBmdW5jdGlvbiBkcmF3X2NvbHVtbl9udW1iZXIoY29udGV4dCwgeCwgeSwgY29sX3dpZHRoLCBjb2xfbnVtLCBmb250c2l6ZSwgcmlnaHQpIHtcbiAgY29udGV4dC5mb250ID0gZm9udHNpemUgKyBcInB4IEFyaWFsXCI7XG4gIGNvbnRleHQudGV4dEFsaWduID0gcmlnaHQgPyBcInJpZ2h0XCIgOiBcImNlbnRlclwiO1xuICBjb250ZXh0LmZpbGxTdHlsZSA9IFwiIzY2NjY2NlwiO1xuICBjb250ZXh0LmZpbGxUZXh0KGNvbF9udW0sIHggKyAoY29sX3dpZHRoIC8gMiksIHkpO1xufVxuIiwibW9kdWxlLmV4cG9ydHMgPSBmdW5jdGlvbiBkcmF3X3RpY2tzKGNvbnRleHQsIHgsIHksIGhlaWdodCwgY29sb3IpIHtcbiAgY29sb3IgPSBjb2xvciB8fCAnIzk5OTk5OSc7XG4gIGNvbnRleHQuYmVnaW5QYXRoKCk7XG4gIGNvbnRleHQubW92ZVRvKHgsIHkpO1xuICBjb250ZXh0LmxpbmVUbyh4LCB5ICsgaGVpZ2h0KTtcbiAgY29udGV4dC5saW5lV2lkdGggPSAxO1xuICBjb250ZXh0LnN0cm9rZVN0eWxlID0gY29sb3I7XG4gIGNvbnRleHQuc3Ryb2tlKCk7XG59XG4iLCJ2YXIgcmVuZGVyV2l0aFRleHQgPSByZXF1aXJlKFwiLi9yZW5kZXJfd2l0aF90ZXh0LmpzXCIpO1xudmFyIHJlbmRlcldpdGhSZWN0ID0gcmVxdWlyZShcIi4vcmVuZGVyX3dpdGhfcmVjdHMuanNcIik7XG52YXIgamJvbmUgPSByZXF1aXJlKFwiamJvbmVcIik7XG5cbi8vIHRoZSBtYWluIHJlbmRlciBmdW5jdGlvbiB0aGF0IGRyYXdzIHRoZSBsb2dvIGJhc2VkIG9uIHRoZSBwcm92aWRlZCBvcHRpb25zLlxubW9kdWxlLmV4cG9ydHMgPSBmdW5jdGlvbiAob3B0aW9ucykge1xuICBpZiAoIXRoaXMuZGF0YSkge1xuICAgIHJldHVybjtcbiAgfVxuICBvcHRpb25zICAgID0gb3B0aW9ucyB8fCB7fTtcbiAgdmFyIHpvb20gICA9IG9wdGlvbnMuem9vbSB8fCB0aGlzLnpvb20sXG4gIHRhcmdldCA9IG9wdGlvbnMudGFyZ2V0IHx8IDEsXG4gIHNjYWxlZCA9IG9wdGlvbnMuc2NhbGVkIHx8IG51bGw7XG4gIHZhciBwYXJlbnRfd2lkdGggPSB0aGlzLmRvbV9lbGVtZW50LnBhcmVudCgpLmF0dHIoJ3dpZHRoJyksXG4gIG1heF9jYW52YXNfd2lkdGggPSAxLFxuICBlbmQgPSBudWxsLFxuICBzdGFydCA9IG51bGwsXG4gIGkgPSAwO1xuXG4gIC8qXG4gIGlmICh0YXJnZXQgPT09IHRoaXMucHJldmlvdXNfdGFyZ2V0KSB7XG4gICAgcmV0dXJuO1xuICB9XG4gICovXG5cbiAgdGhpcy5wcmV2aW91c190YXJnZXQgPSB0YXJnZXQ7XG5cblxuICBpZiAob3B0aW9ucy5zdGFydCkge1xuICAgIHRoaXMuc3RhcnQgPSBvcHRpb25zLnN0YXJ0O1xuICB9XG4gIGlmIChvcHRpb25zLmVuZCkge1xuICAgIHRoaXMuZW5kID0gb3B0aW9ucy5lbmQ7XG4gIH1cblxuICBpZiAoem9vbSA8PSAwLjEpIHtcbiAgICB6b29tID0gMC4xO1xuICB9IGVsc2UgaWYgKHpvb20gPj0gMSkge1xuICAgIHpvb20gPSAxO1xuICB9XG5cbiAgdGhpcy56b29tID0gem9vbTtcblxuICBlbmQgPSB0aGlzLmVuZCB8fCB0aGlzLmRhdGEuaGVpZ2h0QXJyLmxlbmd0aDtcbiAgc3RhcnQgPSB0aGlzLnN0YXJ0IHx8IDE7XG4gIGVuZCAgICAgPSAoZW5kID4gdGhpcy5kYXRhLmhlaWdodEFyci5sZW5ndGgpID8gdGhpcy5kYXRhLmhlaWdodEFyci5sZW5ndGggOiBlbmQ7XG4gIGVuZCAgICAgPSAoZW5kIDwgc3RhcnQpID8gc3RhcnQgOiBlbmQ7XG5cbiAgc3RhcnQgICAgID0gKHN0YXJ0ID4gZW5kKSA/IGVuZCA6IHN0YXJ0O1xuICBzdGFydCAgICAgPSAoc3RhcnQgPiAxKSA/IHN0YXJ0IDogMTtcblxuICB0aGlzLnkgPSB0aGlzLmhlaWdodCAtIDIwO1xuICAvLyBDaGVjayB0byBzZWUgaWYgdGhlIGxvZ28gd2lsbCBmaXQgb24gdGhlIHNjcmVlbiBhdCBmdWxsIHpvb20uXG4gIHRoaXMubWF4X3dpZHRoID0gdGhpcy5jb2x1bW5fd2lkdGggKiAoKGVuZCAtIHN0YXJ0KSArIDEpO1xuICAvLyBJZiBpdCBmaXRzIHRoZW4gem9vbSBvdXQgYW5kIGRpc2FibGUgem9vbWluZy5cbiAgaWYgKHBhcmVudF93aWR0aCA+IHRoaXMubWF4X3dpZHRoKSB7XG4gICAgem9vbSA9IDE7XG4gICAgdGhpcy56b29tX2VuYWJsZWQgPSBmYWxzZTtcbiAgfVxuICB0aGlzLnpvb20gPSB6b29tO1xuXG4gIHRoaXMuem9vbWVkX2NvbHVtbiA9IHRoaXMuY29sdW1uX3dpZHRoICogem9vbTtcbiAgdGhpcy50b3RhbF93aWR0aCA9IHRoaXMuem9vbWVkX2NvbHVtbiAqICgoZW5kIC0gc3RhcnQpICsgMSk7XG5cbiAgLy8gSWYgem9vbSBpcyBub3QgbWF4ZWQgYW5kIHdlIHN0aWxsIGFyZW4ndCBmaWxsaW5nIHRoZSB3aW5kb3dcbiAgLy8gdGhlbiByYW1wIHVwIHRoZSB6b29tIGxldmVsIHVudGlsIGl0IGZpdHMsIHRoZW4gZGlzYWJsZSB6b29taW5nLlxuICAvLyBUaGVuIHdlIGdldCBhIGRlY2VudCBsb2dvIHdpdGggb3V0IG5lZWRpbmcgdG8gem9vbSBpbiBvciBvdXQuXG4gIGlmICh6b29tIDwgMSkge1xuICAgIHdoaWxlICh0aGlzLnRvdGFsX3dpZHRoIDwgcGFyZW50X3dpZHRoKSB7XG4gICAgICB0aGlzLnpvb20gKz0gMC4xO1xuICAgICAgdGhpcy56b29tZWRfY29sdW1uID0gdGhpcy5jb2x1bW5fd2lkdGggKiB0aGlzLnpvb207XG4gICAgICB0aGlzLnRvdGFsX3dpZHRoID0gdGhpcy56b29tZWRfY29sdW1uICogKChlbmQgLSBzdGFydCkgKyAxKTtcbiAgICAgIHRoaXMuem9vbV9lbmFibGVkID0gZmFsc2U7XG4gICAgICBpZiAoem9vbSA+PSAxKSB7XG4gICAgICAgIGJyZWFrO1xuICAgICAgfVxuICAgIH1cbiAgfVxuXG4gIGlmICh0YXJnZXQgPiB0aGlzLnRvdGFsX3dpZHRoKSB7XG4gICAgdGFyZ2V0ID0gdGhpcy50b3RhbF93aWR0aDtcbiAgfVxuICB0aGlzLmRvbV9lbGVtZW50LmF0dHIoeyd3aWR0aCc6IHRoaXMudG90YWxfd2lkdGggKyAncHgnfSkuY3NzKHt3aWR0aDogdGhpcy50b3RhbF93aWR0aCArICdweCd9KTtcblxuICB0aGlzLmNhbnZhc193aWR0aCA9IHRoaXMudG90YWxfd2lkdGg7XG4gIHZhciBjYW52YXNfY291bnQgPSBNYXRoLmNlaWwodGhpcy50b3RhbF93aWR0aCAvIHRoaXMuY2FudmFzX3dpZHRoKTtcbiAgdGhpcy5jb2x1bW5zX3Blcl9jYW52YXMgPSBNYXRoLmNlaWwodGhpcy5jYW52YXNfd2lkdGggLyB0aGlzLnpvb21lZF9jb2x1bW4pO1xuXG5cbiAgaWYgKHRoaXMucHJldmlvdXNfem9vbSAhPT0gdGhpcy56b29tKSB7XG4gICAgdGhpcy5kb21fZWxlbWVudC5maW5kKCdjYW52YXMnKS5yZW1vdmUoKTtcbiAgICB0aGlzLnByZXZpb3VzX3pvb20gPSB0aGlzLnpvb207XG4gICAgdGhpcy5yZW5kZXJlZCA9IFtdO1xuICB9XG5cbiAgdGhpcy5jYW52YXNlcyA9IFtdO1xuICB0aGlzLmNvbnRleHRzID0gW107XG5cblxuICBmb3IgKGkgPSAwOyBpIDwgY2FudmFzX2NvdW50OyBpKyspIHtcblxuICAgIHZhciBzcGxpdF9zdGFydCA9ICh0aGlzLmNvbHVtbnNfcGVyX2NhbnZhcyAqIGkpICsgc3RhcnQsXG4gICAgc3BsaXRfZW5kICAgPSBzcGxpdF9zdGFydCArIHRoaXMuY29sdW1uc19wZXJfY2FudmFzIC0gMTtcbiAgICBpZiAoc3BsaXRfZW5kID4gZW5kKSB7XG4gICAgICBzcGxpdF9lbmQgPSBlbmQ7XG4gICAgfVxuXG4gICAgdmFyIGFkanVzdGVkX3dpZHRoID0gKChzcGxpdF9lbmQgLSBzcGxpdF9zdGFydCkgKyAxKSAqIHRoaXMuem9vbWVkX2NvbHVtbjtcblxuICAgIGlmIChhZGp1c3RlZF93aWR0aCA+IG1heF9jYW52YXNfd2lkdGgpIHtcbiAgICAgIG1heF9jYW52YXNfd2lkdGggPSBhZGp1c3RlZF93aWR0aDtcbiAgICB9XG5cbiAgICB2YXIgY2Fudl9zdGFydCA9IG1heF9jYW52YXNfd2lkdGggKiBpLFxuICAgIGNhbnZfZW5kID0gY2Fudl9zdGFydCArIGFkanVzdGVkX3dpZHRoO1xuXG4gICAgaWYgKHRhcmdldCA8IGNhbnZfZW5kICsgKGNhbnZfZW5kIC8gMikgJiYgdGFyZ2V0ID4gY2Fudl9zdGFydCAtIChjYW52X3N0YXJ0IC8gMikpIHtcbiAgICAgIC8vIENoZWNrIHRoYXQgd2UgYXJlbid0IHJlZHJhd2luZyB0aGUgY2FudmFzIGFuZCBpZiBub3QsIHRoZW4gYXR0YWNoIGl0IGFuZCBkcmF3LlxuICAgICAgLy9pZiAodGhpcy5yZW5kZXJlZFtpXSAhPT0gMSkge1xuXG4gICAgICAgIHRoaXMuY2FudmFzZXNbaV0gPSBhdHRhY2hfY2FudmFzKHRoaXMuZG9tX2VsZW1lbnQsIHRoaXMuaGVpZ2h0LCBhZGp1c3RlZF93aWR0aCwgaSwgbWF4X2NhbnZhc193aWR0aCk7XG4gICAgICAgIHRoaXMuY29udGV4dHNbaV0gPSB0aGlzLmNhbnZhc2VzW2ldLmdldENvbnRleHQoJzJkJyk7XG4gICAgICAgIHRoaXMuY29udGV4dHNbaV0uc2V0VHJhbnNmb3JtKDEsIDAsIDAsIDEsIDAsIDApO1xuICAgICAgICB0aGlzLmNvbnRleHRzW2ldLmNsZWFyUmVjdCgwLCAwLCBhZGp1c3RlZF93aWR0aCwgdGhpcy5oZWlnaHQpO1xuICAgICAgICB0aGlzLmNvbnRleHRzW2ldLmZpbGxTdHlsZSA9IFwiI2ZmZmZmZlwiO1xuICAgICAgICB0aGlzLmNvbnRleHRzW2ldLmZpbGxSZWN0KDAsIDAsIGNhbnZfZW5kLCB0aGlzLmhlaWdodCk7XG5cblxuICAgICAgICBpZiAodGhpcy56b29tZWRfY29sdW1uID4gMTIpIHtcbiAgICAgICAgICB2YXIgZm9udHNpemUgPSBwYXJzZUludCgxMCAqIHpvb20sIDEwKTtcbiAgICAgICAgICBmb250c2l6ZSA9IChmb250c2l6ZSA+IDEwKSA/IDEwIDogZm9udHNpemU7XG4gICAgICAgICAgaWYgKHRoaXMuZGVidWcpIHtcbiAgICAgICAgICAgIHJlbmRlcldpdGhSZWN0LmNhbGwodGhpcyxzcGxpdF9zdGFydCwgc3BsaXRfZW5kLCBpLCAxKTtcbiAgICAgICAgICB9XG4gICAgICAgICAgcmVuZGVyV2l0aFRleHQuY2FsbCh0aGlzLHNwbGl0X3N0YXJ0LCBzcGxpdF9lbmQsIGksIGZvbnRzaXplKTtcbiAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICByZW5kZXJXaXRoUmVjdC5jYWxsKHRoaXMsc3BsaXRfc3RhcnQsIHNwbGl0X2VuZCwgaSk7XG4gICAgICAgIH1cbiAgICAgICAgLy90aGlzLnJlbmRlcmVkW2ldID0gMTtcbiAgICAgIC8vfVxuICAgIH1cblxuICB9XG5cbiAgLy8gY2hlY2sgaWYgdGhlIHNjcm9sbGVyIG9iamVjdCBoYXMgYmVlbiBpbml0aWFsaXNlZCBhbmQgaWYgbm90IHRoZW4gZG8gc28uXG4gIC8vIHdlIGRvIHRoaXMgaGVyZSBhcyBvcHBvc2VkIHRvIGF0IG9iamVjdCBjcmVhdGlvbiwgYmVjYXVzZSB3ZSBuZWVkIHRvXG4gIC8vIG1ha2Ugc3VyZSB0aGUgbG9nbyBoYXMgYmVlbiByZW5kZXJlZCBhbmQgdGhlIHdpZHRoIGlzIGNvcnJlY3QsIG90aGVyd2lzZVxuICAvLyB3ZSBnZXQgYSB3ZWlyZCBpbml0aWFsIHN0YXRlIHdoZXJlIHRoZSBjYW52YXMgd2lsbCBib3VuY2UgYmFjayB0byB0aGVcbiAgLy8gYmVnaW5uaW5nIHRoZSBmaXJzdCB0aW1lIGl0IGlzIHNjcm9sbGVkLCBiZWNhdXNlIGl0IHRoaW5rcyBpdCBoYXMgYVxuICAvLyB3aWR0aCBvZiAwLlxuICBpZiAoIXRoaXMuc2Nyb2xsbWUgJiYgdGhpcy5vcHRpb25zLnNjcm9sbGVyKSB7XG4gICAgdGhpcy5zY3JvbGxtZSA9IG5ldyBFYXN5U2Nyb2xsZXIodGhpcy5kb21fZWxlbWVudFswXSwge1xuICAgICAgc2Nyb2xsaW5nWDogMSxcbiAgICAgIHNjcm9sbGluZ1k6IDAsXG4gICAgICBldmVudFRhcmdldDogdGhpcy5jYWxsZWRfb25cbiAgICB9KTtcbiAgfVxuXG4gIGlmICh0YXJnZXQgIT09IDEpIHtcbiAgICB0aGlzLnNjcm9sbG1lLnJlZmxvdygpO1xuICB9XG4gIHJldHVybjtcbn07XG5cblxuZnVuY3Rpb24gYXR0YWNoX2NhbnZhcyhET01pZCwgaGVpZ2h0LCB3aWR0aCwgaWQsIGNhbnZfd2lkdGgpIHtcbiAgdmFyIGNhbnZhcyA9IGpib25lKERPTWlkKS5maW5kKCcjY2Fudl8nICsgaWQpO1xuXG4gIGlmICghY2FudmFzLmxlbmd0aCkge1xuICAgIGpib25lKERPTWlkKS5hcHBlbmQoJzxjYW52YXMgY2xhc3M9XCJjYW52YXNfbG9nb1wiIGlkPVwiY2Fudl8nICsgaWQgKyAnXCIgIGhlaWdodD1cIicgKyBoZWlnaHQgKyAnXCIgd2lkdGg9XCInICsgd2lkdGggKyAnXCIgc3R5bGU9XCJsZWZ0OicgKyBjYW52X3dpZHRoICogaWQgKyAncHhcIj48L2NhbnZhcz4nKTtcbiAgICBjYW52YXMgPSBqYm9uZShET01pZCkuZmluZCgnI2NhbnZfJyArIGlkKTtcbiAgfVxuXG4gIGpib25lKGNhbnZhcykuYXR0cignd2lkdGgnLCB3aWR0aCkuYXR0cignaGVpZ2h0JywgaGVpZ2h0KTtcblxuICByZXR1cm4gY2FudmFzWzBdO1xufVxuIiwidmFyIGRyYXdfYm9yZGVyID0gcmVxdWlyZShcIi4vZHJhdy9ib3JkZXIuanNcIik7XG52YXIgZHJhd190aWNrcyA9IHJlcXVpcmUoXCIuL2RyYXcvdGlja3MuanNcIik7XG52YXIgZHJhd19jb2x1bW5fbnVtYmVyID0gcmVxdWlyZShcIi4vZHJhdy9jb2x1bW5fbnVtYmVyLmpzXCIpO1xuXG5tb2R1bGUuZXhwb3J0cyA9IGZ1bmN0aW9uIChzdGFydCwgZW5kLCBjb250ZXh0X251bSwgYm9yZGVycykge1xuICB2YXIgeCA9IDAsXG4gIGNvbHVtbl9udW0gPSBzdGFydCxcbiAgY29sdW1uX2xhYmVsID0gbnVsbCxcbiAgaSA9IDAsXG4gIHRvcF9oZWlnaHQgPSBNYXRoLmFicyh0aGlzLmRhdGEubWF4X2hlaWdodCksXG4gIGJvdHRvbV9oZWlnaHQgPSBNYXRoLmFicyh0aGlzLmRhdGEubWluX2hlaWdodF9vYnMpLFxuICB0b3RhbF9oZWlnaHQgPSB0b3BfaGVpZ2h0ICsgYm90dG9tX2hlaWdodCxcbiAgdG9wX3BlcmNlbnRhZ2UgICAgPSBNYXRoLnJvdW5kKChNYXRoLmFicyh0aGlzLmRhdGEubWF4X2hlaWdodCkgKiAxMDApIC8gdG90YWxfaGVpZ2h0KSxcbiAgLy9jb252ZXJ0ICUgdG8gcGl4ZWxzXG4gIHRvcF9waXhfaGVpZ2h0ID0gTWF0aC5yb3VuZCgodGhpcy5pbmZvX2NvbnRlbnRfaGVpZ2h0ICogdG9wX3BlcmNlbnRhZ2UpIC8gMTAwKSxcbiAgYm90dG9tX3BpeF9oZWlnaHQgPSB0aGlzLmluZm9fY29udGVudF9oZWlnaHQgLSB0b3BfcGl4X2hlaWdodCxcbiAgbW9kID0gMTA7XG5cblxuICBmb3IgKGkgPSBzdGFydDsgaSA8PSBlbmQ7IGkrKykge1xuICAgIGlmICh0aGlzLmRhdGEubW1saW5lICYmIHRoaXMuZGF0YS5tbWxpbmVbaSAtIDFdID09PSAxKSB7XG4gICAgICB0aGlzLmNvbnRleHRzW2NvbnRleHRfbnVtXS5maWxsU3R5bGUgPSAnI2NjY2NjYyc7XG4gICAgICB0aGlzLmNvbnRleHRzW2NvbnRleHRfbnVtXS5maWxsUmVjdCh4LCAxMCwgdGhpcy56b29tZWRfY29sdW1uLCB0aGlzLmhlaWdodCAtIDQwKTtcbiAgICB9IGVsc2Uge1xuICAgICAgdmFyIGNvbHVtbiA9IHRoaXMuZGF0YS5oZWlnaHRBcnJbaSAtIDFdLFxuICAgICAgcHJldmlvdXNfaGVpZ2h0ID0gMCxcbiAgICAgIHByZXZpb3VzX25lZ19oZWlnaHQgPSB0b3BfcGl4X2hlaWdodCxcbiAgICAgIGxldHRlcnMgPSBjb2x1bW4ubGVuZ3RoLFxuICAgICAgaiA9IDA7XG4gICAgICBmb3IodmFyIGogaW4gY29sdW1uKXtcbiAgICAgICAgdmFsdWVzID0gW2osY29sdW1uW2pdXTtcbiAgICAgICAgaWYgKHZhbHVlc1sxXSA+IDAuMDEpIHtcbiAgICAgICAgICB2YXIgbGV0dGVyX2hlaWdodCA9IHBhcnNlRmxvYXQodmFsdWVzWzFdKSAvIHRoaXMuZGF0YS5tYXhfaGVpZ2h0LFxuICAgICAgICAgIHhfcG9zID0geCxcbiAgICAgICAgICBnbHlwaF9oZWlnaHQgPSAodGhpcy5pbmZvX2NvbnRlbnRfaGVpZ2h0IC0gMikgKiBsZXR0ZXJfaGVpZ2h0LFxuICAgICAgICAgIHlfcG9zID0gKHRoaXMuaW5mb19jb250ZW50X2hlaWdodCAtIDIpIC0gcHJldmlvdXNfaGVpZ2h0IC0gZ2x5cGhfaGVpZ2h0LFxuICAgICAgICAgIGNvbG9yID0gbnVsbDtcblxuXG4gICAgICAgICAgaWYodGhpcy5jb2xvcnNjaGVtZSA9PT0gJ2R5bmFtaWMnKXtcbiAgICAgICAgICAgIGNvbG9yID0gdGhpcy5jb2xvcnMuZ2V0Q29sb3IodmFsdWVzWzBdLCB7cG9zOiBpIC0gMX0gKVxuICAgICAgICAgIH1lbHNle1xuICAgICAgICAgICAgaWYodGhpcy5jb2xvcnNjaGVtZSA9PT0gJ2NvbnNlbnN1cycpIHtcbiAgICAgICAgICAgICAgY29sb3IgPSB0aGlzLmNtYXBbaSAtIDFdW3ZhbHVlc1swXV0gfHwgXCIjN2E3YTdhXCI7XG4gICAgICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgICBjb2xvciA9IHRoaXMuY29sb3JzW3ZhbHVlc1swXV07XG4gICAgICAgICAgICB9XG4gICAgICAgICAgfVxuXG4gICAgICAgICAgaWYgKGJvcmRlcnMpIHtcbiAgICAgICAgICAgIHRoaXMuY29udGV4dHNbY29udGV4dF9udW1dLnN0cm9rZVN0eWxlID0gY29sb3I7XG4gICAgICAgICAgICB0aGlzLmNvbnRleHRzW2NvbnRleHRfbnVtXS5zdHJva2VSZWN0KHhfcG9zLCB5X3BvcywgdGhpcy56b29tZWRfY29sdW1uLCBnbHlwaF9oZWlnaHQpO1xuICAgICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICB0aGlzLmNvbnRleHRzW2NvbnRleHRfbnVtXS5maWxsU3R5bGUgPSBjb2xvcjtcbiAgICAgICAgICAgIHRoaXMuY29udGV4dHNbY29udGV4dF9udW1dLmZpbGxSZWN0KHhfcG9zLCB5X3BvcywgdGhpcy56b29tZWRfY29sdW1uLCBnbHlwaF9oZWlnaHQpO1xuICAgICAgICAgIH1cblxuICAgICAgICAgIHByZXZpb3VzX2hlaWdodCA9IHByZXZpb3VzX2hlaWdodCArIGdseXBoX2hlaWdodDtcbiAgICAgICAgfVxuICAgICAgfVxuICAgIH1cblxuXG4gICAgaWYgKHRoaXMuem9vbSA8IDAuMikge1xuICAgICAgbW9kID0gMjA7XG4gICAgfSBlbHNlIGlmICh0aGlzLnpvb20gPCAwLjMpIHtcbiAgICAgIG1vZCA9IDEwO1xuICAgIH1cblxuICAgIGlmKHRoaXMub3B0aW9ucy5wb3NpdGlvbk1hcmtlcil7XG4gICAgICBpZiAoaSAlIG1vZCA9PT0gMCkge1xuICAgICAgICAvLyBkcmF3IGNvbHVtbiBkaXZpZGVyc1xuICAgICAgICBpZih0aGlzLm9wdGlvbnMuc2hvd19wcm9icyl7XG4gICAgICAgICAgZHJhd190aWNrcyh0aGlzLmNvbnRleHRzW2NvbnRleHRfbnVtXSwgeCArIHRoaXMuem9vbWVkX2NvbHVtbiwgdGhpcy5oZWlnaHQgLSAzMCwgcGFyc2VGbG9hdCh0aGlzLmhlaWdodCksICcjZGRkZGRkJyk7XG4gICAgICAgIH1cbiAgICAgICAgLy8gZHJhdyB0b3AgdGlja3NcbiAgICAgICAgZHJhd190aWNrcyh0aGlzLmNvbnRleHRzW2NvbnRleHRfbnVtXSwgeCArIHRoaXMuem9vbWVkX2NvbHVtbiwgMCwgNSk7XG5cbiAgICAgICAgLy8gaWYgYWxpX2Nvb3JkaW5hdGVzIGV4aXN0IGFuZCB0b2dnbGUgaXMgc2V0IHRoZW4gZGlzcGxheSB0aGVcbiAgICAgICAgLy8gYWxpZ25tZW50IGNvb3JkaW5hdGVzIGFuZCBub3QgdGhlIG1vZGVsIGNvb3JkaW5hdGVzLlxuICAgICAgICBpZiAodGhpcy5kaXNwbGF5X2FsaV9tYXApIHtcbiAgICAgICAgICBjb2x1bW5fbGFiZWwgPSB0aGlzLmRhdGEuYWxpX21hcFtpIC0gMV07XG4gICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgY29sdW1uX2xhYmVsID0gY29sdW1uX251bTtcbiAgICAgICAgfVxuICAgICAgICAvLyBkcmF3IGNvbHVtbiBudW1iZXJzXG4gICAgICAgIGRyYXdfY29sdW1uX251bWJlcih0aGlzLmNvbnRleHRzW2NvbnRleHRfbnVtXSwgeCAtIDIsICAxMCwgdGhpcy56b29tZWRfY29sdW1uLCBjb2x1bW5fbGFiZWwsIDEwLCB0cnVlKTtcbiAgICAgIH1cblxuICAgIH1cblxuXG4gICAgLy8gZHJhdyBpbnNlcnQgcHJvYmFiaWxpdGllcy9sZW5ndGhzXG4gICAgaWYodGhpcy5vcHRpb25zLnNob3dfcHJvYnMpe1xuICAgICAgZHJhd19zbWFsbF9pbnNlcnQoXG4gICAgICAgIHRoaXMuY29udGV4dHNbY29udGV4dF9udW1dLFxuICAgICAgICB4LFxuICAgICAgICB0aGlzLmhlaWdodCAtIDQyLFxuICAgICAgICB0aGlzLnpvb21lZF9jb2x1bW4sXG4gICAgICAgIHRoaXMuZGF0YS5pbnNlcnRfcHJvYnNbaSAtIDFdLFxuICAgICAgICB0aGlzLmRhdGEuaW5zZXJ0X2xlbmd0aHNbaSAtIDFdLFxuICAgICAgICB0aGlzLmRhdGEuZGVsZXRlX3Byb2JzW2kgLSAxXSxcbiAgICAgICAgdGhpcy5zaG93X2luc2VydHNcbiAgICAgICk7XG4gICAgfVxuXG4gICAgaWYodGhpcy5vcHRpb25zLnNob3dfcHJvYnMpe1xuICAgICAgLy8gZHJhdyBvdGhlciBkaXZpZGVyc1xuICAgICAgaWYgKHRoaXMuc2hvd19pbnNlcnRzKSB7XG4gICAgICAgIGRyYXdfYm9yZGVyKHRoaXMuY29udGV4dHNbY29udGV4dF9udW1dLCB0aGlzLmhlaWdodCAtIDQ1LCB0aGlzLnRvdGFsX3dpZHRoKTtcbiAgICAgIH0gZWxzZSB7XG4gICAgICAgIGRyYXdfYm9yZGVyKHRoaXMuY29udGV4dHNbY29udGV4dF9udW1dLCB0aGlzLmhlaWdodCAtIDE1LCB0aGlzLnRvdGFsX3dpZHRoKTtcbiAgICAgIH1cbiAgICB9XG5cbiAgICBpZih0aGlzLm9wdGlvbnMuYm9yZGVyKXtcbiAgICAgIGRyYXdfYm9yZGVyKHRoaXMuY29udGV4dHNbY29udGV4dF9udW1dLCAwLCB0aGlzLnRvdGFsX3dpZHRoKTtcbiAgICB9XG5cbiAgICB4ICs9IHRoaXMuem9vbWVkX2NvbHVtbjtcbiAgICBjb2x1bW5fbnVtKys7XG4gIH1cblxufTtcblxuXG5mdW5jdGlvbiBkcmF3X3NtYWxsX2luc2VydChjb250ZXh0LCB4LCB5LCBjb2xfd2lkdGgsIGluX29kZHMsIGluX2xlbmd0aCwgZGVsX29kZHMsIHNob3dfaW5zZXJ0cykge1xuICB2YXIgZmlsbCA9IFwiI2ZmZmZmZlwiO1xuICBpZiAoc2hvd19pbnNlcnRzKSB7XG4gICAgaWYgKGluX29kZHMgPiAwLjEpIHtcbiAgICAgIGZpbGwgPSAnI2Q3MzAxZic7XG4gICAgfSBlbHNlIGlmIChpbl9vZGRzID4gMC4wNSkge1xuICAgICAgZmlsbCA9ICcjZmM4ZDU5JztcbiAgICB9IGVsc2UgaWYgKGluX29kZHMgPiAwLjAzKSB7XG4gICAgICBmaWxsID0gJyNmZGNjOGEnO1xuICAgIH1cbiAgICBjb250ZXh0LmZpbGxTdHlsZSA9IGZpbGw7XG4gICAgY29udGV4dC5maWxsUmVjdCh4LCB5ICsgMTUsIGNvbF93aWR0aCwgMTApO1xuXG4gICAgZmlsbCA9IFwiI2ZmZmZmZlwiO1xuICAgIC8vIGRyYXcgaW5zZXJ0IGxlbmd0aFxuICAgIGlmIChpbl9sZW5ndGggPiA5KSB7XG4gICAgICBmaWxsID0gJyNkNzMwMWYnO1xuICAgIH0gZWxzZSBpZiAoaW5fbGVuZ3RoID4gNykge1xuICAgICAgZmlsbCA9ICcjZmM4ZDU5JztcbiAgICB9IGVsc2UgaWYgKGluX2xlbmd0aCA+IDQpIHtcbiAgICAgIGZpbGwgPSAnI2ZkY2M4YSc7XG4gICAgfVxuICAgIGNvbnRleHQuZmlsbFN0eWxlID0gZmlsbDtcbiAgICBjb250ZXh0LmZpbGxSZWN0KHgsIHkgKyAzMCwgY29sX3dpZHRoLCAxMCk7XG4gIH0gZWxzZSB7XG4gICAgeSAgPSB5ICsgMzA7XG4gIH1cblxuICBmaWxsID0gXCIjZmZmZmZmXCI7XG4gIC8vIGRyYXcgZGVsZXRlIG9kZHNcbiAgaWYgKGRlbF9vZGRzIDwgMC43NSkge1xuICAgIGZpbGwgPSAnIzIxNzFiNSc7XG4gIH0gZWxzZSBpZiAoZGVsX29kZHMgPCAwLjg1KSB7XG4gICAgZmlsbCA9ICcjNmJhZWQ2JztcbiAgfSBlbHNlIGlmIChkZWxfb2RkcyA8IDAuOTUpIHtcbiAgICBmaWxsID0gJyNiZGQ3ZTcnO1xuICB9XG4gIGNvbnRleHQuZmlsbFN0eWxlID0gZmlsbDtcbiAgY29udGV4dC5maWxsUmVjdCh4LCB5LCBjb2xfd2lkdGgsIDEwKTtcbn1cblxuXG4iLCJ2YXIgZHJhd19ib3JkZXIgPSByZXF1aXJlKFwiLi9kcmF3L2JvcmRlci5qc1wiKTtcbnZhciBkcmF3X3RpY2tzID0gcmVxdWlyZShcIi4vZHJhdy90aWNrcy5qc1wiKTtcbnZhciBkcmF3X2NvbHVtbl9udW1iZXIgPSByZXF1aXJlKFwiLi9kcmF3L2NvbHVtbl9udW1iZXIuanNcIik7XG5cbm1vZHVsZS5leHBvcnRzID0gZnVuY3Rpb24gKHN0YXJ0LCBlbmQsIGNvbnRleHRfbnVtLCBmb250c2l6ZSkge1xuICB2YXIgeCA9IDAsXG4gIGNvbHVtbl9udW0gPSBzdGFydCxcbiAgY29sdW1uX2xhYmVsID0gbnVsbCxcbiAgaSA9IDAsXG4gIHRvcF9oZWlnaHQgPSBNYXRoLmFicyh0aGlzLmRhdGEubWF4X2hlaWdodCksXG4gIGJvdHRvbV9oZWlnaHQgPSAoaXNOYU4odGhpcy5kYXRhLm1pbl9oZWlnaHRfb2JzKSkgPyAwIDogcGFyc2VJbnQodGhpcy5kYXRhLm1pbl9oZWlnaHRfb2JzLCAxMCksXG4gIHRvdGFsX2hlaWdodCA9IHRvcF9oZWlnaHQgKyBNYXRoLmFicyhib3R0b21faGVpZ2h0KSxcbiAgdG9wX3BlcmNlbnRhZ2UgICAgPSBNYXRoLnJvdW5kKChNYXRoLmFicyh0aGlzLmRhdGEubWF4X2hlaWdodCkgKiAxMDApIC8gdG90YWxfaGVpZ2h0KSxcbiAgLy9jb252ZXJ0ICUgdG8gcGl4ZWxzXG4gIHRvcF9waXhfaGVpZ2h0ID0gTWF0aC5yb3VuZCgodGhpcy5pbmZvX2NvbnRlbnRfaGVpZ2h0ICogdG9wX3BlcmNlbnRhZ2UpIC8gMTAwKSxcbiAgYm90dG9tX3BpeF9oZWlnaHQgPSB0aGlzLmluZm9fY29udGVudF9oZWlnaHQgLSB0b3BfcGl4X2hlaWdodCxcbiAgLy8gdGhpcyBpcyB1c2VkIHRvIHRyYW5zZm9ybSB0aGUgMjU2cHggaGlnaCBsZXR0ZXJzIGludG8gdGhlIGNvcnJlY3Qgc2l6ZVxuICAvLyB3aGVuIGRpc3BsYXlpbmcgbmVnYXRpdmUgdmFsdWVzLCBzbyB0aGF0IHRoZXkgZml0IGFib3ZlIHRoZSAwIGxpbmUuXG4gIHRvcF9waXhfY29udmVyc2lvbiA9IHRvcF9waXhfaGVpZ2h0IC8gdGhpcy5pbmZvX2NvbnRlbnRfaGVpZ2h0LFxuICBib3R0b21fcGl4X2NvbnZlcnNpb24gPSBib3R0b21fcGl4X2hlaWdodCAvIHRoaXMuaW5mb19jb250ZW50X2hlaWdodDtcblxuICAvLyBhZGQgMyBleHRyYSBjb2x1bW5zIHNvIHRoYXQgbnVtYmVycyBkb24ndCBnZXQgY2xpcHBlZCBhdCB0aGUgZW5kIG9mIGEgY2FudmFzXG4gIC8vIHRoYXQgZW5kcyBiZWZvcmUgYSBsYXJnZSBjb2x1bW4uIERGMDAwMDgzMCB3YXMgc3VmZmVyaW5nIGF0IHpvb20gbGV2ZWwgMC42LFxuICAvLyBjb2x1bW4gMjIxNS4gVGhpcyBhZGRzIGEgbGl0dGxlIGV4dHJhIG92ZXJoZWFkLCBidXQgaXMgdGhlIGVhc2llc3QgZml4IGZvciBub3cuXG4gIGlmIChlbmQgKyAzIDw9IHRoaXMuZW5kKSB7XG4gICAgZW5kICs9IDM7XG4gIH1cblxuICBmb3IgKGkgPSBzdGFydDsgaSA8PSBlbmQ7IGkrKykge1xuICAgIGlmICh0aGlzLmRhdGEubW1saW5lICYmIHRoaXMuZGF0YS5tbWxpbmVbaSAtIDFdID09PSAxKSB7XG4gICAgICB0aGlzLmNvbnRleHRzW2NvbnRleHRfbnVtXS5maWxsU3R5bGUgPSAnI2NjY2NjYyc7XG4gICAgICB0aGlzLmNvbnRleHRzW2NvbnRleHRfbnVtXS5maWxsUmVjdCh4LCAxMCwgdGhpcy56b29tZWRfY29sdW1uLCB0aGlzLmhlaWdodCAtIDQwKTtcbiAgICB9IGVsc2Uge1xuICAgICAgdmFyIGNvbHVtbiA9IHRoaXMuZGF0YS5oZWlnaHRBcnJbaSAtIDFdLFxuICAgICAgY29sX3Bvc2l0aW9ucyA9IFtdO1xuICAgICAgaWYgKGNvbHVtbikge1xuICAgICAgICB2YXIgcHJldmlvdXNfaGVpZ2h0ID0gMCxcbiAgICAgICAgbGV0dGVycyA9IGNvbHVtbi5sZW5ndGgsXG4gICAgICAgIHByZXZpb3VzX25lZ19oZWlnaHQgPSB0b3BfcGl4X2hlaWdodCxcbiAgICAgICAgaiA9IDAsXG4gICAgICAgIGNvbG9yID0gbnVsbDtcblxuICAgICAgICBmb3IodmFyIGogaW4gY29sdW1uKXtcbiAgICAgICAgICB2YXIgbGV0dGVyID0gY29sdW1uW2pdLFxuICAgICAgICAgIHZhbHVlcyA9IFtqLGxldHRlcl07XG4gICAgICAgICAgeF9wb3MgPSB4ICsgKHRoaXMuem9vbWVkX2NvbHVtbiAvIDIpLFxuICAgICAgICAgIGxldHRlcl9oZWlnaHQgPSBudWxsO1xuXG4gICAgICAgICAgLy8gd2UgZG9uJ3QgcmVuZGVyIGFueXRoaW5nIHdpdGggYSB2YWx1ZSBiZXR3ZWVuIDAgYW5kIDAuMDEuIFRoZXNlXG4gICAgICAgICAgLy8gbGV0dGVycyB3b3VsZCBiZSB0b28gc21hbGwgdG8gYmUgbWVhbmluZ2Z1bCBvbiBhbnkgc2NhbGUsIHNvIHdlXG4gICAgICAgICAgLy8ganVzdCBzcXVhc2ggdGhlbSBvdXQuXG4gICAgICAgICAgaWYgKHZhbHVlc1sxXSA+IDAuMDEpIHtcbiAgICAgICAgICAgIGxldHRlcl9oZWlnaHQgPSBwYXJzZUZsb2F0KHZhbHVlc1sxXSkgLyB0aGlzLmRhdGEubWF4X2hlaWdodDtcbiAgICAgICAgICAgIHZhciB5X3BvcyA9ICh0aGlzLmluZm9fY29udGVudF9oZWlnaHQgLSAyKSAtIHByZXZpb3VzX2hlaWdodCxcbiAgICAgICAgICAgIGdseXBoX2hlaWdodCA9ICh0aGlzLmluZm9fY29udGVudF9oZWlnaHQgLSAyKSAqIGxldHRlcl9oZWlnaHQ7XG5cbiAgICAgICAgICAgIGNvbF9wb3NpdGlvbnNbal0gPSBbZ2x5cGhfaGVpZ2h0LCB0aGlzLnpvb21lZF9jb2x1bW4sIHhfcG9zLCB5X3Bvc107XG4gICAgICAgICAgICBwcmV2aW91c19oZWlnaHQgPSBwcmV2aW91c19oZWlnaHQgKyBnbHlwaF9oZWlnaHQ7XG4gICAgICAgICAgfVxuICAgICAgICB9XG5cbiAgICAgICAgLy8gcmVuZGVyIHRoZSBsZXR0ZXJzIGluIHJldmVyc2Ugb3JkZXIgc28gdGhhdCB0aGUgbGFyZ2VyIGxldHRlcnMgb24gdGhlIHRvcFxuICAgICAgICAvLyBkb24ndCBjbG9iYmVyIHRoZSBzbWFsbGVyIGxldHRlcnMgYmVsb3cgdGhlbS5cbiAgICAgICAgLy9mb3IgKGogPSBsZXR0ZXJzOyBqID49IDA7IGotLSkge1xuICAgICAgICBmb3IodmFyIGogaW4gY29sdW1uKXtcbiAgICAgICAgICBpZiAoY29sX3Bvc2l0aW9uc1tqXSAmJiB0aGlzLmxldHRlcnNbal0pIHtcblxuICAgICAgICAgICAgaWYodGhpcy5jb2xvcnNjaGVtZSA9PT0gJ2R5bmFtaWMnKXtcbiAgICAgICAgICAgICAgY29sb3IgPSB0aGlzLmNvbG9ycy5nZXRDb2xvcihqLCB7cG9zOiBpIC0gMX0gKTtcbiAgICAgICAgICAgIH1lbHNle1xuICAgICAgICAgICAgICBpZiAodGhpcy5jb2xvcnNjaGVtZSA9PT0gJ2NvbnNlbnN1cycpIHtcbiAgICAgICAgICAgICAgICBjb2xvciA9IHRoaXMuY21hcFtpIC0gMV1bal0gfHwgXCIjN2E3YTdhXCI7XG4gICAgICAgICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICAgICAgY29sb3IgPSBudWxsO1xuICAgICAgICAgICAgICB9XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICB0aGlzLmxldHRlcnNbal0uZHJhdyh0aGlzLmNvbnRleHRzW2NvbnRleHRfbnVtXSwgY29sX3Bvc2l0aW9uc1tqXVswXSwgY29sX3Bvc2l0aW9uc1tqXVsxXSwgY29sX3Bvc2l0aW9uc1tqXVsyXSwgY29sX3Bvc2l0aW9uc1tqXVszXSwgY29sb3IpO1xuICAgICAgICAgIH1cbiAgICAgICAgfVxuICAgICAgfVxuICAgIH1cblxuXG4gICAgLy8gaWYgYWxpX2Nvb3JkaW5hdGVzIGV4aXN0IGFuZCB0b2dnbGUgaXMgc2V0IHRoZW4gZGlzcGxheSB0aGVcbiAgICAvLyBhbGlnbm1lbnQgY29vcmRpbmF0ZXMgYW5kIG5vdCB0aGUgbW9kZWwgY29vcmRpbmF0ZXMuXG4gICAgaWYgKHRoaXMuZGlzcGxheV9hbGlfbWFwKSB7XG4gICAgICBjb2x1bW5fbGFiZWwgPSB0aGlzLmRhdGEuYWxpX21hcFtpIC0gMV07XG4gICAgfSBlbHNlIHtcbiAgICAgIGNvbHVtbl9sYWJlbCA9IGNvbHVtbl9udW07XG4gICAgfVxuXG4gICAgaWYodGhpcy5vcHRpb25zLnNob3dfZGl2aWRlcil7XG4gICAgICBpZiAodGhpcy56b29tIDwgMC43KSB7XG4gICAgICAgIGlmIChpICUgdGhpcy5vcHRpb25zLmRpdmlkZXJfc3RlcCA9PT0gMCkge1xuICAgICAgICAgIGRyYXdfY29sdW1uX2RpdmlkZXIodGhpcyx7XG4gICAgICAgICAgICBjb250ZXh0X251bSA6IGNvbnRleHRfbnVtLFxuICAgICAgICAgICAgeCA6IHgsXG4gICAgICAgICAgICBmb250c2l6ZTogMTAsXG4gICAgICAgICAgICBjb2x1bW5fbnVtOiBjb2x1bW5fbGFiZWwsXG4gICAgICAgICAgICByYWxpZ246IHRydWVcbiAgICAgICAgICB9KTtcbiAgICAgICAgfVxuICAgICAgfSBlbHNlIHtcbiAgICAgICAgZHJhd19jb2x1bW5fZGl2aWRlcih0aGlzLHtcbiAgICAgICAgICBjb250ZXh0X251bSA6IGNvbnRleHRfbnVtLFxuICAgICAgICAgIHggOiB4LFxuICAgICAgICAgIGZvbnRzaXplOiBmb250c2l6ZSxcbiAgICAgICAgICBjb2x1bW5fbnVtOiBjb2x1bW5fbGFiZWxcbiAgICAgICAgfSk7XG4gICAgICB9XG4gICAgfVxuXG4gICAgaWYodGhpcy5vcHRpb25zLnNob3dfcHJvYnMpe1xuICAgICAgZHJhd19kZWxldGVfb2Rkcyh0aGlzLmNvbnRleHRzW2NvbnRleHRfbnVtXSwgeCwgdGhpcy5oZWlnaHQsIHRoaXMuem9vbWVkX2NvbHVtbiwgdGhpcy5kYXRhLmRlbGV0ZV9wcm9ic1tpIC0gMV0sIGZvbnRzaXplLCB0aGlzLnNob3dfaW5zZXJ0cyk7XG4gICAgICAvL2RyYXcgaW5zZXJ0IGxlbmd0aCB0aWNrc1xuICAgICAgZHJhd190aWNrcyh0aGlzLmNvbnRleHRzW2NvbnRleHRfbnVtXSwgeCwgdGhpcy5oZWlnaHQgLSAxNSwgNSk7XG4gICAgICBpZiAodGhpcy5zaG93X2luc2VydHMpIHtcbiAgICAgICAgZHJhd19pbnNlcnRfb2Rkcyh0aGlzLmNvbnRleHRzW2NvbnRleHRfbnVtXSwgeCwgdGhpcy5oZWlnaHQsIHRoaXMuem9vbWVkX2NvbHVtbiwgdGhpcy5kYXRhLmluc2VydF9wcm9ic1tpIC0gMV0sIGZvbnRzaXplKTtcbiAgICAgICAgZHJhd19pbnNlcnRfbGVuZ3RoKHRoaXMuY29udGV4dHNbY29udGV4dF9udW1dLCB4LCB0aGlzLmhlaWdodCAtIDUsIHRoaXMuem9vbWVkX2NvbHVtbiwgdGhpcy5kYXRhLmluc2VydF9sZW5ndGhzW2kgLSAxXSwgZm9udHNpemUpO1xuXG4gICAgICAgIC8vIGRyYXcgZGVsZXRlIHByb2JhYmlsaXR5IHRpY2tzXG4gICAgICAgIGRyYXdfdGlja3ModGhpcy5jb250ZXh0c1tjb250ZXh0X251bV0sIHgsIHRoaXMuaGVpZ2h0IC0gNDUsIDUpO1xuICAgICAgICAvLyBkcmF3IGluc2VydCBwcm9iYWJpbGl0eSB0aWNrc1xuICAgICAgICBkcmF3X3RpY2tzKHRoaXMuY29udGV4dHNbY29udGV4dF9udW1dLCB4LCB0aGlzLmhlaWdodCAtIDMwLCA1KTtcbiAgICAgIH1cblxuICAgIH1cblxuICAgIHggKz0gdGhpcy56b29tZWRfY29sdW1uO1xuICAgIGNvbHVtbl9udW0rKztcbiAgfVxuXG5cbiAgaWYodGhpcy5vcHRpb25zLnNob3dfcHJvYnMpe1xuICAgIC8vIGRyYXcgb3RoZXIgZGl2aWRlcnNcbiAgICBpZiAodGhpcy5zaG93X2luc2VydHMpIHtcbiAgICAgIGRyYXdfYm9yZGVyKHRoaXMuY29udGV4dHNbY29udGV4dF9udW1dLCB0aGlzLmhlaWdodCAtIDMwLCB0aGlzLnRvdGFsX3dpZHRoKTtcbiAgICAgIGRyYXdfYm9yZGVyKHRoaXMuY29udGV4dHNbY29udGV4dF9udW1dLCB0aGlzLmhlaWdodCAtIDQ1LCB0aGlzLnRvdGFsX3dpZHRoKTtcbiAgICB9XG4gICAgZHJhd19ib3JkZXIodGhpcy5jb250ZXh0c1tjb250ZXh0X251bV0sIHRoaXMuaGVpZ2h0IC0gMTUsIHRoaXMudG90YWxfd2lkdGgpO1xuICB9XG4gIGlmKHRoaXMub3B0aW9ucy5ib3JkZXIpe1xuICAgIGRyYXdfYm9yZGVyKHRoaXMuY29udGV4dHNbY29udGV4dF9udW1dLCAwLCB0aGlzLnRvdGFsX3dpZHRoKTtcbiAgfVxufTtcblxuXG5mdW5jdGlvbiBkcmF3X2RlbGV0ZV9vZGRzKGNvbnRleHQsIHgsIGhlaWdodCwgY29sX3dpZHRoLCB0ZXh0LCBmb250c2l6ZSwgc2hvd19pbnNlcnRzKSB7XG4gIHZhciB5ICAgICAgICA9IGhlaWdodCAtIDQsXG4gIGZpbGwgICAgID0gJyNmZmZmZmYnLFxuICB0ZXh0ZmlsbCA9ICcjNTU1NTU1JztcblxuICBpZiAoc2hvd19pbnNlcnRzKSB7XG4gICAgeSA9IGhlaWdodCAtIDM1O1xuICB9XG5cbiAgaWYgKHRleHQgPCAwLjc1KSB7XG4gICAgZmlsbCAgICAgPSAnIzIxNzFiNSc7XG4gICAgdGV4dGZpbGwgPSAnI2ZmZmZmZic7XG4gIH0gZWxzZSBpZiAodGV4dCA8IDAuODUpIHtcbiAgICBmaWxsID0gJyM2YmFlZDYnO1xuICB9IGVsc2UgaWYgKHRleHQgPCAwLjk1KSB7XG4gICAgZmlsbCA9ICcjYmRkN2U3JztcbiAgfVxuXG4gIGRyYXdfcmVjdF93aXRoX3RleHQoY29udGV4dCwgeCwgeSwgdGV4dCwgZm9udHNpemUsIGNvbF93aWR0aCwgZmlsbCwgdGV4dGZpbGwpO1xufVxuXG5mdW5jdGlvbiBkcmF3X3JlY3Rfd2l0aF90ZXh0KGNvbnRleHQsIHgsIHksIHRleHQsIGZvbnRzaXplLCBjb2xfd2lkdGgsIGZpbGwsIHRleHRmaWxsKSB7XG4gIGNvbnRleHQuZm9udCA9IGZvbnRzaXplICsgXCJweCBBcmlhbFwiO1xuICBjb250ZXh0LmZpbGxTdHlsZSA9IGZpbGw7XG4gIGNvbnRleHQuZmlsbFJlY3QoeCwgeSAtIDEwLCBjb2xfd2lkdGgsIDE0KTtcbiAgY29udGV4dC50ZXh0QWxpZ24gPSBcImNlbnRlclwiO1xuICBjb250ZXh0LmZpbGxTdHlsZSA9IHRleHRmaWxsO1xuICBjb250ZXh0LmZpbGxUZXh0KHRleHQsIHggKyAoY29sX3dpZHRoIC8gMiksIHkpO1xufVxuXG5mdW5jdGlvbiBkcmF3X2NvbHVtbl9kaXZpZGVyKGluc3QsIG9wdHMpIHtcbiAgdmFyIGRpdl94ID0gb3B0cy5yYWxpZ24gPyBvcHRzLnggKyBpbnN0Lnpvb21lZF9jb2x1bW4gOiBvcHRzLngsXG4gIG51bV94ID0gb3B0cy5yYWxpZ24gPyBvcHRzLnggKyAyIDogb3B0cy54O1xuICAvLyBkcmF3IGNvbHVtbiBkaXZpZGVyc1xuICBkcmF3X3RpY2tzKGluc3QuY29udGV4dHNbb3B0cy5jb250ZXh0X251bV0sIGRpdl94LCBpbnN0LmhlaWdodCAtIDMwLCAtMzAgLSBpbnN0LmhlaWdodCwgJyNkZGRkZGQnKTtcbiAgLy8gZHJhdyB0b3AgdGlja3NcbiAgZHJhd190aWNrcyhpbnN0LmNvbnRleHRzW29wdHMuY29udGV4dF9udW1dLCBkaXZfeCwgMCwgNSk7XG4gIC8vIGRyYXcgY29sdW1uIG51bWJlcnNcbiAgZHJhd19jb2x1bW5fbnVtYmVyKGluc3QuY29udGV4dHNbb3B0cy5jb250ZXh0X251bV0sIG51bV94LCAxMCwgaW5zdC56b29tZWRfY29sdW1uLCBvcHRzLmNvbHVtbl9udW0sIG9wdHMuZm9udHNpemUsIG9wdHMucmFsaWduKTtcbn07XG5cblxuXG5mdW5jdGlvbiBkcmF3X2luc2VydF9vZGRzKGNvbnRleHQsIHgsIGhlaWdodCwgY29sX3dpZHRoLCB0ZXh0LCBmb250c2l6ZSkge1xuICB2YXIgeSAgICAgICAgPSBoZWlnaHQgLSAyMCxcbiAgZmlsbCAgICAgPSAnI2ZmZmZmZicsXG4gIHRleHRmaWxsID0gJyM1NTU1NTUnO1xuXG4gIGlmICh0ZXh0ID4gMC4xKSB7XG4gICAgZmlsbCAgICAgPSAnI2Q3MzAxZic7XG4gICAgdGV4dGZpbGwgPSAnI2ZmZmZmZic7XG4gIH0gZWxzZSBpZiAodGV4dCA+IDAuMDUpIHtcbiAgICBmaWxsID0gJyNmYzhkNTknO1xuICB9IGVsc2UgaWYgKHRleHQgPiAwLjAzKSB7XG4gICAgZmlsbCA9ICcjZmRjYzhhJztcbiAgfVxuXG4gIGRyYXdfcmVjdF93aXRoX3RleHQoY29udGV4dCwgeCwgeSwgdGV4dCwgZm9udHNpemUsIGNvbF93aWR0aCwgZmlsbCwgdGV4dGZpbGwpO1xuXG4gIC8vZHJhdyB2ZXJ0aWNhbCBsaW5lIHRvIGluZGljYXRlIHdoZXJlIHRoZSBpbnNlcnQgd291bGQgb2NjdXJcbiAgaWYgKHRleHQgPiAwLjAzKSB7XG4gICAgZHJhd190aWNrcyhjb250ZXh0LCB4ICsgY29sX3dpZHRoLCBoZWlnaHQgLSAzMCwgLTMwIC0gaGVpZ2h0LCBmaWxsKTtcbiAgfVxufVxuZnVuY3Rpb24gZHJhd19pbnNlcnRfbGVuZ3RoKGNvbnRleHQsIHgsIHksIGNvbF93aWR0aCwgdGV4dCwgZm9udHNpemUpIHtcbiAgdmFyIGZpbGwgPSAnI2ZmZmZmZicsXG4gIHRleHRmaWxsID0gJyM1NTU1NTUnO1xuXG4gIGlmICh0ZXh0ID4gOSkge1xuICAgIGZpbGwgICAgID0gJyNkNzMwMWYnO1xuICAgIHRleHRmaWxsID0gJyNmZmZmZmYnO1xuICB9IGVsc2UgaWYgKHRleHQgPiA3KSB7XG4gICAgZmlsbCA9ICcjZmM4ZDU5JztcbiAgfSBlbHNlIGlmICh0ZXh0ID4gNCkge1xuICAgIGZpbGwgPSAnI2ZkY2M4YSc7XG4gIH1cbiAgZHJhd19yZWN0X3dpdGhfdGV4dChjb250ZXh0LCB4LCB5LCB0ZXh0LCBmb250c2l6ZSwgY29sX3dpZHRoLCBmaWxsLCB0ZXh0ZmlsbCk7XG59XG4iLCIvKlxuICogSmF2YVNjcmlwdCBDYW52YXMgdG8gQmxvYiAyLjAuNVxuICogaHR0cHM6Ly9naXRodWIuY29tL2JsdWVpbXAvSmF2YVNjcmlwdC1DYW52YXMtdG8tQmxvYlxuICpcbiAqIENvcHlyaWdodCAyMDEyLCBTZWJhc3RpYW4gVHNjaGFuXG4gKiBodHRwczovL2JsdWVpbXAubmV0XG4gKlxuICogTGljZW5zZWQgdW5kZXIgdGhlIE1JVCBsaWNlbnNlOlxuICogaHR0cDovL3d3dy5vcGVuc291cmNlLm9yZy9saWNlbnNlcy9NSVRcbiAqXG4gKiBCYXNlZCBvbiBzdGFja292ZXJmbG93IHVzZXIgU3RvaXZlJ3MgY29kZSBzbmlwcGV0OlxuICogaHR0cDovL3N0YWNrb3ZlcmZsb3cuY29tL3EvNDk5ODkwOFxuICovXG52YXIgQ2FudmFzUHJvdG90eXBlID0gd2luZG93LkhUTUxDYW52YXNFbGVtZW50ICYmXG53aW5kb3cuSFRNTENhbnZhc0VsZW1lbnQucHJvdG90eXBlLFxuICBoYXNCbG9iQ29uc3RydWN0b3IgPSB3aW5kb3cuQmxvYiAmJiAoZnVuY3Rpb24gKCkge1xuICAgIHRyeSB7XG4gICAgICByZXR1cm4gQm9vbGVhbihuZXcgQmxvYigpKTtcbiAgICB9IGNhdGNoIChlKSB7XG4gICAgICByZXR1cm4gZmFsc2U7XG4gICAgfVxuICB9KCkpLFxuICBoYXNBcnJheUJ1ZmZlclZpZXdTdXBwb3J0ID0gaGFzQmxvYkNvbnN0cnVjdG9yICYmIHdpbmRvdy5VaW50OEFycmF5ICYmXG4gIChmdW5jdGlvbiAoKSB7XG4gICAgdHJ5IHtcbiAgICAgIHJldHVybiBuZXcgQmxvYihbbmV3IFVpbnQ4QXJyYXkoMTAwKV0pLnNpemUgPT09IDEwMDtcbiAgICB9IGNhdGNoIChlKSB7XG4gICAgICByZXR1cm4gZmFsc2U7XG4gICAgfVxuICB9KCkpLFxuICBCbG9iQnVpbGRlciA9IHdpbmRvdy5CbG9iQnVpbGRlciB8fCB3aW5kb3cuV2ViS2l0QmxvYkJ1aWxkZXIgfHxcbiAgd2luZG93Lk1vekJsb2JCdWlsZGVyIHx8IHdpbmRvdy5NU0Jsb2JCdWlsZGVyLFxuICBkYXRhVVJMdG9CbG9iID0gKGhhc0Jsb2JDb25zdHJ1Y3RvciB8fCBCbG9iQnVpbGRlcikgJiYgd2luZG93LmF0b2IgJiZcbiAgd2luZG93LkFycmF5QnVmZmVyICYmIHdpbmRvdy5VaW50OEFycmF5ICYmIGZ1bmN0aW9uIChkYXRhVVJJKSB7XG4gICAgdmFyIGJ5dGVTdHJpbmcsXG4gICAgYXJyYXlCdWZmZXIsXG4gICAgaW50QXJyYXksXG4gICAgICBpLFxuICAgICAgbWltZVN0cmluZyxcbiAgICAgICAgYmI7XG4gICAgaWYgKGRhdGFVUkkuc3BsaXQoJywnKVswXS5pbmRleE9mKCdiYXNlNjQnKSA+PSAwKSB7XG4gICAgICAvLyBDb252ZXJ0IGJhc2U2NCB0byByYXcgYmluYXJ5IGRhdGEgaGVsZCBpbiBhIHN0cmluZzpcbiAgICAgIGJ5dGVTdHJpbmcgPSBhdG9iKGRhdGFVUkkuc3BsaXQoJywnKVsxXSk7XG4gICAgfSBlbHNlIHtcbiAgICAgIC8vIENvbnZlcnQgYmFzZTY0L1VSTEVuY29kZWQgZGF0YSBjb21wb25lbnQgdG8gcmF3IGJpbmFyeSBkYXRhOlxuICAgICAgYnl0ZVN0cmluZyA9IGRlY29kZVVSSUNvbXBvbmVudChkYXRhVVJJLnNwbGl0KCcsJylbMV0pO1xuICAgIH1cbiAgICAvLyBXcml0ZSB0aGUgYnl0ZXMgb2YgdGhlIHN0cmluZyB0byBhbiBBcnJheUJ1ZmZlcjpcbiAgICBhcnJheUJ1ZmZlciA9IG5ldyBBcnJheUJ1ZmZlcihieXRlU3RyaW5nLmxlbmd0aCk7XG4gICAgaW50QXJyYXkgPSBuZXcgVWludDhBcnJheShhcnJheUJ1ZmZlcik7XG4gICAgZm9yIChpID0gMDsgaSA8IGJ5dGVTdHJpbmcubGVuZ3RoOyBpICs9IDEpIHtcbiAgICAgIGludEFycmF5W2ldID0gYnl0ZVN0cmluZy5jaGFyQ29kZUF0KGkpO1xuICAgIH1cbiAgICAvLyBTZXBhcmF0ZSBvdXQgdGhlIG1pbWUgY29tcG9uZW50OlxuICAgIG1pbWVTdHJpbmcgPSBkYXRhVVJJLnNwbGl0KCcsJylbMF0uc3BsaXQoJzonKVsxXS5zcGxpdCgnOycpWzBdO1xuICAgIC8vIFdyaXRlIHRoZSBBcnJheUJ1ZmZlciAob3IgQXJyYXlCdWZmZXJWaWV3KSB0byBhIGJsb2I6XG4gICAgaWYgKGhhc0Jsb2JDb25zdHJ1Y3Rvcikge1xuICAgICAgcmV0dXJuIG5ldyBCbG9iKFxuICAgICAgICAgIFtoYXNBcnJheUJ1ZmZlclZpZXdTdXBwb3J0ID8gaW50QXJyYXkgOiBhcnJheUJ1ZmZlcl0sXG4gICAgICAgICAge3R5cGU6IG1pbWVTdHJpbmd9XG4gICAgICAgICAgKTtcbiAgICB9XG4gICAgYmIgPSBuZXcgQmxvYkJ1aWxkZXIoKTtcbiAgICBiYi5hcHBlbmQoYXJyYXlCdWZmZXIpO1xuICAgIHJldHVybiBiYi5nZXRCbG9iKG1pbWVTdHJpbmcpO1xuICB9O1xuaWYgKHdpbmRvdy5IVE1MQ2FudmFzRWxlbWVudCAmJiAhQ2FudmFzUHJvdG90eXBlLnRvQmxvYikge1xuICBpZiAoQ2FudmFzUHJvdG90eXBlLm1vekdldEFzRmlsZSkge1xuICAgIENhbnZhc1Byb3RvdHlwZS50b0Jsb2IgPSBmdW5jdGlvbiAoY2FsbGJhY2ssIHR5cGUsIHF1YWxpdHkpIHtcbiAgICAgIGlmIChxdWFsaXR5ICYmIENhbnZhc1Byb3RvdHlwZS50b0RhdGFVUkwgJiYgZGF0YVVSTHRvQmxvYikge1xuICAgICAgICBjYWxsYmFjayhkYXRhVVJMdG9CbG9iKHRoaXMudG9EYXRhVVJMKHR5cGUsIHF1YWxpdHkpKSk7XG4gICAgICB9IGVsc2Uge1xuICAgICAgICBjYWxsYmFjayh0aGlzLm1vekdldEFzRmlsZSgnYmxvYicsIHR5cGUpKTtcbiAgICAgIH1cbiAgICB9O1xuICB9IGVsc2UgaWYgKENhbnZhc1Byb3RvdHlwZS50b0RhdGFVUkwgJiYgZGF0YVVSTHRvQmxvYikge1xuICAgIENhbnZhc1Byb3RvdHlwZS50b0Jsb2IgPSBmdW5jdGlvbiAoY2FsbGJhY2ssIHR5cGUsIHF1YWxpdHkpIHtcbiAgICAgIGNhbGxiYWNrKGRhdGFVUkx0b0Jsb2IodGhpcy50b0RhdGFVUkwodHlwZSwgcXVhbGl0eSkpKTtcbiAgICB9O1xuICB9XG59XG5cbm1vZHVsZS5leHBvcnRzID0gZGF0YVVSTHRvQmxvYjtcbiIsIi8qIEZpbGVTYXZlci5qc1xuICogIEEgc2F2ZUFzKCkgRmlsZVNhdmVyIGltcGxlbWVudGF0aW9uLlxuICogIDIwMTQtMDUtMjdcbiAqXG4gKiAgQnkgRWxpIEdyZXksIGh0dHA6Ly9lbGlncmV5LmNvbVxuICogIExpY2Vuc2U6IFgxMS9NSVRcbiAqICAgIFNlZSBodHRwczovL2dpdGh1Yi5jb20vZWxpZ3JleS9GaWxlU2F2ZXIuanMvYmxvYi9tYXN0ZXIvTElDRU5TRS5tZFxuICovXG5cbi8qZ2xvYmFsIHNlbGYgKi9cbi8qanNsaW50IGJpdHdpc2U6IHRydWUsIGluZGVudDogNCwgbGF4YnJlYWs6IHRydWUsIGxheGNvbW1hOiB0cnVlLCBzbWFydHRhYnM6IHRydWUsIHBsdXNwbHVzOiB0cnVlICovXG5cbi8qISBAc291cmNlIGh0dHA6Ly9wdXJsLmVsaWdyZXkuY29tL2dpdGh1Yi9GaWxlU2F2ZXIuanMvYmxvYi9tYXN0ZXIvRmlsZVNhdmVyLmpzICovXG5cbnZhciBzYXZlQXMgPSBzYXZlQXNcbiAgLy8gSUUgMTArIChuYXRpdmUgc2F2ZUFzKVxuICB8fCAodHlwZW9mIG5hdmlnYXRvciAhPT0gXCJ1bmRlZmluZWRcIiAmJlxuICAgICAgbmF2aWdhdG9yLm1zU2F2ZU9yT3BlbkJsb2IgJiYgbmF2aWdhdG9yLm1zU2F2ZU9yT3BlbkJsb2IuYmluZChuYXZpZ2F0b3IpKVxuICAvLyBFdmVyeW9uZSBlbHNlXG4gIHx8IChmdW5jdGlvbih2aWV3KSB7XG5cdFwidXNlIHN0cmljdFwiO1xuXHQvLyBJRSA8MTAgaXMgZXhwbGljaXRseSB1bnN1cHBvcnRlZFxuXHRpZiAodHlwZW9mIG5hdmlnYXRvciAhPT0gXCJ1bmRlZmluZWRcIiAmJlxuXHQgICAgL01TSUUgWzEtOV1cXC4vLnRlc3QobmF2aWdhdG9yLnVzZXJBZ2VudCkpIHtcblx0XHRyZXR1cm47XG5cdH1cblx0dmFyXG5cdFx0ICBkb2MgPSB2aWV3LmRvY3VtZW50XG5cdFx0ICAvLyBvbmx5IGdldCBVUkwgd2hlbiBuZWNlc3NhcnkgaW4gY2FzZSBCbG9iLmpzIGhhc24ndCBvdmVycmlkZGVuIGl0IHlldFxuXHRcdCwgZ2V0X1VSTCA9IGZ1bmN0aW9uKCkge1xuXHRcdFx0cmV0dXJuIHZpZXcuVVJMIHx8IHZpZXcud2Via2l0VVJMIHx8IHZpZXc7XG5cdFx0fVxuXHRcdCwgc2F2ZV9saW5rID0gZG9jLmNyZWF0ZUVsZW1lbnROUyhcImh0dHA6Ly93d3cudzMub3JnLzE5OTkveGh0bWxcIiwgXCJhXCIpXG5cdFx0LCBjYW5fdXNlX3NhdmVfbGluayA9ICF2aWV3LmV4dGVybmFsSG9zdCAmJiBcImRvd25sb2FkXCIgaW4gc2F2ZV9saW5rXG5cdFx0LCBjbGljayA9IGZ1bmN0aW9uKG5vZGUpIHtcblx0XHRcdHZhciBldmVudCA9IGRvYy5jcmVhdGVFdmVudChcIk1vdXNlRXZlbnRzXCIpO1xuXHRcdFx0ZXZlbnQuaW5pdE1vdXNlRXZlbnQoXG5cdFx0XHRcdFwiY2xpY2tcIiwgdHJ1ZSwgZmFsc2UsIHZpZXcsIDAsIDAsIDAsIDAsIDBcblx0XHRcdFx0LCBmYWxzZSwgZmFsc2UsIGZhbHNlLCBmYWxzZSwgMCwgbnVsbFxuXHRcdFx0KTtcblx0XHRcdG5vZGUuZGlzcGF0Y2hFdmVudChldmVudCk7XG5cdFx0fVxuXHRcdCwgd2Via2l0X3JlcV9mcyA9IHZpZXcud2Via2l0UmVxdWVzdEZpbGVTeXN0ZW1cblx0XHQsIHJlcV9mcyA9IHZpZXcucmVxdWVzdEZpbGVTeXN0ZW0gfHwgd2Via2l0X3JlcV9mcyB8fCB2aWV3Lm1velJlcXVlc3RGaWxlU3lzdGVtXG5cdFx0LCB0aHJvd19vdXRzaWRlID0gZnVuY3Rpb24oZXgpIHtcblx0XHRcdCh2aWV3LnNldEltbWVkaWF0ZSB8fCB2aWV3LnNldFRpbWVvdXQpKGZ1bmN0aW9uKCkge1xuXHRcdFx0XHR0aHJvdyBleDtcblx0XHRcdH0sIDApO1xuXHRcdH1cblx0XHQsIGZvcmNlX3NhdmVhYmxlX3R5cGUgPSBcImFwcGxpY2F0aW9uL29jdGV0LXN0cmVhbVwiXG5cdFx0LCBmc19taW5fc2l6ZSA9IDBcblx0XHQsIGRlbGV0aW9uX3F1ZXVlID0gW11cblx0XHQsIHByb2Nlc3NfZGVsZXRpb25fcXVldWUgPSBmdW5jdGlvbigpIHtcblx0XHRcdHZhciBpID0gZGVsZXRpb25fcXVldWUubGVuZ3RoO1xuXHRcdFx0d2hpbGUgKGktLSkge1xuXHRcdFx0XHR2YXIgZmlsZSA9IGRlbGV0aW9uX3F1ZXVlW2ldO1xuXHRcdFx0XHRpZiAodHlwZW9mIGZpbGUgPT09IFwic3RyaW5nXCIpIHsgLy8gZmlsZSBpcyBhbiBvYmplY3QgVVJMXG5cdFx0XHRcdFx0Z2V0X1VSTCgpLnJldm9rZU9iamVjdFVSTChmaWxlKTtcblx0XHRcdFx0fSBlbHNlIHsgLy8gZmlsZSBpcyBhIEZpbGVcblx0XHRcdFx0XHRmaWxlLnJlbW92ZSgpO1xuXHRcdFx0XHR9XG5cdFx0XHR9XG5cdFx0XHRkZWxldGlvbl9xdWV1ZS5sZW5ndGggPSAwOyAvLyBjbGVhciBxdWV1ZVxuXHRcdH1cblx0XHQsIGRpc3BhdGNoID0gZnVuY3Rpb24oZmlsZXNhdmVyLCBldmVudF90eXBlcywgZXZlbnQpIHtcblx0XHRcdGV2ZW50X3R5cGVzID0gW10uY29uY2F0KGV2ZW50X3R5cGVzKTtcblx0XHRcdHZhciBpID0gZXZlbnRfdHlwZXMubGVuZ3RoO1xuXHRcdFx0d2hpbGUgKGktLSkge1xuXHRcdFx0XHR2YXIgbGlzdGVuZXIgPSBmaWxlc2F2ZXJbXCJvblwiICsgZXZlbnRfdHlwZXNbaV1dO1xuXHRcdFx0XHRpZiAodHlwZW9mIGxpc3RlbmVyID09PSBcImZ1bmN0aW9uXCIpIHtcblx0XHRcdFx0XHR0cnkge1xuXHRcdFx0XHRcdFx0bGlzdGVuZXIuY2FsbChmaWxlc2F2ZXIsIGV2ZW50IHx8IGZpbGVzYXZlcik7XG5cdFx0XHRcdFx0fSBjYXRjaCAoZXgpIHtcblx0XHRcdFx0XHRcdHRocm93X291dHNpZGUoZXgpO1xuXHRcdFx0XHRcdH1cblx0XHRcdFx0fVxuXHRcdFx0fVxuXHRcdH1cblx0XHQsIEZpbGVTYXZlciA9IGZ1bmN0aW9uKGJsb2IsIG5hbWUpIHtcblx0XHRcdC8vIEZpcnN0IHRyeSBhLmRvd25sb2FkLCB0aGVuIHdlYiBmaWxlc3lzdGVtLCB0aGVuIG9iamVjdCBVUkxzXG5cdFx0XHR2YXJcblx0XHRcdFx0ICBmaWxlc2F2ZXIgPSB0aGlzXG5cdFx0XHRcdCwgdHlwZSA9IGJsb2IudHlwZVxuXHRcdFx0XHQsIGJsb2JfY2hhbmdlZCA9IGZhbHNlXG5cdFx0XHRcdCwgb2JqZWN0X3VybFxuXHRcdFx0XHQsIHRhcmdldF92aWV3XG5cdFx0XHRcdCwgZ2V0X29iamVjdF91cmwgPSBmdW5jdGlvbigpIHtcblx0XHRcdFx0XHR2YXIgb2JqZWN0X3VybCA9IGdldF9VUkwoKS5jcmVhdGVPYmplY3RVUkwoYmxvYik7XG5cdFx0XHRcdFx0ZGVsZXRpb25fcXVldWUucHVzaChvYmplY3RfdXJsKTtcblx0XHRcdFx0XHRyZXR1cm4gb2JqZWN0X3VybDtcblx0XHRcdFx0fVxuXHRcdFx0XHQsIGRpc3BhdGNoX2FsbCA9IGZ1bmN0aW9uKCkge1xuXHRcdFx0XHRcdGRpc3BhdGNoKGZpbGVzYXZlciwgXCJ3cml0ZXN0YXJ0IHByb2dyZXNzIHdyaXRlIHdyaXRlZW5kXCIuc3BsaXQoXCIgXCIpKTtcblx0XHRcdFx0fVxuXHRcdFx0XHQvLyBvbiBhbnkgZmlsZXN5cyBlcnJvcnMgcmV2ZXJ0IHRvIHNhdmluZyB3aXRoIG9iamVjdCBVUkxzXG5cdFx0XHRcdCwgZnNfZXJyb3IgPSBmdW5jdGlvbigpIHtcblx0XHRcdFx0XHQvLyBkb24ndCBjcmVhdGUgbW9yZSBvYmplY3QgVVJMcyB0aGFuIG5lZWRlZFxuXHRcdFx0XHRcdGlmIChibG9iX2NoYW5nZWQgfHwgIW9iamVjdF91cmwpIHtcblx0XHRcdFx0XHRcdG9iamVjdF91cmwgPSBnZXRfb2JqZWN0X3VybChibG9iKTtcblx0XHRcdFx0XHR9XG5cdFx0XHRcdFx0aWYgKHRhcmdldF92aWV3KSB7XG5cdFx0XHRcdFx0XHR0YXJnZXRfdmlldy5sb2NhdGlvbi5ocmVmID0gb2JqZWN0X3VybDtcblx0XHRcdFx0XHR9IGVsc2Uge1xuXHRcdFx0XHRcdFx0d2luZG93Lm9wZW4ob2JqZWN0X3VybCwgXCJfYmxhbmtcIik7XG5cdFx0XHRcdFx0fVxuXHRcdFx0XHRcdGZpbGVzYXZlci5yZWFkeVN0YXRlID0gZmlsZXNhdmVyLkRPTkU7XG5cdFx0XHRcdFx0ZGlzcGF0Y2hfYWxsKCk7XG5cdFx0XHRcdH1cblx0XHRcdFx0LCBhYm9ydGFibGUgPSBmdW5jdGlvbihmdW5jKSB7XG5cdFx0XHRcdFx0cmV0dXJuIGZ1bmN0aW9uKCkge1xuXHRcdFx0XHRcdFx0aWYgKGZpbGVzYXZlci5yZWFkeVN0YXRlICE9PSBmaWxlc2F2ZXIuRE9ORSkge1xuXHRcdFx0XHRcdFx0XHRyZXR1cm4gZnVuYy5hcHBseSh0aGlzLCBhcmd1bWVudHMpO1xuXHRcdFx0XHRcdFx0fVxuXHRcdFx0XHRcdH07XG5cdFx0XHRcdH1cblx0XHRcdFx0LCBjcmVhdGVfaWZfbm90X2ZvdW5kID0ge2NyZWF0ZTogdHJ1ZSwgZXhjbHVzaXZlOiBmYWxzZX1cblx0XHRcdFx0LCBzbGljZVxuXHRcdFx0O1xuXHRcdFx0ZmlsZXNhdmVyLnJlYWR5U3RhdGUgPSBmaWxlc2F2ZXIuSU5JVDtcblx0XHRcdGlmICghbmFtZSkge1xuXHRcdFx0XHRuYW1lID0gXCJkb3dubG9hZFwiO1xuXHRcdFx0fVxuXHRcdFx0aWYgKGNhbl91c2Vfc2F2ZV9saW5rKSB7XG5cdFx0XHRcdG9iamVjdF91cmwgPSBnZXRfb2JqZWN0X3VybChibG9iKTtcblx0XHRcdFx0c2F2ZV9saW5rLmhyZWYgPSBvYmplY3RfdXJsO1xuXHRcdFx0XHRzYXZlX2xpbmsuZG93bmxvYWQgPSBuYW1lO1xuXHRcdFx0XHRjbGljayhzYXZlX2xpbmspO1xuXHRcdFx0XHRmaWxlc2F2ZXIucmVhZHlTdGF0ZSA9IGZpbGVzYXZlci5ET05FO1xuXHRcdFx0XHRkaXNwYXRjaF9hbGwoKTtcblx0XHRcdFx0cmV0dXJuO1xuXHRcdFx0fVxuXHRcdFx0Ly8gT2JqZWN0IGFuZCB3ZWIgZmlsZXN5c3RlbSBVUkxzIGhhdmUgYSBwcm9ibGVtIHNhdmluZyBpbiBHb29nbGUgQ2hyb21lIHdoZW5cblx0XHRcdC8vIHZpZXdlZCBpbiBhIHRhYiwgc28gSSBmb3JjZSBzYXZlIHdpdGggYXBwbGljYXRpb24vb2N0ZXQtc3RyZWFtXG5cdFx0XHQvLyBodHRwOi8vY29kZS5nb29nbGUuY29tL3AvY2hyb21pdW0vaXNzdWVzL2RldGFpbD9pZD05MTE1OFxuXHRcdFx0aWYgKHZpZXcuY2hyb21lICYmIHR5cGUgJiYgdHlwZSAhPT0gZm9yY2Vfc2F2ZWFibGVfdHlwZSkge1xuXHRcdFx0XHRzbGljZSA9IGJsb2Iuc2xpY2UgfHwgYmxvYi53ZWJraXRTbGljZTtcblx0XHRcdFx0YmxvYiA9IHNsaWNlLmNhbGwoYmxvYiwgMCwgYmxvYi5zaXplLCBmb3JjZV9zYXZlYWJsZV90eXBlKTtcblx0XHRcdFx0YmxvYl9jaGFuZ2VkID0gdHJ1ZTtcblx0XHRcdH1cblx0XHRcdC8vIFNpbmNlIEkgY2FuJ3QgYmUgc3VyZSB0aGF0IHRoZSBndWVzc2VkIG1lZGlhIHR5cGUgd2lsbCB0cmlnZ2VyIGEgZG93bmxvYWRcblx0XHRcdC8vIGluIFdlYktpdCwgSSBhcHBlbmQgLmRvd25sb2FkIHRvIHRoZSBmaWxlbmFtZS5cblx0XHRcdC8vIGh0dHBzOi8vYnVncy53ZWJraXQub3JnL3Nob3dfYnVnLmNnaT9pZD02NTQ0MFxuXHRcdFx0aWYgKHdlYmtpdF9yZXFfZnMgJiYgbmFtZSAhPT0gXCJkb3dubG9hZFwiKSB7XG5cdFx0XHRcdG5hbWUgKz0gXCIuZG93bmxvYWRcIjtcblx0XHRcdH1cblx0XHRcdGlmICh0eXBlID09PSBmb3JjZV9zYXZlYWJsZV90eXBlIHx8IHdlYmtpdF9yZXFfZnMpIHtcblx0XHRcdFx0dGFyZ2V0X3ZpZXcgPSB2aWV3O1xuXHRcdFx0fVxuXHRcdFx0aWYgKCFyZXFfZnMpIHtcblx0XHRcdFx0ZnNfZXJyb3IoKTtcblx0XHRcdFx0cmV0dXJuO1xuXHRcdFx0fVxuXHRcdFx0ZnNfbWluX3NpemUgKz0gYmxvYi5zaXplO1xuXHRcdFx0cmVxX2ZzKHZpZXcuVEVNUE9SQVJZLCBmc19taW5fc2l6ZSwgYWJvcnRhYmxlKGZ1bmN0aW9uKGZzKSB7XG5cdFx0XHRcdGZzLnJvb3QuZ2V0RGlyZWN0b3J5KFwic2F2ZWRcIiwgY3JlYXRlX2lmX25vdF9mb3VuZCwgYWJvcnRhYmxlKGZ1bmN0aW9uKGRpcikge1xuXHRcdFx0XHRcdHZhciBzYXZlID0gZnVuY3Rpb24oKSB7XG5cdFx0XHRcdFx0XHRkaXIuZ2V0RmlsZShuYW1lLCBjcmVhdGVfaWZfbm90X2ZvdW5kLCBhYm9ydGFibGUoZnVuY3Rpb24oZmlsZSkge1xuXHRcdFx0XHRcdFx0XHRmaWxlLmNyZWF0ZVdyaXRlcihhYm9ydGFibGUoZnVuY3Rpb24od3JpdGVyKSB7XG5cdFx0XHRcdFx0XHRcdFx0d3JpdGVyLm9ud3JpdGVlbmQgPSBmdW5jdGlvbihldmVudCkge1xuXHRcdFx0XHRcdFx0XHRcdFx0dGFyZ2V0X3ZpZXcubG9jYXRpb24uaHJlZiA9IGZpbGUudG9VUkwoKTtcblx0XHRcdFx0XHRcdFx0XHRcdGRlbGV0aW9uX3F1ZXVlLnB1c2goZmlsZSk7XG5cdFx0XHRcdFx0XHRcdFx0XHRmaWxlc2F2ZXIucmVhZHlTdGF0ZSA9IGZpbGVzYXZlci5ET05FO1xuXHRcdFx0XHRcdFx0XHRcdFx0ZGlzcGF0Y2goZmlsZXNhdmVyLCBcIndyaXRlZW5kXCIsIGV2ZW50KTtcblx0XHRcdFx0XHRcdFx0XHR9O1xuXHRcdFx0XHRcdFx0XHRcdHdyaXRlci5vbmVycm9yID0gZnVuY3Rpb24oKSB7XG5cdFx0XHRcdFx0XHRcdFx0XHR2YXIgZXJyb3IgPSB3cml0ZXIuZXJyb3I7XG5cdFx0XHRcdFx0XHRcdFx0XHRpZiAoZXJyb3IuY29kZSAhPT0gZXJyb3IuQUJPUlRfRVJSKSB7XG5cdFx0XHRcdFx0XHRcdFx0XHRcdGZzX2Vycm9yKCk7XG5cdFx0XHRcdFx0XHRcdFx0XHR9XG5cdFx0XHRcdFx0XHRcdFx0fTtcblx0XHRcdFx0XHRcdFx0XHRcIndyaXRlc3RhcnQgcHJvZ3Jlc3Mgd3JpdGUgYWJvcnRcIi5zcGxpdChcIiBcIikuZm9yRWFjaChmdW5jdGlvbihldmVudCkge1xuXHRcdFx0XHRcdFx0XHRcdFx0d3JpdGVyW1wib25cIiArIGV2ZW50XSA9IGZpbGVzYXZlcltcIm9uXCIgKyBldmVudF07XG5cdFx0XHRcdFx0XHRcdFx0fSk7XG5cdFx0XHRcdFx0XHRcdFx0d3JpdGVyLndyaXRlKGJsb2IpO1xuXHRcdFx0XHRcdFx0XHRcdGZpbGVzYXZlci5hYm9ydCA9IGZ1bmN0aW9uKCkge1xuXHRcdFx0XHRcdFx0XHRcdFx0d3JpdGVyLmFib3J0KCk7XG5cdFx0XHRcdFx0XHRcdFx0XHRmaWxlc2F2ZXIucmVhZHlTdGF0ZSA9IGZpbGVzYXZlci5ET05FO1xuXHRcdFx0XHRcdFx0XHRcdH07XG5cdFx0XHRcdFx0XHRcdFx0ZmlsZXNhdmVyLnJlYWR5U3RhdGUgPSBmaWxlc2F2ZXIuV1JJVElORztcblx0XHRcdFx0XHRcdFx0fSksIGZzX2Vycm9yKTtcblx0XHRcdFx0XHRcdH0pLCBmc19lcnJvcik7XG5cdFx0XHRcdFx0fTtcblx0XHRcdFx0XHRkaXIuZ2V0RmlsZShuYW1lLCB7Y3JlYXRlOiBmYWxzZX0sIGFib3J0YWJsZShmdW5jdGlvbihmaWxlKSB7XG5cdFx0XHRcdFx0XHQvLyBkZWxldGUgZmlsZSBpZiBpdCBhbHJlYWR5IGV4aXN0c1xuXHRcdFx0XHRcdFx0ZmlsZS5yZW1vdmUoKTtcblx0XHRcdFx0XHRcdHNhdmUoKTtcblx0XHRcdFx0XHR9KSwgYWJvcnRhYmxlKGZ1bmN0aW9uKGV4KSB7XG5cdFx0XHRcdFx0XHRpZiAoZXguY29kZSA9PT0gZXguTk9UX0ZPVU5EX0VSUikge1xuXHRcdFx0XHRcdFx0XHRzYXZlKCk7XG5cdFx0XHRcdFx0XHR9IGVsc2Uge1xuXHRcdFx0XHRcdFx0XHRmc19lcnJvcigpO1xuXHRcdFx0XHRcdFx0fVxuXHRcdFx0XHRcdH0pKTtcblx0XHRcdFx0fSksIGZzX2Vycm9yKTtcblx0XHRcdH0pLCBmc19lcnJvcik7XG5cdFx0fVxuXHRcdCwgRlNfcHJvdG8gPSBGaWxlU2F2ZXIucHJvdG90eXBlXG5cdFx0LCBzYXZlQXMgPSBmdW5jdGlvbihibG9iLCBuYW1lKSB7XG5cdFx0XHRyZXR1cm4gbmV3IEZpbGVTYXZlcihibG9iLCBuYW1lKTtcblx0XHR9XG5cdDtcblx0RlNfcHJvdG8uYWJvcnQgPSBmdW5jdGlvbigpIHtcblx0XHR2YXIgZmlsZXNhdmVyID0gdGhpcztcblx0XHRmaWxlc2F2ZXIucmVhZHlTdGF0ZSA9IGZpbGVzYXZlci5ET05FO1xuXHRcdGRpc3BhdGNoKGZpbGVzYXZlciwgXCJhYm9ydFwiKTtcblx0fTtcblx0RlNfcHJvdG8ucmVhZHlTdGF0ZSA9IEZTX3Byb3RvLklOSVQgPSAwO1xuXHRGU19wcm90by5XUklUSU5HID0gMTtcblx0RlNfcHJvdG8uRE9ORSA9IDI7XG5cblx0RlNfcHJvdG8uZXJyb3IgPVxuXHRGU19wcm90by5vbndyaXRlc3RhcnQgPVxuXHRGU19wcm90by5vbnByb2dyZXNzID1cblx0RlNfcHJvdG8ub253cml0ZSA9XG5cdEZTX3Byb3RvLm9uYWJvcnQgPVxuXHRGU19wcm90by5vbmVycm9yID1cblx0RlNfcHJvdG8ub253cml0ZWVuZCA9XG5cdFx0bnVsbDtcblxuXHR2aWV3LmFkZEV2ZW50TGlzdGVuZXIoXCJ1bmxvYWRcIiwgcHJvY2Vzc19kZWxldGlvbl9xdWV1ZSwgZmFsc2UpO1xuXHRzYXZlQXMudW5sb2FkID0gZnVuY3Rpb24oKSB7XG5cdFx0cHJvY2Vzc19kZWxldGlvbl9xdWV1ZSgpO1xuXHRcdHZpZXcucmVtb3ZlRXZlbnRMaXN0ZW5lcihcInVubG9hZFwiLCBwcm9jZXNzX2RlbGV0aW9uX3F1ZXVlLCBmYWxzZSk7XG5cdH07XG5cdHJldHVybiBzYXZlQXM7XG59KFxuXHQgICB0eXBlb2Ygc2VsZiAhPT0gXCJ1bmRlZmluZWRcIiAmJiBzZWxmXG5cdHx8IHR5cGVvZiB3aW5kb3cgIT09IFwidW5kZWZpbmVkXCIgJiYgd2luZG93XG5cdHx8IHRoaXMuY29udGVudFxuKSk7XG4vLyBgc2VsZmAgaXMgdW5kZWZpbmVkIGluIEZpcmVmb3ggZm9yIEFuZHJvaWQgY29udGVudCBzY3JpcHQgY29udGV4dFxuLy8gd2hpbGUgYHRoaXNgIGlzIG5zSUNvbnRlbnRGcmFtZU1lc3NhZ2VNYW5hZ2VyXG4vLyB3aXRoIGFuIGF0dHJpYnV0ZSBgY29udGVudGAgdGhhdCBjb3JyZXNwb25kcyB0byB0aGUgd2luZG93XG5cbmFtZERlZmluZSA9IHdpbmRvdy5kZWZpbmU7XG5pZiggdHlwZW9mIGFtZERlZmluZSA9PT0gXCJ1bmRlZmluZWRcIiAmJiAodHlwZW9mIHdpbmRvdy5hbG1vbmQgIT09IFwidW5kZWZpbmVkXCIgXG4gICAgJiYgXCJkZWZpbmVcIiBpbiB3aW5kb3cuYWxtb25kICkpe1xuICBhbWREZWZpbmUgPSB3aW5kb3cuYWxtb25kLmRlZmluZTtcbn1cblxuaWYgKHR5cGVvZiBtb2R1bGUgIT09IFwidW5kZWZpbmVkXCIgJiYgbW9kdWxlICE9PSBudWxsKSB7XG4gIG1vZHVsZS5leHBvcnRzID0gc2F2ZUFzO1xufSBlbHNlIGlmICgodHlwZW9mIGFtZERlZmluZSAhPT0gXCJ1bmRlZmluZWRcIiAmJiBhbWREZWZpbmUgIT09IG51bGwpICYmIChhbWREZWZpbmUuYW1kICE9IG51bGwpKSB7XG4gIGFtZERlZmluZShcInNhdmVBc1wiLFtdLCBmdW5jdGlvbigpIHtcbiAgICByZXR1cm4gc2F2ZUFzO1xuICB9KTtcbn1cbiIsIm1vZHVsZS5leHBvcnRzID0gZnVuY3Rpb24gKGNzcywgY3VzdG9tRG9jdW1lbnQpIHtcbiAgdmFyIGRvYyA9IGN1c3RvbURvY3VtZW50IHx8IGRvY3VtZW50O1xuICBpZiAoZG9jLmNyZWF0ZVN0eWxlU2hlZXQpIHtcbiAgICB2YXIgc2hlZXQgPSBkb2MuY3JlYXRlU3R5bGVTaGVldCgpXG4gICAgc2hlZXQuY3NzVGV4dCA9IGNzcztcbiAgICByZXR1cm4gc2hlZXQub3duZXJOb2RlO1xuICB9IGVsc2Uge1xuICAgIHZhciBoZWFkID0gZG9jLmdldEVsZW1lbnRzQnlUYWdOYW1lKCdoZWFkJylbMF0sXG4gICAgICAgIHN0eWxlID0gZG9jLmNyZWF0ZUVsZW1lbnQoJ3N0eWxlJyk7XG5cbiAgICBzdHlsZS50eXBlID0gJ3RleHQvY3NzJztcblxuICAgIGlmIChzdHlsZS5zdHlsZVNoZWV0KSB7XG4gICAgICBzdHlsZS5zdHlsZVNoZWV0LmNzc1RleHQgPSBjc3M7XG4gICAgfSBlbHNlIHtcbiAgICAgIHN0eWxlLmFwcGVuZENoaWxkKGRvYy5jcmVhdGVUZXh0Tm9kZShjc3MpKTtcbiAgICB9XG5cbiAgICBoZWFkLmFwcGVuZENoaWxkKHN0eWxlKTtcbiAgICByZXR1cm4gc3R5bGU7XG4gIH1cbn07XG5cbm1vZHVsZS5leHBvcnRzLmJ5VXJsID0gZnVuY3Rpb24odXJsKSB7XG4gIGlmIChkb2N1bWVudC5jcmVhdGVTdHlsZVNoZWV0KSB7XG4gICAgcmV0dXJuIGRvY3VtZW50LmNyZWF0ZVN0eWxlU2hlZXQodXJsKS5vd25lck5vZGU7XG4gIH0gZWxzZSB7XG4gICAgdmFyIGhlYWQgPSBkb2N1bWVudC5nZXRFbGVtZW50c0J5VGFnTmFtZSgnaGVhZCcpWzBdLFxuICAgICAgICBsaW5rID0gZG9jdW1lbnQuY3JlYXRlRWxlbWVudCgnbGluaycpO1xuXG4gICAgbGluay5yZWwgPSAnc3R5bGVzaGVldCc7XG4gICAgbGluay5ocmVmID0gdXJsO1xuXG4gICAgaGVhZC5hcHBlbmRDaGlsZChsaW5rKTtcbiAgICByZXR1cm4gbGluaztcbiAgfVxufTtcbiIsInZhciBVdGlscyA9IHt9O1xuXG5cbi8qXG5SZW1vdmUgYW4gZWxlbWVudCBhbmQgcHJvdmlkZSBhIGZ1bmN0aW9uIHRoYXQgaW5zZXJ0cyBpdCBpbnRvIGl0cyBvcmlnaW5hbCBwb3NpdGlvblxuaHR0cHM6Ly9kZXZlbG9wZXJzLmdvb2dsZS5jb20vc3BlZWQvYXJ0aWNsZXMvamF2YXNjcmlwdC1kb21cbkBwYXJhbSBlbGVtZW50IHtFbGVtZW50fSBUaGUgZWxlbWVudCB0byBiZSB0ZW1wb3JhcmlseSByZW1vdmVkXG5AcmV0dXJuIHtGdW5jdGlvbn0gQSBmdW5jdGlvbiB0aGF0IGluc2VydHMgdGhlIGVsZW1lbnQgaW50byBpdHMgb3JpZ2luYWwgcG9zaXRpb25cbiAqL1xuXG5VdGlscy5yZW1vdmVUb0luc2VydExhdGVyID0gZnVuY3Rpb24oZWxlbWVudCkge1xuICB2YXIgbmV4dFNpYmxpbmcsIHBhcmVudE5vZGU7XG4gIHBhcmVudE5vZGUgPSBlbGVtZW50LnBhcmVudE5vZGU7XG4gIG5leHRTaWJsaW5nID0gZWxlbWVudC5uZXh0U2libGluZztcbiAgcGFyZW50Tm9kZS5yZW1vdmVDaGlsZChlbGVtZW50KTtcbiAgcmV0dXJuIGZ1bmN0aW9uKCkge1xuICAgIGlmIChuZXh0U2libGluZykge1xuICAgICAgcGFyZW50Tm9kZS5pbnNlcnRCZWZvcmUoZWxlbWVudCwgbmV4dFNpYmxpbmcpO1xuICAgIH0gZWxzZSB7XG4gICAgICBwYXJlbnROb2RlLmFwcGVuZENoaWxkKGVsZW1lbnQpO1xuICAgIH1cbiAgfTtcbn07XG5cblxuLypcbmZhc3Rlc3QgcG9zc2libGUgd2F5IHRvIGRlc3Ryb3kgYWxsIHN1YiBub2RlcyAoYWthIGNoaWxkcylcbmh0dHA6Ly9qc3BlcmYuY29tL2lubmVyaHRtbC12cy1yZW1vdmVjaGlsZC8xNVxuQHBhcmFtIGVsZW1lbnQge0VsZW1lbnR9IFRoZSBlbGVtZW50IGZvciB3aGljaCBhbGwgY2hpbGRzIHNob3VsZCBiZSByZW1vdmVkXG4gKi9cblxuVXRpbHMucmVtb3ZlQWxsQ2hpbGRzID0gZnVuY3Rpb24oZWxlbWVudCkge1xuICB2YXIgY291bnQ7XG4gIGNvdW50ID0gMDtcbiAgd2hpbGUgKGVsZW1lbnQuZmlyc3RDaGlsZCkge1xuICAgIGNvdW50Kys7XG4gICAgZWxlbWVudC5yZW1vdmVDaGlsZChlbGVtZW50LmZpcnN0Q2hpbGQpO1xuICB9XG59O1xuXG5tb2R1bGUuZXhwb3J0cyA9IFV0aWxzO1xuIiwiLyohXG4gKiBqQm9uZSB2MS4wLjIyIC0gMjAxNS0wMi0xMiAtIExpYnJhcnkgZm9yIERPTSBtYW5pcHVsYXRpb25cbiAqXG4gKiBodHRwczovL2dpdGh1Yi5jb20va3Vwcml5YW5lbmtvL2pib25lXG4gKlxuICogQ29weXJpZ2h0IDIwMTUgQWxleGV5IEt1cHJpeWFuZW5rb1xuICogUmVsZWFzZWQgdW5kZXIgdGhlIE1JVCBsaWNlbnNlLlxuICovXG5cbihmdW5jdGlvbiAod2luKSB7XG5cbnZhclxuLy8gY2FjaGUgcHJldmlvdXMgdmVyc2lvbnNcbl8kID0gd2luLiQsXG5fakJvbmUgPSB3aW4uakJvbmUsXG5cbi8vIFF1aWNrIG1hdGNoIGEgc3RhbmRhbG9uZSB0YWdcbnJxdWlja1NpbmdsZVRhZyA9IC9ePChcXHcrKVxccypcXC8/PiQvLFxuXG4vLyBBIHNpbXBsZSB3YXkgdG8gY2hlY2sgZm9yIEhUTUwgc3RyaW5nc1xuLy8gUHJpb3JpdGl6ZSAjaWQgb3ZlciA8dGFnPiB0byBhdm9pZCBYU1MgdmlhIGxvY2F0aW9uLmhhc2hcbnJxdWlja0V4cHIgPSAvXig/OlteIzxdKig8W1xcd1xcV10rPilbXj5dKiR8IyhbXFx3XFwtXSopJCkvLFxuXG4vLyBBbGlhcyBmb3IgZnVuY3Rpb25cbnNsaWNlID0gW10uc2xpY2UsXG5zcGxpY2UgPSBbXS5zcGxpY2UsXG5rZXlzID0gT2JqZWN0LmtleXMsXG5cbi8vIEFsaWFzIGZvciBnbG9iYWwgdmFyaWFibGVzXG5kb2MgPSBkb2N1bWVudCxcblxuaXNTdHJpbmcgPSBmdW5jdGlvbihlbCkge1xuICAgIHJldHVybiB0eXBlb2YgZWwgPT09IFwic3RyaW5nXCI7XG59LFxuaXNPYmplY3QgPSBmdW5jdGlvbihlbCkge1xuICAgIHJldHVybiBlbCBpbnN0YW5jZW9mIE9iamVjdDtcbn0sXG5pc0Z1bmN0aW9uID0gZnVuY3Rpb24oZWwpIHtcbiAgICByZXR1cm4gKHt9KS50b1N0cmluZy5jYWxsKGVsKSA9PT0gXCJbb2JqZWN0IEZ1bmN0aW9uXVwiO1xufSxcbmlzQXJyYXkgPSBmdW5jdGlvbihlbCkge1xuICAgIHJldHVybiBBcnJheS5pc0FycmF5KGVsKTtcbn0sXG5qQm9uZSA9IGZ1bmN0aW9uKGVsZW1lbnQsIGRhdGEpIHtcbiAgICByZXR1cm4gbmV3IGZuLmluaXQoZWxlbWVudCwgZGF0YSk7XG59LFxuZm47XG5cbi8vIHNldCBwcmV2aW91cyB2YWx1ZXMgYW5kIHJldHVybiB0aGUgaW5zdGFuY2UgdXBvbiBjYWxsaW5nIHRoZSBuby1jb25mbGljdCBtb2RlXG5qQm9uZS5ub0NvbmZsaWN0ID0gZnVuY3Rpb24oKSB7XG4gICAgd2luLiQgPSBfJDtcbiAgICB3aW4uakJvbmUgPSBfakJvbmU7XG5cbiAgICByZXR1cm4gakJvbmU7XG59O1xuXG5mbiA9IGpCb25lLmZuID0gakJvbmUucHJvdG90eXBlID0ge1xuICAgIGluaXQ6IGZ1bmN0aW9uKGVsZW1lbnQsIGRhdGEpIHtcbiAgICAgICAgdmFyIGVsZW1lbnRzLCB0YWcsIHdyYXBlciwgZnJhZ21lbnQ7XG5cbiAgICAgICAgaWYgKCFlbGVtZW50KSB7XG4gICAgICAgICAgICByZXR1cm4gdGhpcztcbiAgICAgICAgfVxuICAgICAgICBpZiAoaXNTdHJpbmcoZWxlbWVudCkpIHtcbiAgICAgICAgICAgIC8vIENyZWF0ZSBzaW5nbGUgRE9NIGVsZW1lbnRcbiAgICAgICAgICAgIGlmICh0YWcgPSBycXVpY2tTaW5nbGVUYWcuZXhlYyhlbGVtZW50KSkge1xuICAgICAgICAgICAgICAgIHRoaXNbMF0gPSBkb2MuY3JlYXRlRWxlbWVudCh0YWdbMV0pO1xuICAgICAgICAgICAgICAgIHRoaXMubGVuZ3RoID0gMTtcblxuICAgICAgICAgICAgICAgIGlmIChpc09iamVjdChkYXRhKSkge1xuICAgICAgICAgICAgICAgICAgICB0aGlzLmF0dHIoZGF0YSk7XG4gICAgICAgICAgICAgICAgfVxuXG4gICAgICAgICAgICAgICAgcmV0dXJuIHRoaXM7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICAvLyBDcmVhdGUgRE9NIGNvbGxlY3Rpb25cbiAgICAgICAgICAgIGlmICgodGFnID0gcnF1aWNrRXhwci5leGVjKGVsZW1lbnQpKSAmJiB0YWdbMV0pIHtcbiAgICAgICAgICAgICAgICBmcmFnbWVudCA9IGRvYy5jcmVhdGVEb2N1bWVudEZyYWdtZW50KCk7XG4gICAgICAgICAgICAgICAgd3JhcGVyID0gZG9jLmNyZWF0ZUVsZW1lbnQoXCJkaXZcIik7XG4gICAgICAgICAgICAgICAgd3JhcGVyLmlubmVySFRNTCA9IGVsZW1lbnQ7XG4gICAgICAgICAgICAgICAgd2hpbGUgKHdyYXBlci5sYXN0Q2hpbGQpIHtcbiAgICAgICAgICAgICAgICAgICAgZnJhZ21lbnQuYXBwZW5kQ2hpbGQod3JhcGVyLmZpcnN0Q2hpbGQpO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICBlbGVtZW50cyA9IHNsaWNlLmNhbGwoZnJhZ21lbnQuY2hpbGROb2Rlcyk7XG5cbiAgICAgICAgICAgICAgICByZXR1cm4gakJvbmUubWVyZ2UodGhpcywgZWxlbWVudHMpO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgLy8gRmluZCBET00gZWxlbWVudHMgd2l0aCBxdWVyeVNlbGVjdG9yQWxsXG4gICAgICAgICAgICBpZiAoakJvbmUuaXNFbGVtZW50KGRhdGEpKSB7XG4gICAgICAgICAgICAgICAgcmV0dXJuIGpCb25lKGRhdGEpLmZpbmQoZWxlbWVudCk7XG4gICAgICAgICAgICB9XG5cbiAgICAgICAgICAgIHRyeSB7XG4gICAgICAgICAgICAgICAgZWxlbWVudHMgPSBkb2MucXVlcnlTZWxlY3RvckFsbChlbGVtZW50KTtcblxuICAgICAgICAgICAgICAgIHJldHVybiBqQm9uZS5tZXJnZSh0aGlzLCBlbGVtZW50cyk7XG4gICAgICAgICAgICB9IGNhdGNoIChlKSB7XG4gICAgICAgICAgICAgICAgcmV0dXJuIHRoaXM7XG4gICAgICAgICAgICB9XG4gICAgICAgIH1cbiAgICAgICAgLy8gV3JhcCBET01FbGVtZW50XG4gICAgICAgIGlmIChlbGVtZW50Lm5vZGVUeXBlKSB7XG4gICAgICAgICAgICB0aGlzWzBdID0gZWxlbWVudDtcbiAgICAgICAgICAgIHRoaXMubGVuZ3RoID0gMTtcblxuICAgICAgICAgICAgcmV0dXJuIHRoaXM7XG4gICAgICAgIH1cbiAgICAgICAgLy8gUnVuIGZ1bmN0aW9uXG4gICAgICAgIGlmIChpc0Z1bmN0aW9uKGVsZW1lbnQpKSB7XG4gICAgICAgICAgICByZXR1cm4gZWxlbWVudCgpO1xuICAgICAgICB9XG4gICAgICAgIC8vIFJldHVybiBqQm9uZSBlbGVtZW50IGFzIGlzXG4gICAgICAgIGlmIChlbGVtZW50IGluc3RhbmNlb2YgakJvbmUpIHtcbiAgICAgICAgICAgIHJldHVybiBlbGVtZW50O1xuICAgICAgICB9XG5cbiAgICAgICAgLy8gUmV0dXJuIGVsZW1lbnQgd3JhcHBlZCBieSBqQm9uZVxuICAgICAgICByZXR1cm4gakJvbmUubWFrZUFycmF5KGVsZW1lbnQsIHRoaXMpO1xuICAgIH0sXG5cbiAgICBwb3A6IFtdLnBvcCxcbiAgICBwdXNoOiBbXS5wdXNoLFxuICAgIHJldmVyc2U6IFtdLnJldmVyc2UsXG4gICAgc2hpZnQ6IFtdLnNoaWZ0LFxuICAgIHNvcnQ6IFtdLnNvcnQsXG4gICAgc3BsaWNlOiBbXS5zcGxpY2UsXG4gICAgc2xpY2U6IFtdLnNsaWNlLFxuICAgIGluZGV4T2Y6IFtdLmluZGV4T2YsXG4gICAgZm9yRWFjaDogW10uZm9yRWFjaCxcbiAgICB1bnNoaWZ0OiBbXS51bnNoaWZ0LFxuICAgIGNvbmNhdDogW10uY29uY2F0LFxuICAgIGpvaW46IFtdLmpvaW4sXG4gICAgZXZlcnk6IFtdLmV2ZXJ5LFxuICAgIHNvbWU6IFtdLnNvbWUsXG4gICAgZmlsdGVyOiBbXS5maWx0ZXIsXG4gICAgbWFwOiBbXS5tYXAsXG4gICAgcmVkdWNlOiBbXS5yZWR1Y2UsXG4gICAgcmVkdWNlUmlnaHQ6IFtdLnJlZHVjZVJpZ2h0LFxuICAgIGxlbmd0aDogMFxufTtcblxuZm4uY29uc3RydWN0b3IgPSBqQm9uZTtcblxuZm4uaW5pdC5wcm90b3R5cGUgPSBmbjtcblxuakJvbmUuc2V0SWQgPSBmdW5jdGlvbihlbCkge1xuICAgIHZhciBqaWQgPSBlbC5qaWQ7XG5cbiAgICBpZiAoZWwgPT09IHdpbikge1xuICAgICAgICBqaWQgPSBcIndpbmRvd1wiO1xuICAgIH0gZWxzZSBpZiAoZWwuamlkID09PSB1bmRlZmluZWQpIHtcbiAgICAgICAgZWwuamlkID0gamlkID0gKytqQm9uZS5fY2FjaGUuamlkO1xuICAgIH1cblxuICAgIGlmICghakJvbmUuX2NhY2hlLmV2ZW50c1tqaWRdKSB7XG4gICAgICAgIGpCb25lLl9jYWNoZS5ldmVudHNbamlkXSA9IHt9O1xuICAgIH1cbn07XG5cbmpCb25lLmdldERhdGEgPSBmdW5jdGlvbihlbCkge1xuICAgIGVsID0gZWwgaW5zdGFuY2VvZiBqQm9uZSA/IGVsWzBdIDogZWw7XG5cbiAgICB2YXIgamlkID0gZWwgPT09IHdpbiA/IFwid2luZG93XCIgOiBlbC5qaWQ7XG5cbiAgICByZXR1cm4ge1xuICAgICAgICBqaWQ6IGppZCxcbiAgICAgICAgZXZlbnRzOiBqQm9uZS5fY2FjaGUuZXZlbnRzW2ppZF1cbiAgICB9O1xufTtcblxuakJvbmUuaXNFbGVtZW50ID0gZnVuY3Rpb24oZWwpIHtcbiAgICByZXR1cm4gZWwgJiYgZWwgaW5zdGFuY2VvZiBqQm9uZSB8fCBlbCBpbnN0YW5jZW9mIEhUTUxFbGVtZW50IHx8IGlzU3RyaW5nKGVsKTtcbn07XG5cbmpCb25lLl9jYWNoZSA9IHtcbiAgICBldmVudHM6IHt9LFxuICAgIGppZDogMFxufTtcblxuZnVuY3Rpb24gaXNBcnJheWxpa2Uob2JqKSB7XG4gICAgdmFyIGxlbmd0aCA9IG9iai5sZW5ndGgsXG4gICAgICAgIHR5cGUgPSB0eXBlb2Ygb2JqO1xuXG4gICAgaWYgKGlzRnVuY3Rpb24odHlwZSkgfHwgb2JqID09PSB3aW4pIHtcbiAgICAgICAgcmV0dXJuIGZhbHNlO1xuICAgIH1cblxuICAgIGlmIChvYmoubm9kZVR5cGUgPT09IDEgJiYgbGVuZ3RoKSB7XG4gICAgICAgIHJldHVybiB0cnVlO1xuICAgIH1cblxuICAgIHJldHVybiBpc0FycmF5KHR5cGUpIHx8IGxlbmd0aCA9PT0gMCB8fFxuICAgICAgICB0eXBlb2YgbGVuZ3RoID09PSBcIm51bWJlclwiICYmIGxlbmd0aCA+IDAgJiYgKGxlbmd0aCAtIDEpIGluIG9iajtcbn1cblxuakJvbmUubWVyZ2UgPSBmdW5jdGlvbihmaXJzdCwgc2Vjb25kKSB7XG4gICAgdmFyIGwgPSBzZWNvbmQubGVuZ3RoLFxuICAgICAgICBpID0gZmlyc3QubGVuZ3RoLFxuICAgICAgICBqID0gMDtcblxuICAgIHdoaWxlIChqIDwgbCkge1xuICAgICAgICBmaXJzdFtpKytdID0gc2Vjb25kW2orK107XG4gICAgfVxuXG4gICAgZmlyc3QubGVuZ3RoID0gaTtcblxuICAgIHJldHVybiBmaXJzdDtcbn07XG5cbmpCb25lLmNvbnRhaW5zID0gZnVuY3Rpb24oY29udGFpbmVyLCBjb250YWluZWQpIHtcbiAgICB2YXIgcmVzdWx0O1xuXG4gICAgY29udGFpbmVyLnJldmVyc2UoKS5zb21lKGZ1bmN0aW9uKGVsKSB7XG4gICAgICAgIGlmIChlbC5jb250YWlucyhjb250YWluZWQpKSB7XG4gICAgICAgICAgICByZXR1cm4gcmVzdWx0ID0gZWw7XG4gICAgICAgIH1cbiAgICB9KTtcblxuICAgIHJldHVybiByZXN1bHQ7XG59O1xuXG5qQm9uZS5leHRlbmQgPSBmdW5jdGlvbih0YXJnZXQpIHtcbiAgICB2YXIgdGc7XG5cbiAgICBzcGxpY2UuY2FsbChhcmd1bWVudHMsIDEpLmZvckVhY2goZnVuY3Rpb24oc291cmNlKSB7XG4gICAgICAgIHRnID0gdGFyZ2V0OyAvL2NhY2hpbmcgdGFyZ2V0IGZvciBwZXJmIGltcHJvdmVtZW50XG5cbiAgICAgICAgaWYgKHNvdXJjZSkge1xuICAgICAgICAgICAgZm9yICh2YXIgcHJvcCBpbiBzb3VyY2UpIHtcbiAgICAgICAgICAgICAgICB0Z1twcm9wXSA9IHNvdXJjZVtwcm9wXTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgfVxuICAgIH0pO1xuXG4gICAgcmV0dXJuIHRhcmdldDtcbn07XG5cbmpCb25lLm1ha2VBcnJheSA9IGZ1bmN0aW9uKGFyciwgcmVzdWx0cykge1xuICAgIHZhciByZXQgPSByZXN1bHRzIHx8IFtdO1xuXG4gICAgaWYgKGFyciAhPT0gbnVsbCkge1xuICAgICAgICBpZiAoaXNBcnJheWxpa2UoYXJyKSkge1xuICAgICAgICAgICAgakJvbmUubWVyZ2UocmV0LCBpc1N0cmluZyhhcnIpID8gW2Fycl0gOiBhcnIpO1xuICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgcmV0LnB1c2goYXJyKTtcbiAgICAgICAgfVxuICAgIH1cblxuICAgIHJldHVybiByZXQ7XG59O1xuXG5qQm9uZS51bmlxdWUgPSBmdW5jdGlvbihhcnJheSkge1xuICAgIGlmIChhcnJheSA9PSBudWxsKSB7XG4gICAgICAgIHJldHVybiBbXTtcbiAgICB9XG5cbiAgICB2YXIgcmVzdWx0ID0gW107XG5cbiAgICBmb3IgKHZhciBpID0gMCwgbGVuZ3RoID0gYXJyYXkubGVuZ3RoOyBpIDwgbGVuZ3RoOyBpKyspIHtcbiAgICAgICAgdmFyIHZhbHVlID0gYXJyYXlbaV07XG4gICAgICAgIGlmIChyZXN1bHQuaW5kZXhPZih2YWx1ZSkgPCAwKSB7XG4gICAgICAgICAgICByZXN1bHQucHVzaCh2YWx1ZSk7XG4gICAgICAgIH1cbiAgICB9XG4gICAgcmV0dXJuIHJlc3VsdDtcbn07XG5cbmZ1bmN0aW9uIEJvbmVFdmVudChlLCBkYXRhKSB7XG4gICAgdmFyIGtleSwgc2V0dGVyO1xuXG4gICAgdGhpcy5vcmlnaW5hbEV2ZW50ID0gZTtcblxuICAgIHNldHRlciA9IGZ1bmN0aW9uKGtleSwgZSkge1xuICAgICAgICBpZiAoa2V5ID09PSBcInByZXZlbnREZWZhdWx0XCIpIHtcbiAgICAgICAgICAgIHRoaXNba2V5XSA9IGZ1bmN0aW9uKCkge1xuICAgICAgICAgICAgICAgIHRoaXMuZGVmYXVsdFByZXZlbnRlZCA9IHRydWU7XG4gICAgICAgICAgICAgICAgcmV0dXJuIGVba2V5XSgpO1xuICAgICAgICAgICAgfTtcbiAgICAgICAgfSBlbHNlIGlmIChpc0Z1bmN0aW9uKGVba2V5XSkpIHtcbiAgICAgICAgICAgIHRoaXNba2V5XSA9IGZ1bmN0aW9uKCkge1xuICAgICAgICAgICAgICAgIHJldHVybiBlW2tleV0oKTtcbiAgICAgICAgICAgIH07XG4gICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICB0aGlzW2tleV0gPSBlW2tleV07XG4gICAgICAgIH1cbiAgICB9O1xuXG4gICAgZm9yIChrZXkgaW4gZSkge1xuICAgICAgICBpZiAoZVtrZXldIHx8IHR5cGVvZiBlW2tleV0gPT09IFwiZnVuY3Rpb25cIikge1xuICAgICAgICAgICAgc2V0dGVyLmNhbGwodGhpcywga2V5LCBlKTtcbiAgICAgICAgfVxuICAgIH1cblxuICAgIGpCb25lLmV4dGVuZCh0aGlzLCBkYXRhKTtcbn1cblxuakJvbmUuRXZlbnQgPSBmdW5jdGlvbihldmVudCwgZGF0YSkge1xuICAgIHZhciBuYW1lc3BhY2UsIGV2ZW50VHlwZTtcblxuICAgIGlmIChldmVudC50eXBlICYmICFkYXRhKSB7XG4gICAgICAgIGRhdGEgPSBldmVudDtcbiAgICAgICAgZXZlbnQgPSBldmVudC50eXBlO1xuICAgIH1cblxuICAgIG5hbWVzcGFjZSA9IGV2ZW50LnNwbGl0KFwiLlwiKS5zcGxpY2UoMSkuam9pbihcIi5cIik7XG4gICAgZXZlbnRUeXBlID0gZXZlbnQuc3BsaXQoXCIuXCIpWzBdO1xuXG4gICAgZXZlbnQgPSBkb2MuY3JlYXRlRXZlbnQoXCJFdmVudFwiKTtcbiAgICBldmVudC5pbml0RXZlbnQoZXZlbnRUeXBlLCB0cnVlLCB0cnVlKTtcblxuICAgIHJldHVybiBqQm9uZS5leHRlbmQoZXZlbnQsIHtcbiAgICAgICAgbmFtZXNwYWNlOiBuYW1lc3BhY2UsXG4gICAgICAgIGlzRGVmYXVsdFByZXZlbnRlZDogZnVuY3Rpb24oKSB7XG4gICAgICAgICAgICByZXR1cm4gZXZlbnQuZGVmYXVsdFByZXZlbnRlZDtcbiAgICAgICAgfVxuICAgIH0sIGRhdGEpO1xufTtcblxuZm4ub24gPSBmdW5jdGlvbihldmVudCkge1xuICAgIHZhciBhcmdzID0gYXJndW1lbnRzLFxuICAgICAgICBsZW5ndGggPSB0aGlzLmxlbmd0aCxcbiAgICAgICAgaSA9IDAsXG4gICAgICAgIGNhbGxiYWNrID0gc2xpY2UuY2FsbChhcmdzLCAtMSlbMF0sXG4gICAgICAgIHRhcmdldCwgZGF0YSwgbmFtZXNwYWNlLCBmbiwgZXZlbnRzLCBldmVudFR5cGUsIGV4cGVjdGVkVGFyZ2V0LCBhZGRMaXN0ZW5lcjtcblxuICAgIC8vIC5vbignY2xpY2snLCAnLnNlbGVjdG9yJywgZnVuY3Rpb24oKSB7fSlcbiAgICBpZiAoYXJncy5sZW5ndGggPT09IDMgJiYgaXNTdHJpbmcoYXJnc1sxXSkpIHtcbiAgICAgICAgdGFyZ2V0ID0gYXJnc1sxXTtcbiAgICB9XG4gICAgLy8gLm9uKCdjbGljaycsIHsga2V5OiB2YWx1ZSB9LCBmdW5jdGlvbigpIHt9KVxuICAgIGVsc2UgaWYgKGFyZ3MubGVuZ3RoID09PSAzICYmIGlzT2JqZWN0KGFyZ3NbMV0pKSB7XG4gICAgICAgIGRhdGEgPSBhcmdzWzFdO1xuICAgIH1cbiAgICAvLyAub24oJ2NsaWNrJywgJy5zZWxlY3RvcicsIHsga2V5OiB2YWx1ZSB9LCBmdW5jdGlvbigpIHt9KVxuICAgIGVsc2UgaWYgKGFyZ3MubGVuZ3RoID09PSA0KSB7XG4gICAgICAgIHRhcmdldCA9IGFyZ3NbMV07XG4gICAgICAgIGRhdGEgPSBhcmdzWzJdO1xuICAgIH1cblxuICAgIGFkZExpc3RlbmVyID0gZnVuY3Rpb24oZWwpIHtcbiAgICAgICAgakJvbmUuc2V0SWQoZWwpO1xuICAgICAgICBldmVudHMgPSBqQm9uZS5nZXREYXRhKGVsKS5ldmVudHM7XG4gICAgICAgIGV2ZW50LnNwbGl0KFwiIFwiKS5mb3JFYWNoKGZ1bmN0aW9uKGV2ZW50KSB7XG4gICAgICAgICAgICB2YXIgZXZlbnRPcHRpb25zID0ge307XG5cbiAgICAgICAgICAgIGlmIChkYXRhKSB7XG4gICAgICAgICAgICAgICAgZXZlbnRPcHRpb25zLmRhdGEgPSBkYXRhO1xuICAgICAgICAgICAgfVxuXG4gICAgICAgICAgICBldmVudFR5cGUgPSBldmVudC5zcGxpdChcIi5cIilbMF07XG4gICAgICAgICAgICBuYW1lc3BhY2UgPSBldmVudC5zcGxpdChcIi5cIikuc3BsaWNlKDEpLmpvaW4oXCIuXCIpO1xuICAgICAgICAgICAgZXZlbnRzW2V2ZW50VHlwZV0gPSBldmVudHNbZXZlbnRUeXBlXSB8fCBbXTtcblxuICAgICAgICAgICAgZm4gPSBmdW5jdGlvbihlKSB7XG4gICAgICAgICAgICAgICAgaWYgKGUubmFtZXNwYWNlICYmIGUubmFtZXNwYWNlICE9PSBuYW1lc3BhY2UpIHtcbiAgICAgICAgICAgICAgICAgICAgcmV0dXJuO1xuICAgICAgICAgICAgICAgIH1cblxuICAgICAgICAgICAgICAgIGV4cGVjdGVkVGFyZ2V0ID0gbnVsbDtcblxuICAgICAgICAgICAgICAgIGlmICghdGFyZ2V0KSB7XG4gICAgICAgICAgICAgICAgICAgIGNhbGxiYWNrLmNhbGwoZWwsIG5ldyBCb25lRXZlbnQoZSwgZXZlbnRPcHRpb25zKSk7XG4gICAgICAgICAgICAgICAgfSBlbHNlIGlmICh+akJvbmUoZWwpLmZpbmQodGFyZ2V0KS5pbmRleE9mKGUudGFyZ2V0KSB8fCAoZXhwZWN0ZWRUYXJnZXQgPSBqQm9uZS5jb250YWlucyhqQm9uZShlbCkuZmluZCh0YXJnZXQpLCBlLnRhcmdldCkpKSB7XG4gICAgICAgICAgICAgICAgICAgIGV4cGVjdGVkVGFyZ2V0ID0gZXhwZWN0ZWRUYXJnZXQgfHwgZS50YXJnZXQ7XG4gICAgICAgICAgICAgICAgICAgIGV2ZW50T3B0aW9ucy5jdXJyZW50VGFyZ2V0ID0gZXhwZWN0ZWRUYXJnZXQ7XG5cbiAgICAgICAgICAgICAgICAgICAgY2FsbGJhY2suY2FsbChleHBlY3RlZFRhcmdldCwgbmV3IEJvbmVFdmVudChlLCBldmVudE9wdGlvbnMpKTtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICB9O1xuXG4gICAgICAgICAgICBldmVudHNbZXZlbnRUeXBlXS5wdXNoKHtcbiAgICAgICAgICAgICAgICBuYW1lc3BhY2U6IG5hbWVzcGFjZSxcbiAgICAgICAgICAgICAgICBmbjogZm4sXG4gICAgICAgICAgICAgICAgb3JpZ2luZm46IGNhbGxiYWNrXG4gICAgICAgICAgICB9KTtcblxuICAgICAgICAgICAgZWwuYWRkRXZlbnRMaXN0ZW5lciAmJiBlbC5hZGRFdmVudExpc3RlbmVyKGV2ZW50VHlwZSwgZm4sIGZhbHNlKTtcbiAgICAgICAgfSk7XG4gICAgfTtcblxuICAgIGZvciAoOyBpIDwgbGVuZ3RoOyBpKyspIHtcbiAgICAgICAgYWRkTGlzdGVuZXIodGhpc1tpXSk7XG4gICAgfVxuXG4gICAgcmV0dXJuIHRoaXM7XG59O1xuXG5mbi5vbmUgPSBmdW5jdGlvbihldmVudCkge1xuICAgIHZhciBhcmdzID0gYXJndW1lbnRzLFxuICAgICAgICBpID0gMCxcbiAgICAgICAgbGVuZ3RoID0gdGhpcy5sZW5ndGgsXG4gICAgICAgIG9uZUFyZ3MgPSBzbGljZS5jYWxsKGFyZ3MsIDEsIGFyZ3MubGVuZ3RoIC0gMSksXG4gICAgICAgIGNhbGxiYWNrID0gc2xpY2UuY2FsbChhcmdzLCAtMSlbMF0sXG4gICAgICAgIGFkZExpc3RlbmVyO1xuXG4gICAgYWRkTGlzdGVuZXIgPSBmdW5jdGlvbihlbCkge1xuICAgICAgICB2YXIgJGVsID0gIGpCb25lKGVsKTtcblxuICAgICAgICBldmVudC5zcGxpdChcIiBcIikuZm9yRWFjaChmdW5jdGlvbihldmVudCkge1xuICAgICAgICAgICAgdmFyIGZuID0gZnVuY3Rpb24oZSkge1xuICAgICAgICAgICAgICAgICRlbC5vZmYoZXZlbnQsIGZuKTtcbiAgICAgICAgICAgICAgICBjYWxsYmFjay5jYWxsKGVsLCBlKTtcbiAgICAgICAgICAgIH07XG5cbiAgICAgICAgICAgICRlbC5vbi5hcHBseSgkZWwsIFtldmVudF0uY29uY2F0KG9uZUFyZ3MsIGZuKSk7XG4gICAgICAgIH0pO1xuICAgIH07XG5cbiAgICBmb3IgKDsgaSA8IGxlbmd0aDsgaSsrKSB7XG4gICAgICAgIGFkZExpc3RlbmVyKHRoaXNbaV0pO1xuICAgIH1cblxuICAgIHJldHVybiB0aGlzO1xufTtcblxuZm4udHJpZ2dlciA9IGZ1bmN0aW9uKGV2ZW50KSB7XG4gICAgdmFyIGV2ZW50cyA9IFtdLFxuICAgICAgICBpID0gMCxcbiAgICAgICAgbGVuZ3RoID0gdGhpcy5sZW5ndGgsXG4gICAgICAgIGRpc3BhdGNoRXZlbnRzO1xuXG4gICAgaWYgKCFldmVudCkge1xuICAgICAgICByZXR1cm4gdGhpcztcbiAgICB9XG5cbiAgICBpZiAoaXNTdHJpbmcoZXZlbnQpKSB7XG4gICAgICAgIGV2ZW50cyA9IGV2ZW50LnNwbGl0KFwiIFwiKS5tYXAoZnVuY3Rpb24oZXZlbnQpIHtcbiAgICAgICAgICAgIHJldHVybiBqQm9uZS5FdmVudChldmVudCk7XG4gICAgICAgIH0pO1xuICAgIH0gZWxzZSB7XG4gICAgICAgIGV2ZW50ID0gZXZlbnQgaW5zdGFuY2VvZiBFdmVudCA/IGV2ZW50IDogakJvbmUuRXZlbnQoZXZlbnQpO1xuICAgICAgICBldmVudHMgPSBbZXZlbnRdO1xuICAgIH1cblxuICAgIGRpc3BhdGNoRXZlbnRzID0gZnVuY3Rpb24oZWwpIHtcbiAgICAgICAgZXZlbnRzLmZvckVhY2goZnVuY3Rpb24oZXZlbnQpIHtcbiAgICAgICAgICAgIGlmICghZXZlbnQudHlwZSkge1xuICAgICAgICAgICAgICAgIHJldHVybjtcbiAgICAgICAgICAgIH1cblxuICAgICAgICAgICAgZWwuZGlzcGF0Y2hFdmVudCAmJiBlbC5kaXNwYXRjaEV2ZW50KGV2ZW50KTtcbiAgICAgICAgfSk7XG4gICAgfTtcblxuICAgIGZvciAoOyBpIDwgbGVuZ3RoOyBpKyspIHtcbiAgICAgICAgZGlzcGF0Y2hFdmVudHModGhpc1tpXSk7XG4gICAgfVxuXG4gICAgcmV0dXJuIHRoaXM7XG59O1xuXG5mbi5vZmYgPSBmdW5jdGlvbihldmVudCwgZm4pIHtcbiAgICB2YXIgaSA9IDAsXG4gICAgICAgIGxlbmd0aCA9IHRoaXMubGVuZ3RoLFxuICAgICAgICByZW1vdmVMaXN0ZW5lciA9IGZ1bmN0aW9uKGV2ZW50cywgZXZlbnRUeXBlLCBpbmRleCwgZWwsIGUpIHtcbiAgICAgICAgICAgIHZhciBjYWxsYmFjaztcblxuICAgICAgICAgICAgLy8gZ2V0IGNhbGxiYWNrXG4gICAgICAgICAgICBpZiAoKGZuICYmIGUub3JpZ2luZm4gPT09IGZuKSB8fCAhZm4pIHtcbiAgICAgICAgICAgICAgICBjYWxsYmFjayA9IGUuZm47XG4gICAgICAgICAgICB9XG5cbiAgICAgICAgICAgIGlmIChldmVudHNbZXZlbnRUeXBlXVtpbmRleF0uZm4gPT09IGNhbGxiYWNrKSB7XG4gICAgICAgICAgICAgICAgZWwucmVtb3ZlRXZlbnRMaXN0ZW5lcihldmVudFR5cGUsIGNhbGxiYWNrKTtcblxuICAgICAgICAgICAgICAgIC8vIHJlbW92ZSBoYW5kbGVyIGZyb20gY2FjaGVcbiAgICAgICAgICAgICAgICBqQm9uZS5fY2FjaGUuZXZlbnRzW2pCb25lLmdldERhdGEoZWwpLmppZF1bZXZlbnRUeXBlXS5zcGxpY2UoaW5kZXgsIDEpO1xuICAgICAgICAgICAgfVxuICAgICAgICB9LFxuICAgICAgICBldmVudHMsIG5hbWVzcGFjZSwgcmVtb3ZlTGlzdGVuZXJzLCBldmVudFR5cGU7XG5cbiAgICByZW1vdmVMaXN0ZW5lcnMgPSBmdW5jdGlvbihlbCkge1xuICAgICAgICB2YXIgbCwgZXZlbnRzQnlUeXBlLCBlO1xuXG4gICAgICAgIGV2ZW50cyA9IGpCb25lLmdldERhdGEoZWwpLmV2ZW50cztcblxuICAgICAgICBpZiAoIWV2ZW50cykge1xuICAgICAgICAgICAgcmV0dXJuO1xuICAgICAgICB9XG5cbiAgICAgICAgLy8gcmVtb3ZlIGFsbCBldmVudHNcbiAgICAgICAgaWYgKCFldmVudCAmJiBldmVudHMpIHtcbiAgICAgICAgICAgIHJldHVybiBrZXlzKGV2ZW50cykuZm9yRWFjaChmdW5jdGlvbihldmVudFR5cGUpIHtcbiAgICAgICAgICAgICAgICBldmVudHNCeVR5cGUgPSBldmVudHNbZXZlbnRUeXBlXTtcbiAgICAgICAgICAgICAgICBsID0gZXZlbnRzQnlUeXBlLmxlbmd0aDtcblxuICAgICAgICAgICAgICAgIHdoaWxlKGwtLSkge1xuICAgICAgICAgICAgICAgICAgICByZW1vdmVMaXN0ZW5lcihldmVudHMsIGV2ZW50VHlwZSwgbCwgZWwsIGV2ZW50c0J5VHlwZVtsXSk7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgfSk7XG4gICAgICAgIH1cblxuICAgICAgICBldmVudC5zcGxpdChcIiBcIikuZm9yRWFjaChmdW5jdGlvbihldmVudCkge1xuICAgICAgICAgICAgZXZlbnRUeXBlID0gZXZlbnQuc3BsaXQoXCIuXCIpWzBdO1xuICAgICAgICAgICAgbmFtZXNwYWNlID0gZXZlbnQuc3BsaXQoXCIuXCIpLnNwbGljZSgxKS5qb2luKFwiLlwiKTtcblxuICAgICAgICAgICAgLy8gcmVtb3ZlIG5hbWVkIGV2ZW50c1xuICAgICAgICAgICAgaWYgKGV2ZW50c1tldmVudFR5cGVdKSB7XG4gICAgICAgICAgICAgICAgZXZlbnRzQnlUeXBlID0gZXZlbnRzW2V2ZW50VHlwZV07XG4gICAgICAgICAgICAgICAgbCA9IGV2ZW50c0J5VHlwZS5sZW5ndGg7XG5cbiAgICAgICAgICAgICAgICB3aGlsZShsLS0pIHtcbiAgICAgICAgICAgICAgICAgICAgZSA9IGV2ZW50c0J5VHlwZVtsXTtcbiAgICAgICAgICAgICAgICAgICAgaWYgKCFuYW1lc3BhY2UgfHwgKG5hbWVzcGFjZSAmJiBlLm5hbWVzcGFjZSA9PT0gbmFtZXNwYWNlKSkge1xuICAgICAgICAgICAgICAgICAgICAgICAgcmVtb3ZlTGlzdGVuZXIoZXZlbnRzLCBldmVudFR5cGUsIGwsIGVsLCBlKTtcbiAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIC8vIHJlbW92ZSBhbGwgbmFtZXNwYWNlZCBldmVudHNcbiAgICAgICAgICAgIGVsc2UgaWYgKG5hbWVzcGFjZSkge1xuICAgICAgICAgICAgICAgIGtleXMoZXZlbnRzKS5mb3JFYWNoKGZ1bmN0aW9uKGV2ZW50VHlwZSkge1xuICAgICAgICAgICAgICAgICAgICBldmVudHNCeVR5cGUgPSBldmVudHNbZXZlbnRUeXBlXTtcbiAgICAgICAgICAgICAgICAgICAgbCA9IGV2ZW50c0J5VHlwZS5sZW5ndGg7XG5cbiAgICAgICAgICAgICAgICAgICAgd2hpbGUobC0tKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICBlID0gZXZlbnRzQnlUeXBlW2xdO1xuICAgICAgICAgICAgICAgICAgICAgICAgaWYgKGUubmFtZXNwYWNlLnNwbGl0KFwiLlwiKVswXSA9PT0gbmFtZXNwYWNlLnNwbGl0KFwiLlwiKVswXSkge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIHJlbW92ZUxpc3RlbmVyKGV2ZW50cywgZXZlbnRUeXBlLCBsLCBlbCwgZSk7XG4gICAgICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICB9KTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgfSk7XG4gICAgfTtcblxuICAgIGZvciAoOyBpIDwgbGVuZ3RoOyBpKyspIHtcbiAgICAgICAgcmVtb3ZlTGlzdGVuZXJzKHRoaXNbaV0pO1xuICAgIH1cblxuICAgIHJldHVybiB0aGlzO1xufTtcblxuZm4uZmluZCA9IGZ1bmN0aW9uKHNlbGVjdG9yKSB7XG4gICAgdmFyIHJlc3VsdHMgPSBbXSxcbiAgICAgICAgaSA9IDAsXG4gICAgICAgIGxlbmd0aCA9IHRoaXMubGVuZ3RoLFxuICAgICAgICBmaW5kZXIgPSBmdW5jdGlvbihlbCkge1xuICAgICAgICAgICAgaWYgKGlzRnVuY3Rpb24oZWwucXVlcnlTZWxlY3RvckFsbCkpIHtcbiAgICAgICAgICAgICAgICBbXS5mb3JFYWNoLmNhbGwoZWwucXVlcnlTZWxlY3RvckFsbChzZWxlY3RvciksIGZ1bmN0aW9uKGZvdW5kKSB7XG4gICAgICAgICAgICAgICAgICAgIHJlc3VsdHMucHVzaChmb3VuZCk7XG4gICAgICAgICAgICAgICAgfSk7XG4gICAgICAgICAgICB9XG4gICAgICAgIH07XG5cbiAgICBmb3IgKDsgaSA8IGxlbmd0aDsgaSsrKSB7XG4gICAgICAgIGZpbmRlcih0aGlzW2ldKTtcbiAgICB9XG5cbiAgICByZXR1cm4gakJvbmUocmVzdWx0cyk7XG59O1xuXG5mbi5nZXQgPSBmdW5jdGlvbihpbmRleCkge1xuICAgIHJldHVybiBpbmRleCAhPSBudWxsID9cblxuICAgICAgICAvLyBSZXR1cm4ganVzdCB0aGUgb25lIGVsZW1lbnQgZnJvbSB0aGUgc2V0XG4gICAgICAgIChpbmRleCA8IDAgPyB0aGlzW2luZGV4ICsgdGhpcy5sZW5ndGhdIDogdGhpc1tpbmRleF0pIDpcblxuICAgICAgICAvLyBSZXR1cm4gYWxsIHRoZSBlbGVtZW50cyBpbiBhIGNsZWFuIGFycmF5XG4gICAgICAgIHNsaWNlLmNhbGwodGhpcyk7XG59O1xuXG5mbi5lcSA9IGZ1bmN0aW9uKGluZGV4KSB7XG4gICAgcmV0dXJuIGpCb25lKHRoaXNbaW5kZXhdKTtcbn07XG5cbmZuLnBhcmVudCA9IGZ1bmN0aW9uKCkge1xuICAgIHZhciByZXN1bHRzID0gW10sXG4gICAgICAgIHBhcmVudCxcbiAgICAgICAgaSA9IDAsXG4gICAgICAgIGxlbmd0aCA9IHRoaXMubGVuZ3RoO1xuXG4gICAgZm9yICg7IGkgPCBsZW5ndGg7IGkrKykge1xuICAgICAgICBpZiAoIX5yZXN1bHRzLmluZGV4T2YocGFyZW50ID0gdGhpc1tpXS5wYXJlbnRFbGVtZW50KSAmJiBwYXJlbnQpIHtcbiAgICAgICAgICAgIHJlc3VsdHMucHVzaChwYXJlbnQpO1xuICAgICAgICB9XG4gICAgfVxuXG4gICAgcmV0dXJuIGpCb25lKHJlc3VsdHMpO1xufTtcblxuZm4udG9BcnJheSA9IGZ1bmN0aW9uKCkge1xuICAgIHJldHVybiBzbGljZS5jYWxsKHRoaXMpO1xufTtcblxuZm4uaXMgPSBmdW5jdGlvbigpIHtcbiAgICB2YXIgYXJncyA9IGFyZ3VtZW50cztcblxuICAgIHJldHVybiB0aGlzLnNvbWUoZnVuY3Rpb24oZWwpIHtcbiAgICAgICAgcmV0dXJuIGVsLnRhZ05hbWUudG9Mb3dlckNhc2UoKSA9PT0gYXJnc1swXTtcbiAgICB9KTtcbn07XG5cbmZuLmhhcyA9IGZ1bmN0aW9uKCkge1xuICAgIHZhciBhcmdzID0gYXJndW1lbnRzO1xuXG4gICAgcmV0dXJuIHRoaXMuc29tZShmdW5jdGlvbihlbCkge1xuICAgICAgICByZXR1cm4gZWwucXVlcnlTZWxlY3RvckFsbChhcmdzWzBdKS5sZW5ndGg7XG4gICAgfSk7XG59O1xuXG5mbi5hZGQgPSBmdW5jdGlvbihzZWxlY3RvciwgY29udGV4dCkge1xuICAgIHJldHVybiBqQm9uZS51bmlxdWUoXG4gICAgICAgIGpCb25lLm1lcmdlKHRoaXMuZ2V0KCksIGpCb25lKHNlbGVjdG9yLCBjb250ZXh0KSlcbiAgICApO1xufTtcblxuZm4uYXR0ciA9IGZ1bmN0aW9uKGtleSwgdmFsdWUpIHtcbiAgICB2YXIgYXJncyA9IGFyZ3VtZW50cyxcbiAgICAgICAgaSA9IDAsXG4gICAgICAgIGxlbmd0aCA9IHRoaXMubGVuZ3RoLFxuICAgICAgICBzZXR0ZXI7XG5cbiAgICBpZiAoaXNTdHJpbmcoa2V5KSAmJiBhcmdzLmxlbmd0aCA9PT0gMSkge1xuICAgICAgICByZXR1cm4gdGhpc1swXSAmJiB0aGlzWzBdLmdldEF0dHJpYnV0ZShrZXkpO1xuICAgIH1cblxuICAgIGlmIChhcmdzLmxlbmd0aCA9PT0gMikge1xuICAgICAgICBzZXR0ZXIgPSBmdW5jdGlvbihlbCkge1xuICAgICAgICAgICAgZWwuc2V0QXR0cmlidXRlKGtleSwgdmFsdWUpO1xuICAgICAgICB9O1xuICAgIH0gZWxzZSBpZiAoaXNPYmplY3Qoa2V5KSkge1xuICAgICAgICBzZXR0ZXIgPSBmdW5jdGlvbihlbCkge1xuICAgICAgICAgICAga2V5cyhrZXkpLmZvckVhY2goZnVuY3Rpb24obmFtZSkge1xuICAgICAgICAgICAgICAgIGVsLnNldEF0dHJpYnV0ZShuYW1lLCBrZXlbbmFtZV0pO1xuICAgICAgICAgICAgfSk7XG4gICAgICAgIH07XG4gICAgfVxuXG4gICAgZm9yICg7IGkgPCBsZW5ndGg7IGkrKykge1xuICAgICAgICBzZXR0ZXIodGhpc1tpXSk7XG4gICAgfVxuXG4gICAgcmV0dXJuIHRoaXM7XG59O1xuXG5mbi5yZW1vdmVBdHRyID0gZnVuY3Rpb24oa2V5KSB7XG4gICAgdmFyIGkgPSAwLFxuICAgICAgICBsZW5ndGggPSB0aGlzLmxlbmd0aDtcblxuICAgIGZvciAoOyBpIDwgbGVuZ3RoOyBpKyspIHtcbiAgICAgICAgdGhpc1tpXS5yZW1vdmVBdHRyaWJ1dGUoa2V5KTtcbiAgICB9XG5cbiAgICByZXR1cm4gdGhpcztcbn07XG5cbmZuLnZhbCA9IGZ1bmN0aW9uKHZhbHVlKSB7XG4gICAgdmFyIGkgPSAwLFxuICAgICAgICBsZW5ndGggPSB0aGlzLmxlbmd0aDtcblxuICAgIGlmIChhcmd1bWVudHMubGVuZ3RoID09PSAwKSB7XG4gICAgICAgIHJldHVybiB0aGlzWzBdICYmIHRoaXNbMF0udmFsdWU7XG4gICAgfVxuXG4gICAgZm9yICg7IGkgPCBsZW5ndGg7IGkrKykge1xuICAgICAgICB0aGlzW2ldLnZhbHVlID0gdmFsdWU7XG4gICAgfVxuXG4gICAgcmV0dXJuIHRoaXM7XG59O1xuXG5mbi5jc3MgPSBmdW5jdGlvbihrZXksIHZhbHVlKSB7XG4gICAgdmFyIGFyZ3MgPSBhcmd1bWVudHMsXG4gICAgICAgIGkgPSAwLFxuICAgICAgICBsZW5ndGggPSB0aGlzLmxlbmd0aCxcbiAgICAgICAgc2V0dGVyO1xuXG4gICAgLy8gR2V0IGF0dHJpYnV0ZVxuICAgIGlmIChpc1N0cmluZyhrZXkpICYmIGFyZ3MubGVuZ3RoID09PSAxKSB7XG4gICAgICAgIHJldHVybiB0aGlzWzBdICYmIHdpbi5nZXRDb21wdXRlZFN0eWxlKHRoaXNbMF0pW2tleV07XG4gICAgfVxuXG4gICAgLy8gU2V0IGF0dHJpYnV0ZXNcbiAgICBpZiAoYXJncy5sZW5ndGggPT09IDIpIHtcbiAgICAgICAgc2V0dGVyID0gZnVuY3Rpb24oZWwpIHtcbiAgICAgICAgICAgIGVsLnN0eWxlW2tleV0gPSB2YWx1ZTtcbiAgICAgICAgfTtcbiAgICB9IGVsc2UgaWYgKGlzT2JqZWN0KGtleSkpIHtcbiAgICAgICAgc2V0dGVyID0gZnVuY3Rpb24oZWwpIHtcbiAgICAgICAgICAgIGtleXMoa2V5KS5mb3JFYWNoKGZ1bmN0aW9uKG5hbWUpIHtcbiAgICAgICAgICAgICAgICBlbC5zdHlsZVtuYW1lXSA9IGtleVtuYW1lXTtcbiAgICAgICAgICAgIH0pO1xuICAgICAgICB9O1xuICAgIH1cblxuICAgIGZvciAoOyBpIDwgbGVuZ3RoOyBpKyspIHtcbiAgICAgICAgc2V0dGVyKHRoaXNbaV0pO1xuICAgIH1cblxuICAgIHJldHVybiB0aGlzO1xufTtcblxuZm4uZGF0YSA9IGZ1bmN0aW9uKGtleSwgdmFsdWUpIHtcbiAgICB2YXIgYXJncyA9IGFyZ3VtZW50cywgZGF0YSA9IHt9LFxuICAgICAgICBpID0gMCxcbiAgICAgICAgbGVuZ3RoID0gdGhpcy5sZW5ndGgsXG4gICAgICAgIHNldHRlcixcbiAgICAgICAgc2V0VmFsdWUgPSBmdW5jdGlvbihlbCwga2V5LCB2YWx1ZSkge1xuICAgICAgICAgICAgaWYgKGlzT2JqZWN0KHZhbHVlKSkge1xuICAgICAgICAgICAgICAgIGVsLmpkYXRhID0gZWwuamRhdGEgfHwge307XG4gICAgICAgICAgICAgICAgZWwuamRhdGFba2V5XSA9IHZhbHVlO1xuICAgICAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgICAgICBlbC5kYXRhc2V0W2tleV0gPSB2YWx1ZTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgfSxcbiAgICAgICAgZ2V0VmFsdWUgPSBmdW5jdGlvbih2YWx1ZSkge1xuICAgICAgICAgICAgaWYgKHZhbHVlID09PSBcInRydWVcIikge1xuICAgICAgICAgICAgICAgIHJldHVybiB0cnVlO1xuICAgICAgICAgICAgfSBlbHNlIGlmICh2YWx1ZSA9PT0gXCJmYWxzZVwiKSB7XG4gICAgICAgICAgICAgICAgcmV0dXJuIGZhbHNlO1xuICAgICAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgICAgICByZXR1cm4gdmFsdWU7XG4gICAgICAgICAgICB9XG4gICAgICAgIH07XG5cbiAgICAvLyBHZXQgYWxsIGRhdGFcbiAgICBpZiAoYXJncy5sZW5ndGggPT09IDApIHtcbiAgICAgICAgdGhpc1swXS5qZGF0YSAmJiAoZGF0YSA9IHRoaXNbMF0uamRhdGEpO1xuXG4gICAgICAgIGtleXModGhpc1swXS5kYXRhc2V0KS5mb3JFYWNoKGZ1bmN0aW9uKGtleSkge1xuICAgICAgICAgICAgZGF0YVtrZXldID0gZ2V0VmFsdWUodGhpc1swXS5kYXRhc2V0W2tleV0pO1xuICAgICAgICB9LCB0aGlzKTtcblxuICAgICAgICByZXR1cm4gZGF0YTtcbiAgICB9XG4gICAgLy8gR2V0IGRhdGEgYnkgbmFtZVxuICAgIGlmIChhcmdzLmxlbmd0aCA9PT0gMSAmJiBpc1N0cmluZyhrZXkpKSB7XG4gICAgICAgIHJldHVybiB0aGlzWzBdICYmIGdldFZhbHVlKHRoaXNbMF0uZGF0YXNldFtrZXldIHx8IHRoaXNbMF0uamRhdGEgJiYgdGhpc1swXS5qZGF0YVtrZXldKTtcbiAgICB9XG5cbiAgICAvLyBTZXQgZGF0YVxuICAgIGlmIChhcmdzLmxlbmd0aCA9PT0gMSAmJiBpc09iamVjdChrZXkpKSB7XG4gICAgICAgIHNldHRlciA9IGZ1bmN0aW9uKGVsKSB7XG4gICAgICAgICAgICBrZXlzKGtleSkuZm9yRWFjaChmdW5jdGlvbihuYW1lKSB7XG4gICAgICAgICAgICAgICAgc2V0VmFsdWUoZWwsIG5hbWUsIGtleVtuYW1lXSk7XG4gICAgICAgICAgICB9KTtcbiAgICAgICAgfTtcbiAgICB9IGVsc2UgaWYgKGFyZ3MubGVuZ3RoID09PSAyKSB7XG4gICAgICAgIHNldHRlciA9IGZ1bmN0aW9uKGVsKSB7XG4gICAgICAgICAgICBzZXRWYWx1ZShlbCwga2V5LCB2YWx1ZSk7XG4gICAgICAgIH07XG4gICAgfVxuXG4gICAgZm9yICg7IGkgPCBsZW5ndGg7IGkrKykge1xuICAgICAgICBzZXR0ZXIodGhpc1tpXSk7XG4gICAgfVxuXG4gICAgcmV0dXJuIHRoaXM7XG59O1xuXG5mbi5yZW1vdmVEYXRhID0gZnVuY3Rpb24oa2V5KSB7XG4gICAgdmFyIGkgPSAwLFxuICAgICAgICBsZW5ndGggPSB0aGlzLmxlbmd0aCxcbiAgICAgICAgamRhdGEsIGRhdGFzZXQ7XG5cbiAgICBmb3IgKDsgaSA8IGxlbmd0aDsgaSsrKSB7XG4gICAgICAgIGpkYXRhID0gdGhpc1tpXS5qZGF0YTtcbiAgICAgICAgZGF0YXNldCA9IHRoaXNbaV0uZGF0YXNldDtcblxuICAgICAgICBpZiAoa2V5KSB7XG4gICAgICAgICAgICBqZGF0YSAmJiBqZGF0YVtrZXldICYmIGRlbGV0ZSBqZGF0YVtrZXldO1xuICAgICAgICAgICAgZGVsZXRlIGRhdGFzZXRba2V5XTtcbiAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgIGZvciAoa2V5IGluIGpkYXRhKSB7XG4gICAgICAgICAgICAgICAgZGVsZXRlIGpkYXRhW2tleV07XG4gICAgICAgICAgICB9XG5cbiAgICAgICAgICAgIGZvciAoa2V5IGluIGRhdGFzZXQpIHtcbiAgICAgICAgICAgICAgICBkZWxldGUgZGF0YXNldFtrZXldO1xuICAgICAgICAgICAgfVxuICAgICAgICB9XG4gICAgfVxuXG4gICAgcmV0dXJuIHRoaXM7XG59O1xuXG5mbi5odG1sID0gZnVuY3Rpb24odmFsdWUpIHtcbiAgICB2YXIgYXJncyA9IGFyZ3VtZW50cyxcbiAgICAgICAgZWw7XG5cbiAgICAvLyBhZGQgSFRNTCBpbnRvIGVsZW1lbnRzXG4gICAgaWYgKGFyZ3MubGVuZ3RoID09PSAxICYmIHZhbHVlICE9PSB1bmRlZmluZWQpIHtcbiAgICAgICAgcmV0dXJuIHRoaXMuZW1wdHkoKS5hcHBlbmQodmFsdWUpO1xuICAgIH1cbiAgICAvLyBnZXQgSFRNTCBmcm9tIGVsZW1lbnRcbiAgICBlbHNlIGlmIChhcmdzLmxlbmd0aCA9PT0gMCAmJiAoZWwgPSB0aGlzWzBdKSkge1xuICAgICAgICByZXR1cm4gZWwuaW5uZXJIVE1MO1xuICAgIH1cblxuICAgIHJldHVybiB0aGlzO1xufTtcblxuZm4uYXBwZW5kID0gZnVuY3Rpb24oYXBwZW5kZWQpIHtcbiAgICB2YXIgaSA9IDAsXG4gICAgICAgIGxlbmd0aCA9IHRoaXMubGVuZ3RoLFxuICAgICAgICBzZXR0ZXI7XG5cbiAgICAvLyBjcmVhdGUgakJvbmUgb2JqZWN0IGFuZCB0aGVuIGFwcGVuZFxuICAgIGlmIChpc1N0cmluZyhhcHBlbmRlZCkgJiYgcnF1aWNrRXhwci5leGVjKGFwcGVuZGVkKSkge1xuICAgICAgICBhcHBlbmRlZCA9IGpCb25lKGFwcGVuZGVkKTtcbiAgICB9XG4gICAgLy8gY3JlYXRlIHRleHQgbm9kZSBmb3IgaW5zZXJ0aW5nXG4gICAgZWxzZSBpZiAoIWlzT2JqZWN0KGFwcGVuZGVkKSkge1xuICAgICAgICBhcHBlbmRlZCA9IGRvY3VtZW50LmNyZWF0ZVRleHROb2RlKGFwcGVuZGVkKTtcbiAgICB9XG5cbiAgICBhcHBlbmRlZCA9IGFwcGVuZGVkIGluc3RhbmNlb2YgakJvbmUgPyBhcHBlbmRlZCA6IGpCb25lKGFwcGVuZGVkKTtcblxuICAgIHNldHRlciA9IGZ1bmN0aW9uKGVsLCBpKSB7XG4gICAgICAgIGFwcGVuZGVkLmZvckVhY2goZnVuY3Rpb24obm9kZSkge1xuICAgICAgICAgICAgaWYgKGkpIHtcbiAgICAgICAgICAgICAgICBlbC5hcHBlbmRDaGlsZChub2RlLmNsb25lTm9kZSh0cnVlKSk7XG4gICAgICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgICAgIGVsLmFwcGVuZENoaWxkKG5vZGUpO1xuICAgICAgICAgICAgfVxuICAgICAgICB9KTtcbiAgICB9O1xuXG4gICAgZm9yICg7IGkgPCBsZW5ndGg7IGkrKykge1xuICAgICAgICBzZXR0ZXIodGhpc1tpXSwgaSk7XG4gICAgfVxuXG4gICAgcmV0dXJuIHRoaXM7XG59O1xuXG5mbi5hcHBlbmRUbyA9IGZ1bmN0aW9uKHRvKSB7XG4gICAgakJvbmUodG8pLmFwcGVuZCh0aGlzKTtcblxuICAgIHJldHVybiB0aGlzO1xufTtcblxuZm4uZW1wdHkgPSBmdW5jdGlvbigpIHtcbiAgICB2YXIgaSA9IDAsXG4gICAgICAgIGxlbmd0aCA9IHRoaXMubGVuZ3RoLFxuICAgICAgICBlbDtcblxuICAgIGZvciAoOyBpIDwgbGVuZ3RoOyBpKyspIHtcbiAgICAgICAgZWwgPSB0aGlzW2ldO1xuXG4gICAgICAgIHdoaWxlIChlbC5sYXN0Q2hpbGQpIHtcbiAgICAgICAgICAgIGVsLnJlbW92ZUNoaWxkKGVsLmxhc3RDaGlsZCk7XG4gICAgICAgIH1cbiAgICB9XG5cbiAgICByZXR1cm4gdGhpcztcbn07XG5cbmZuLnJlbW92ZSA9IGZ1bmN0aW9uKCkge1xuICAgIHZhciBpID0gMCxcbiAgICAgICAgbGVuZ3RoID0gdGhpcy5sZW5ndGgsXG4gICAgICAgIGVsO1xuXG4gICAgLy8gcmVtb3ZlIGFsbCBsaXN0bmVyc1xuICAgIHRoaXMub2ZmKCk7XG5cbiAgICBmb3IgKDsgaSA8IGxlbmd0aDsgaSsrKSB7XG4gICAgICAgIGVsID0gdGhpc1tpXTtcblxuICAgICAgICAvLyByZW1vdmUgZGF0YSBhbmQgbm9kZXNcbiAgICAgICAgZGVsZXRlIGVsLmpkYXRhO1xuICAgICAgICBlbC5wYXJlbnROb2RlICYmIGVsLnBhcmVudE5vZGUucmVtb3ZlQ2hpbGQoZWwpO1xuICAgIH1cblxuICAgIHJldHVybiB0aGlzO1xufTtcblxuaWYgKHR5cGVvZiBtb2R1bGUgPT09IFwib2JqZWN0XCIgJiYgbW9kdWxlICYmIHR5cGVvZiBtb2R1bGUuZXhwb3J0cyA9PT0gXCJvYmplY3RcIikge1xuICAgIC8vIEV4cG9zZSBqQm9uZSBhcyBtb2R1bGUuZXhwb3J0cyBpbiBsb2FkZXJzIHRoYXQgaW1wbGVtZW50IHRoZSBOb2RlXG4gICAgLy8gbW9kdWxlIHBhdHRlcm4gKGluY2x1ZGluZyBicm93c2VyaWZ5KS4gRG8gbm90IGNyZWF0ZSB0aGUgZ2xvYmFsLCBzaW5jZVxuICAgIC8vIHRoZSB1c2VyIHdpbGwgYmUgc3RvcmluZyBpdCB0aGVtc2VsdmVzIGxvY2FsbHksIGFuZCBnbG9iYWxzIGFyZSBmcm93bmVkXG4gICAgLy8gdXBvbiBpbiB0aGUgTm9kZSBtb2R1bGUgd29ybGQuXG4gICAgbW9kdWxlLmV4cG9ydHMgPSBqQm9uZTtcbn1cbi8vIFJlZ2lzdGVyIGFzIGEgQU1EIG1vZHVsZVxuZWxzZSBpZiAodHlwZW9mIGRlZmluZSA9PT0gXCJmdW5jdGlvblwiICYmIGRlZmluZS5hbWQpIHtcbiAgICBkZWZpbmUoZnVuY3Rpb24oKSB7XG4gICAgICAgIHJldHVybiBqQm9uZTtcbiAgICB9KTtcblxuICAgIHdpbi5qQm9uZSA9IHdpbi4kID0gakJvbmU7XG59IGVsc2UgaWYgKHR5cGVvZiB3aW4gPT09IFwib2JqZWN0XCIgJiYgdHlwZW9mIHdpbi5kb2N1bWVudCA9PT0gXCJvYmplY3RcIikge1xuICAgIHdpbi5qQm9uZSA9IHdpbi4kID0gakJvbmU7XG59XG5cbn0od2luZG93KSk7XG4iLCJ2YXIga29hbGFqcyA9IHt9O1xuXG4vLyBwYXNzIGFuIGFsdGVybmF0aXZlIGRlZmF1bHQgdmFsdWVcbmtvYWxhanMuZCA9IGtvYWxhanMuZGVmYXVsdFZhbHVlID0gZnVuY3Rpb24gZGVmYXVsdFZhbHVlKG9iaiwgZGVmVmFsdWUpIHtcbiAgaWYgKG9iaiA9PT0gdW5kZWZpbmVkKSB7XG4gICAgaWYgKHR5cGVvZiBvYmogPT09IFwiZnVuY3Rpb25cIikge1xuICAgICAgcmV0dXJuIGRlZlZhbHVlKCk7XG4gICAgfVxuICAgIHJldHVybiBkZWZWYWx1ZTtcbiAgfVxuICByZXR1cm4gb2JqO1xufTtcblxuLy8gYWxpYXMgZm9yIGdldEVsZW1lbnRCeUlkXG5rb2FsYWpzLmlkID0gZnVuY3Rpb24gbWsoZWwpIHtcbiAgcmV0dXJuIGRvY3VtZW50LmdldEVsZW1lbnRCeUlkKGVsKTtcbn07XG5cbi8vIGFsaWFzIGZvciBjcmVhdGVFbGVtZW50XG5rb2FsYWpzLm1rID0gZnVuY3Rpb24gbWsoZWwpIHtcbiAgcmV0dXJuIGRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoZWwpO1xufTtcblxuaWYgKG1vZHVsZSAhPT0gdW5kZWZpbmVkICYmIG1vZHVsZS5leHBvcnRzICE9PSB1bmRlZmluZWQpIHtcbiAgbW9kdWxlLmV4cG9ydHMgPSBrb2FsYWpzO1xufVxuIiwibW9kdWxlLmV4cG9ydHMgPSByZXF1aXJlKFwiLi9saWIvbWVudWJ1aWxkZXJcIik7XG4iLCJ2YXIgTWVudUJ1aWxkZXIsIGpib25lLCB2aWV3O1xuXG5qYm9uZSA9IHJlcXVpcmUoXCJqYm9uZVwiKTtcbnZpZXcgPSByZXF1aXJlKFwiYmFja2JvbmUtdmlld2pcIik7XG5cbm1vZHVsZS5leHBvcnRzID0gTWVudUJ1aWxkZXIgPSB2aWV3LmV4dGVuZCh7XG4gIGluaXRpYWxpemU6IGZ1bmN0aW9uKG9wdHMpIHtcbiAgICB0aGlzLl9ub2RlcyA9IFtdO1xuICAgIHRoaXMubmFtZSA9IG9wdHMubmFtZSB8fCBcIlwiO1xuICAgIHRoaXMuZWwuY2xhc3NOYW1lICs9IFwic21lbnViYXJcIjtcbiAgfSxcbiAgcmVuZGVyOiBmdW5jdGlvbigpIHtcblxuICAgIC8vIHJlbW92ZSBhbGwgY2hpbGRzXG4gICAgdmFyIGZjID0gdGhpcy5lbC5maXJzdENoaWxkO1xuICAgIHdoaWxlIChmYykge1xuICAgICAgdGhpcy5lbC5yZW1vdmVDaGlsZChmYyk7XG4gICAgICBmYyA9IHRoaXMuZWwuZmlyc3RDaGlsZDtcbiAgICB9XG5cbiAgICAvLyByZXBsYWNlIGNoaWxkXG4gICAgdGhpcy5lbC5hcHBlbmRDaGlsZCh0aGlzLmJ1aWxkRE9NKCkpO1xuICB9LFxuICBzZXROYW1lOiBmdW5jdGlvbihuYW1lKSB7XG4gICAgdGhpcy5uYW1lID0gbmFtZTtcbiAgfSxcbiAgYWRkTm9kZTogZnVuY3Rpb24obGFiZWwsIGNhbGxiYWNrLCBvcHRzKSB7XG4gICAgdmFyIHN0eWxlO1xuICAgIGlmIChvcHRzICE9IG51bGwpIHtcbiAgICAgIHN0eWxlID0gb3B0cy5zdHlsZTtcbiAgICB9XG4gICAgaWYgKHRoaXMuX25vZGVzID09IG51bGwpIHtcbiAgICAgIHRoaXMuX25vZGVzID0gW107XG4gICAgfVxuICAgIHRoaXMuX25vZGVzLnB1c2goe1xuICAgICAgbGFiZWw6IGxhYmVsLFxuICAgICAgY2FsbGJhY2s6IGNhbGxiYWNrLFxuICAgICAgc3R5bGU6IHN0eWxlXG4gICAgfSk7XG4gIH0sXG5cbiAgZ2V0Tm9kZTogZnVuY3Rpb24obGFiZWwpIHtcbiAgICB2YXIgck5vZGUgPSB1bmRlZmluZWQ7XG4gICAgdGhpcy5fbm9kZXMuZm9yRWFjaChmdW5jdGlvbihlbCkge1xuICAgICAgaWYgKGVsLmxhYmVsID09PSBsYWJlbCkge1xuICAgICAgICByTm9kZSA9IGVsO1xuICAgICAgfVxuICAgIH0pO1xuICAgIHJldHVybiByTm9kZTtcbiAgfSxcblxuICBtb2RpZnlOb2RlOiBmdW5jdGlvbihsYWJlbCwgY2FsbGJhY2ssIG9wdHMpIHtcbiAgICB2YXIgbm9kZSA9IHRoaXMuZ2V0Tm9kZShsYWJlbCk7XG4gICAgbm9kZS5jYWxsYmFjayA9IGNhbGxiYWNrIHx8IG5vZGUuY2FsbGJhY2s7XG4gICAgb3B0cyA9IG9wdHMgfHwge307XG4gICAgbm9kZS5zdHlsZSA9IG9wdHMuc3R5bGUgfHwgbm9kZS5zdHlsZTtcbiAgfSxcblxuICByZW5hbWVOb2RlOiBmdW5jdGlvbihsYWJlbCwgbmV3TGFiZWwpIHtcbiAgICB2YXIgbm9kZSA9IHRoaXMuZ2V0Tm9kZShsYWJlbCk7XG4gICAgbm9kZS5sYWJlbCA9IG5ld0xhYmVsIHx8IG5vZGUubGFiZWw7XG4gIH0sXG5cbiAgcmVtb3ZlTm9kZTogZnVuY3Rpb24obGFiZWwpIHtcbiAgICB2YXIgbm9kZSA9IHRoaXMuZ2V0Tm9kZShsYWJlbCk7XG4gICAgdGhpcy5fbm9kZXMuc3BsaWNlKHRoaXMuX25vZGVzLmluZGV4T2Yobm9kZSksIDEpO1xuICB9LFxuXG4gIHJlbW92ZUFsbE5vZGVzOiBmdW5jdGlvbigpIHtcbiAgICB0aGlzLl9ub2RlcyA9IFtdO1xuICB9LFxuXG4gIGJ1aWxkRE9NOiBmdW5jdGlvbigpIHtcbiAgICB2YXIgc3BhbiA9IGRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoXCJzcGFuXCIpO1xuICAgIHNwYW4uYXBwZW5kQ2hpbGQodGhpcy5fYnVpbGRNKHtcbiAgICAgIG5vZGVzOiB0aGlzLl9ub2RlcyxcbiAgICAgIG5hbWU6IHRoaXMubmFtZVxuICAgIH0pKTtcbiAgICByZXR1cm4gc3BhbjtcbiAgfSxcbiAgX2J1aWxkTTogZnVuY3Rpb24oZGF0YSkge1xuICAgIHZhciBkaXNwbGF5ZWRCdXR0b24sIGZyYWcsIGtleSwgbGksIG5vZGUsIHN0eWxlLCBfcmVmO1xuICAgIHZhciBub2RlcyA9IGRhdGEubm9kZXM7XG4gICAgdmFyIG5hbWUgPSBkYXRhLm5hbWU7XG4gICAgdmFyIG1lbnUgPSBkb2N1bWVudC5jcmVhdGVFbGVtZW50KFwiZGl2XCIpO1xuICAgIG1lbnUuY2xhc3NOYW1lID0gXCJzbWVudS1kcm9wZG93biBzbWVudS1kcm9wZG93bi10aXBcIjtcbiAgICBtZW51LnN0eWxlLmRpc3BsYXkgPSBcIm5vbmVcIjtcblxuICAgIHZhciBtZW51VWwgPSBkb2N1bWVudC5jcmVhdGVFbGVtZW50KFwidWxcIik7XG4gICAgbWVudVVsLmNsYXNzTmFtZSA9IFwic21lbnUtZHJvcGRvd24tbWVudVwiO1xuXG4gICAgLy8gY3VycmVudGx5IHdlIHN1cHBvcnQgb25lLWxldmVsXG4gICAgZm9yICh2YXIgaSA9IDAsIF9sZW4gPSBub2Rlcy5sZW5ndGg7IGkgPCBfbGVuOyBpKyspIHtcbiAgICAgIG5vZGUgPSBub2Rlc1tpXTtcbiAgICAgIGxpID0gZG9jdW1lbnQuY3JlYXRlRWxlbWVudChcImxpXCIpO1xuICAgICAgbGkudGV4dENvbnRlbnQgPSBub2RlLmxhYmVsO1xuICAgICAgX3JlZiA9IG5vZGUuc3R5bGU7XG4gICAgICBmb3IgKGtleSBpbiBfcmVmKSB7XG4gICAgICAgIHN0eWxlID0gX3JlZltrZXldO1xuICAgICAgICBsaS5zdHlsZVtrZXldID0gc3R5bGU7XG4gICAgICB9XG4gICAgICBsaS5hZGRFdmVudExpc3RlbmVyKFwiY2xpY2tcIiwgbm9kZS5jYWxsYmFjayk7XG4gICAgICB0aGlzLnRyaWdnZXIoXCJuZXc6bm9kZVwiLCBsaSk7XG4gICAgICBtZW51VWwuYXBwZW5kQ2hpbGQobGkpO1xuICAgIH1cbiAgICB0aGlzLnRyaWdnZXIoXCJuZXc6bWVudVwiLCBtZW51VWwpO1xuICAgIG1lbnUuYXBwZW5kQ2hpbGQobWVudVVsKTtcblxuICAgIGRpc3BsYXllZEJ1dHRvbiA9IGRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoXCJhXCIpO1xuICAgIGRpc3BsYXllZEJ1dHRvbi50ZXh0Q29udGVudCA9IG5hbWU7XG4gICAgZGlzcGxheWVkQnV0dG9uLmNsYXNzTmFtZSA9IFwic21lbnViYXJfYWxpbmtcIjtcbiAgICB0aGlzLnRyaWdnZXIoXCJuZXc6YnV0dG9uXCIsIGRpc3BsYXllZEJ1dHRvbik7XG5cbiAgICAvLyBIQUNLIHRvIGJlIGFibGUgdG8gaGlkZSB0aGUgc3VibWVudVxuICAgIC8vIGxpc3RlbnMgZ2xvYmFsbHkgZm9yIGNsaWNrIGV2ZW50c1xuICAgIGpib25lKGRpc3BsYXllZEJ1dHRvbikub24oXCJjbGlja1wiLCAoZnVuY3Rpb24oX3RoaXMpIHtcbiAgICAgIHJldHVybiBmdW5jdGlvbihlKSB7XG4gICAgICAgIF90aGlzLl9zaG93TWVudShlLCBtZW51LCBkaXNwbGF5ZWRCdXR0b24pO1xuICAgICAgICByZXR1cm4gd2luZG93LnNldFRpbWVvdXQoZnVuY3Rpb24oKSB7XG4gICAgICAgICAgcmV0dXJuIGpib25lKGRvY3VtZW50LmJvZHkpLm9uZShcImNsaWNrXCIsIGZ1bmN0aW9uKGUpIHtcbiAgICAgICAgICAgIHJldHVybiBtZW51LnN0eWxlLmRpc3BsYXkgPSBcIm5vbmVcIjtcbiAgICAgICAgICB9KTtcbiAgICAgICAgfSwgNSk7XG4gICAgICB9O1xuICAgIH0pKHRoaXMpKTtcblxuICAgIGZyYWcgPSBkb2N1bWVudC5jcmVhdGVEb2N1bWVudEZyYWdtZW50KCk7XG4gICAgZnJhZy5hcHBlbmRDaGlsZChtZW51KTtcbiAgICBmcmFnLmFwcGVuZENoaWxkKGRpc3BsYXllZEJ1dHRvbik7XG4gICAgcmV0dXJuIGZyYWc7XG4gIH0sXG5cbiAgLy8gaW50ZXJuYWwgbWV0aG9kIHRvIGRpc3BsYXkgdGhlIGxvd2VyIG1lbnUgb24gYSBjbGlja1xuICBfc2hvd01lbnU6IGZ1bmN0aW9uKGUsIG1lbnUsIHRhcmdldCkge1xuICAgIHZhciByZWN0O1xuICAgIG1lbnUuc3R5bGUuZGlzcGxheSA9IFwiYmxvY2tcIjtcbiAgICBtZW51LnN0eWxlLnBvc2l0aW9uID0gXCJhYnNvbHV0ZVwiO1xuICAgIHJlY3QgPSB0YXJnZXQuZ2V0Qm91bmRpbmdDbGllbnRSZWN0KCk7XG4gICAgbWVudS5zdHlsZS5sZWZ0ID0gcmVjdC5sZWZ0ICsgXCJweFwiO1xuICAgIG1lbnUuc3R5bGUudG9wID0gKHJlY3QudG9wICsgdGFyZ2V0Lm9mZnNldEhlaWdodCkgKyBcInB4XCI7XG4gIH1cbn0pO1xuIiwidmFyIE1vdXNlO1xuXG5tb2R1bGUuZXhwb3J0cyA9IE1vdXNlID0ge1xuICByZWw6IGZ1bmN0aW9uKGUpIHtcbiAgICB2YXIgbW91c2VYLCBtb3VzZVksIHJlY3QsIHRhcmdldDtcbiAgICBtb3VzZVggPSBlLm9mZnNldFg7XG4gICAgbW91c2VZID0gZS5vZmZzZXRZO1xuICAgIGlmIChtb3VzZVggPT0gdW5kZWZpbmVkKSB7XG4gICAgICByZWN0ID0gdGFyZ2V0LmdldEJvdW5kaW5nQ2xpZW50UmVjdCgpO1xuICAgICAgdGFyZ2V0ID0gZS50YXJnZXQgfHwgZS5zcmNFbGVtZW50O1xuICAgICAgaWYgKG1vdXNlWCA9PSB1bmRlZmluZWQpIHtcbiAgICAgICAgbW91c2VYID0gZS5jbGllbnRYIC0gcmVjdC5sZWZ0O1xuICAgICAgICBtb3VzZVkgPSBlLmNsaWVudFkgLSByZWN0LnRvcDtcbiAgICAgIH1cbiAgICAgIGlmIChtb3VzZVggPT0gdW5kZWZpbmVkKSB7XG4gICAgICAgIG1vdXNlWCA9IGUucGFnZVggLSB0YXJnZXQub2Zmc2V0TGVmdDtcbiAgICAgICAgbW91c2VZID0gZS5wYWdlWSAtIHRhcmdldC5vZmZzZXRUb3A7XG4gICAgICB9XG4gICAgICBpZiAobW91c2VYID09IHVuZGVmaW5lZCkge1xuICAgICAgICBjb25zb2xlLmxvZyhlLCBcIm5vIG1vdXNlIGV2ZW50IGRlZmluZWQuIHlvdXIgYnJvd3NlciBzdWNrc1wiKTtcbiAgICAgICAgcmV0dXJuO1xuICAgICAgfVxuICAgIH1cbiAgICByZXR1cm4gW21vdXNlWCwgbW91c2VZXTtcbiAgfSxcbiAgYWJzOiBmdW5jdGlvbihlKSB7XG4gICAgdmFyIG1vdXNlWCwgbW91c2VZO1xuICAgIG1vdXNlWCA9IGUucGFnZVg7XG4gICAgbW91c2VZID0gZS5wYWdlWTtcbiAgICBpZiAobW91c2VYID09IHVuZGVmaW5lZCkge1xuICAgICAgbW91c2VYID0gZS5sYXllclg7XG4gICAgICBtb3VzZVkgPSBlLmxheWVyWTtcbiAgICB9XG4gICAgaWYgKG1vdXNlWCA9PSB1bmRlZmluZWQpIHtcbiAgICAgIG1vdXNlWCA9IGUuY2xpZW50WDtcbiAgICAgIG1vdXNlWSA9IGUuY2xpZW50WTtcbiAgICB9XG4gICAgaWYgKG1vdXNlWCA9PSB1bmRlZmluZWQpIHtcbiAgICAgIG1vdXNlWCA9IGUueDtcbiAgICAgIG1vdXNlWSA9IGUueTtcbiAgICB9XG4gICAgcmV0dXJuIFttb3VzZVgsIG1vdXNlWV07XG4gIH0sXG4gIHdoZWVsRGVsdGE6IGZ1bmN0aW9uKGUpIHtcbiAgICB2YXIgZGVsdGE7XG4gICAgZGVsdGEgPSBbZS5kZWx0YVgsIGUuZGVsdGFZXTtcbiAgICBpZiAoZGVsdGFbMF0gPT0gdW5kZWZpbmVkKSB7XG4gICAgICAvLyBpbiBjYXNlIHRoZXJlIGlzIGEgbW9yZSBkZXRhaWxlZCBzY3JvbGwgc2Vuc29yIC0gdXNlIGl0XG4gICAgICBpZiAoZS5tb3pNb3ZlbWVudFgpIHtcbiAgICAgICAgZGVsdGEgPSBbMCwgZS5tb3pNb3ZlbWVudFhdO1xuICAgICAgfVxuICAgIH1cbiAgICAvLyBzYWZldHkgZmlyc3RcbiAgICBpZiAoaXNOYU4oZGVsdGFbMF0pKSB7XG4gICAgICBkZWx0YVswXSA9IDA7XG4gICAgfVxuICAgIGlmIChpc05hTihkZWx0YVsxXSkpIHtcbiAgICAgIGRlbHRhWzFdID0gMDtcbiAgICB9XG4gICAgcmV0dXJuIGRlbHRhO1xuICB9XG59O1xuIiwibW9kdWxlLmV4cG9ydHMgPSB7XG4gIEE6IFwiIzAwYTM1Y1wiLFxuICBSOiBcIiMwMGZjMDNcIixcbiAgTjogXCIjMDBlYjE0XCIsXG4gIEQ6IFwiIzAwZWIxNFwiLFxuICBDOiBcIiMwMDAwZmZcIixcbiAgUTogXCIjMDBmMTBlXCIsXG4gIEU6IFwiIzAwZjEwZVwiLFxuICBHOiBcIiMwMDlkNjJcIixcbiAgSDogXCIjMDBkNTJhXCIsXG4gIEk6IFwiIzAwNTRhYlwiLFxuICBMOiBcIiMwMDdiODRcIixcbiAgSzogXCIjMDBmZjAwXCIsXG4gIE06IFwiIzAwOTc2OFwiLFxuICBGOiBcIiMwMDg3NzhcIixcbiAgUDogXCIjMDBlMDFmXCIsXG4gIFM6IFwiIzAwZDUyYVwiLFxuICBUOiBcIiMwMGRiMjRcIixcbiAgVzogXCIjMDBhODU3XCIsXG4gIFk6IFwiIzAwZTYxOVwiLFxuICBWOiBcIiMwMDVmYTBcIixcbiAgQjogXCIjMDBlYjE0XCIsXG4gIFg6IFwiIzAwYjY0OVwiLFxuICBaOiBcIiMwMGYxMGVcIlxufTtcbiIsIm1vZHVsZS5leHBvcnRzID0ge1xuICBBOiBcIiNCQkJCQkJcIixcbiAgQjogXCJncmV5XCIsXG4gIEM6IFwieWVsbG93XCIsXG4gIEQ6IFwicmVkXCIsXG4gIEU6IFwicmVkXCIsXG4gIEY6IFwibWFnZW50YVwiLFxuICBHOiBcImJyb3duXCIsXG4gIEg6IFwiIzAwRkZGRlwiLFxuICBJOiBcIiNCQkJCQkJcIixcbiAgSjogXCIjZmZmXCIsXG4gIEs6IFwiIzAwRkZGRlwiLFxuICBMOiBcIiNCQkJCQkJcIixcbiAgTTogXCIjQkJCQkJCXCIsXG4gIE46IFwiZ3JlZW5cIixcbiAgTzogXCIjZmZmXCIsXG4gIFA6IFwiYnJvd25cIixcbiAgUTogXCJncmVlblwiLFxuICBSOiBcIiMwMEZGRkZcIixcbiAgUzogXCJncmVlblwiLFxuICBUOiBcImdyZWVuXCIsXG4gIFU6IFwiI2ZmZlwiLFxuICBWOiBcIiNCQkJCQkJcIixcbiAgVzogXCJtYWdlbnRhXCIsXG4gIFg6IFwiZ3JleVwiLFxuICBZOiBcIm1hZ2VudGFcIixcbiAgWjogXCJncmV5XCIsXG4gIEdhcDogXCJncmV5XCJcbn07XG4iLCJtb2R1bGUuZXhwb3J0cyA9IHtcbiAgQTogXCJvcmFuZ2VcIixcbiAgQjogXCIjZmZmXCIsXG4gIEM6IFwiZ3JlZW5cIixcbiAgRDogXCJyZWRcIixcbiAgRTogXCJyZWRcIixcbiAgRjogXCJibHVlXCIsXG4gIEc6IFwib3JhbmdlXCIsXG4gIEg6IFwicmVkXCIsXG4gIEk6IFwiZ3JlZW5cIixcbiAgSjogXCIjZmZmXCIsXG4gIEs6IFwicmVkXCIsXG4gIEw6IFwiZ3JlZW5cIixcbiAgTTogXCJncmVlblwiLFxuICBOOiBcIiNmZmZcIixcbiAgTzogXCIjZmZmXCIsXG4gIFA6IFwib3JhbmdlXCIsXG4gIFE6IFwiI2ZmZlwiLFxuICBSOiBcInJlZFwiLFxuICBTOiBcIm9yYW5nZVwiLFxuICBUOiBcIm9yYW5nZVwiLFxuICBVOiBcIiNmZmZcIixcbiAgVjogXCJncmVlblwiLFxuICBXOiBcImJsdWVcIixcbiAgWDogXCIjZmZmXCIsXG4gIFk6IFwiYmx1ZVwiLFxuICBaOiBcIiNmZmZcIixcbiAgR2FwOiBcIiNmZmZcIlxufTtcbiIsIm1vZHVsZS5leHBvcnRzID0ge1xuICBBOiBcIiM4MGEwZjBcIixcbiAgUjogXCIjZjAxNTA1XCIsXG4gIE46IFwiIzAwZmYwMFwiLFxuICBEOiBcIiNjMDQ4YzBcIixcbiAgQzogXCIjZjA4MDgwXCIsXG4gIFE6IFwiIzAwZmYwMFwiLFxuICBFOiBcIiNjMDQ4YzBcIixcbiAgRzogXCIjZjA5MDQ4XCIsXG4gIEg6IFwiIzE1YTRhNFwiLFxuICBJOiBcIiM4MGEwZjBcIixcbiAgTDogXCIjODBhMGYwXCIsXG4gIEs6IFwiI2YwMTUwNVwiLFxuICBNOiBcIiM4MGEwZjBcIixcbiAgRjogXCIjODBhMGYwXCIsXG4gIFA6IFwiI2ZmZmYwMFwiLFxuICBTOiBcIiMwMGZmMDBcIixcbiAgVDogXCIjMDBmZjAwXCIsXG4gIFc6IFwiIzgwYTBmMFwiLFxuICBZOiBcIiMxNWE0YTRcIixcbiAgVjogXCIjODBhMGYwXCIsXG4gIEI6IFwiI2ZmZlwiLFxuICBYOiBcIiNmZmZcIixcbiAgWjogXCIjZmZmXCJcbn07XG4iLCJtb2R1bGUuZXhwb3J0cyA9IHtcbiAgQTogXCIjZTcxOGU3XCIsXG4gIFI6IFwiIzZmOTA2ZlwiLFxuICBOOiBcIiMxYmU0MWJcIixcbiAgRDogXCIjNzc4ODc3XCIsXG4gIEM6IFwiIzIzZGMyM1wiLFxuICBROiBcIiM5MjZkOTJcIixcbiAgRTogXCIjZmYwMGZmXCIsXG4gIEc6IFwiIzAwZmYwMFwiLFxuICBIOiBcIiM3NThhNzVcIixcbiAgSTogXCIjOGE3NThhXCIsXG4gIEw6IFwiI2FlNTFhZVwiLFxuICBLOiBcIiNhMDVmYTBcIixcbiAgTTogXCIjZWYxMGVmXCIsXG4gIEY6IFwiIzk4Njc5OFwiLFxuICBQOiBcIiMwMGZmMDBcIixcbiAgUzogXCIjMzZjOTM2XCIsXG4gIFQ6IFwiIzQ3Yjg0N1wiLFxuICBXOiBcIiM4YTc1OGFcIixcbiAgWTogXCIjMjFkZTIxXCIsXG4gIFY6IFwiIzg1N2E4NVwiLFxuICBCOiBcIiM0OWI2NDlcIixcbiAgWDogXCIjNzU4YTc1XCIsXG4gIFo6IFwiI2M5MzZjOVwiXG59O1xuIiwibW9kdWxlLmV4cG9ydHMgPSB7XG4gIEE6IFwiI2FkMDA1MlwiLFxuICBCOiBcIiMwYzAwZjNcIixcbiAgQzogXCIjYzIwMDNkXCIsXG4gIEQ6IFwiIzBjMDBmM1wiLFxuICBFOiBcIiMwYzAwZjNcIixcbiAgRjogXCIjY2IwMDM0XCIsXG4gIEc6IFwiIzZhMDA5NVwiLFxuICBIOiBcIiMxNTAwZWFcIixcbiAgSTogXCIjZmYwMDAwXCIsXG4gIEo6IFwiI2ZmZlwiLFxuICBLOiBcIiMwMDAwZmZcIixcbiAgTDogXCIjZWEwMDE1XCIsXG4gIE06IFwiI2IwMDA0ZlwiLFxuICBOOiBcIiMwYzAwZjNcIixcbiAgTzogXCIjZmZmXCIsXG4gIFA6IFwiIzQ2MDBiOVwiLFxuICBROiBcIiMwYzAwZjNcIixcbiAgUjogXCIjMDAwMGZmXCIsXG4gIFM6IFwiIzVlMDBhMVwiLFxuICBUOiBcIiM2MTAwOWVcIixcbiAgVTogXCIjZmZmXCIsXG4gIFY6IFwiI2Y2MDAwOVwiLFxuICBXOiBcIiM1YjAwYTRcIixcbiAgWDogXCIjNjgwMDk3XCIsXG4gIFk6IFwiIzRmMDBiMFwiLFxuICBaOiBcIiMwYzAwZjNcIlxufTtcbiIsInZhciBzY2hlbWVzID0gcmVxdWlyZShcIi4vc2NoZW1lY2xhc3NcIik7XG52YXIgU3RhdGljU2NoZW1lQ2xhc3MgPSBzY2hlbWVzLnN0YXQ7XG52YXIgRHluU2NoZW1lQ2xhc3MgPSBzY2hlbWVzLmR5bjtcblxudmFyIEJ1cmllZCA9IHJlcXVpcmUoXCIuL2J1cmllZFwiKTtcbnZhciBDaW5lbWEgPSByZXF1aXJlKFwiLi9jaW5lbWFcIik7XG52YXIgQ2x1c3RhbCA9IHJlcXVpcmUoXCIuL2NsdXN0YWxcIik7XG52YXIgQ2x1c3RhbDIgPSByZXF1aXJlKFwiLi9jbHVzdGFsMlwiKTtcbnZhciBIZWxpeCA9IHJlcXVpcmUoXCIuL2hlbGl4XCIpO1xudmFyIEh5ZHJvID0gcmVxdWlyZShcIi4vaHlkcm9waG9iaWNpdHlcIik7XG52YXIgTGVzayA9IHJlcXVpcmUoXCIuL2xlc2tcIik7XG52YXIgTWFlID0gcmVxdWlyZShcIi4vbWFlXCIpO1xudmFyIE51Y2xlb3RpZGUgPSByZXF1aXJlKFwiLi9udWNsZW90aWRlXCIpO1xudmFyIFB1cmluZSA9IHJlcXVpcmUoXCIuL3B1cmluZVwiKTtcbnZhciBTdHJhbmQgPSByZXF1aXJlKFwiLi9zdHJhbmRcIik7XG52YXIgVGF5bG9yID0gcmVxdWlyZShcIi4vdGF5bG9yXCIpO1xudmFyIFR1cm4gPSByZXF1aXJlKFwiLi90dXJuXCIpO1xudmFyIFphcHBvID0gcmVxdWlyZShcIi4vemFwcG9cIik7XG5cbnZhciBzdGF0aWNTY2hlbWVzID0ge1xuICBidXJpZWQ6IEJ1cmllZCxcbiAgYnVyaWVkX2luZGV4OiBCdXJpZWQsXG4gIGNpbmVtYTogQ2luZW1hLFxuICBjbHVzdGFsMjogQ2x1c3RhbDIsXG4gIGNsdXN0YWw6IENsdXN0YWwsXG4gIGhlbGl4OiBIZWxpeCxcbiAgaGVsaXhfcHJvcGVuc2l0eTogSGVsaXgsXG4gIGh5ZHJvOiBIeWRybyxcbiAgbGVzazogTGVzayxcbiAgbWFlOiBNYWUsXG4gIG51Y2xlb3RpZGU6IE51Y2xlb3RpZGUsXG4gIHB1cmluZTogUHVyaW5lLFxuICBwdXJpbmVfcHlyaW1pZGluZTogUHVyaW5lLFxuICBzdHJhbmQ6IFN0cmFuZCxcbiAgc3RyYW5kX3Byb3BlbnNpdHk6IFN0cmFuZCxcbiAgdGF5bG9yOiBUYXlsb3IsXG4gIHR1cm46IFR1cm4sXG4gIHR1cm5fcHJvcGVuc2l0eTogVHVybixcbiAgemFwcG86IFphcHBvXG59O1xuXG52YXIgcGlkID0gcmVxdWlyZShcIi4vcGlkX2NvbG9ycy5qc1wiKTtcblxudmFyIGR5blNjaGVtZXMgPSB7XG4gIHBpZDogcGlkXG59O1xuXG5tb2R1bGUuZXhwb3J0cyA9IENvbG9ycyA9IGZ1bmN0aW9uKG9wdCl7XG4gIHRoaXMubWFwcyA9IGNsb25lKHN0YXRpY1NjaGVtZXMpOyAgXG4gIHRoaXMuZHluID0gY2xvbmUoZHluU2NoZW1lcyk7XG4gIHRoaXMub3B0ID0gb3B0O1xufVxuQ29sb3JzLmdldFNjaGVtZSA9IGZ1bmN0aW9uKHNjaGVtZSl7XG4gIHJldHVybiBzdGF0aWNTY2hlbWVzW3NjaGVtZV07XG59XG5Db2xvcnMucHJvdG90eXBlLmdldFNjaGVtZSA9IGZ1bmN0aW9uKHNjaGVtZSkge1xuICB2YXIgY29sb3IgPSB0aGlzLm1hcHNbc2NoZW1lXTtcbiAgaWYgKGNvbG9yID09PSB1bmRlZmluZWQpIHtcbiAgICBjb2xvciA9IHt9O1xuICAgIGlmKHRoaXMuZHluW3NjaGVtZV0gIT0gdW5kZWZpbmVkKXtcbiAgICAgIHJldHVybiBuZXcgRHluU2NoZW1lQ2xhc3ModGhpcy5keW5bc2NoZW1lXSx0aGlzLm9wdCk7XG4gICAgfVxuICB9XG4gIHJldHVybiBuZXcgU3RhdGljU2NoZW1lQ2xhc3MoY29sb3IpO1xufTtcblxuQ29sb3JzLnByb3RvdHlwZS5hZGRTdGF0aWNTY2hlbWUgPSBmdW5jdGlvbihuYW1lLHNjaGVtZSkge1xuICB0aGlzLm1hcHNbbmFtZV0gPSBzY2hlbWU7XG59XG5cbkNvbG9ycy5wcm90b3R5cGUuYWRkRHluU2NoZW1lID0gZnVuY3Rpb24obmFtZSxzY2hlbWUpIHtcbiAgdGhpcy5keW5bbmFtZV0gPSBzY2hlbWU7XG59XG5cbi8vIHNtYWxsIGhlbHBlciB0byBjbG9uZSBhbiBvYmplY3RcbmZ1bmN0aW9uIGNsb25lKG9iaikge1xuICBpZiAobnVsbCA9PSBvYmogfHwgXCJvYmplY3RcIiAhPSB0eXBlb2Ygb2JqKSByZXR1cm4gb2JqO1xuICB2YXIgY29weSA9IG9iai5jb25zdHJ1Y3RvcigpO1xuICBmb3IgKHZhciBhdHRyIGluIG9iaikge1xuICAgIGlmIChvYmouaGFzT3duUHJvcGVydHkoYXR0cikpIGNvcHlbYXR0cl0gPSBvYmpbYXR0cl07XG4gIH1cbiAgcmV0dXJuIGNvcHk7XG59XG4iLCJtb2R1bGUuZXhwb3J0cyA9IHtcbiAgQTogXCIgb3JhbmdlXCIsXG4gIEI6IFwiICNmZmZcIixcbiAgQzogXCIgZ3JlZW5cIixcbiAgRDogXCIgcmVkXCIsXG4gIEU6IFwiIHJlZFwiLFxuICBGOiBcIiBncmVlblwiLFxuICBHOiBcIiBvcmFuZ2VcIixcbiAgSDogXCIgbWFnZW50YVwiLFxuICBJOiBcIiBncmVlblwiLFxuICBKOiBcIiAjZmZmXCIsXG4gIEs6IFwiIHJlZFwiLFxuICBMOiBcIiBncmVlblwiLFxuICBNOiBcIiBncmVlblwiLFxuICBOOiBcIiBtYWdlbnRhXCIsXG4gIE86IFwiICNmZmZcIixcbiAgUDogXCIgZ3JlZW5cIixcbiAgUTogXCIgbWFnZW50YVwiLFxuICBSOiBcIiByZWRcIixcbiAgUzogXCIgb3JhbmdlXCIsXG4gIFQ6IFwiIG9yYW5nZVwiLFxuICBVOiBcIiAjZmZmXCIsXG4gIFY6IFwiIGdyZWVuXCIsXG4gIFc6IFwiIGdyZWVuXCIsXG4gIFg6IFwiICNmZmZcIixcbiAgWTogXCIgZ3JlZW5cIixcbiAgWjogXCIgI2ZmZlwiLFxuICBHYXA6IFwiICNmZmZcIlxufTtcbiIsIm1vZHVsZS5leHBvcnRzID0ge1xuICBBOiBcIiAjNzdkZDg4XCIsXG4gIEI6IFwiICNmZmZcIixcbiAgQzogXCIgIzk5ZWU2NlwiLFxuICBEOiBcIiAjNTViYjMzXCIsXG4gIEU6IFwiICM1NWJiMzNcIixcbiAgRjogXCIgIzk5OTlmZlwiLFxuICBHOiBcIiAjNzdkZDg4XCIsXG4gIEg6IFwiICM1NTU1ZmZcIixcbiAgSTogXCIgIzY2YmJmZlwiLFxuICBKOiBcIiAjZmZmXCIsXG4gIEs6IFwiICNmZmNjNzdcIixcbiAgTDogXCIgIzY2YmJmZlwiLFxuICBNOiBcIiAjNjZiYmZmXCIsXG4gIE46IFwiICM1NWJiMzNcIixcbiAgTzogXCIgI2ZmZlwiLFxuICBQOiBcIiAjZWVhYWFhXCIsXG4gIFE6IFwiICM1NWJiMzNcIixcbiAgUjogXCIgI2ZmY2M3N1wiLFxuICBTOiBcIiAjZmY0NDU1XCIsXG4gIFQ6IFwiICNmZjQ0NTVcIixcbiAgVTogXCIgI2ZmZlwiLFxuICBWOiBcIiAjNjZiYmZmXCIsXG4gIFc6IFwiICM5OTk5ZmZcIixcbiAgWDogXCIgI2ZmZlwiLFxuICBZOiBcIiAjOTk5OWZmXCIsXG4gIFo6IFwiICNmZmZcIixcbiAgR2FwOiBcIiAjZmZmXCJcbn07XG4iLCJtb2R1bGUuZXhwb3J0cyA9IHtcbiAgQTogXCIgIzY0RjczRlwiLFxuICBDOiBcIiAjRkZCMzQwXCIsXG4gIEc6IFwiICNFQjQxM0NcIixcbiAgVDogXCIgIzNDODhFRVwiLFxuICBVOiBcIiAjM0M4OEVFXCJcbn07XG4iLCJ2YXIgcGlkO1xubW9kdWxlLmV4cG9ydHMgPSBwaWQgPSB7fTtcblxuLy8gY2FsY3VsYXRpbmcgdGhlIGNvbnNlcnZhdGlvbiBpcyBleHBlbnNpdmUgXG4vLyB3ZSBvbmx5IHdhbnQgdG8gZG8gaXQgb25jZVxucGlkLmluaXQgPSBmdW5jdGlvbigpe1xuICB0aGlzLmNvbnMgPSB0aGlzLm9wdC5jb25zZXJ2YXRpb24oKTtcbn1cblxucGlkLnJ1biA9IGZ1bmN0aW9uKGxldHRlcixvcHRzKXtcbiAgdmFyIGNvbnMgPSB0aGlzLmNvbnNbb3B0cy5wb3NdO1xuICBpZihjb25zID4gMC44KXtcbiAgICByZXR1cm4gXCIjNjQ2NGZmXCI7XG4gIH1lbHNlIGlmKGNvbnMgPiAwLjYpe1xuICAgIHJldHVybiBcIiM5ZGE1ZmZcIjtcbiAgfWVsc2UgaWYoY29ucyA+IDAuNCl7XG4gICAgcmV0dXJuIFwiI2NjY2NjY1wiO1xuICB9ZWxzZXtcbiAgICByZXR1cm4gXCIjZmZmZmZmXCI7XG4gIH1cbn1cbiIsIm1vZHVsZS5leHBvcnRzID0ge1xuICBBOiBcIiAjRkY4M0ZBXCIsXG4gIEM6IFwiICM0MEUwRDBcIixcbiAgRzogXCIgI0ZGODNGQVwiLFxuICBSOiBcIiAjRkY4M0ZBXCIsXG4gIFQ6IFwiICM0MEUwRDBcIixcbiAgVTogXCIgIzQwRTBEMFwiLFxuICBZOiBcIiAjNDBFMEQwXCJcbn07XG4iLCJ2YXIgU3RhdGljU2NoZW1lQ2xhc3MgPSBmdW5jdGlvbihtYXApe1xuICB0aGlzLmRlZmF1bHRDb2xvciA9IFwiI2ZmZmZmZlwiO1xuICB0aGlzLnR5cGUgPSBcInN0YXRpY1wiO1xuICB0aGlzLm1hcCA9IG1hcDtcbiAgdGhpcy5nZXRDb2xvciA9IGZ1bmN0aW9uKGxldHRlcil7XG4gICAgaWYodGhpcy5tYXBbbGV0dGVyXSAhPT0gdW5kZWZpbmVkKXtcbiAgICAgIHJldHVybiB0aGlzLm1hcFtsZXR0ZXJdOyBcbiAgICB9ZWxzZXtcbiAgICAgIHJldHVybiB0aGlzLmRlZmF1bHRDb2xvcjtcbiAgICB9XG4gIH07XG59O1xuXG52YXIgRHluU2NoZW1lQ2xhc3MgPSBmdW5jdGlvbihmdW4sb3B0KXtcbiAgdGhpcy50eXBlID0gXCJkeW5cIjtcbiAgdGhpcy5vcHQgPSBvcHQ7XG4gIC8vIGluaXRcbiAgaWYoZnVuLmluaXQgIT09IHVuZGVmaW5lZCl7XG4gICAgZnVuLmluaXQuY2FsbCh0aGlzKTtcbiAgICB0aGlzLmdldENvbG9yID0gZnVuLnJ1bjtcbiAgICB0aGlzLnJlc2V0ID0gZnVuLmluaXQ7XG4gIH1lbHNle1xuICAgIHRoaXMuZ2V0Q29sb3IgPSBmdW47XG4gIH1cbn07XG5tb2R1bGUuZXhwb3J0cy5zdGF0ID0gU3RhdGljU2NoZW1lQ2xhc3M7XG5tb2R1bGUuZXhwb3J0cy5keW4gPSBEeW5TY2hlbWVDbGFzcztcbiIsIm1vZHVsZS5leHBvcnRzID0ge1xuICBBOiBcIiM1ODU4YTdcIixcbiAgUjogXCIjNmI2Yjk0XCIsXG4gIE46IFwiIzY0NjQ5YlwiLFxuICBEOiBcIiMyMTIxZGVcIixcbiAgQzogXCIjOWQ5ZDYyXCIsXG4gIFE6IFwiIzhjOGM3M1wiLFxuICBFOiBcIiMwMDAwZmZcIixcbiAgRzogXCIjNDk0OWI2XCIsXG4gIEg6IFwiIzYwNjA5ZlwiLFxuICBJOiBcIiNlY2VjMTNcIixcbiAgTDogXCIjYjJiMjRkXCIsXG4gIEs6IFwiIzQ3NDdiOFwiLFxuICBNOiBcIiM4MjgyN2RcIixcbiAgRjogXCIjYzJjMjNkXCIsXG4gIFA6IFwiIzIzMjNkY1wiLFxuICBTOiBcIiM0OTQ5YjZcIixcbiAgVDogXCIjOWQ5ZDYyXCIsXG4gIFc6IFwiI2MwYzAzZlwiLFxuICBZOiBcIiNkM2QzMmNcIixcbiAgVjogXCIjZmZmZjAwXCIsXG4gIEI6IFwiIzQzNDNiY1wiLFxuICBYOiBcIiM3OTc5ODZcIixcbiAgWjogXCIjNDc0N2I4XCJcbn07XG4iLCJtb2R1bGUuZXhwb3J0cyA9IHtcbiAgQTogXCIjY2NmZjAwXCIsXG4gIFI6IFwiIzAwMDBmZlwiLFxuICBOOiBcIiNjYzAwZmZcIixcbiAgRDogXCIjZmYwMDAwXCIsXG4gIEM6IFwiI2ZmZmYwMFwiLFxuICBROiBcIiNmZjAwY2NcIixcbiAgRTogXCIjZmYwMDY2XCIsXG4gIEc6IFwiI2ZmOTkwMFwiLFxuICBIOiBcIiMwMDY2ZmZcIixcbiAgSTogXCIjNjZmZjAwXCIsXG4gIEw6IFwiIzMzZmYwMFwiLFxuICBLOiBcIiM2NjAwZmZcIixcbiAgTTogXCIjMDBmZjAwXCIsXG4gIEY6IFwiIzAwZmY2NlwiLFxuICBQOiBcIiNmZmNjMDBcIixcbiAgUzogXCIjZmYzMzAwXCIsXG4gIFQ6IFwiI2ZmNjYwMFwiLFxuICBXOiBcIiMwMGNjZmZcIixcbiAgWTogXCIjMDBmZmNjXCIsXG4gIFY6IFwiIzk5ZmYwMFwiLFxuICBCOiBcIiNmZmZcIixcbiAgWDogXCIjZmZmXCIsXG4gIFo6IFwiI2ZmZlwiXG59O1xuIiwibW9kdWxlLmV4cG9ydHMgPSB7XG4gIEE6IFwiIzJjZDNkM1wiLFxuICBSOiBcIiM3MDhmOGZcIixcbiAgTjogXCIjZmYwMDAwXCIsXG4gIEQ6IFwiI2U4MTcxN1wiLFxuICBDOiBcIiNhODU3NTdcIixcbiAgUTogXCIjM2ZjMGMwXCIsXG4gIEU6IFwiIzc3ODg4OFwiLFxuICBHOiBcIiNmZjAwMDBcIixcbiAgSDogXCIjNzA4ZjhmXCIsXG4gIEk6IFwiIzAwZmZmZlwiLFxuICBMOiBcIiMxY2UzZTNcIixcbiAgSzogXCIjN2U4MTgxXCIsXG4gIE06IFwiIzFlZTFlMVwiLFxuICBGOiBcIiMxZWUxZTFcIixcbiAgUDogXCIjZjYwOTA5XCIsXG4gIFM6IFwiI2UxMWUxZVwiLFxuICBUOiBcIiM3MzhjOGNcIixcbiAgVzogXCIjNzM4YzhjXCIsXG4gIFk6IFwiIzlkNjI2MlwiLFxuICBWOiBcIiMwN2Y4ZjhcIixcbiAgQjogXCIjZjMwYzBjXCIsXG4gIFg6IFwiIzdjODM4M1wiLFxuICBaOiBcIiM1YmE0YTRcIlxufTtcbiIsIm1vZHVsZS5leHBvcnRzID0ge1xuICBBOiBcIiNmZmFmYWZcIixcbiAgUjogXCIjNjQ2NGZmXCIsXG4gIE46IFwiIzAwZmYwMFwiLFxuICBEOiBcIiNmZjAwMDBcIixcbiAgQzogXCIjZmZmZjAwXCIsXG4gIFE6IFwiIzAwZmYwMFwiLFxuICBFOiBcIiNmZjAwMDBcIixcbiAgRzogXCIjZmYwMGZmXCIsXG4gIEg6IFwiIzY0NjRmZlwiLFxuICBJOiBcIiNmZmFmYWZcIixcbiAgTDogXCIjZmZhZmFmXCIsXG4gIEs6IFwiIzY0NjRmZlwiLFxuICBNOiBcIiNmZmFmYWZcIixcbiAgRjogXCIjZmZjODAwXCIsXG4gIFA6IFwiI2ZmMDBmZlwiLFxuICBTOiBcIiMwMGZmMDBcIixcbiAgVDogXCIjMDBmZjAwXCIsXG4gIFc6IFwiI2ZmYzgwMFwiLFxuICBZOiBcIiNmZmM4MDBcIixcbiAgVjogXCIjZmZhZmFmXCIsXG4gIEI6IFwiI2ZmZlwiLFxuICBYOiBcIiNmZmZcIixcbiAgWjogXCIjZmZmXCJcbn07XG4iLCIvKlxuICogbXNhLXNlcXRvb2xzXG4gKiBodHRwczovL2dpdGh1Yi5jb20vZ3JlZW5pZnkvbXNhLXNlcXRvb2xzXG4gKlxuICogQ29weXJpZ2h0IChjKSAyMDE0IGdyZWVuaWZ5XG4gKiBMaWNlbnNlZCB1bmRlciB0aGUgTUlUIGxpY2Vuc2UuXG4gKi9cblxudmFyIHN0ID0ge307XG5tb2R1bGUuZXhwb3J0cyA9IHN0O1xuXG4vLyBleHRyYWN0IElEcyBhbmQgcHVzaCB0aGVtIHRvIHRoZSBtZXRhIGRpY3RcbnN0LmdldE1ldGEgPSBmdW5jdGlvbihsYWJlbCkge1xuICBpZiAoc3QuY29udGFpbnMobGFiZWwsIFwifFwiKSkge1xuICAgIHZhciBpZGVudGlmaWVycyA9IGxhYmVsLnNwbGl0KFwifFwiKTtcbiAgICB2YXIgayA9IDA7XG4gICAgdmFyIGRhdGFiYXNlLCBkYXRhYmFzZUlEO1xuICAgIHZhciBtZXRhID0ge307XG4gICAgd2hpbGUgKGsgPCBpZGVudGlmaWVycy5sZW5ndGggLSAxKSB7XG4gICAgICBkYXRhYmFzZSA9IGlkZW50aWZpZXJzW2tdO1xuICAgICAgZGF0YWJhc2VJRCA9IGlkZW50aWZpZXJzW2sgKyAxXTtcbiAgICAgIG1ldGFbZGF0YWJhc2VdID0gZGF0YWJhc2VJRDtcbiAgICAgIGsgKz0gMjtcbiAgICB9XG4gICAgLy8gYXNzdW1lIHRoZSBsYXN0IGVudHJ5IGlzIHRoZSBsYWJlbFxuICAgIHZhciBuYW1lID0gaWRlbnRpZmllcnNbaWRlbnRpZmllcnMubGVuZ3RoIC0gMV07XG4gICAgLy8gY2hlY2sgd2hldGhlciB0aGVyZSBpcyBhIHVuaXByb3QgaWRcbiAgICBpZiAobmFtZS5pbmRleE9mKFwiPVwiKSA+PSAwICYmIG5hbWUuaW5kZXhPZihcIk9TXCIpID49IDApIHtcbiAgICAgIHZhciBkcyA9IHt9O1xuICAgICAgdmFyIGRldGFpbHMgPSBuYW1lLnNwbGl0KFwiIFwiKTtcbiAgICAgIGRzLmVuID0gZGV0YWlsc1swXTtcbiAgICAgIGRldGFpbHMgPSBkZXRhaWxzLnNwbGljZSgxKTtcbiAgICAgIHZhciBuYW1lTGVuZ3RoID0gZmluZFNlcEluQXJyKGRldGFpbHMsIFwiPVwiKTtcbiAgICAgIHZhciBkZXRhaWxzVG1wID0gZGV0YWlscy5zcGxpY2UobmFtZUxlbmd0aCAtIDEpO1xuICAgICAgbmFtZSA9IGRldGFpbHMuam9pbihcIiBcIik7XG4gICAgICBkZXRhaWxzID0gZGV0YWlsc1RtcDtcbiAgICAgIGsgPSAwO1xuICAgICAgdmFyIGJsb2NrID0gW107XG4gICAgICBkZXRhaWxzLmZvckVhY2goZnVuY3Rpb24oaXRlbSkge1xuICAgICAgICBibG9jay5wdXNoKGl0ZW0pO1xuICAgICAgICBpZiAoaXRlbS5pbmRleE9mKFwiPVwiKSA+PSAwKSB7XG4gICAgICAgICAgc3RyVG9EaWN0KGJsb2NrLmpvaW4oXCIgXCIpLCBcIj1cIiwgZHMpO1xuICAgICAgICAgIGJsb2NrID0gW107XG4gICAgICAgIH1cbiAgICAgIH0pO1xuICAgICAgcmV0dXJuIHtcbiAgICAgICAgbmFtZTogbmFtZSxcbiAgICAgICAgaWRzOiBtZXRhLFxuICAgICAgICBkZXRhaWxzOiBkc1xuICAgICAgfTtcbiAgICB9XG4gICAgcmV0dXJuIHtcbiAgICAgIG5hbWU6IG5hbWUsXG4gICAgICBpZHM6IG1ldGFcbiAgICB9O1xuICB9XG4gIHJldHVybiB7XG4gICAgbmFtZTogbGFiZWxcbiAgfTtcbn07XG5cbnZhciBmaW5kU2VwSW5BcnIgPSBmdW5jdGlvbihhcnIsIHNlcCkge1xuICBmb3IgKHZhciBpID0gMDsgaSA8IGFyci5sZW5naHQ7IGkrKykge1xuICAgIGlmIChhcnJbaV0uaW5kZXhPZihpKSkge1xuICAgICAgcmV0dXJuIGk7XG4gICAgfVxuICB9XG4gIHJldHVybiBhcnIubGVuZ3RoIC0gMTtcbn07XG5cbnZhciBzdHJUb0RpY3QgPSBmdW5jdGlvbihzdHIsIHNlcCwgdG9Kb2luKSB7XG4gIHRvSm9pbiA9IHRvSm9pbiB8fCB7fTtcbiAgdmFyIGVudHJpZXMgPSBzdHIuc3BsaXQoc2VwKTtcbiAgdG9Kb2luW2VudHJpZXNbMF0udG9Mb3dlckNhc2UoKV0gPSBlbnRyaWVzWzFdO1xuICByZXR1cm4gdG9Kb2luO1xufTtcblxudmFyIGlkZW50REIgPSB7XG4gIFwic3BcIjoge1xuICAgIGxpbms6IFwiaHR0cDovL3d3dy51bmlwcm90Lm9yZy8lc1wiLFxuICAgIG5hbWU6IFwiVW5pcHJvdFwiXG4gIH0sXG4gIFwidHJcIjoge1xuICAgIGxpbms6IFwiaHR0cDovL3d3dy51bmlwcm90Lm9yZy8lc1wiLFxuICAgIG5hbWU6IFwiVHJlbWJsXCJcbiAgfSxcbiAgXCJnYlwiOiB7XG4gICAgbGluazogXCJodHRwOi8vd3d3Lm5jYmkubmxtLm5paC5nb3YvbnVjY29yZS8lc1wiLFxuICAgIG5hbWU6IFwiR2VuYmFua1wiXG4gIH0sXG4gIFwicGRiXCI6IHtcbiAgICBsaW5rOiBcImh0dHA6Ly93d3cucmNzYi5vcmcvcGRiL2V4cGxvcmUvZXhwbG9yZS5kbz9zdHJ1Y3R1cmVJZD0lc1wiLFxuICAgIG5hbWU6IFwiUERCXCJcbiAgfVxufTtcblxuc3QuYnVpbGRMaW5rcyA9IGZ1bmN0aW9uKG1ldGEpIHtcbiAgdmFyIGxpbmtzID0ge307XG4gIG1ldGEgPSBtZXRhIHx8IHt9O1xuICBPYmplY3Qua2V5cyhtZXRhKS5mb3JFYWNoKGZ1bmN0aW9uKGlkKSB7XG4gICAgaWYgKGlkIGluIGlkZW50REIpIHtcbiAgICAgIHZhciBlbnRyeSA9IGlkZW50REJbaWRdO1xuICAgICAgdmFyIGxpbmsgPSBlbnRyeS5saW5rLnJlcGxhY2UoXCIlc1wiLCBtZXRhW2lkXSk7XG4gICAgICBsaW5rc1tlbnRyeS5uYW1lXSA9IGxpbms7XG4gICAgfVxuICB9KTtcbiAgcmV0dXJuIGxpbmtzO1xufTtcblxuXG4vLyBzZWFyY2ggZm9yIGEgdGV4dFxuc3QuY29udGFpbnMgPSBmdW5jdGlvbih0ZXh0LCBzZWFyY2gpIHtcbiAgcmV0dXJuICcnLmluZGV4T2YuY2FsbCh0ZXh0LCBzZWFyY2gsIDApICE9PSAtMTtcbn07XG5cbi8vIHNwbGl0IGFmdGVyIGUuZy4gODAgY2hhcnNcbnN0LnNwbGl0TkNoYXJzID0gZnVuY3Rpb24odHh0LCBudW0pIHtcbiAgdmFyIGksIF9yZWY7XG4gIG51bSA9IG51bSB8fCA4MDtcbiAgdmFyIHJlc3VsdCA9IFtdO1xuICBmb3IgKGkgPSAwLCBfcmVmID0gdHh0Lmxlbmd0aCAtIDE7IGkgPD0gX3JlZjsgaSArPSBudW0pIHtcbiAgICByZXN1bHQucHVzaCh0eHQuc3Vic3RyKGksIG51bSkpO1xuICB9XG4gIHJldHVybiByZXN1bHQ7XG59O1xuXG5zdC5tb2RlbCA9IGZ1bmN0aW9uIFNlcShzZXEsIG5hbWUsIGlkKSB7XG4gIHRoaXMuc2VxID0gc2VxO1xuICB0aGlzLm5hbWUgPSBuYW1lO1xuICB0aGlzLmlkID0gaWQ7XG4gIHRoaXMuaWRzID0ge307XG59O1xuIiwidmFyIF8gPSByZXF1aXJlKFwidW5kZXJzY29yZVwiKTtcblxudmFyIHN0YXQgPSBmdW5jdGlvbihzZXFzKSB7XG4gIC8vIGlmIHNvbWVvbmUgZm9yZ2V0cyBuZXdcbiAgaWYgKHRoaXMuY29uc3RydWN0b3IgIT09IHN0YXQpIHtcbiAgICByZXR1cm4gbmV3IHN0YXQoc2Vxcyk7XG4gIH1cbiAgaWYgKHNlcXMgPT09IHVuZGVmaW5lZCB8fCB0eXBlb2Ygc2VxcyA9PT0gXCJzdHJpbmdcIikge1xuICAgIHRocm93IG5ldyBUeXBlRXJyb3IoXCJ5b3UgbmVlZCB0byBnaXZlIHRoZSBzZXEgc3RhdCBhbiBhcnJheVwiKTtcbiAgfVxuICAvL2lmKHNlcXMubGVuZ3RoID09IDApe1xuICAvL3Rocm93IG5ldyBUeXBlRXJyb3IoXCJ5b3UgbmVlZCB0byBnaXZlIHRoZSBzZXEgc3RhdCBhIHJlYWwgYXJyYXlcIik7XG4gIC8vfVxuICB0aGlzLnJlc2V0U2VxcyhzZXFzKTtcbiAgdGhpcy5hbHBoYWJldFNpemUgPSA0O1xuICB0aGlzLl91c2VCYWNrZ3JvdW5kID0gZmFsc2U7XG4gIHRoaXMuaWdub3JlZENoYXJzID0gW1wiLVwiLCBcIipcIl07XG59O1xuXG5zdGF0LnByb3RvdHlwZS5hZGRTZXEgPSBmdW5jdGlvbiBhZGRTZXEoc2VxKSB7XG4gIHRoaXMuc2Vxcy5wdXNoKHNlcSk7XG4gIHRoaXMuX3Jlc2V0KCk7XG59O1xuXG5zdGF0LnByb3RvdHlwZS5yZW1vdmVTZXEgPSBmdW5jdGlvbiBhZGRTZXEoc2VxKSB7XG4gIC8vIGNoZWNrIGZvciBpbnQgb3Igc3RyaW5nXG4gIGlmICh0eXBlb2Ygc2VxID09PSAnbnVtYmVyJykge1xuICAgIHRoaXMuc2Vxcy5zcGxpY2Uoc2VxLCAxKTtcbiAgfSBlbHNlIHtcbiAgICAvLyBpZGVudGlmeSBtYXRjaGVzICh3ZSBjb3VsZCBoYXZlIG11bHRpcGxlKVxuICAgIF8uZWFjaCh0aGlzLnNlcXMsIGZ1bmN0aW9uKHMsIGkpIHtcbiAgICAgIGlmIChzZXEgPT09IHMpIHtcbiAgICAgICAgdGhpcy5zZXFzLnNwbGljZShpLCAxKTtcbiAgICAgIH1cbiAgICB9LmJpbmQodGhpcykpO1xuICB9XG4gIHRoaXMuX3Jlc2V0KCk7XG59O1xuXG5zdGF0LnByb3RvdHlwZS5hZGRTZXFzID0gZnVuY3Rpb24gYWRkU2VxcyhzZXFzKSB7XG4gIHNlcXMuZm9yRWFjaChmdW5jdGlvbihzZXEpIHtcbiAgICB0aGlzLmFkZFNlcShzZXEpO1xuICB9LmJpbmQodGhpcykpO1xufTtcblxuc3RhdC5wcm90b3R5cGUucmVzZXRTZXFzID0gZnVuY3Rpb24gcmVzZXQoc2Vxcykge1xuICB0aGlzLnNlcXMgPSBbXTtcblxuICAvLyBzdXBwb3J0IHNlcXVlbmNlIG1vZGVsc1xuICBpZiAoIShzZXFzIGluc3RhbmNlb2YgQXJyYXkpKXtcbiAgICB0aGlzLm1zZXFzID0gc2VxcztcbiAgICB2YXIgbVNlcXNQbHVjayA9IGZ1bmN0aW9uKCkge1xuICAgICAgdmFyIHNlcUFyciA9IHRoaXMubXNlcXMucGx1Y2soXCJzZXFcIik7XG4gICAgICB0aGlzLnJlc2V0U2VxcyhzZXFBcnIpO1xuICAgIH07XG4gICAgc2Vxcy5vbihcImFkZCBjaGFuZ2UgcmVzZXQgXCIsIG1TZXFzUGx1Y2ssIHRoaXMpO1xuICAgIG1TZXFzUGx1Y2suY2FsbCh0aGlzKTtcbiAgfSBlbHNlIHtcbiAgICB0aGlzLmFkZFNlcXMoc2Vxcyk7XG4gICAgdGhpcy5fcmVzZXQoKTtcbiAgICB0aGlzLnRyaWdnZXIoXCJyZXNldFwiKTtcbiAgfVxufTtcblxudmFyIGNhbGNWYWx1ZXMgPSBbXCJjb25zZW5zdXNcIiwgXCJmcmVxdWVuY3lcIiwgXCJtYXhMZW5ndGhcIiwgXCJpY1wiLCBcImdhcHNcIl07XG5cbnN0YXQucHJvdG90eXBlLl9yZXNldCA9IGZ1bmN0aW9uIF9yZXNldCgpIHtcbiAgZm9yICh2YXIgaSA9IDA7IGkgPCBjYWxjVmFsdWVzLmxlbmd0aDsgaSsrKSB7XG4gICAgdGhpc1tcIl9cIiArIGNhbGNWYWx1ZXNbaV1dID0gdW5kZWZpbmVkO1xuICB9XG4gIHRoaXMuX2lkZW50aXR5ID0gdW5kZWZpbmVkO1xuICB0aGlzLl9iYWNrZ3JvdW5kID0gdW5kZWZpbmVkO1xufTtcblxuLy8gLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS1cbi8vIEJFR0lOOiBzZXR0ZXIvZ2V0dGVyXG4vLyAtLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLVxuXG5zdGF0LnByb3RvdHlwZS5zZXRCYWNrZ3JvdW5kID0gZnVuY3Rpb24gc2V0QmFja2dyb3VuZChiKSB7XG4gIHRoaXMuX3VzZUJhY2tncm91bmQgPSBiO1xuICB0aGlzLl9yZXNldCgpO1xufTtcblxuc3RhdC5wcm90b3R5cGUudXNlQmFja2dyb3VuZCA9IGZ1bmN0aW9uIHVzZUJhY2tncm91bmQoKSB7XG4gIHRoaXMuc2V0QmFja2dyb3VuZCh0cnVlKTtcbn07XG5cbnN0YXQucHJvdG90eXBlLnNldEROQSA9IGZ1bmN0aW9uIHNldE51Y2xlb3RpZGUoKSB7XG4gIHRoaXMuYWxwaGFiZXRTaXplID0gNDtcbn07XG5cbnN0YXQucHJvdG90eXBlLnNldFByb3RlaW4gPSBmdW5jdGlvbiBzZXRETkEoKSB7XG4gIHRoaXMuYWxwaGFiZXRTaXplID0gMjA7XG59O1xuXG4vLyAtLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLVxuLy8gQkVHSU46IGF1dG8gd3JhcHBlcnNcbi8vIC0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tXG5cbi8vIG5lYXQgYXV0by13cmFwcGVyc1xuY2FsY1ZhbHVlcy5mb3JFYWNoKGZ1bmN0aW9uKGtleSkge1xuICBzdGF0LnByb3RvdHlwZVtrZXldID0gZnVuY3Rpb24oKSB7XG4gICAgaWYgKHRoaXNbXCJfXCIgKyBrZXldID09PSB1bmRlZmluZWQpIHtcbiAgICAgIHRoaXNba2V5ICsgXCJDYWxjXCJdKCk7XG4gICAgfVxuICAgIHJldHVybiB0aGlzW1wiX1wiICsga2V5XTtcbiAgfTtcbn0pO1xuXG5zdGF0LnByb3RvdHlwZS5pZGVudGl0eSA9IGZ1bmN0aW9uIGlkZW50aXRpeShzZXEpIHtcbiAgLy8gZG8gbm90IGNhY2hlIGlmIGl0cyBjYWxsZWQgd2l0aCBhIHNwZWNpYWwgY29tcGFyZSBzZXFcbiAgdmFyIGlkZW50O1xuICBpZiAodGhpcy5faWRlbnRpdHkgPT09IHVuZGVmaW5lZCB8fCBzZXEpIHtcbiAgICBpZGVudCA9IHRoaXMuaWRlbnRpdHlDYWxjKHNlcSk7XG4gICAgdGhpcy5faWRlbnRpdHkgPSB1bmRlZmluZWQ7XG4gIH1cbiAgcmV0dXJuIHRoaXMuX2lkZW50aXR5IHx8IGlkZW50O1xufTtcblxuLy8gc2V0IHlvdXIgb3duIGJhY2tncm91bmQgd2l0aCBvYmouYmdcbnN0YXQucHJvdG90eXBlLmJhY2tncm91bmQgPSBmdW5jdGlvbiBiYWNrZ3JvdW5kKCkge1xuICBpZiAodGhpcy5iZyAhPT0gdW5kZWZpbmVkKSB7XG4gICAgcmV0dXJuIHRoaXMuYmc7XG4gIH1cbiAgaWYgKHRoaXMuX2JhY2tncm91bmQgPT09IHVuZGVmaW5lZCkge1xuICAgIHRoaXMuYmFja2dyb3VuZENhbGMoKTtcbiAgfVxuICByZXR1cm4gdGhpcy5fYmFja2dyb3VuZDtcbn07XG5cblxuLy8gLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS1cbi8vIEJFR0lOOiBjYWxjIHRvb2xzXG4vLyAtLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLVxuXG4vLyBjYWxjdWxhdGVzIHRoZSByZWxhdGl2ZSBmcmVxdWVuY3kgb2YgYSBiYXNlIGF0IGEgZ2l2ZW4gcG9zaXRpb25cbi8vIHRoaXMgaXMgbmVlZGVkIGUuZy4gZm9yIHRoZSBlbnRyb3B5IGNhbGN1bGF0aW9uXG4vLyBzZXFzOiBhcnJheSBvZiBzZXF1ZW5jZXMgKHN0cmluZ3MpXG4vLyBvcHRzOlxuLy8gICAgYWxsOiBib29sZWFuICh1c2UgdG8gc2hvdyB0aGUgZnJlcXVlbmNpZXMgZm9yIGFsbCBsZXR0ZXJzIFtpbmNsdWRpbmcgdGhlIGlnbm9yZWQgb25lc11cbi8vICAgIChkZWZhdWx0IGZhbHNlKVxuLy8gQHJldHVybnMgYXJyYXkgb2YgYWxsIHBvc2l0aW9ucyB3aXRoIGEgZGljdGlvbmFyeSBvZiBhbGwgYmFzZXMgd2l0aCB0aGVpciByZWxhdGl2ZSBmcmVxdWVuY3lcbnN0YXQucHJvdG90eXBlLmZyZXF1ZW5jeUNhbGMgPSBmdW5jdGlvbiBmcmVxdWVuY3lDYWxjKG9wdHMpIHtcbiAgdmFyIG9jY3MsIHRvdGFsUGVyUG9zO1xuICBvY2NzID0gbmV3IEFycmF5KHRoaXMubWF4TGVuZ3RoKCkpO1xuICB0b3RhbFBlclBvcyA9IG5ldyBBcnJheSh0aGlzLnNlcXMubGVuZ3RoKTtcbiAgdmFyIGlnbm9yZWRDaGFycyA9IHRoaXMuaWdub3JlZENoYXJzO1xuICBpZihvcHRzICE9PSB1bmRlZmluZWQgJiYgb3B0cy5hbGwpe1xuICAgIGlnbm9yZWRDaGFycyA9IFtdOyBcbiAgfVxuXG4gIC8vIGNvdW50IHRoZSBvY2N1cnJlbmNlcyBvZiB0aGUgY2hhcnMgYXQgYSBwb3NpdGlvblxuICBfLmVhY2godGhpcy5zZXFzLCBmdW5jdGlvbihlbCkge1xuICAgIF8uZWFjaChlbCwgZnVuY3Rpb24oYywgcG9zKSB7XG4gICAgICBpZiAoaWdub3JlZENoYXJzLmluZGV4T2YoYykgPj0gMCkgcmV0dXJuO1xuICAgICAgaWYgKG9jY3NbcG9zXSA9PT0gdW5kZWZpbmVkKSB7XG4gICAgICAgIG9jY3NbcG9zXSA9IHt9O1xuICAgICAgfVxuICAgICAgaWYgKG9jY3NbcG9zXVtjXSA9PT0gdW5kZWZpbmVkKSB7XG4gICAgICAgIG9jY3NbcG9zXVtjXSA9IDA7XG4gICAgICB9XG4gICAgICBvY2NzW3Bvc11bY10gKys7XG4gICAgICBpZiAodG90YWxQZXJQb3NbcG9zXSA9PT0gdW5kZWZpbmVkKSB7XG4gICAgICAgIHRvdGFsUGVyUG9zW3Bvc10gPSAwO1xuICAgICAgfVxuICAgICAgdG90YWxQZXJQb3NbcG9zXSArKztcbiAgICB9KTtcbiAgfSk7XG5cbiAgLy8gbm9ybWFsaXplIHRvIDFcbiAgXy5lYWNoKG9jY3MsIGZ1bmN0aW9uKGVsLCBwb3MpIHtcbiAgICByZXR1cm4gXy5lYWNoKGVsLCBmdW5jdGlvbih2YWwsIGMpIHtcbiAgICAgIHJldHVybiAob2Njc1twb3NdW2NdID0gdmFsIC8gdG90YWxQZXJQb3NbcG9zXSk7XG4gICAgfSk7XG4gIH0pO1xuICB0aGlzLl9mcmVxdWVuY3kgPSBvY2NzO1xuICByZXR1cm4gb2Njcztcbn07XG5cbi8vIHNlcXM6IGFycmF5IG9mIHNlcXVlbmNlcyAoc3RyaW5ncylcbnN0YXQucHJvdG90eXBlLmJhY2tncm91bmRDYWxjID0gZnVuY3Rpb24gYmFja2dyb3VuZENhbGMoKSB7XG4gIHZhciBvY2MgPSB7fTtcbiAgdmFyIHRvdGFsID0gMDtcblxuICAvLyBjb3VudCB0aGUgb2NjdXJlbmNlcyBvZiB0aGUgY2hhcnMgb2YgYSBwb3NpdGlvblxuICBfLmVhY2godGhpcy5zZXFzLCBmdW5jdGlvbihlbCkge1xuICAgIF8uZWFjaChlbCwgZnVuY3Rpb24oYykge1xuICAgICAgaWYgKG9jY1tjXSA9PT0gdW5kZWZpbmVkKSB7XG4gICAgICAgIG9jY1tjXSA9IDA7XG4gICAgICB9XG4gICAgICBvY2NbY10gKys7XG4gICAgICByZXR1cm4gdG90YWwrKztcbiAgICB9KTtcbiAgfSk7XG5cbiAgLy8gbm9ybWFsaXplIHRvIDFcbiAgb2NjID0gXy5tYXBWYWx1ZXMob2NjLCBmdW5jdGlvbih2YWwpIHtcbiAgICByZXR1cm4gdmFsIC8gdG90YWw7XG4gIH0pO1xuICB0aGlzLl9iYWNrZ3JvdW5kID0gb2NjO1xuICByZXR1cm4gb2NjO1xufTtcblxuXG4vLyBpbmZvcm1hdGlvbiBjb250ZW50IGFmdGVyIFNoYW5ub25cbi8vICogZ2FwcyBhcmUgZXhjbHVkZWRcbnN0YXQucHJvdG90eXBlLmljQ2FsYyA9IGZ1bmN0aW9uIGljQ2FsYygpIHtcbiAgdmFyIGYgPSB0aGlzLmZyZXF1ZW5jeSgpO1xuICBpZiAodGhpcy5fdXNlQmFja2dyb3VuZCkge1xuICAgIHZhciBiID0gdGhpcy5iYWNrZ3JvdW5kKCk7XG4gIH1cbiAgdmFyIGlnbm9yZWRDaGFycyA9IHRoaXMuaWdub3JlZENoYXJzO1xuICB2YXIgdXNlQmFja2dyb3VuZCA9IHRoaXMuX3VzZUJhY2tncm91bmQ7XG4gIHZhciBpYyA9IF8ubWFwKGYsIGZ1bmN0aW9uKGVsKSB7XG4gICAgcmV0dXJuIF8ucmVkdWNlKGVsLCBmdW5jdGlvbihtZW1vLCB2YWwsIGMpIHtcbiAgICAgIGlmIChpZ25vcmVkQ2hhcnMuaW5kZXhPZihjKSA+PSAwKSByZXR1cm4gbWVtbztcbiAgICAgIGlmICh1c2VCYWNrZ3JvdW5kKSB7XG4gICAgICAgIHZhbCA9IHZhbCAvIGJbY107XG4gICAgICB9XG4gICAgICByZXR1cm4gbWVtbyAtIHZhbCAqIChNYXRoLmxvZyh2YWwpIC8gTWF0aC5sb2coMikpO1xuICAgIH0sIDApO1xuICB9KTtcbiAgdGhpcy5faWMgPSBpYztcbiAgcmV0dXJuIGljO1xufTtcblxuLy8gc2VxdWVuY2UgY29uc2VydmF0aW9uIGFmdGVyIFNjaG5laWRlciBhbmQgU3RlcGhlbnMgKDE5OTApXG4vLyBAY2l0ZSBTY2huZWlkZXIsIFQuRC4gYW5kIFN0ZXBoZW5zLCBSLk0uIDE5OTAuIFNlcXVlbmNlIGxvZ29zOiBBIG5ldyB3YXkgdG9cbi8vIGRpc3BsYXkgY29uc2Vuc3VzIHNlcXVlbmNlcy4gTnVjbGVpYyBBY2lkcyBSZXMuIDE4OiA2MDk34oCTNjEwMC5cbnN0YXQucHJvdG90eXBlLmNvbnNlcnZhdGlvbiA9IGZ1bmN0aW9uIGNvbnNlcnZhdGlvbihhbHBoYWJldFNpemUpIHtcbiAgdmFyIGljID0gdGhpcy5pYygpO1xuICBhbHBoYWJldFNpemUgPSBhbHBoYWJldFNpemUgfHwgdGhpcy5hbHBoYWJldFNpemU7XG4gIHZhciBpY01heCA9IE1hdGgubG9nKGFscGhhYmV0U2l6ZSkgLyBNYXRoLmxvZygyKTtcbiAgdmFyIGNvbnNlcnYgPSBfLm1hcChpYywgZnVuY3Rpb24oZWwpIHtcbiAgICByZXR1cm4gaWNNYXggLSBlbDtcbiAgfSk7XG4gIHJldHVybiBjb25zZXJ2O1xufTtcblxuLy8gc2VxdWVuY2UgY29uc2VydmF0aW9uIGFmdGVyIFNjaG5laWRlciBhbmQgU3RlcGhlbnMgKDE5OTApXG4vLyBjb25zZXJ2YXRpb24gZm9yIGVhY2ggYW1pbm8gYWNpZFxuLy8gKiBnYXBzIGFyZSBleGNsdWRlZFxuc3RhdC5wcm90b3R5cGUuY29uc2VydlJlc2lkdWUgPSBmdW5jdGlvbiBjb25zZXJ2YXRpb24oaW5wdXQpIHtcbiAgdmFyIGFscGhhYmV0U2l6ZSA9IGlucHV0ID8gaW5wdXQuYWxwaGFiZXRTaXplIDogdW5kZWZpbmVkO1xuICB2YXIgaWM7XG4gIHZhciBpZ25vcmVkQ2hhcnMgPSB0aGlzLmlnbm9yZWRDaGFycztcbiAgaWYgKGlucHV0ICE9PSB1bmRlZmluZWQgJiYgaW5wdXQuc2NhbGVkKSB7XG4gICAgaWMgPSB0aGlzLnNjYWxlKHRoaXMuY29uc2VydmF0aW9uKGFscGhhYmV0U2l6ZSkpO1xuICB9IGVsc2Uge1xuICAgIGljID0gdGhpcy5jb25zZXJ2YXRpb24oYWxwaGFiZXRTaXplKTtcbiAgfVxuICB2YXIgZiA9IHRoaXMuZnJlcXVlbmN5KCk7XG4gIHZhciBrZXlzO1xuICB2YXIgY29uc2VydiA9IF8ubWFwKGYsIGZ1bmN0aW9uKGVsLCBpKSB7XG4gICAga2V5cyA9IF8ucmVqZWN0KF8ua2V5cyhlbCksIGZ1bmN0aW9uKGMpIHtcbiAgICAgIHJldHVybiBpZ25vcmVkQ2hhcnMuaW5kZXhPZihjKSA+PSAwO1xuICAgIH0pO1xuICAgIHZhciBvYmogPSB7fTtcbiAgICBfLmVhY2goa2V5cywgZnVuY3Rpb24oa2V5KSB7XG4gICAgICBvYmpba2V5XSA9IGVsW2tleV0gKiBpY1tpXTtcbiAgICB9KTtcbiAgICByZXR1cm4gb2JqO1xuICB9KTtcbiAgcmV0dXJuIGNvbnNlcnY7XG59O1xuXG4vLyB0eXBlIDIgc2VxdWVuY2UgbG9nbyBtZXRob2Rcbi8vIHNjYWxlcyByZWxhdGl2ZSB0byBiYWNrZ3JvdW5kXG5zdGF0LnByb3RvdHlwZS5jb25zZXJ2UmVzaWR1ZTIgPSBmdW5jdGlvbiBjb25zZXJ2YXRpb24oYWxwaGFiZXRTaXplKSB7XG4gIHZhciBmID0gdGhpcy5mcmVxdWVuY3koKTtcbiAgdmFyIGljID0gdGhpcy5jb25zZXJ2YXRpb24oYWxwaGFiZXRTaXplKTtcbiAgdmFyIGIgPSB0aGlzLmJhY2tncm91bmQoKTtcbiAgdmFyIGNvbnNlcnYgPSBfLm1hcChmLCBmdW5jdGlvbihlbCwgaSkge1xuICAgIHJldHVybiBfLm1hcChlbCwgZnVuY3Rpb24odmFsKSB7XG4gICAgICB2YXIgc3VtID0gXy5yZWR1Y2UoZltpXSwgZnVuY3Rpb24obWVtbywgZSkge1xuICAgICAgICByZXR1cm4gbWVtbyArIGUgLyBiW2ldO1xuICAgICAgfSwgMCk7XG4gICAgICByZXR1cm4gKCh2YWwgLyBiW2ldKSAvIHN1bSkgKiBpY1tpXTtcbiAgICB9LCAwKTtcbiAgfSk7XG4gIHJldHVybiBjb25zZXJ2O1xufTtcblxuLy8gc2NhbGUgaW5mb3JtYXRpb24gY29udGVudCBvciBjb25zZXJ2YXRpb24gdG8gMVxuc3RhdC5wcm90b3R5cGUuc2NhbGUgPSBmdW5jdGlvbiBjb25zZXJ2YXRpb24oaWMsIGFscGhhYmV0U2l6ZSkge1xuICBhbHBoYWJldFNpemUgPSBhbHBoYWJldFNpemUgfHwgdGhpcy5hbHBoYWJldFNpemU7XG4gIHZhciBpY01heCA9IE1hdGgubG9nKGFscGhhYmV0U2l6ZSkgLyBNYXRoLmxvZygyKTtcbiAgdmFyIGNvbnNlcnYgPSBfLm1hcChpYywgZnVuY3Rpb24oZWwpIHtcbiAgICByZXR1cm4gZWwgLyBpY01heDtcbiAgfSk7XG4gIHJldHVybiBjb25zZXJ2O1xufTtcblxuc3RhdC5wcm90b3R5cGUubWF4TGVuZ3RoQ2FsYyA9IGZ1bmN0aW9uKCkge1xuICB0aGlzLl9tYXhMZW5ndGggPSBfLm1heCh0aGlzLnNlcXMsIGZ1bmN0aW9uKHNlcSkge1xuICAgIHJldHVybiBzZXEubGVuZ3RoO1xuICB9KS5sZW5ndGg7XG59O1xuXG4vLyBzZXFzOiBhcnJheSBvZiBzZXF1ZW5jZXMgKHN0cmluZ3MpXG4vLyBAcmV0dXJucyBjb25zZW51cyBzZXF1ZW5jZVxuc3RhdC5wcm90b3R5cGUuY29uc2Vuc3VzQ2FsYyA9IGZ1bmN0aW9uIGNvbnNlbnN1c0NhbCgpIHtcbiAgdmFyIG9jY3MgPSBuZXcgQXJyYXkodGhpcy5tYXhMZW5ndGgoKSk7XG5cbiAgLy8gY291bnQgdGhlIG9jY3VycmVuY2VzIG9mIHRoZSBjaGFycyBvZiBhIHBvc2l0aW9uXG4gIF8uZWFjaCh0aGlzLnNlcXMsIGZ1bmN0aW9uKGVsKSB7XG4gICAgXy5lYWNoKGVsLCBmdW5jdGlvbihjLCBwb3MpIHtcbiAgICAgIGlmIChvY2NzW3Bvc10gPT09IHVuZGVmaW5lZCkge1xuICAgICAgICBvY2NzW3Bvc10gPSB7fTtcbiAgICAgIH1cbiAgICAgIGlmIChvY2NzW3Bvc11bY10gPT09IHVuZGVmaW5lZCkge1xuICAgICAgICBvY2NzW3Bvc11bY10gPSAwO1xuICAgICAgfVxuICAgICAgb2Njc1twb3NdW2NdICsrO1xuICAgIH0pO1xuICB9KTtcblxuICAvLyBub3cgcGljayB0aGUgY2hhciB3aXRoIG1vc3Qgb2NjdXJyZW5jZXNcbiAgdGhpcy5fY29uc2Vuc3VzID0gXy5yZWR1Y2Uob2NjcywgZnVuY3Rpb24obWVtbywgb2NjKSB7XG4gICAgdmFyIGtleXM7XG4gICAga2V5cyA9IF8ua2V5cyhvY2MpO1xuICAgIHJldHVybiBtZW1vICs9IF8ubWF4KGtleXMsIGZ1bmN0aW9uKGtleSkge1xuICAgICAgcmV0dXJuIG9jY1trZXldO1xuICAgIH0pO1xuICB9LCBcIlwiKTtcblxuICByZXR1cm4gdGhpcy5fY29uc2Vuc3VzO1xufTtcblxuLy8gc2VxczogYXJyYXkgb2Ygc2VxdWVuY2VzIChzdHJpbmdzKVxuLy8gY29uc2Vuc3VzOiBjYWxjdWxhdGVkIGNvbnNlbnN1cyBzZXFcbi8vIGNhbGN1bGF0ZXMgZm9yIGVhY2ggc2VxdWVuY2Vcbi8vICogbWF0Y2hlcyB3aXRoIHRoZSBjb25zZW5zdXMgc2VxXG4vLyAqIGlkZW50aXR5ID0gbWF0Y2hlZENoYXJzIC8gdG90YWxDaGFycyAoZXhjbHVkaW5nIGdhcHMpXG4vLyBAcmV0dXJuczogYXJyYXkgb2YgbGVuZ3RoIG9mIHRoZSBzZXFzIHdpdGggdGhlIGlkZW50aXR5IHRvIHRoZSBjb25zZW5zdXMgKGRvdWJsZSlcbnN0YXQucHJvdG90eXBlLmlkZW50aXR5Q2FsYyA9IGZ1bmN0aW9uIGlkZW50aXRpeUNhbGMoY29tcGFyZVNlcSkge1xuICB2YXIgY29uc2Vuc3VzID0gY29tcGFyZVNlcSB8fCB0aGlzLmNvbnNlbnN1cygpO1xuICB0aGlzLl9pZGVudGl0eSA9IHRoaXMuc2Vxcy5tYXAoZnVuY3Rpb24oc2VxKSB7XG4gICAgdmFyIG1hdGNoZXMgPSAwO1xuICAgIHZhciB0b3RhbCA9IDA7XG4gICAgZm9yICh2YXIgaSA9IDA7IGkgPCBzZXEubGVuZ3RoOyBpKyspIHtcbiAgICAgIGlmIChzZXFbaV0gIT09IFwiLVwiICYmIGNvbnNlbnN1c1tpXSAhPT0gXCItXCIpIHtcbiAgICAgICAgdG90YWwrKztcbiAgICAgICAgaWYgKHNlcVtpXSA9PT0gY29uc2Vuc3VzW2ldKSB7XG4gICAgICAgICAgbWF0Y2hlcysrO1xuICAgICAgICB9XG4gICAgICB9XG4gICAgfVxuICAgIHJldHVybiBtYXRjaGVzIC8gdG90YWw7XG4gIH0pO1xuICByZXR1cm4gdGhpcy5faWRlbnRpdHk7XG59O1xuXG4vLyBwZXJjZW50YWdlIG9mIGdhcHMgcGVyIGNvbHVtblxuc3RhdC5wcm90b3R5cGUuZ2Fwc0NhbGMgPSBmdW5jdGlvbiBnYXBzQ291bnQoKSB7XG4gIHZhciBvY2NzID0gbmV3IEFycmF5KHRoaXMubWF4TGVuZ3RoKCkpO1xuICAvLyBjb3VudCB0aGUgb2NjdXJyZW5jZXMgb2YgdGhlIGNoYXJzIG9mIGEgcG9zaXRpb25cbiAgXy5lYWNoKHRoaXMuc2VxcywgZnVuY3Rpb24oZWwpIHtcbiAgICBfLmVhY2goZWwsIGZ1bmN0aW9uKGMsIHBvcykge1xuICAgICAgaWYgKG9jY3NbcG9zXSA9PT0gdW5kZWZpbmVkKSB7XG4gICAgICAgIG9jY3NbcG9zXSA9IHtcbiAgICAgICAgICBnOiAwLFxuICAgICAgICAgIHQ6IDBcbiAgICAgICAgfTtcbiAgICAgIH1cbiAgICAgIGMgPSBjID09PSBcIi1cIiA/IFwiZ1wiIDogXCJ0XCI7XG4gICAgICBvY2NzW3Bvc11bY10gKys7XG4gICAgfSk7XG4gIH0pO1xuXG4gIC8vIG5vdyBwaWNrIHRoZSBjaGFyIHdpdGggbW9zdCBvY2N1cnJlbmNlc1xuICB0aGlzLl9nYXBzID0gXy5tYXAob2NjcywgZnVuY3Rpb24oZWwpIHtcbiAgICByZXR1cm4gZWwuZyAvIChlbC5nICsgZWwudCk7XG4gIH0pO1xuICByZXR1cm4gdGhpcy5fZ2Fwcztcbn07XG5cbl8ubWl4aW4oe1xuICBtYXBWYWx1ZXM6IGZ1bmN0aW9uKG9iaiwgZl92YWwpIHtcbiAgICByZXR1cm4gXy5vYmplY3QoXy5rZXlzKG9iaiksIF8ubWFwKG9iaiwgZl92YWwpKTtcbiAgfVxufSk7XG5cbnJlcXVpcmUoXCJiaW9qcy1ldmVudHNcIikubWl4aW4oc3RhdC5wcm90b3R5cGUpO1xuXG5tb2R1bGUuZXhwb3J0cyA9IHN0YXQ7XG4iLCIvLyAgICAgVW5kZXJzY29yZS5qcyAxLjcuMFxuLy8gICAgIGh0dHA6Ly91bmRlcnNjb3JlanMub3JnXG4vLyAgICAgKGMpIDIwMDktMjAxNCBKZXJlbXkgQXNoa2VuYXMsIERvY3VtZW50Q2xvdWQgYW5kIEludmVzdGlnYXRpdmUgUmVwb3J0ZXJzICYgRWRpdG9yc1xuLy8gICAgIFVuZGVyc2NvcmUgbWF5IGJlIGZyZWVseSBkaXN0cmlidXRlZCB1bmRlciB0aGUgTUlUIGxpY2Vuc2UuXG5cbihmdW5jdGlvbigpIHtcblxuICAvLyBCYXNlbGluZSBzZXR1cFxuICAvLyAtLS0tLS0tLS0tLS0tLVxuXG4gIC8vIEVzdGFibGlzaCB0aGUgcm9vdCBvYmplY3QsIGB3aW5kb3dgIGluIHRoZSBicm93c2VyLCBvciBgZXhwb3J0c2Agb24gdGhlIHNlcnZlci5cbiAgdmFyIHJvb3QgPSB0aGlzO1xuXG4gIC8vIFNhdmUgdGhlIHByZXZpb3VzIHZhbHVlIG9mIHRoZSBgX2AgdmFyaWFibGUuXG4gIHZhciBwcmV2aW91c1VuZGVyc2NvcmUgPSByb290Ll87XG5cbiAgLy8gU2F2ZSBieXRlcyBpbiB0aGUgbWluaWZpZWQgKGJ1dCBub3QgZ3ppcHBlZCkgdmVyc2lvbjpcbiAgdmFyIEFycmF5UHJvdG8gPSBBcnJheS5wcm90b3R5cGUsIE9ialByb3RvID0gT2JqZWN0LnByb3RvdHlwZSwgRnVuY1Byb3RvID0gRnVuY3Rpb24ucHJvdG90eXBlO1xuXG4gIC8vIENyZWF0ZSBxdWljayByZWZlcmVuY2UgdmFyaWFibGVzIGZvciBzcGVlZCBhY2Nlc3MgdG8gY29yZSBwcm90b3R5cGVzLlxuICB2YXJcbiAgICBwdXNoICAgICAgICAgICAgID0gQXJyYXlQcm90by5wdXNoLFxuICAgIHNsaWNlICAgICAgICAgICAgPSBBcnJheVByb3RvLnNsaWNlLFxuICAgIGNvbmNhdCAgICAgICAgICAgPSBBcnJheVByb3RvLmNvbmNhdCxcbiAgICB0b1N0cmluZyAgICAgICAgID0gT2JqUHJvdG8udG9TdHJpbmcsXG4gICAgaGFzT3duUHJvcGVydHkgICA9IE9ialByb3RvLmhhc093blByb3BlcnR5O1xuXG4gIC8vIEFsbCAqKkVDTUFTY3JpcHQgNSoqIG5hdGl2ZSBmdW5jdGlvbiBpbXBsZW1lbnRhdGlvbnMgdGhhdCB3ZSBob3BlIHRvIHVzZVxuICAvLyBhcmUgZGVjbGFyZWQgaGVyZS5cbiAgdmFyXG4gICAgbmF0aXZlSXNBcnJheSAgICAgID0gQXJyYXkuaXNBcnJheSxcbiAgICBuYXRpdmVLZXlzICAgICAgICAgPSBPYmplY3Qua2V5cyxcbiAgICBuYXRpdmVCaW5kICAgICAgICAgPSBGdW5jUHJvdG8uYmluZDtcblxuICAvLyBDcmVhdGUgYSBzYWZlIHJlZmVyZW5jZSB0byB0aGUgVW5kZXJzY29yZSBvYmplY3QgZm9yIHVzZSBiZWxvdy5cbiAgdmFyIF8gPSBmdW5jdGlvbihvYmopIHtcbiAgICBpZiAob2JqIGluc3RhbmNlb2YgXykgcmV0dXJuIG9iajtcbiAgICBpZiAoISh0aGlzIGluc3RhbmNlb2YgXykpIHJldHVybiBuZXcgXyhvYmopO1xuICAgIHRoaXMuX3dyYXBwZWQgPSBvYmo7XG4gIH07XG5cbiAgLy8gRXhwb3J0IHRoZSBVbmRlcnNjb3JlIG9iamVjdCBmb3IgKipOb2RlLmpzKiosIHdpdGhcbiAgLy8gYmFja3dhcmRzLWNvbXBhdGliaWxpdHkgZm9yIHRoZSBvbGQgYHJlcXVpcmUoKWAgQVBJLiBJZiB3ZSdyZSBpblxuICAvLyB0aGUgYnJvd3NlciwgYWRkIGBfYCBhcyBhIGdsb2JhbCBvYmplY3QuXG4gIGlmICh0eXBlb2YgZXhwb3J0cyAhPT0gJ3VuZGVmaW5lZCcpIHtcbiAgICBpZiAodHlwZW9mIG1vZHVsZSAhPT0gJ3VuZGVmaW5lZCcgJiYgbW9kdWxlLmV4cG9ydHMpIHtcbiAgICAgIGV4cG9ydHMgPSBtb2R1bGUuZXhwb3J0cyA9IF87XG4gICAgfVxuICAgIGV4cG9ydHMuXyA9IF87XG4gIH0gZWxzZSB7XG4gICAgcm9vdC5fID0gXztcbiAgfVxuXG4gIC8vIEN1cnJlbnQgdmVyc2lvbi5cbiAgXy5WRVJTSU9OID0gJzEuNy4wJztcblxuICAvLyBJbnRlcm5hbCBmdW5jdGlvbiB0aGF0IHJldHVybnMgYW4gZWZmaWNpZW50IChmb3IgY3VycmVudCBlbmdpbmVzKSB2ZXJzaW9uXG4gIC8vIG9mIHRoZSBwYXNzZWQtaW4gY2FsbGJhY2ssIHRvIGJlIHJlcGVhdGVkbHkgYXBwbGllZCBpbiBvdGhlciBVbmRlcnNjb3JlXG4gIC8vIGZ1bmN0aW9ucy5cbiAgdmFyIGNyZWF0ZUNhbGxiYWNrID0gZnVuY3Rpb24oZnVuYywgY29udGV4dCwgYXJnQ291bnQpIHtcbiAgICBpZiAoY29udGV4dCA9PT0gdm9pZCAwKSByZXR1cm4gZnVuYztcbiAgICBzd2l0Y2ggKGFyZ0NvdW50ID09IG51bGwgPyAzIDogYXJnQ291bnQpIHtcbiAgICAgIGNhc2UgMTogcmV0dXJuIGZ1bmN0aW9uKHZhbHVlKSB7XG4gICAgICAgIHJldHVybiBmdW5jLmNhbGwoY29udGV4dCwgdmFsdWUpO1xuICAgICAgfTtcbiAgICAgIGNhc2UgMjogcmV0dXJuIGZ1bmN0aW9uKHZhbHVlLCBvdGhlcikge1xuICAgICAgICByZXR1cm4gZnVuYy5jYWxsKGNvbnRleHQsIHZhbHVlLCBvdGhlcik7XG4gICAgICB9O1xuICAgICAgY2FzZSAzOiByZXR1cm4gZnVuY3Rpb24odmFsdWUsIGluZGV4LCBjb2xsZWN0aW9uKSB7XG4gICAgICAgIHJldHVybiBmdW5jLmNhbGwoY29udGV4dCwgdmFsdWUsIGluZGV4LCBjb2xsZWN0aW9uKTtcbiAgICAgIH07XG4gICAgICBjYXNlIDQ6IHJldHVybiBmdW5jdGlvbihhY2N1bXVsYXRvciwgdmFsdWUsIGluZGV4LCBjb2xsZWN0aW9uKSB7XG4gICAgICAgIHJldHVybiBmdW5jLmNhbGwoY29udGV4dCwgYWNjdW11bGF0b3IsIHZhbHVlLCBpbmRleCwgY29sbGVjdGlvbik7XG4gICAgICB9O1xuICAgIH1cbiAgICByZXR1cm4gZnVuY3Rpb24oKSB7XG4gICAgICByZXR1cm4gZnVuYy5hcHBseShjb250ZXh0LCBhcmd1bWVudHMpO1xuICAgIH07XG4gIH07XG5cbiAgLy8gQSBtb3N0bHktaW50ZXJuYWwgZnVuY3Rpb24gdG8gZ2VuZXJhdGUgY2FsbGJhY2tzIHRoYXQgY2FuIGJlIGFwcGxpZWRcbiAgLy8gdG8gZWFjaCBlbGVtZW50IGluIGEgY29sbGVjdGlvbiwgcmV0dXJuaW5nIHRoZSBkZXNpcmVkIHJlc3VsdCDigJQgZWl0aGVyXG4gIC8vIGlkZW50aXR5LCBhbiBhcmJpdHJhcnkgY2FsbGJhY2ssIGEgcHJvcGVydHkgbWF0Y2hlciwgb3IgYSBwcm9wZXJ0eSBhY2Nlc3Nvci5cbiAgXy5pdGVyYXRlZSA9IGZ1bmN0aW9uKHZhbHVlLCBjb250ZXh0LCBhcmdDb3VudCkge1xuICAgIGlmICh2YWx1ZSA9PSBudWxsKSByZXR1cm4gXy5pZGVudGl0eTtcbiAgICBpZiAoXy5pc0Z1bmN0aW9uKHZhbHVlKSkgcmV0dXJuIGNyZWF0ZUNhbGxiYWNrKHZhbHVlLCBjb250ZXh0LCBhcmdDb3VudCk7XG4gICAgaWYgKF8uaXNPYmplY3QodmFsdWUpKSByZXR1cm4gXy5tYXRjaGVzKHZhbHVlKTtcbiAgICByZXR1cm4gXy5wcm9wZXJ0eSh2YWx1ZSk7XG4gIH07XG5cbiAgLy8gQ29sbGVjdGlvbiBGdW5jdGlvbnNcbiAgLy8gLS0tLS0tLS0tLS0tLS0tLS0tLS1cblxuICAvLyBUaGUgY29ybmVyc3RvbmUsIGFuIGBlYWNoYCBpbXBsZW1lbnRhdGlvbiwgYWthIGBmb3JFYWNoYC5cbiAgLy8gSGFuZGxlcyByYXcgb2JqZWN0cyBpbiBhZGRpdGlvbiB0byBhcnJheS1saWtlcy4gVHJlYXRzIGFsbFxuICAvLyBzcGFyc2UgYXJyYXktbGlrZXMgYXMgaWYgdGhleSB3ZXJlIGRlbnNlLlxuICBfLmVhY2ggPSBfLmZvckVhY2ggPSBmdW5jdGlvbihvYmosIGl0ZXJhdGVlLCBjb250ZXh0KSB7XG4gICAgaWYgKG9iaiA9PSBudWxsKSByZXR1cm4gb2JqO1xuICAgIGl0ZXJhdGVlID0gY3JlYXRlQ2FsbGJhY2soaXRlcmF0ZWUsIGNvbnRleHQpO1xuICAgIHZhciBpLCBsZW5ndGggPSBvYmoubGVuZ3RoO1xuICAgIGlmIChsZW5ndGggPT09ICtsZW5ndGgpIHtcbiAgICAgIGZvciAoaSA9IDA7IGkgPCBsZW5ndGg7IGkrKykge1xuICAgICAgICBpdGVyYXRlZShvYmpbaV0sIGksIG9iaik7XG4gICAgICB9XG4gICAgfSBlbHNlIHtcbiAgICAgIHZhciBrZXlzID0gXy5rZXlzKG9iaik7XG4gICAgICBmb3IgKGkgPSAwLCBsZW5ndGggPSBrZXlzLmxlbmd0aDsgaSA8IGxlbmd0aDsgaSsrKSB7XG4gICAgICAgIGl0ZXJhdGVlKG9ialtrZXlzW2ldXSwga2V5c1tpXSwgb2JqKTtcbiAgICAgIH1cbiAgICB9XG4gICAgcmV0dXJuIG9iajtcbiAgfTtcblxuICAvLyBSZXR1cm4gdGhlIHJlc3VsdHMgb2YgYXBwbHlpbmcgdGhlIGl0ZXJhdGVlIHRvIGVhY2ggZWxlbWVudC5cbiAgXy5tYXAgPSBfLmNvbGxlY3QgPSBmdW5jdGlvbihvYmosIGl0ZXJhdGVlLCBjb250ZXh0KSB7XG4gICAgaWYgKG9iaiA9PSBudWxsKSByZXR1cm4gW107XG4gICAgaXRlcmF0ZWUgPSBfLml0ZXJhdGVlKGl0ZXJhdGVlLCBjb250ZXh0KTtcbiAgICB2YXIga2V5cyA9IG9iai5sZW5ndGggIT09ICtvYmoubGVuZ3RoICYmIF8ua2V5cyhvYmopLFxuICAgICAgICBsZW5ndGggPSAoa2V5cyB8fCBvYmopLmxlbmd0aCxcbiAgICAgICAgcmVzdWx0cyA9IEFycmF5KGxlbmd0aCksXG4gICAgICAgIGN1cnJlbnRLZXk7XG4gICAgZm9yICh2YXIgaW5kZXggPSAwOyBpbmRleCA8IGxlbmd0aDsgaW5kZXgrKykge1xuICAgICAgY3VycmVudEtleSA9IGtleXMgPyBrZXlzW2luZGV4XSA6IGluZGV4O1xuICAgICAgcmVzdWx0c1tpbmRleF0gPSBpdGVyYXRlZShvYmpbY3VycmVudEtleV0sIGN1cnJlbnRLZXksIG9iaik7XG4gICAgfVxuICAgIHJldHVybiByZXN1bHRzO1xuICB9O1xuXG4gIHZhciByZWR1Y2VFcnJvciA9ICdSZWR1Y2Ugb2YgZW1wdHkgYXJyYXkgd2l0aCBubyBpbml0aWFsIHZhbHVlJztcblxuICAvLyAqKlJlZHVjZSoqIGJ1aWxkcyB1cCBhIHNpbmdsZSByZXN1bHQgZnJvbSBhIGxpc3Qgb2YgdmFsdWVzLCBha2EgYGluamVjdGAsXG4gIC8vIG9yIGBmb2xkbGAuXG4gIF8ucmVkdWNlID0gXy5mb2xkbCA9IF8uaW5qZWN0ID0gZnVuY3Rpb24ob2JqLCBpdGVyYXRlZSwgbWVtbywgY29udGV4dCkge1xuICAgIGlmIChvYmogPT0gbnVsbCkgb2JqID0gW107XG4gICAgaXRlcmF0ZWUgPSBjcmVhdGVDYWxsYmFjayhpdGVyYXRlZSwgY29udGV4dCwgNCk7XG4gICAgdmFyIGtleXMgPSBvYmoubGVuZ3RoICE9PSArb2JqLmxlbmd0aCAmJiBfLmtleXMob2JqKSxcbiAgICAgICAgbGVuZ3RoID0gKGtleXMgfHwgb2JqKS5sZW5ndGgsXG4gICAgICAgIGluZGV4ID0gMCwgY3VycmVudEtleTtcbiAgICBpZiAoYXJndW1lbnRzLmxlbmd0aCA8IDMpIHtcbiAgICAgIGlmICghbGVuZ3RoKSB0aHJvdyBuZXcgVHlwZUVycm9yKHJlZHVjZUVycm9yKTtcbiAgICAgIG1lbW8gPSBvYmpba2V5cyA/IGtleXNbaW5kZXgrK10gOiBpbmRleCsrXTtcbiAgICB9XG4gICAgZm9yICg7IGluZGV4IDwgbGVuZ3RoOyBpbmRleCsrKSB7XG4gICAgICBjdXJyZW50S2V5ID0ga2V5cyA/IGtleXNbaW5kZXhdIDogaW5kZXg7XG4gICAgICBtZW1vID0gaXRlcmF0ZWUobWVtbywgb2JqW2N1cnJlbnRLZXldLCBjdXJyZW50S2V5LCBvYmopO1xuICAgIH1cbiAgICByZXR1cm4gbWVtbztcbiAgfTtcblxuICAvLyBUaGUgcmlnaHQtYXNzb2NpYXRpdmUgdmVyc2lvbiBvZiByZWR1Y2UsIGFsc28ga25vd24gYXMgYGZvbGRyYC5cbiAgXy5yZWR1Y2VSaWdodCA9IF8uZm9sZHIgPSBmdW5jdGlvbihvYmosIGl0ZXJhdGVlLCBtZW1vLCBjb250ZXh0KSB7XG4gICAgaWYgKG9iaiA9PSBudWxsKSBvYmogPSBbXTtcbiAgICBpdGVyYXRlZSA9IGNyZWF0ZUNhbGxiYWNrKGl0ZXJhdGVlLCBjb250ZXh0LCA0KTtcbiAgICB2YXIga2V5cyA9IG9iai5sZW5ndGggIT09ICsgb2JqLmxlbmd0aCAmJiBfLmtleXMob2JqKSxcbiAgICAgICAgaW5kZXggPSAoa2V5cyB8fCBvYmopLmxlbmd0aCxcbiAgICAgICAgY3VycmVudEtleTtcbiAgICBpZiAoYXJndW1lbnRzLmxlbmd0aCA8IDMpIHtcbiAgICAgIGlmICghaW5kZXgpIHRocm93IG5ldyBUeXBlRXJyb3IocmVkdWNlRXJyb3IpO1xuICAgICAgbWVtbyA9IG9ialtrZXlzID8ga2V5c1stLWluZGV4XSA6IC0taW5kZXhdO1xuICAgIH1cbiAgICB3aGlsZSAoaW5kZXgtLSkge1xuICAgICAgY3VycmVudEtleSA9IGtleXMgPyBrZXlzW2luZGV4XSA6IGluZGV4O1xuICAgICAgbWVtbyA9IGl0ZXJhdGVlKG1lbW8sIG9ialtjdXJyZW50S2V5XSwgY3VycmVudEtleSwgb2JqKTtcbiAgICB9XG4gICAgcmV0dXJuIG1lbW87XG4gIH07XG5cbiAgLy8gUmV0dXJuIHRoZSBmaXJzdCB2YWx1ZSB3aGljaCBwYXNzZXMgYSB0cnV0aCB0ZXN0LiBBbGlhc2VkIGFzIGBkZXRlY3RgLlxuICBfLmZpbmQgPSBfLmRldGVjdCA9IGZ1bmN0aW9uKG9iaiwgcHJlZGljYXRlLCBjb250ZXh0KSB7XG4gICAgdmFyIHJlc3VsdDtcbiAgICBwcmVkaWNhdGUgPSBfLml0ZXJhdGVlKHByZWRpY2F0ZSwgY29udGV4dCk7XG4gICAgXy5zb21lKG9iaiwgZnVuY3Rpb24odmFsdWUsIGluZGV4LCBsaXN0KSB7XG4gICAgICBpZiAocHJlZGljYXRlKHZhbHVlLCBpbmRleCwgbGlzdCkpIHtcbiAgICAgICAgcmVzdWx0ID0gdmFsdWU7XG4gICAgICAgIHJldHVybiB0cnVlO1xuICAgICAgfVxuICAgIH0pO1xuICAgIHJldHVybiByZXN1bHQ7XG4gIH07XG5cbiAgLy8gUmV0dXJuIGFsbCB0aGUgZWxlbWVudHMgdGhhdCBwYXNzIGEgdHJ1dGggdGVzdC5cbiAgLy8gQWxpYXNlZCBhcyBgc2VsZWN0YC5cbiAgXy5maWx0ZXIgPSBfLnNlbGVjdCA9IGZ1bmN0aW9uKG9iaiwgcHJlZGljYXRlLCBjb250ZXh0KSB7XG4gICAgdmFyIHJlc3VsdHMgPSBbXTtcbiAgICBpZiAob2JqID09IG51bGwpIHJldHVybiByZXN1bHRzO1xuICAgIHByZWRpY2F0ZSA9IF8uaXRlcmF0ZWUocHJlZGljYXRlLCBjb250ZXh0KTtcbiAgICBfLmVhY2gob2JqLCBmdW5jdGlvbih2YWx1ZSwgaW5kZXgsIGxpc3QpIHtcbiAgICAgIGlmIChwcmVkaWNhdGUodmFsdWUsIGluZGV4LCBsaXN0KSkgcmVzdWx0cy5wdXNoKHZhbHVlKTtcbiAgICB9KTtcbiAgICByZXR1cm4gcmVzdWx0cztcbiAgfTtcblxuICAvLyBSZXR1cm4gYWxsIHRoZSBlbGVtZW50cyBmb3Igd2hpY2ggYSB0cnV0aCB0ZXN0IGZhaWxzLlxuICBfLnJlamVjdCA9IGZ1bmN0aW9uKG9iaiwgcHJlZGljYXRlLCBjb250ZXh0KSB7XG4gICAgcmV0dXJuIF8uZmlsdGVyKG9iaiwgXy5uZWdhdGUoXy5pdGVyYXRlZShwcmVkaWNhdGUpKSwgY29udGV4dCk7XG4gIH07XG5cbiAgLy8gRGV0ZXJtaW5lIHdoZXRoZXIgYWxsIG9mIHRoZSBlbGVtZW50cyBtYXRjaCBhIHRydXRoIHRlc3QuXG4gIC8vIEFsaWFzZWQgYXMgYGFsbGAuXG4gIF8uZXZlcnkgPSBfLmFsbCA9IGZ1bmN0aW9uKG9iaiwgcHJlZGljYXRlLCBjb250ZXh0KSB7XG4gICAgaWYgKG9iaiA9PSBudWxsKSByZXR1cm4gdHJ1ZTtcbiAgICBwcmVkaWNhdGUgPSBfLml0ZXJhdGVlKHByZWRpY2F0ZSwgY29udGV4dCk7XG4gICAgdmFyIGtleXMgPSBvYmoubGVuZ3RoICE9PSArb2JqLmxlbmd0aCAmJiBfLmtleXMob2JqKSxcbiAgICAgICAgbGVuZ3RoID0gKGtleXMgfHwgb2JqKS5sZW5ndGgsXG4gICAgICAgIGluZGV4LCBjdXJyZW50S2V5O1xuICAgIGZvciAoaW5kZXggPSAwOyBpbmRleCA8IGxlbmd0aDsgaW5kZXgrKykge1xuICAgICAgY3VycmVudEtleSA9IGtleXMgPyBrZXlzW2luZGV4XSA6IGluZGV4O1xuICAgICAgaWYgKCFwcmVkaWNhdGUob2JqW2N1cnJlbnRLZXldLCBjdXJyZW50S2V5LCBvYmopKSByZXR1cm4gZmFsc2U7XG4gICAgfVxuICAgIHJldHVybiB0cnVlO1xuICB9O1xuXG4gIC8vIERldGVybWluZSBpZiBhdCBsZWFzdCBvbmUgZWxlbWVudCBpbiB0aGUgb2JqZWN0IG1hdGNoZXMgYSB0cnV0aCB0ZXN0LlxuICAvLyBBbGlhc2VkIGFzIGBhbnlgLlxuICBfLnNvbWUgPSBfLmFueSA9IGZ1bmN0aW9uKG9iaiwgcHJlZGljYXRlLCBjb250ZXh0KSB7XG4gICAgaWYgKG9iaiA9PSBudWxsKSByZXR1cm4gZmFsc2U7XG4gICAgcHJlZGljYXRlID0gXy5pdGVyYXRlZShwcmVkaWNhdGUsIGNvbnRleHQpO1xuICAgIHZhciBrZXlzID0gb2JqLmxlbmd0aCAhPT0gK29iai5sZW5ndGggJiYgXy5rZXlzKG9iaiksXG4gICAgICAgIGxlbmd0aCA9IChrZXlzIHx8IG9iaikubGVuZ3RoLFxuICAgICAgICBpbmRleCwgY3VycmVudEtleTtcbiAgICBmb3IgKGluZGV4ID0gMDsgaW5kZXggPCBsZW5ndGg7IGluZGV4KyspIHtcbiAgICAgIGN1cnJlbnRLZXkgPSBrZXlzID8ga2V5c1tpbmRleF0gOiBpbmRleDtcbiAgICAgIGlmIChwcmVkaWNhdGUob2JqW2N1cnJlbnRLZXldLCBjdXJyZW50S2V5LCBvYmopKSByZXR1cm4gdHJ1ZTtcbiAgICB9XG4gICAgcmV0dXJuIGZhbHNlO1xuICB9O1xuXG4gIC8vIERldGVybWluZSBpZiB0aGUgYXJyYXkgb3Igb2JqZWN0IGNvbnRhaW5zIGEgZ2l2ZW4gdmFsdWUgKHVzaW5nIGA9PT1gKS5cbiAgLy8gQWxpYXNlZCBhcyBgaW5jbHVkZWAuXG4gIF8uY29udGFpbnMgPSBfLmluY2x1ZGUgPSBmdW5jdGlvbihvYmosIHRhcmdldCkge1xuICAgIGlmIChvYmogPT0gbnVsbCkgcmV0dXJuIGZhbHNlO1xuICAgIGlmIChvYmoubGVuZ3RoICE9PSArb2JqLmxlbmd0aCkgb2JqID0gXy52YWx1ZXMob2JqKTtcbiAgICByZXR1cm4gXy5pbmRleE9mKG9iaiwgdGFyZ2V0KSA+PSAwO1xuICB9O1xuXG4gIC8vIEludm9rZSBhIG1ldGhvZCAod2l0aCBhcmd1bWVudHMpIG9uIGV2ZXJ5IGl0ZW0gaW4gYSBjb2xsZWN0aW9uLlxuICBfLmludm9rZSA9IGZ1bmN0aW9uKG9iaiwgbWV0aG9kKSB7XG4gICAgdmFyIGFyZ3MgPSBzbGljZS5jYWxsKGFyZ3VtZW50cywgMik7XG4gICAgdmFyIGlzRnVuYyA9IF8uaXNGdW5jdGlvbihtZXRob2QpO1xuICAgIHJldHVybiBfLm1hcChvYmosIGZ1bmN0aW9uKHZhbHVlKSB7XG4gICAgICByZXR1cm4gKGlzRnVuYyA/IG1ldGhvZCA6IHZhbHVlW21ldGhvZF0pLmFwcGx5KHZhbHVlLCBhcmdzKTtcbiAgICB9KTtcbiAgfTtcblxuICAvLyBDb252ZW5pZW5jZSB2ZXJzaW9uIG9mIGEgY29tbW9uIHVzZSBjYXNlIG9mIGBtYXBgOiBmZXRjaGluZyBhIHByb3BlcnR5LlxuICBfLnBsdWNrID0gZnVuY3Rpb24ob2JqLCBrZXkpIHtcbiAgICByZXR1cm4gXy5tYXAob2JqLCBfLnByb3BlcnR5KGtleSkpO1xuICB9O1xuXG4gIC8vIENvbnZlbmllbmNlIHZlcnNpb24gb2YgYSBjb21tb24gdXNlIGNhc2Ugb2YgYGZpbHRlcmA6IHNlbGVjdGluZyBvbmx5IG9iamVjdHNcbiAgLy8gY29udGFpbmluZyBzcGVjaWZpYyBga2V5OnZhbHVlYCBwYWlycy5cbiAgXy53aGVyZSA9IGZ1bmN0aW9uKG9iaiwgYXR0cnMpIHtcbiAgICByZXR1cm4gXy5maWx0ZXIob2JqLCBfLm1hdGNoZXMoYXR0cnMpKTtcbiAgfTtcblxuICAvLyBDb252ZW5pZW5jZSB2ZXJzaW9uIG9mIGEgY29tbW9uIHVzZSBjYXNlIG9mIGBmaW5kYDogZ2V0dGluZyB0aGUgZmlyc3Qgb2JqZWN0XG4gIC8vIGNvbnRhaW5pbmcgc3BlY2lmaWMgYGtleTp2YWx1ZWAgcGFpcnMuXG4gIF8uZmluZFdoZXJlID0gZnVuY3Rpb24ob2JqLCBhdHRycykge1xuICAgIHJldHVybiBfLmZpbmQob2JqLCBfLm1hdGNoZXMoYXR0cnMpKTtcbiAgfTtcblxuICAvLyBSZXR1cm4gdGhlIG1heGltdW0gZWxlbWVudCAob3IgZWxlbWVudC1iYXNlZCBjb21wdXRhdGlvbikuXG4gIF8ubWF4ID0gZnVuY3Rpb24ob2JqLCBpdGVyYXRlZSwgY29udGV4dCkge1xuICAgIHZhciByZXN1bHQgPSAtSW5maW5pdHksIGxhc3RDb21wdXRlZCA9IC1JbmZpbml0eSxcbiAgICAgICAgdmFsdWUsIGNvbXB1dGVkO1xuICAgIGlmIChpdGVyYXRlZSA9PSBudWxsICYmIG9iaiAhPSBudWxsKSB7XG4gICAgICBvYmogPSBvYmoubGVuZ3RoID09PSArb2JqLmxlbmd0aCA/IG9iaiA6IF8udmFsdWVzKG9iaik7XG4gICAgICBmb3IgKHZhciBpID0gMCwgbGVuZ3RoID0gb2JqLmxlbmd0aDsgaSA8IGxlbmd0aDsgaSsrKSB7XG4gICAgICAgIHZhbHVlID0gb2JqW2ldO1xuICAgICAgICBpZiAodmFsdWUgPiByZXN1bHQpIHtcbiAgICAgICAgICByZXN1bHQgPSB2YWx1ZTtcbiAgICAgICAgfVxuICAgICAgfVxuICAgIH0gZWxzZSB7XG4gICAgICBpdGVyYXRlZSA9IF8uaXRlcmF0ZWUoaXRlcmF0ZWUsIGNvbnRleHQpO1xuICAgICAgXy5lYWNoKG9iaiwgZnVuY3Rpb24odmFsdWUsIGluZGV4LCBsaXN0KSB7XG4gICAgICAgIGNvbXB1dGVkID0gaXRlcmF0ZWUodmFsdWUsIGluZGV4LCBsaXN0KTtcbiAgICAgICAgaWYgKGNvbXB1dGVkID4gbGFzdENvbXB1dGVkIHx8IGNvbXB1dGVkID09PSAtSW5maW5pdHkgJiYgcmVzdWx0ID09PSAtSW5maW5pdHkpIHtcbiAgICAgICAgICByZXN1bHQgPSB2YWx1ZTtcbiAgICAgICAgICBsYXN0Q29tcHV0ZWQgPSBjb21wdXRlZDtcbiAgICAgICAgfVxuICAgICAgfSk7XG4gICAgfVxuICAgIHJldHVybiByZXN1bHQ7XG4gIH07XG5cbiAgLy8gUmV0dXJuIHRoZSBtaW5pbXVtIGVsZW1lbnQgKG9yIGVsZW1lbnQtYmFzZWQgY29tcHV0YXRpb24pLlxuICBfLm1pbiA9IGZ1bmN0aW9uKG9iaiwgaXRlcmF0ZWUsIGNvbnRleHQpIHtcbiAgICB2YXIgcmVzdWx0ID0gSW5maW5pdHksIGxhc3RDb21wdXRlZCA9IEluZmluaXR5LFxuICAgICAgICB2YWx1ZSwgY29tcHV0ZWQ7XG4gICAgaWYgKGl0ZXJhdGVlID09IG51bGwgJiYgb2JqICE9IG51bGwpIHtcbiAgICAgIG9iaiA9IG9iai5sZW5ndGggPT09ICtvYmoubGVuZ3RoID8gb2JqIDogXy52YWx1ZXMob2JqKTtcbiAgICAgIGZvciAodmFyIGkgPSAwLCBsZW5ndGggPSBvYmoubGVuZ3RoOyBpIDwgbGVuZ3RoOyBpKyspIHtcbiAgICAgICAgdmFsdWUgPSBvYmpbaV07XG4gICAgICAgIGlmICh2YWx1ZSA8IHJlc3VsdCkge1xuICAgICAgICAgIHJlc3VsdCA9IHZhbHVlO1xuICAgICAgICB9XG4gICAgICB9XG4gICAgfSBlbHNlIHtcbiAgICAgIGl0ZXJhdGVlID0gXy5pdGVyYXRlZShpdGVyYXRlZSwgY29udGV4dCk7XG4gICAgICBfLmVhY2gob2JqLCBmdW5jdGlvbih2YWx1ZSwgaW5kZXgsIGxpc3QpIHtcbiAgICAgICAgY29tcHV0ZWQgPSBpdGVyYXRlZSh2YWx1ZSwgaW5kZXgsIGxpc3QpO1xuICAgICAgICBpZiAoY29tcHV0ZWQgPCBsYXN0Q29tcHV0ZWQgfHwgY29tcHV0ZWQgPT09IEluZmluaXR5ICYmIHJlc3VsdCA9PT0gSW5maW5pdHkpIHtcbiAgICAgICAgICByZXN1bHQgPSB2YWx1ZTtcbiAgICAgICAgICBsYXN0Q29tcHV0ZWQgPSBjb21wdXRlZDtcbiAgICAgICAgfVxuICAgICAgfSk7XG4gICAgfVxuICAgIHJldHVybiByZXN1bHQ7XG4gIH07XG5cbiAgLy8gU2h1ZmZsZSBhIGNvbGxlY3Rpb24sIHVzaW5nIHRoZSBtb2Rlcm4gdmVyc2lvbiBvZiB0aGVcbiAgLy8gW0Zpc2hlci1ZYXRlcyBzaHVmZmxlXShodHRwOi8vZW4ud2lraXBlZGlhLm9yZy93aWtpL0Zpc2hlcuKAk1lhdGVzX3NodWZmbGUpLlxuICBfLnNodWZmbGUgPSBmdW5jdGlvbihvYmopIHtcbiAgICB2YXIgc2V0ID0gb2JqICYmIG9iai5sZW5ndGggPT09ICtvYmoubGVuZ3RoID8gb2JqIDogXy52YWx1ZXMob2JqKTtcbiAgICB2YXIgbGVuZ3RoID0gc2V0Lmxlbmd0aDtcbiAgICB2YXIgc2h1ZmZsZWQgPSBBcnJheShsZW5ndGgpO1xuICAgIGZvciAodmFyIGluZGV4ID0gMCwgcmFuZDsgaW5kZXggPCBsZW5ndGg7IGluZGV4KyspIHtcbiAgICAgIHJhbmQgPSBfLnJhbmRvbSgwLCBpbmRleCk7XG4gICAgICBpZiAocmFuZCAhPT0gaW5kZXgpIHNodWZmbGVkW2luZGV4XSA9IHNodWZmbGVkW3JhbmRdO1xuICAgICAgc2h1ZmZsZWRbcmFuZF0gPSBzZXRbaW5kZXhdO1xuICAgIH1cbiAgICByZXR1cm4gc2h1ZmZsZWQ7XG4gIH07XG5cbiAgLy8gU2FtcGxlICoqbioqIHJhbmRvbSB2YWx1ZXMgZnJvbSBhIGNvbGxlY3Rpb24uXG4gIC8vIElmICoqbioqIGlzIG5vdCBzcGVjaWZpZWQsIHJldHVybnMgYSBzaW5nbGUgcmFuZG9tIGVsZW1lbnQuXG4gIC8vIFRoZSBpbnRlcm5hbCBgZ3VhcmRgIGFyZ3VtZW50IGFsbG93cyBpdCB0byB3b3JrIHdpdGggYG1hcGAuXG4gIF8uc2FtcGxlID0gZnVuY3Rpb24ob2JqLCBuLCBndWFyZCkge1xuICAgIGlmIChuID09IG51bGwgfHwgZ3VhcmQpIHtcbiAgICAgIGlmIChvYmoubGVuZ3RoICE9PSArb2JqLmxlbmd0aCkgb2JqID0gXy52YWx1ZXMob2JqKTtcbiAgICAgIHJldHVybiBvYmpbXy5yYW5kb20ob2JqLmxlbmd0aCAtIDEpXTtcbiAgICB9XG4gICAgcmV0dXJuIF8uc2h1ZmZsZShvYmopLnNsaWNlKDAsIE1hdGgubWF4KDAsIG4pKTtcbiAgfTtcblxuICAvLyBTb3J0IHRoZSBvYmplY3QncyB2YWx1ZXMgYnkgYSBjcml0ZXJpb24gcHJvZHVjZWQgYnkgYW4gaXRlcmF0ZWUuXG4gIF8uc29ydEJ5ID0gZnVuY3Rpb24ob2JqLCBpdGVyYXRlZSwgY29udGV4dCkge1xuICAgIGl0ZXJhdGVlID0gXy5pdGVyYXRlZShpdGVyYXRlZSwgY29udGV4dCk7XG4gICAgcmV0dXJuIF8ucGx1Y2soXy5tYXAob2JqLCBmdW5jdGlvbih2YWx1ZSwgaW5kZXgsIGxpc3QpIHtcbiAgICAgIHJldHVybiB7XG4gICAgICAgIHZhbHVlOiB2YWx1ZSxcbiAgICAgICAgaW5kZXg6IGluZGV4LFxuICAgICAgICBjcml0ZXJpYTogaXRlcmF0ZWUodmFsdWUsIGluZGV4LCBsaXN0KVxuICAgICAgfTtcbiAgICB9KS5zb3J0KGZ1bmN0aW9uKGxlZnQsIHJpZ2h0KSB7XG4gICAgICB2YXIgYSA9IGxlZnQuY3JpdGVyaWE7XG4gICAgICB2YXIgYiA9IHJpZ2h0LmNyaXRlcmlhO1xuICAgICAgaWYgKGEgIT09IGIpIHtcbiAgICAgICAgaWYgKGEgPiBiIHx8IGEgPT09IHZvaWQgMCkgcmV0dXJuIDE7XG4gICAgICAgIGlmIChhIDwgYiB8fCBiID09PSB2b2lkIDApIHJldHVybiAtMTtcbiAgICAgIH1cbiAgICAgIHJldHVybiBsZWZ0LmluZGV4IC0gcmlnaHQuaW5kZXg7XG4gICAgfSksICd2YWx1ZScpO1xuICB9O1xuXG4gIC8vIEFuIGludGVybmFsIGZ1bmN0aW9uIHVzZWQgZm9yIGFnZ3JlZ2F0ZSBcImdyb3VwIGJ5XCIgb3BlcmF0aW9ucy5cbiAgdmFyIGdyb3VwID0gZnVuY3Rpb24oYmVoYXZpb3IpIHtcbiAgICByZXR1cm4gZnVuY3Rpb24ob2JqLCBpdGVyYXRlZSwgY29udGV4dCkge1xuICAgICAgdmFyIHJlc3VsdCA9IHt9O1xuICAgICAgaXRlcmF0ZWUgPSBfLml0ZXJhdGVlKGl0ZXJhdGVlLCBjb250ZXh0KTtcbiAgICAgIF8uZWFjaChvYmosIGZ1bmN0aW9uKHZhbHVlLCBpbmRleCkge1xuICAgICAgICB2YXIga2V5ID0gaXRlcmF0ZWUodmFsdWUsIGluZGV4LCBvYmopO1xuICAgICAgICBiZWhhdmlvcihyZXN1bHQsIHZhbHVlLCBrZXkpO1xuICAgICAgfSk7XG4gICAgICByZXR1cm4gcmVzdWx0O1xuICAgIH07XG4gIH07XG5cbiAgLy8gR3JvdXBzIHRoZSBvYmplY3QncyB2YWx1ZXMgYnkgYSBjcml0ZXJpb24uIFBhc3MgZWl0aGVyIGEgc3RyaW5nIGF0dHJpYnV0ZVxuICAvLyB0byBncm91cCBieSwgb3IgYSBmdW5jdGlvbiB0aGF0IHJldHVybnMgdGhlIGNyaXRlcmlvbi5cbiAgXy5ncm91cEJ5ID0gZ3JvdXAoZnVuY3Rpb24ocmVzdWx0LCB2YWx1ZSwga2V5KSB7XG4gICAgaWYgKF8uaGFzKHJlc3VsdCwga2V5KSkgcmVzdWx0W2tleV0ucHVzaCh2YWx1ZSk7IGVsc2UgcmVzdWx0W2tleV0gPSBbdmFsdWVdO1xuICB9KTtcblxuICAvLyBJbmRleGVzIHRoZSBvYmplY3QncyB2YWx1ZXMgYnkgYSBjcml0ZXJpb24sIHNpbWlsYXIgdG8gYGdyb3VwQnlgLCBidXQgZm9yXG4gIC8vIHdoZW4geW91IGtub3cgdGhhdCB5b3VyIGluZGV4IHZhbHVlcyB3aWxsIGJlIHVuaXF1ZS5cbiAgXy5pbmRleEJ5ID0gZ3JvdXAoZnVuY3Rpb24ocmVzdWx0LCB2YWx1ZSwga2V5KSB7XG4gICAgcmVzdWx0W2tleV0gPSB2YWx1ZTtcbiAgfSk7XG5cbiAgLy8gQ291bnRzIGluc3RhbmNlcyBvZiBhbiBvYmplY3QgdGhhdCBncm91cCBieSBhIGNlcnRhaW4gY3JpdGVyaW9uLiBQYXNzXG4gIC8vIGVpdGhlciBhIHN0cmluZyBhdHRyaWJ1dGUgdG8gY291bnQgYnksIG9yIGEgZnVuY3Rpb24gdGhhdCByZXR1cm5zIHRoZVxuICAvLyBjcml0ZXJpb24uXG4gIF8uY291bnRCeSA9IGdyb3VwKGZ1bmN0aW9uKHJlc3VsdCwgdmFsdWUsIGtleSkge1xuICAgIGlmIChfLmhhcyhyZXN1bHQsIGtleSkpIHJlc3VsdFtrZXldKys7IGVsc2UgcmVzdWx0W2tleV0gPSAxO1xuICB9KTtcblxuICAvLyBVc2UgYSBjb21wYXJhdG9yIGZ1bmN0aW9uIHRvIGZpZ3VyZSBvdXQgdGhlIHNtYWxsZXN0IGluZGV4IGF0IHdoaWNoXG4gIC8vIGFuIG9iamVjdCBzaG91bGQgYmUgaW5zZXJ0ZWQgc28gYXMgdG8gbWFpbnRhaW4gb3JkZXIuIFVzZXMgYmluYXJ5IHNlYXJjaC5cbiAgXy5zb3J0ZWRJbmRleCA9IGZ1bmN0aW9uKGFycmF5LCBvYmosIGl0ZXJhdGVlLCBjb250ZXh0KSB7XG4gICAgaXRlcmF0ZWUgPSBfLml0ZXJhdGVlKGl0ZXJhdGVlLCBjb250ZXh0LCAxKTtcbiAgICB2YXIgdmFsdWUgPSBpdGVyYXRlZShvYmopO1xuICAgIHZhciBsb3cgPSAwLCBoaWdoID0gYXJyYXkubGVuZ3RoO1xuICAgIHdoaWxlIChsb3cgPCBoaWdoKSB7XG4gICAgICB2YXIgbWlkID0gbG93ICsgaGlnaCA+Pj4gMTtcbiAgICAgIGlmIChpdGVyYXRlZShhcnJheVttaWRdKSA8IHZhbHVlKSBsb3cgPSBtaWQgKyAxOyBlbHNlIGhpZ2ggPSBtaWQ7XG4gICAgfVxuICAgIHJldHVybiBsb3c7XG4gIH07XG5cbiAgLy8gU2FmZWx5IGNyZWF0ZSBhIHJlYWwsIGxpdmUgYXJyYXkgZnJvbSBhbnl0aGluZyBpdGVyYWJsZS5cbiAgXy50b0FycmF5ID0gZnVuY3Rpb24ob2JqKSB7XG4gICAgaWYgKCFvYmopIHJldHVybiBbXTtcbiAgICBpZiAoXy5pc0FycmF5KG9iaikpIHJldHVybiBzbGljZS5jYWxsKG9iaik7XG4gICAgaWYgKG9iai5sZW5ndGggPT09ICtvYmoubGVuZ3RoKSByZXR1cm4gXy5tYXAob2JqLCBfLmlkZW50aXR5KTtcbiAgICByZXR1cm4gXy52YWx1ZXMob2JqKTtcbiAgfTtcblxuICAvLyBSZXR1cm4gdGhlIG51bWJlciBvZiBlbGVtZW50cyBpbiBhbiBvYmplY3QuXG4gIF8uc2l6ZSA9IGZ1bmN0aW9uKG9iaikge1xuICAgIGlmIChvYmogPT0gbnVsbCkgcmV0dXJuIDA7XG4gICAgcmV0dXJuIG9iai5sZW5ndGggPT09ICtvYmoubGVuZ3RoID8gb2JqLmxlbmd0aCA6IF8ua2V5cyhvYmopLmxlbmd0aDtcbiAgfTtcblxuICAvLyBTcGxpdCBhIGNvbGxlY3Rpb24gaW50byB0d28gYXJyYXlzOiBvbmUgd2hvc2UgZWxlbWVudHMgYWxsIHNhdGlzZnkgdGhlIGdpdmVuXG4gIC8vIHByZWRpY2F0ZSwgYW5kIG9uZSB3aG9zZSBlbGVtZW50cyBhbGwgZG8gbm90IHNhdGlzZnkgdGhlIHByZWRpY2F0ZS5cbiAgXy5wYXJ0aXRpb24gPSBmdW5jdGlvbihvYmosIHByZWRpY2F0ZSwgY29udGV4dCkge1xuICAgIHByZWRpY2F0ZSA9IF8uaXRlcmF0ZWUocHJlZGljYXRlLCBjb250ZXh0KTtcbiAgICB2YXIgcGFzcyA9IFtdLCBmYWlsID0gW107XG4gICAgXy5lYWNoKG9iaiwgZnVuY3Rpb24odmFsdWUsIGtleSwgb2JqKSB7XG4gICAgICAocHJlZGljYXRlKHZhbHVlLCBrZXksIG9iaikgPyBwYXNzIDogZmFpbCkucHVzaCh2YWx1ZSk7XG4gICAgfSk7XG4gICAgcmV0dXJuIFtwYXNzLCBmYWlsXTtcbiAgfTtcblxuICAvLyBBcnJheSBGdW5jdGlvbnNcbiAgLy8gLS0tLS0tLS0tLS0tLS0tXG5cbiAgLy8gR2V0IHRoZSBmaXJzdCBlbGVtZW50IG9mIGFuIGFycmF5LiBQYXNzaW5nICoqbioqIHdpbGwgcmV0dXJuIHRoZSBmaXJzdCBOXG4gIC8vIHZhbHVlcyBpbiB0aGUgYXJyYXkuIEFsaWFzZWQgYXMgYGhlYWRgIGFuZCBgdGFrZWAuIFRoZSAqKmd1YXJkKiogY2hlY2tcbiAgLy8gYWxsb3dzIGl0IHRvIHdvcmsgd2l0aCBgXy5tYXBgLlxuICBfLmZpcnN0ID0gXy5oZWFkID0gXy50YWtlID0gZnVuY3Rpb24oYXJyYXksIG4sIGd1YXJkKSB7XG4gICAgaWYgKGFycmF5ID09IG51bGwpIHJldHVybiB2b2lkIDA7XG4gICAgaWYgKG4gPT0gbnVsbCB8fCBndWFyZCkgcmV0dXJuIGFycmF5WzBdO1xuICAgIGlmIChuIDwgMCkgcmV0dXJuIFtdO1xuICAgIHJldHVybiBzbGljZS5jYWxsKGFycmF5LCAwLCBuKTtcbiAgfTtcblxuICAvLyBSZXR1cm5zIGV2ZXJ5dGhpbmcgYnV0IHRoZSBsYXN0IGVudHJ5IG9mIHRoZSBhcnJheS4gRXNwZWNpYWxseSB1c2VmdWwgb25cbiAgLy8gdGhlIGFyZ3VtZW50cyBvYmplY3QuIFBhc3NpbmcgKipuKiogd2lsbCByZXR1cm4gYWxsIHRoZSB2YWx1ZXMgaW5cbiAgLy8gdGhlIGFycmF5LCBleGNsdWRpbmcgdGhlIGxhc3QgTi4gVGhlICoqZ3VhcmQqKiBjaGVjayBhbGxvd3MgaXQgdG8gd29yayB3aXRoXG4gIC8vIGBfLm1hcGAuXG4gIF8uaW5pdGlhbCA9IGZ1bmN0aW9uKGFycmF5LCBuLCBndWFyZCkge1xuICAgIHJldHVybiBzbGljZS5jYWxsKGFycmF5LCAwLCBNYXRoLm1heCgwLCBhcnJheS5sZW5ndGggLSAobiA9PSBudWxsIHx8IGd1YXJkID8gMSA6IG4pKSk7XG4gIH07XG5cbiAgLy8gR2V0IHRoZSBsYXN0IGVsZW1lbnQgb2YgYW4gYXJyYXkuIFBhc3NpbmcgKipuKiogd2lsbCByZXR1cm4gdGhlIGxhc3QgTlxuICAvLyB2YWx1ZXMgaW4gdGhlIGFycmF5LiBUaGUgKipndWFyZCoqIGNoZWNrIGFsbG93cyBpdCB0byB3b3JrIHdpdGggYF8ubWFwYC5cbiAgXy5sYXN0ID0gZnVuY3Rpb24oYXJyYXksIG4sIGd1YXJkKSB7XG4gICAgaWYgKGFycmF5ID09IG51bGwpIHJldHVybiB2b2lkIDA7XG4gICAgaWYgKG4gPT0gbnVsbCB8fCBndWFyZCkgcmV0dXJuIGFycmF5W2FycmF5Lmxlbmd0aCAtIDFdO1xuICAgIHJldHVybiBzbGljZS5jYWxsKGFycmF5LCBNYXRoLm1heChhcnJheS5sZW5ndGggLSBuLCAwKSk7XG4gIH07XG5cbiAgLy8gUmV0dXJucyBldmVyeXRoaW5nIGJ1dCB0aGUgZmlyc3QgZW50cnkgb2YgdGhlIGFycmF5LiBBbGlhc2VkIGFzIGB0YWlsYCBhbmQgYGRyb3BgLlxuICAvLyBFc3BlY2lhbGx5IHVzZWZ1bCBvbiB0aGUgYXJndW1lbnRzIG9iamVjdC4gUGFzc2luZyBhbiAqKm4qKiB3aWxsIHJldHVyblxuICAvLyB0aGUgcmVzdCBOIHZhbHVlcyBpbiB0aGUgYXJyYXkuIFRoZSAqKmd1YXJkKipcbiAgLy8gY2hlY2sgYWxsb3dzIGl0IHRvIHdvcmsgd2l0aCBgXy5tYXBgLlxuICBfLnJlc3QgPSBfLnRhaWwgPSBfLmRyb3AgPSBmdW5jdGlvbihhcnJheSwgbiwgZ3VhcmQpIHtcbiAgICByZXR1cm4gc2xpY2UuY2FsbChhcnJheSwgbiA9PSBudWxsIHx8IGd1YXJkID8gMSA6IG4pO1xuICB9O1xuXG4gIC8vIFRyaW0gb3V0IGFsbCBmYWxzeSB2YWx1ZXMgZnJvbSBhbiBhcnJheS5cbiAgXy5jb21wYWN0ID0gZnVuY3Rpb24oYXJyYXkpIHtcbiAgICByZXR1cm4gXy5maWx0ZXIoYXJyYXksIF8uaWRlbnRpdHkpO1xuICB9O1xuXG4gIC8vIEludGVybmFsIGltcGxlbWVudGF0aW9uIG9mIGEgcmVjdXJzaXZlIGBmbGF0dGVuYCBmdW5jdGlvbi5cbiAgdmFyIGZsYXR0ZW4gPSBmdW5jdGlvbihpbnB1dCwgc2hhbGxvdywgc3RyaWN0LCBvdXRwdXQpIHtcbiAgICBpZiAoc2hhbGxvdyAmJiBfLmV2ZXJ5KGlucHV0LCBfLmlzQXJyYXkpKSB7XG4gICAgICByZXR1cm4gY29uY2F0LmFwcGx5KG91dHB1dCwgaW5wdXQpO1xuICAgIH1cbiAgICBmb3IgKHZhciBpID0gMCwgbGVuZ3RoID0gaW5wdXQubGVuZ3RoOyBpIDwgbGVuZ3RoOyBpKyspIHtcbiAgICAgIHZhciB2YWx1ZSA9IGlucHV0W2ldO1xuICAgICAgaWYgKCFfLmlzQXJyYXkodmFsdWUpICYmICFfLmlzQXJndW1lbnRzKHZhbHVlKSkge1xuICAgICAgICBpZiAoIXN0cmljdCkgb3V0cHV0LnB1c2godmFsdWUpO1xuICAgICAgfSBlbHNlIGlmIChzaGFsbG93KSB7XG4gICAgICAgIHB1c2guYXBwbHkob3V0cHV0LCB2YWx1ZSk7XG4gICAgICB9IGVsc2Uge1xuICAgICAgICBmbGF0dGVuKHZhbHVlLCBzaGFsbG93LCBzdHJpY3QsIG91dHB1dCk7XG4gICAgICB9XG4gICAgfVxuICAgIHJldHVybiBvdXRwdXQ7XG4gIH07XG5cbiAgLy8gRmxhdHRlbiBvdXQgYW4gYXJyYXksIGVpdGhlciByZWN1cnNpdmVseSAoYnkgZGVmYXVsdCksIG9yIGp1c3Qgb25lIGxldmVsLlxuICBfLmZsYXR0ZW4gPSBmdW5jdGlvbihhcnJheSwgc2hhbGxvdykge1xuICAgIHJldHVybiBmbGF0dGVuKGFycmF5LCBzaGFsbG93LCBmYWxzZSwgW10pO1xuICB9O1xuXG4gIC8vIFJldHVybiBhIHZlcnNpb24gb2YgdGhlIGFycmF5IHRoYXQgZG9lcyBub3QgY29udGFpbiB0aGUgc3BlY2lmaWVkIHZhbHVlKHMpLlxuICBfLndpdGhvdXQgPSBmdW5jdGlvbihhcnJheSkge1xuICAgIHJldHVybiBfLmRpZmZlcmVuY2UoYXJyYXksIHNsaWNlLmNhbGwoYXJndW1lbnRzLCAxKSk7XG4gIH07XG5cbiAgLy8gUHJvZHVjZSBhIGR1cGxpY2F0ZS1mcmVlIHZlcnNpb24gb2YgdGhlIGFycmF5LiBJZiB0aGUgYXJyYXkgaGFzIGFscmVhZHlcbiAgLy8gYmVlbiBzb3J0ZWQsIHlvdSBoYXZlIHRoZSBvcHRpb24gb2YgdXNpbmcgYSBmYXN0ZXIgYWxnb3JpdGhtLlxuICAvLyBBbGlhc2VkIGFzIGB1bmlxdWVgLlxuICBfLnVuaXEgPSBfLnVuaXF1ZSA9IGZ1bmN0aW9uKGFycmF5LCBpc1NvcnRlZCwgaXRlcmF0ZWUsIGNvbnRleHQpIHtcbiAgICBpZiAoYXJyYXkgPT0gbnVsbCkgcmV0dXJuIFtdO1xuICAgIGlmICghXy5pc0Jvb2xlYW4oaXNTb3J0ZWQpKSB7XG4gICAgICBjb250ZXh0ID0gaXRlcmF0ZWU7XG4gICAgICBpdGVyYXRlZSA9IGlzU29ydGVkO1xuICAgICAgaXNTb3J0ZWQgPSBmYWxzZTtcbiAgICB9XG4gICAgaWYgKGl0ZXJhdGVlICE9IG51bGwpIGl0ZXJhdGVlID0gXy5pdGVyYXRlZShpdGVyYXRlZSwgY29udGV4dCk7XG4gICAgdmFyIHJlc3VsdCA9IFtdO1xuICAgIHZhciBzZWVuID0gW107XG4gICAgZm9yICh2YXIgaSA9IDAsIGxlbmd0aCA9IGFycmF5Lmxlbmd0aDsgaSA8IGxlbmd0aDsgaSsrKSB7XG4gICAgICB2YXIgdmFsdWUgPSBhcnJheVtpXTtcbiAgICAgIGlmIChpc1NvcnRlZCkge1xuICAgICAgICBpZiAoIWkgfHwgc2VlbiAhPT0gdmFsdWUpIHJlc3VsdC5wdXNoKHZhbHVlKTtcbiAgICAgICAgc2VlbiA9IHZhbHVlO1xuICAgICAgfSBlbHNlIGlmIChpdGVyYXRlZSkge1xuICAgICAgICB2YXIgY29tcHV0ZWQgPSBpdGVyYXRlZSh2YWx1ZSwgaSwgYXJyYXkpO1xuICAgICAgICBpZiAoXy5pbmRleE9mKHNlZW4sIGNvbXB1dGVkKSA8IDApIHtcbiAgICAgICAgICBzZWVuLnB1c2goY29tcHV0ZWQpO1xuICAgICAgICAgIHJlc3VsdC5wdXNoKHZhbHVlKTtcbiAgICAgICAgfVxuICAgICAgfSBlbHNlIGlmIChfLmluZGV4T2YocmVzdWx0LCB2YWx1ZSkgPCAwKSB7XG4gICAgICAgIHJlc3VsdC5wdXNoKHZhbHVlKTtcbiAgICAgIH1cbiAgICB9XG4gICAgcmV0dXJuIHJlc3VsdDtcbiAgfTtcblxuICAvLyBQcm9kdWNlIGFuIGFycmF5IHRoYXQgY29udGFpbnMgdGhlIHVuaW9uOiBlYWNoIGRpc3RpbmN0IGVsZW1lbnQgZnJvbSBhbGwgb2ZcbiAgLy8gdGhlIHBhc3NlZC1pbiBhcnJheXMuXG4gIF8udW5pb24gPSBmdW5jdGlvbigpIHtcbiAgICByZXR1cm4gXy51bmlxKGZsYXR0ZW4oYXJndW1lbnRzLCB0cnVlLCB0cnVlLCBbXSkpO1xuICB9O1xuXG4gIC8vIFByb2R1Y2UgYW4gYXJyYXkgdGhhdCBjb250YWlucyBldmVyeSBpdGVtIHNoYXJlZCBiZXR3ZWVuIGFsbCB0aGVcbiAgLy8gcGFzc2VkLWluIGFycmF5cy5cbiAgXy5pbnRlcnNlY3Rpb24gPSBmdW5jdGlvbihhcnJheSkge1xuICAgIGlmIChhcnJheSA9PSBudWxsKSByZXR1cm4gW107XG4gICAgdmFyIHJlc3VsdCA9IFtdO1xuICAgIHZhciBhcmdzTGVuZ3RoID0gYXJndW1lbnRzLmxlbmd0aDtcbiAgICBmb3IgKHZhciBpID0gMCwgbGVuZ3RoID0gYXJyYXkubGVuZ3RoOyBpIDwgbGVuZ3RoOyBpKyspIHtcbiAgICAgIHZhciBpdGVtID0gYXJyYXlbaV07XG4gICAgICBpZiAoXy5jb250YWlucyhyZXN1bHQsIGl0ZW0pKSBjb250aW51ZTtcbiAgICAgIGZvciAodmFyIGogPSAxOyBqIDwgYXJnc0xlbmd0aDsgaisrKSB7XG4gICAgICAgIGlmICghXy5jb250YWlucyhhcmd1bWVudHNbal0sIGl0ZW0pKSBicmVhaztcbiAgICAgIH1cbiAgICAgIGlmIChqID09PSBhcmdzTGVuZ3RoKSByZXN1bHQucHVzaChpdGVtKTtcbiAgICB9XG4gICAgcmV0dXJuIHJlc3VsdDtcbiAgfTtcblxuICAvLyBUYWtlIHRoZSBkaWZmZXJlbmNlIGJldHdlZW4gb25lIGFycmF5IGFuZCBhIG51bWJlciBvZiBvdGhlciBhcnJheXMuXG4gIC8vIE9ubHkgdGhlIGVsZW1lbnRzIHByZXNlbnQgaW4ganVzdCB0aGUgZmlyc3QgYXJyYXkgd2lsbCByZW1haW4uXG4gIF8uZGlmZmVyZW5jZSA9IGZ1bmN0aW9uKGFycmF5KSB7XG4gICAgdmFyIHJlc3QgPSBmbGF0dGVuKHNsaWNlLmNhbGwoYXJndW1lbnRzLCAxKSwgdHJ1ZSwgdHJ1ZSwgW10pO1xuICAgIHJldHVybiBfLmZpbHRlcihhcnJheSwgZnVuY3Rpb24odmFsdWUpe1xuICAgICAgcmV0dXJuICFfLmNvbnRhaW5zKHJlc3QsIHZhbHVlKTtcbiAgICB9KTtcbiAgfTtcblxuICAvLyBaaXAgdG9nZXRoZXIgbXVsdGlwbGUgbGlzdHMgaW50byBhIHNpbmdsZSBhcnJheSAtLSBlbGVtZW50cyB0aGF0IHNoYXJlXG4gIC8vIGFuIGluZGV4IGdvIHRvZ2V0aGVyLlxuICBfLnppcCA9IGZ1bmN0aW9uKGFycmF5KSB7XG4gICAgaWYgKGFycmF5ID09IG51bGwpIHJldHVybiBbXTtcbiAgICB2YXIgbGVuZ3RoID0gXy5tYXgoYXJndW1lbnRzLCAnbGVuZ3RoJykubGVuZ3RoO1xuICAgIHZhciByZXN1bHRzID0gQXJyYXkobGVuZ3RoKTtcbiAgICBmb3IgKHZhciBpID0gMDsgaSA8IGxlbmd0aDsgaSsrKSB7XG4gICAgICByZXN1bHRzW2ldID0gXy5wbHVjayhhcmd1bWVudHMsIGkpO1xuICAgIH1cbiAgICByZXR1cm4gcmVzdWx0cztcbiAgfTtcblxuICAvLyBDb252ZXJ0cyBsaXN0cyBpbnRvIG9iamVjdHMuIFBhc3MgZWl0aGVyIGEgc2luZ2xlIGFycmF5IG9mIGBba2V5LCB2YWx1ZV1gXG4gIC8vIHBhaXJzLCBvciB0d28gcGFyYWxsZWwgYXJyYXlzIG9mIHRoZSBzYW1lIGxlbmd0aCAtLSBvbmUgb2Yga2V5cywgYW5kIG9uZSBvZlxuICAvLyB0aGUgY29ycmVzcG9uZGluZyB2YWx1ZXMuXG4gIF8ub2JqZWN0ID0gZnVuY3Rpb24obGlzdCwgdmFsdWVzKSB7XG4gICAgaWYgKGxpc3QgPT0gbnVsbCkgcmV0dXJuIHt9O1xuICAgIHZhciByZXN1bHQgPSB7fTtcbiAgICBmb3IgKHZhciBpID0gMCwgbGVuZ3RoID0gbGlzdC5sZW5ndGg7IGkgPCBsZW5ndGg7IGkrKykge1xuICAgICAgaWYgKHZhbHVlcykge1xuICAgICAgICByZXN1bHRbbGlzdFtpXV0gPSB2YWx1ZXNbaV07XG4gICAgICB9IGVsc2Uge1xuICAgICAgICByZXN1bHRbbGlzdFtpXVswXV0gPSBsaXN0W2ldWzFdO1xuICAgICAgfVxuICAgIH1cbiAgICByZXR1cm4gcmVzdWx0O1xuICB9O1xuXG4gIC8vIFJldHVybiB0aGUgcG9zaXRpb24gb2YgdGhlIGZpcnN0IG9jY3VycmVuY2Ugb2YgYW4gaXRlbSBpbiBhbiBhcnJheSxcbiAgLy8gb3IgLTEgaWYgdGhlIGl0ZW0gaXMgbm90IGluY2x1ZGVkIGluIHRoZSBhcnJheS5cbiAgLy8gSWYgdGhlIGFycmF5IGlzIGxhcmdlIGFuZCBhbHJlYWR5IGluIHNvcnQgb3JkZXIsIHBhc3MgYHRydWVgXG4gIC8vIGZvciAqKmlzU29ydGVkKiogdG8gdXNlIGJpbmFyeSBzZWFyY2guXG4gIF8uaW5kZXhPZiA9IGZ1bmN0aW9uKGFycmF5LCBpdGVtLCBpc1NvcnRlZCkge1xuICAgIGlmIChhcnJheSA9PSBudWxsKSByZXR1cm4gLTE7XG4gICAgdmFyIGkgPSAwLCBsZW5ndGggPSBhcnJheS5sZW5ndGg7XG4gICAgaWYgKGlzU29ydGVkKSB7XG4gICAgICBpZiAodHlwZW9mIGlzU29ydGVkID09ICdudW1iZXInKSB7XG4gICAgICAgIGkgPSBpc1NvcnRlZCA8IDAgPyBNYXRoLm1heCgwLCBsZW5ndGggKyBpc1NvcnRlZCkgOiBpc1NvcnRlZDtcbiAgICAgIH0gZWxzZSB7XG4gICAgICAgIGkgPSBfLnNvcnRlZEluZGV4KGFycmF5LCBpdGVtKTtcbiAgICAgICAgcmV0dXJuIGFycmF5W2ldID09PSBpdGVtID8gaSA6IC0xO1xuICAgICAgfVxuICAgIH1cbiAgICBmb3IgKDsgaSA8IGxlbmd0aDsgaSsrKSBpZiAoYXJyYXlbaV0gPT09IGl0ZW0pIHJldHVybiBpO1xuICAgIHJldHVybiAtMTtcbiAgfTtcblxuICBfLmxhc3RJbmRleE9mID0gZnVuY3Rpb24oYXJyYXksIGl0ZW0sIGZyb20pIHtcbiAgICBpZiAoYXJyYXkgPT0gbnVsbCkgcmV0dXJuIC0xO1xuICAgIHZhciBpZHggPSBhcnJheS5sZW5ndGg7XG4gICAgaWYgKHR5cGVvZiBmcm9tID09ICdudW1iZXInKSB7XG4gICAgICBpZHggPSBmcm9tIDwgMCA/IGlkeCArIGZyb20gKyAxIDogTWF0aC5taW4oaWR4LCBmcm9tICsgMSk7XG4gICAgfVxuICAgIHdoaWxlICgtLWlkeCA+PSAwKSBpZiAoYXJyYXlbaWR4XSA9PT0gaXRlbSkgcmV0dXJuIGlkeDtcbiAgICByZXR1cm4gLTE7XG4gIH07XG5cbiAgLy8gR2VuZXJhdGUgYW4gaW50ZWdlciBBcnJheSBjb250YWluaW5nIGFuIGFyaXRobWV0aWMgcHJvZ3Jlc3Npb24uIEEgcG9ydCBvZlxuICAvLyB0aGUgbmF0aXZlIFB5dGhvbiBgcmFuZ2UoKWAgZnVuY3Rpb24uIFNlZVxuICAvLyBbdGhlIFB5dGhvbiBkb2N1bWVudGF0aW9uXShodHRwOi8vZG9jcy5weXRob24ub3JnL2xpYnJhcnkvZnVuY3Rpb25zLmh0bWwjcmFuZ2UpLlxuICBfLnJhbmdlID0gZnVuY3Rpb24oc3RhcnQsIHN0b3AsIHN0ZXApIHtcbiAgICBpZiAoYXJndW1lbnRzLmxlbmd0aCA8PSAxKSB7XG4gICAgICBzdG9wID0gc3RhcnQgfHwgMDtcbiAgICAgIHN0YXJ0ID0gMDtcbiAgICB9XG4gICAgc3RlcCA9IHN0ZXAgfHwgMTtcblxuICAgIHZhciBsZW5ndGggPSBNYXRoLm1heChNYXRoLmNlaWwoKHN0b3AgLSBzdGFydCkgLyBzdGVwKSwgMCk7XG4gICAgdmFyIHJhbmdlID0gQXJyYXkobGVuZ3RoKTtcblxuICAgIGZvciAodmFyIGlkeCA9IDA7IGlkeCA8IGxlbmd0aDsgaWR4KyssIHN0YXJ0ICs9IHN0ZXApIHtcbiAgICAgIHJhbmdlW2lkeF0gPSBzdGFydDtcbiAgICB9XG5cbiAgICByZXR1cm4gcmFuZ2U7XG4gIH07XG5cbiAgLy8gRnVuY3Rpb24gKGFoZW0pIEZ1bmN0aW9uc1xuICAvLyAtLS0tLS0tLS0tLS0tLS0tLS1cblxuICAvLyBSZXVzYWJsZSBjb25zdHJ1Y3RvciBmdW5jdGlvbiBmb3IgcHJvdG90eXBlIHNldHRpbmcuXG4gIHZhciBDdG9yID0gZnVuY3Rpb24oKXt9O1xuXG4gIC8vIENyZWF0ZSBhIGZ1bmN0aW9uIGJvdW5kIHRvIGEgZ2l2ZW4gb2JqZWN0IChhc3NpZ25pbmcgYHRoaXNgLCBhbmQgYXJndW1lbnRzLFxuICAvLyBvcHRpb25hbGx5KS4gRGVsZWdhdGVzIHRvICoqRUNNQVNjcmlwdCA1KioncyBuYXRpdmUgYEZ1bmN0aW9uLmJpbmRgIGlmXG4gIC8vIGF2YWlsYWJsZS5cbiAgXy5iaW5kID0gZnVuY3Rpb24oZnVuYywgY29udGV4dCkge1xuICAgIHZhciBhcmdzLCBib3VuZDtcbiAgICBpZiAobmF0aXZlQmluZCAmJiBmdW5jLmJpbmQgPT09IG5hdGl2ZUJpbmQpIHJldHVybiBuYXRpdmVCaW5kLmFwcGx5KGZ1bmMsIHNsaWNlLmNhbGwoYXJndW1lbnRzLCAxKSk7XG4gICAgaWYgKCFfLmlzRnVuY3Rpb24oZnVuYykpIHRocm93IG5ldyBUeXBlRXJyb3IoJ0JpbmQgbXVzdCBiZSBjYWxsZWQgb24gYSBmdW5jdGlvbicpO1xuICAgIGFyZ3MgPSBzbGljZS5jYWxsKGFyZ3VtZW50cywgMik7XG4gICAgYm91bmQgPSBmdW5jdGlvbigpIHtcbiAgICAgIGlmICghKHRoaXMgaW5zdGFuY2VvZiBib3VuZCkpIHJldHVybiBmdW5jLmFwcGx5KGNvbnRleHQsIGFyZ3MuY29uY2F0KHNsaWNlLmNhbGwoYXJndW1lbnRzKSkpO1xuICAgICAgQ3Rvci5wcm90b3R5cGUgPSBmdW5jLnByb3RvdHlwZTtcbiAgICAgIHZhciBzZWxmID0gbmV3IEN0b3I7XG4gICAgICBDdG9yLnByb3RvdHlwZSA9IG51bGw7XG4gICAgICB2YXIgcmVzdWx0ID0gZnVuYy5hcHBseShzZWxmLCBhcmdzLmNvbmNhdChzbGljZS5jYWxsKGFyZ3VtZW50cykpKTtcbiAgICAgIGlmIChfLmlzT2JqZWN0KHJlc3VsdCkpIHJldHVybiByZXN1bHQ7XG4gICAgICByZXR1cm4gc2VsZjtcbiAgICB9O1xuICAgIHJldHVybiBib3VuZDtcbiAgfTtcblxuICAvLyBQYXJ0aWFsbHkgYXBwbHkgYSBmdW5jdGlvbiBieSBjcmVhdGluZyBhIHZlcnNpb24gdGhhdCBoYXMgaGFkIHNvbWUgb2YgaXRzXG4gIC8vIGFyZ3VtZW50cyBwcmUtZmlsbGVkLCB3aXRob3V0IGNoYW5naW5nIGl0cyBkeW5hbWljIGB0aGlzYCBjb250ZXh0LiBfIGFjdHNcbiAgLy8gYXMgYSBwbGFjZWhvbGRlciwgYWxsb3dpbmcgYW55IGNvbWJpbmF0aW9uIG9mIGFyZ3VtZW50cyB0byBiZSBwcmUtZmlsbGVkLlxuICBfLnBhcnRpYWwgPSBmdW5jdGlvbihmdW5jKSB7XG4gICAgdmFyIGJvdW5kQXJncyA9IHNsaWNlLmNhbGwoYXJndW1lbnRzLCAxKTtcbiAgICByZXR1cm4gZnVuY3Rpb24oKSB7XG4gICAgICB2YXIgcG9zaXRpb24gPSAwO1xuICAgICAgdmFyIGFyZ3MgPSBib3VuZEFyZ3Muc2xpY2UoKTtcbiAgICAgIGZvciAodmFyIGkgPSAwLCBsZW5ndGggPSBhcmdzLmxlbmd0aDsgaSA8IGxlbmd0aDsgaSsrKSB7XG4gICAgICAgIGlmIChhcmdzW2ldID09PSBfKSBhcmdzW2ldID0gYXJndW1lbnRzW3Bvc2l0aW9uKytdO1xuICAgICAgfVxuICAgICAgd2hpbGUgKHBvc2l0aW9uIDwgYXJndW1lbnRzLmxlbmd0aCkgYXJncy5wdXNoKGFyZ3VtZW50c1twb3NpdGlvbisrXSk7XG4gICAgICByZXR1cm4gZnVuYy5hcHBseSh0aGlzLCBhcmdzKTtcbiAgICB9O1xuICB9O1xuXG4gIC8vIEJpbmQgYSBudW1iZXIgb2YgYW4gb2JqZWN0J3MgbWV0aG9kcyB0byB0aGF0IG9iamVjdC4gUmVtYWluaW5nIGFyZ3VtZW50c1xuICAvLyBhcmUgdGhlIG1ldGhvZCBuYW1lcyB0byBiZSBib3VuZC4gVXNlZnVsIGZvciBlbnN1cmluZyB0aGF0IGFsbCBjYWxsYmFja3NcbiAgLy8gZGVmaW5lZCBvbiBhbiBvYmplY3QgYmVsb25nIHRvIGl0LlxuICBfLmJpbmRBbGwgPSBmdW5jdGlvbihvYmopIHtcbiAgICB2YXIgaSwgbGVuZ3RoID0gYXJndW1lbnRzLmxlbmd0aCwga2V5O1xuICAgIGlmIChsZW5ndGggPD0gMSkgdGhyb3cgbmV3IEVycm9yKCdiaW5kQWxsIG11c3QgYmUgcGFzc2VkIGZ1bmN0aW9uIG5hbWVzJyk7XG4gICAgZm9yIChpID0gMTsgaSA8IGxlbmd0aDsgaSsrKSB7XG4gICAgICBrZXkgPSBhcmd1bWVudHNbaV07XG4gICAgICBvYmpba2V5XSA9IF8uYmluZChvYmpba2V5XSwgb2JqKTtcbiAgICB9XG4gICAgcmV0dXJuIG9iajtcbiAgfTtcblxuICAvLyBNZW1vaXplIGFuIGV4cGVuc2l2ZSBmdW5jdGlvbiBieSBzdG9yaW5nIGl0cyByZXN1bHRzLlxuICBfLm1lbW9pemUgPSBmdW5jdGlvbihmdW5jLCBoYXNoZXIpIHtcbiAgICB2YXIgbWVtb2l6ZSA9IGZ1bmN0aW9uKGtleSkge1xuICAgICAgdmFyIGNhY2hlID0gbWVtb2l6ZS5jYWNoZTtcbiAgICAgIHZhciBhZGRyZXNzID0gaGFzaGVyID8gaGFzaGVyLmFwcGx5KHRoaXMsIGFyZ3VtZW50cykgOiBrZXk7XG4gICAgICBpZiAoIV8uaGFzKGNhY2hlLCBhZGRyZXNzKSkgY2FjaGVbYWRkcmVzc10gPSBmdW5jLmFwcGx5KHRoaXMsIGFyZ3VtZW50cyk7XG4gICAgICByZXR1cm4gY2FjaGVbYWRkcmVzc107XG4gICAgfTtcbiAgICBtZW1vaXplLmNhY2hlID0ge307XG4gICAgcmV0dXJuIG1lbW9pemU7XG4gIH07XG5cbiAgLy8gRGVsYXlzIGEgZnVuY3Rpb24gZm9yIHRoZSBnaXZlbiBudW1iZXIgb2YgbWlsbGlzZWNvbmRzLCBhbmQgdGhlbiBjYWxsc1xuICAvLyBpdCB3aXRoIHRoZSBhcmd1bWVudHMgc3VwcGxpZWQuXG4gIF8uZGVsYXkgPSBmdW5jdGlvbihmdW5jLCB3YWl0KSB7XG4gICAgdmFyIGFyZ3MgPSBzbGljZS5jYWxsKGFyZ3VtZW50cywgMik7XG4gICAgcmV0dXJuIHNldFRpbWVvdXQoZnVuY3Rpb24oKXtcbiAgICAgIHJldHVybiBmdW5jLmFwcGx5KG51bGwsIGFyZ3MpO1xuICAgIH0sIHdhaXQpO1xuICB9O1xuXG4gIC8vIERlZmVycyBhIGZ1bmN0aW9uLCBzY2hlZHVsaW5nIGl0IHRvIHJ1biBhZnRlciB0aGUgY3VycmVudCBjYWxsIHN0YWNrIGhhc1xuICAvLyBjbGVhcmVkLlxuICBfLmRlZmVyID0gZnVuY3Rpb24oZnVuYykge1xuICAgIHJldHVybiBfLmRlbGF5LmFwcGx5KF8sIFtmdW5jLCAxXS5jb25jYXQoc2xpY2UuY2FsbChhcmd1bWVudHMsIDEpKSk7XG4gIH07XG5cbiAgLy8gUmV0dXJucyBhIGZ1bmN0aW9uLCB0aGF0LCB3aGVuIGludm9rZWQsIHdpbGwgb25seSBiZSB0cmlnZ2VyZWQgYXQgbW9zdCBvbmNlXG4gIC8vIGR1cmluZyBhIGdpdmVuIHdpbmRvdyBvZiB0aW1lLiBOb3JtYWxseSwgdGhlIHRocm90dGxlZCBmdW5jdGlvbiB3aWxsIHJ1blxuICAvLyBhcyBtdWNoIGFzIGl0IGNhbiwgd2l0aG91dCBldmVyIGdvaW5nIG1vcmUgdGhhbiBvbmNlIHBlciBgd2FpdGAgZHVyYXRpb247XG4gIC8vIGJ1dCBpZiB5b3UnZCBsaWtlIHRvIGRpc2FibGUgdGhlIGV4ZWN1dGlvbiBvbiB0aGUgbGVhZGluZyBlZGdlLCBwYXNzXG4gIC8vIGB7bGVhZGluZzogZmFsc2V9YC4gVG8gZGlzYWJsZSBleGVjdXRpb24gb24gdGhlIHRyYWlsaW5nIGVkZ2UsIGRpdHRvLlxuICBfLnRocm90dGxlID0gZnVuY3Rpb24oZnVuYywgd2FpdCwgb3B0aW9ucykge1xuICAgIHZhciBjb250ZXh0LCBhcmdzLCByZXN1bHQ7XG4gICAgdmFyIHRpbWVvdXQgPSBudWxsO1xuICAgIHZhciBwcmV2aW91cyA9IDA7XG4gICAgaWYgKCFvcHRpb25zKSBvcHRpb25zID0ge307XG4gICAgdmFyIGxhdGVyID0gZnVuY3Rpb24oKSB7XG4gICAgICBwcmV2aW91cyA9IG9wdGlvbnMubGVhZGluZyA9PT0gZmFsc2UgPyAwIDogXy5ub3coKTtcbiAgICAgIHRpbWVvdXQgPSBudWxsO1xuICAgICAgcmVzdWx0ID0gZnVuYy5hcHBseShjb250ZXh0LCBhcmdzKTtcbiAgICAgIGlmICghdGltZW91dCkgY29udGV4dCA9IGFyZ3MgPSBudWxsO1xuICAgIH07XG4gICAgcmV0dXJuIGZ1bmN0aW9uKCkge1xuICAgICAgdmFyIG5vdyA9IF8ubm93KCk7XG4gICAgICBpZiAoIXByZXZpb3VzICYmIG9wdGlvbnMubGVhZGluZyA9PT0gZmFsc2UpIHByZXZpb3VzID0gbm93O1xuICAgICAgdmFyIHJlbWFpbmluZyA9IHdhaXQgLSAobm93IC0gcHJldmlvdXMpO1xuICAgICAgY29udGV4dCA9IHRoaXM7XG4gICAgICBhcmdzID0gYXJndW1lbnRzO1xuICAgICAgaWYgKHJlbWFpbmluZyA8PSAwIHx8IHJlbWFpbmluZyA+IHdhaXQpIHtcbiAgICAgICAgY2xlYXJUaW1lb3V0KHRpbWVvdXQpO1xuICAgICAgICB0aW1lb3V0ID0gbnVsbDtcbiAgICAgICAgcHJldmlvdXMgPSBub3c7XG4gICAgICAgIHJlc3VsdCA9IGZ1bmMuYXBwbHkoY29udGV4dCwgYXJncyk7XG4gICAgICAgIGlmICghdGltZW91dCkgY29udGV4dCA9IGFyZ3MgPSBudWxsO1xuICAgICAgfSBlbHNlIGlmICghdGltZW91dCAmJiBvcHRpb25zLnRyYWlsaW5nICE9PSBmYWxzZSkge1xuICAgICAgICB0aW1lb3V0ID0gc2V0VGltZW91dChsYXRlciwgcmVtYWluaW5nKTtcbiAgICAgIH1cbiAgICAgIHJldHVybiByZXN1bHQ7XG4gICAgfTtcbiAgfTtcblxuICAvLyBSZXR1cm5zIGEgZnVuY3Rpb24sIHRoYXQsIGFzIGxvbmcgYXMgaXQgY29udGludWVzIHRvIGJlIGludm9rZWQsIHdpbGwgbm90XG4gIC8vIGJlIHRyaWdnZXJlZC4gVGhlIGZ1bmN0aW9uIHdpbGwgYmUgY2FsbGVkIGFmdGVyIGl0IHN0b3BzIGJlaW5nIGNhbGxlZCBmb3JcbiAgLy8gTiBtaWxsaXNlY29uZHMuIElmIGBpbW1lZGlhdGVgIGlzIHBhc3NlZCwgdHJpZ2dlciB0aGUgZnVuY3Rpb24gb24gdGhlXG4gIC8vIGxlYWRpbmcgZWRnZSwgaW5zdGVhZCBvZiB0aGUgdHJhaWxpbmcuXG4gIF8uZGVib3VuY2UgPSBmdW5jdGlvbihmdW5jLCB3YWl0LCBpbW1lZGlhdGUpIHtcbiAgICB2YXIgdGltZW91dCwgYXJncywgY29udGV4dCwgdGltZXN0YW1wLCByZXN1bHQ7XG5cbiAgICB2YXIgbGF0ZXIgPSBmdW5jdGlvbigpIHtcbiAgICAgIHZhciBsYXN0ID0gXy5ub3coKSAtIHRpbWVzdGFtcDtcblxuICAgICAgaWYgKGxhc3QgPCB3YWl0ICYmIGxhc3QgPiAwKSB7XG4gICAgICAgIHRpbWVvdXQgPSBzZXRUaW1lb3V0KGxhdGVyLCB3YWl0IC0gbGFzdCk7XG4gICAgICB9IGVsc2Uge1xuICAgICAgICB0aW1lb3V0ID0gbnVsbDtcbiAgICAgICAgaWYgKCFpbW1lZGlhdGUpIHtcbiAgICAgICAgICByZXN1bHQgPSBmdW5jLmFwcGx5KGNvbnRleHQsIGFyZ3MpO1xuICAgICAgICAgIGlmICghdGltZW91dCkgY29udGV4dCA9IGFyZ3MgPSBudWxsO1xuICAgICAgICB9XG4gICAgICB9XG4gICAgfTtcblxuICAgIHJldHVybiBmdW5jdGlvbigpIHtcbiAgICAgIGNvbnRleHQgPSB0aGlzO1xuICAgICAgYXJncyA9IGFyZ3VtZW50cztcbiAgICAgIHRpbWVzdGFtcCA9IF8ubm93KCk7XG4gICAgICB2YXIgY2FsbE5vdyA9IGltbWVkaWF0ZSAmJiAhdGltZW91dDtcbiAgICAgIGlmICghdGltZW91dCkgdGltZW91dCA9IHNldFRpbWVvdXQobGF0ZXIsIHdhaXQpO1xuICAgICAgaWYgKGNhbGxOb3cpIHtcbiAgICAgICAgcmVzdWx0ID0gZnVuYy5hcHBseShjb250ZXh0LCBhcmdzKTtcbiAgICAgICAgY29udGV4dCA9IGFyZ3MgPSBudWxsO1xuICAgICAgfVxuXG4gICAgICByZXR1cm4gcmVzdWx0O1xuICAgIH07XG4gIH07XG5cbiAgLy8gUmV0dXJucyB0aGUgZmlyc3QgZnVuY3Rpb24gcGFzc2VkIGFzIGFuIGFyZ3VtZW50IHRvIHRoZSBzZWNvbmQsXG4gIC8vIGFsbG93aW5nIHlvdSB0byBhZGp1c3QgYXJndW1lbnRzLCBydW4gY29kZSBiZWZvcmUgYW5kIGFmdGVyLCBhbmRcbiAgLy8gY29uZGl0aW9uYWxseSBleGVjdXRlIHRoZSBvcmlnaW5hbCBmdW5jdGlvbi5cbiAgXy53cmFwID0gZnVuY3Rpb24oZnVuYywgd3JhcHBlcikge1xuICAgIHJldHVybiBfLnBhcnRpYWwod3JhcHBlciwgZnVuYyk7XG4gIH07XG5cbiAgLy8gUmV0dXJucyBhIG5lZ2F0ZWQgdmVyc2lvbiBvZiB0aGUgcGFzc2VkLWluIHByZWRpY2F0ZS5cbiAgXy5uZWdhdGUgPSBmdW5jdGlvbihwcmVkaWNhdGUpIHtcbiAgICByZXR1cm4gZnVuY3Rpb24oKSB7XG4gICAgICByZXR1cm4gIXByZWRpY2F0ZS5hcHBseSh0aGlzLCBhcmd1bWVudHMpO1xuICAgIH07XG4gIH07XG5cbiAgLy8gUmV0dXJucyBhIGZ1bmN0aW9uIHRoYXQgaXMgdGhlIGNvbXBvc2l0aW9uIG9mIGEgbGlzdCBvZiBmdW5jdGlvbnMsIGVhY2hcbiAgLy8gY29uc3VtaW5nIHRoZSByZXR1cm4gdmFsdWUgb2YgdGhlIGZ1bmN0aW9uIHRoYXQgZm9sbG93cy5cbiAgXy5jb21wb3NlID0gZnVuY3Rpb24oKSB7XG4gICAgdmFyIGFyZ3MgPSBhcmd1bWVudHM7XG4gICAgdmFyIHN0YXJ0ID0gYXJncy5sZW5ndGggLSAxO1xuICAgIHJldHVybiBmdW5jdGlvbigpIHtcbiAgICAgIHZhciBpID0gc3RhcnQ7XG4gICAgICB2YXIgcmVzdWx0ID0gYXJnc1tzdGFydF0uYXBwbHkodGhpcywgYXJndW1lbnRzKTtcbiAgICAgIHdoaWxlIChpLS0pIHJlc3VsdCA9IGFyZ3NbaV0uY2FsbCh0aGlzLCByZXN1bHQpO1xuICAgICAgcmV0dXJuIHJlc3VsdDtcbiAgICB9O1xuICB9O1xuXG4gIC8vIFJldHVybnMgYSBmdW5jdGlvbiB0aGF0IHdpbGwgb25seSBiZSBleGVjdXRlZCBhZnRlciBiZWluZyBjYWxsZWQgTiB0aW1lcy5cbiAgXy5hZnRlciA9IGZ1bmN0aW9uKHRpbWVzLCBmdW5jKSB7XG4gICAgcmV0dXJuIGZ1bmN0aW9uKCkge1xuICAgICAgaWYgKC0tdGltZXMgPCAxKSB7XG4gICAgICAgIHJldHVybiBmdW5jLmFwcGx5KHRoaXMsIGFyZ3VtZW50cyk7XG4gICAgICB9XG4gICAgfTtcbiAgfTtcblxuICAvLyBSZXR1cm5zIGEgZnVuY3Rpb24gdGhhdCB3aWxsIG9ubHkgYmUgZXhlY3V0ZWQgYmVmb3JlIGJlaW5nIGNhbGxlZCBOIHRpbWVzLlxuICBfLmJlZm9yZSA9IGZ1bmN0aW9uKHRpbWVzLCBmdW5jKSB7XG4gICAgdmFyIG1lbW87XG4gICAgcmV0dXJuIGZ1bmN0aW9uKCkge1xuICAgICAgaWYgKC0tdGltZXMgPiAwKSB7XG4gICAgICAgIG1lbW8gPSBmdW5jLmFwcGx5KHRoaXMsIGFyZ3VtZW50cyk7XG4gICAgICB9IGVsc2Uge1xuICAgICAgICBmdW5jID0gbnVsbDtcbiAgICAgIH1cbiAgICAgIHJldHVybiBtZW1vO1xuICAgIH07XG4gIH07XG5cbiAgLy8gUmV0dXJucyBhIGZ1bmN0aW9uIHRoYXQgd2lsbCBiZSBleGVjdXRlZCBhdCBtb3N0IG9uZSB0aW1lLCBubyBtYXR0ZXIgaG93XG4gIC8vIG9mdGVuIHlvdSBjYWxsIGl0LiBVc2VmdWwgZm9yIGxhenkgaW5pdGlhbGl6YXRpb24uXG4gIF8ub25jZSA9IF8ucGFydGlhbChfLmJlZm9yZSwgMik7XG5cbiAgLy8gT2JqZWN0IEZ1bmN0aW9uc1xuICAvLyAtLS0tLS0tLS0tLS0tLS0tXG5cbiAgLy8gUmV0cmlldmUgdGhlIG5hbWVzIG9mIGFuIG9iamVjdCdzIHByb3BlcnRpZXMuXG4gIC8vIERlbGVnYXRlcyB0byAqKkVDTUFTY3JpcHQgNSoqJ3MgbmF0aXZlIGBPYmplY3Qua2V5c2BcbiAgXy5rZXlzID0gZnVuY3Rpb24ob2JqKSB7XG4gICAgaWYgKCFfLmlzT2JqZWN0KG9iaikpIHJldHVybiBbXTtcbiAgICBpZiAobmF0aXZlS2V5cykgcmV0dXJuIG5hdGl2ZUtleXMob2JqKTtcbiAgICB2YXIga2V5cyA9IFtdO1xuICAgIGZvciAodmFyIGtleSBpbiBvYmopIGlmIChfLmhhcyhvYmosIGtleSkpIGtleXMucHVzaChrZXkpO1xuICAgIHJldHVybiBrZXlzO1xuICB9O1xuXG4gIC8vIFJldHJpZXZlIHRoZSB2YWx1ZXMgb2YgYW4gb2JqZWN0J3MgcHJvcGVydGllcy5cbiAgXy52YWx1ZXMgPSBmdW5jdGlvbihvYmopIHtcbiAgICB2YXIga2V5cyA9IF8ua2V5cyhvYmopO1xuICAgIHZhciBsZW5ndGggPSBrZXlzLmxlbmd0aDtcbiAgICB2YXIgdmFsdWVzID0gQXJyYXkobGVuZ3RoKTtcbiAgICBmb3IgKHZhciBpID0gMDsgaSA8IGxlbmd0aDsgaSsrKSB7XG4gICAgICB2YWx1ZXNbaV0gPSBvYmpba2V5c1tpXV07XG4gICAgfVxuICAgIHJldHVybiB2YWx1ZXM7XG4gIH07XG5cbiAgLy8gQ29udmVydCBhbiBvYmplY3QgaW50byBhIGxpc3Qgb2YgYFtrZXksIHZhbHVlXWAgcGFpcnMuXG4gIF8ucGFpcnMgPSBmdW5jdGlvbihvYmopIHtcbiAgICB2YXIga2V5cyA9IF8ua2V5cyhvYmopO1xuICAgIHZhciBsZW5ndGggPSBrZXlzLmxlbmd0aDtcbiAgICB2YXIgcGFpcnMgPSBBcnJheShsZW5ndGgpO1xuICAgIGZvciAodmFyIGkgPSAwOyBpIDwgbGVuZ3RoOyBpKyspIHtcbiAgICAgIHBhaXJzW2ldID0gW2tleXNbaV0sIG9ialtrZXlzW2ldXV07XG4gICAgfVxuICAgIHJldHVybiBwYWlycztcbiAgfTtcblxuICAvLyBJbnZlcnQgdGhlIGtleXMgYW5kIHZhbHVlcyBvZiBhbiBvYmplY3QuIFRoZSB2YWx1ZXMgbXVzdCBiZSBzZXJpYWxpemFibGUuXG4gIF8uaW52ZXJ0ID0gZnVuY3Rpb24ob2JqKSB7XG4gICAgdmFyIHJlc3VsdCA9IHt9O1xuICAgIHZhciBrZXlzID0gXy5rZXlzKG9iaik7XG4gICAgZm9yICh2YXIgaSA9IDAsIGxlbmd0aCA9IGtleXMubGVuZ3RoOyBpIDwgbGVuZ3RoOyBpKyspIHtcbiAgICAgIHJlc3VsdFtvYmpba2V5c1tpXV1dID0ga2V5c1tpXTtcbiAgICB9XG4gICAgcmV0dXJuIHJlc3VsdDtcbiAgfTtcblxuICAvLyBSZXR1cm4gYSBzb3J0ZWQgbGlzdCBvZiB0aGUgZnVuY3Rpb24gbmFtZXMgYXZhaWxhYmxlIG9uIHRoZSBvYmplY3QuXG4gIC8vIEFsaWFzZWQgYXMgYG1ldGhvZHNgXG4gIF8uZnVuY3Rpb25zID0gXy5tZXRob2RzID0gZnVuY3Rpb24ob2JqKSB7XG4gICAgdmFyIG5hbWVzID0gW107XG4gICAgZm9yICh2YXIga2V5IGluIG9iaikge1xuICAgICAgaWYgKF8uaXNGdW5jdGlvbihvYmpba2V5XSkpIG5hbWVzLnB1c2goa2V5KTtcbiAgICB9XG4gICAgcmV0dXJuIG5hbWVzLnNvcnQoKTtcbiAgfTtcblxuICAvLyBFeHRlbmQgYSBnaXZlbiBvYmplY3Qgd2l0aCBhbGwgdGhlIHByb3BlcnRpZXMgaW4gcGFzc2VkLWluIG9iamVjdChzKS5cbiAgXy5leHRlbmQgPSBmdW5jdGlvbihvYmopIHtcbiAgICBpZiAoIV8uaXNPYmplY3Qob2JqKSkgcmV0dXJuIG9iajtcbiAgICB2YXIgc291cmNlLCBwcm9wO1xuICAgIGZvciAodmFyIGkgPSAxLCBsZW5ndGggPSBhcmd1bWVudHMubGVuZ3RoOyBpIDwgbGVuZ3RoOyBpKyspIHtcbiAgICAgIHNvdXJjZSA9IGFyZ3VtZW50c1tpXTtcbiAgICAgIGZvciAocHJvcCBpbiBzb3VyY2UpIHtcbiAgICAgICAgaWYgKGhhc093blByb3BlcnR5LmNhbGwoc291cmNlLCBwcm9wKSkge1xuICAgICAgICAgICAgb2JqW3Byb3BdID0gc291cmNlW3Byb3BdO1xuICAgICAgICB9XG4gICAgICB9XG4gICAgfVxuICAgIHJldHVybiBvYmo7XG4gIH07XG5cbiAgLy8gUmV0dXJuIGEgY29weSBvZiB0aGUgb2JqZWN0IG9ubHkgY29udGFpbmluZyB0aGUgd2hpdGVsaXN0ZWQgcHJvcGVydGllcy5cbiAgXy5waWNrID0gZnVuY3Rpb24ob2JqLCBpdGVyYXRlZSwgY29udGV4dCkge1xuICAgIHZhciByZXN1bHQgPSB7fSwga2V5O1xuICAgIGlmIChvYmogPT0gbnVsbCkgcmV0dXJuIHJlc3VsdDtcbiAgICBpZiAoXy5pc0Z1bmN0aW9uKGl0ZXJhdGVlKSkge1xuICAgICAgaXRlcmF0ZWUgPSBjcmVhdGVDYWxsYmFjayhpdGVyYXRlZSwgY29udGV4dCk7XG4gICAgICBmb3IgKGtleSBpbiBvYmopIHtcbiAgICAgICAgdmFyIHZhbHVlID0gb2JqW2tleV07XG4gICAgICAgIGlmIChpdGVyYXRlZSh2YWx1ZSwga2V5LCBvYmopKSByZXN1bHRba2V5XSA9IHZhbHVlO1xuICAgICAgfVxuICAgIH0gZWxzZSB7XG4gICAgICB2YXIga2V5cyA9IGNvbmNhdC5hcHBseShbXSwgc2xpY2UuY2FsbChhcmd1bWVudHMsIDEpKTtcbiAgICAgIG9iaiA9IG5ldyBPYmplY3Qob2JqKTtcbiAgICAgIGZvciAodmFyIGkgPSAwLCBsZW5ndGggPSBrZXlzLmxlbmd0aDsgaSA8IGxlbmd0aDsgaSsrKSB7XG4gICAgICAgIGtleSA9IGtleXNbaV07XG4gICAgICAgIGlmIChrZXkgaW4gb2JqKSByZXN1bHRba2V5XSA9IG9ialtrZXldO1xuICAgICAgfVxuICAgIH1cbiAgICByZXR1cm4gcmVzdWx0O1xuICB9O1xuXG4gICAvLyBSZXR1cm4gYSBjb3B5IG9mIHRoZSBvYmplY3Qgd2l0aG91dCB0aGUgYmxhY2tsaXN0ZWQgcHJvcGVydGllcy5cbiAgXy5vbWl0ID0gZnVuY3Rpb24ob2JqLCBpdGVyYXRlZSwgY29udGV4dCkge1xuICAgIGlmIChfLmlzRnVuY3Rpb24oaXRlcmF0ZWUpKSB7XG4gICAgICBpdGVyYXRlZSA9IF8ubmVnYXRlKGl0ZXJhdGVlKTtcbiAgICB9IGVsc2Uge1xuICAgICAgdmFyIGtleXMgPSBfLm1hcChjb25jYXQuYXBwbHkoW10sIHNsaWNlLmNhbGwoYXJndW1lbnRzLCAxKSksIFN0cmluZyk7XG4gICAgICBpdGVyYXRlZSA9IGZ1bmN0aW9uKHZhbHVlLCBrZXkpIHtcbiAgICAgICAgcmV0dXJuICFfLmNvbnRhaW5zKGtleXMsIGtleSk7XG4gICAgICB9O1xuICAgIH1cbiAgICByZXR1cm4gXy5waWNrKG9iaiwgaXRlcmF0ZWUsIGNvbnRleHQpO1xuICB9O1xuXG4gIC8vIEZpbGwgaW4gYSBnaXZlbiBvYmplY3Qgd2l0aCBkZWZhdWx0IHByb3BlcnRpZXMuXG4gIF8uZGVmYXVsdHMgPSBmdW5jdGlvbihvYmopIHtcbiAgICBpZiAoIV8uaXNPYmplY3Qob2JqKSkgcmV0dXJuIG9iajtcbiAgICBmb3IgKHZhciBpID0gMSwgbGVuZ3RoID0gYXJndW1lbnRzLmxlbmd0aDsgaSA8IGxlbmd0aDsgaSsrKSB7XG4gICAgICB2YXIgc291cmNlID0gYXJndW1lbnRzW2ldO1xuICAgICAgZm9yICh2YXIgcHJvcCBpbiBzb3VyY2UpIHtcbiAgICAgICAgaWYgKG9ialtwcm9wXSA9PT0gdm9pZCAwKSBvYmpbcHJvcF0gPSBzb3VyY2VbcHJvcF07XG4gICAgICB9XG4gICAgfVxuICAgIHJldHVybiBvYmo7XG4gIH07XG5cbiAgLy8gQ3JlYXRlIGEgKHNoYWxsb3ctY2xvbmVkKSBkdXBsaWNhdGUgb2YgYW4gb2JqZWN0LlxuICBfLmNsb25lID0gZnVuY3Rpb24ob2JqKSB7XG4gICAgaWYgKCFfLmlzT2JqZWN0KG9iaikpIHJldHVybiBvYmo7XG4gICAgcmV0dXJuIF8uaXNBcnJheShvYmopID8gb2JqLnNsaWNlKCkgOiBfLmV4dGVuZCh7fSwgb2JqKTtcbiAgfTtcblxuICAvLyBJbnZva2VzIGludGVyY2VwdG9yIHdpdGggdGhlIG9iaiwgYW5kIHRoZW4gcmV0dXJucyBvYmouXG4gIC8vIFRoZSBwcmltYXJ5IHB1cnBvc2Ugb2YgdGhpcyBtZXRob2QgaXMgdG8gXCJ0YXAgaW50b1wiIGEgbWV0aG9kIGNoYWluLCBpblxuICAvLyBvcmRlciB0byBwZXJmb3JtIG9wZXJhdGlvbnMgb24gaW50ZXJtZWRpYXRlIHJlc3VsdHMgd2l0aGluIHRoZSBjaGFpbi5cbiAgXy50YXAgPSBmdW5jdGlvbihvYmosIGludGVyY2VwdG9yKSB7XG4gICAgaW50ZXJjZXB0b3Iob2JqKTtcbiAgICByZXR1cm4gb2JqO1xuICB9O1xuXG4gIC8vIEludGVybmFsIHJlY3Vyc2l2ZSBjb21wYXJpc29uIGZ1bmN0aW9uIGZvciBgaXNFcXVhbGAuXG4gIHZhciBlcSA9IGZ1bmN0aW9uKGEsIGIsIGFTdGFjaywgYlN0YWNrKSB7XG4gICAgLy8gSWRlbnRpY2FsIG9iamVjdHMgYXJlIGVxdWFsLiBgMCA9PT0gLTBgLCBidXQgdGhleSBhcmVuJ3QgaWRlbnRpY2FsLlxuICAgIC8vIFNlZSB0aGUgW0hhcm1vbnkgYGVnYWxgIHByb3Bvc2FsXShodHRwOi8vd2lraS5lY21hc2NyaXB0Lm9yZy9kb2t1LnBocD9pZD1oYXJtb255OmVnYWwpLlxuICAgIGlmIChhID09PSBiKSByZXR1cm4gYSAhPT0gMCB8fCAxIC8gYSA9PT0gMSAvIGI7XG4gICAgLy8gQSBzdHJpY3QgY29tcGFyaXNvbiBpcyBuZWNlc3NhcnkgYmVjYXVzZSBgbnVsbCA9PSB1bmRlZmluZWRgLlxuICAgIGlmIChhID09IG51bGwgfHwgYiA9PSBudWxsKSByZXR1cm4gYSA9PT0gYjtcbiAgICAvLyBVbndyYXAgYW55IHdyYXBwZWQgb2JqZWN0cy5cbiAgICBpZiAoYSBpbnN0YW5jZW9mIF8pIGEgPSBhLl93cmFwcGVkO1xuICAgIGlmIChiIGluc3RhbmNlb2YgXykgYiA9IGIuX3dyYXBwZWQ7XG4gICAgLy8gQ29tcGFyZSBgW1tDbGFzc11dYCBuYW1lcy5cbiAgICB2YXIgY2xhc3NOYW1lID0gdG9TdHJpbmcuY2FsbChhKTtcbiAgICBpZiAoY2xhc3NOYW1lICE9PSB0b1N0cmluZy5jYWxsKGIpKSByZXR1cm4gZmFsc2U7XG4gICAgc3dpdGNoIChjbGFzc05hbWUpIHtcbiAgICAgIC8vIFN0cmluZ3MsIG51bWJlcnMsIHJlZ3VsYXIgZXhwcmVzc2lvbnMsIGRhdGVzLCBhbmQgYm9vbGVhbnMgYXJlIGNvbXBhcmVkIGJ5IHZhbHVlLlxuICAgICAgY2FzZSAnW29iamVjdCBSZWdFeHBdJzpcbiAgICAgIC8vIFJlZ0V4cHMgYXJlIGNvZXJjZWQgdG8gc3RyaW5ncyBmb3IgY29tcGFyaXNvbiAoTm90ZTogJycgKyAvYS9pID09PSAnL2EvaScpXG4gICAgICBjYXNlICdbb2JqZWN0IFN0cmluZ10nOlxuICAgICAgICAvLyBQcmltaXRpdmVzIGFuZCB0aGVpciBjb3JyZXNwb25kaW5nIG9iamVjdCB3cmFwcGVycyBhcmUgZXF1aXZhbGVudDsgdGh1cywgYFwiNVwiYCBpc1xuICAgICAgICAvLyBlcXVpdmFsZW50IHRvIGBuZXcgU3RyaW5nKFwiNVwiKWAuXG4gICAgICAgIHJldHVybiAnJyArIGEgPT09ICcnICsgYjtcbiAgICAgIGNhc2UgJ1tvYmplY3QgTnVtYmVyXSc6XG4gICAgICAgIC8vIGBOYU5gcyBhcmUgZXF1aXZhbGVudCwgYnV0IG5vbi1yZWZsZXhpdmUuXG4gICAgICAgIC8vIE9iamVjdChOYU4pIGlzIGVxdWl2YWxlbnQgdG8gTmFOXG4gICAgICAgIGlmICgrYSAhPT0gK2EpIHJldHVybiArYiAhPT0gK2I7XG4gICAgICAgIC8vIEFuIGBlZ2FsYCBjb21wYXJpc29uIGlzIHBlcmZvcm1lZCBmb3Igb3RoZXIgbnVtZXJpYyB2YWx1ZXMuXG4gICAgICAgIHJldHVybiArYSA9PT0gMCA/IDEgLyArYSA9PT0gMSAvIGIgOiArYSA9PT0gK2I7XG4gICAgICBjYXNlICdbb2JqZWN0IERhdGVdJzpcbiAgICAgIGNhc2UgJ1tvYmplY3QgQm9vbGVhbl0nOlxuICAgICAgICAvLyBDb2VyY2UgZGF0ZXMgYW5kIGJvb2xlYW5zIHRvIG51bWVyaWMgcHJpbWl0aXZlIHZhbHVlcy4gRGF0ZXMgYXJlIGNvbXBhcmVkIGJ5IHRoZWlyXG4gICAgICAgIC8vIG1pbGxpc2Vjb25kIHJlcHJlc2VudGF0aW9ucy4gTm90ZSB0aGF0IGludmFsaWQgZGF0ZXMgd2l0aCBtaWxsaXNlY29uZCByZXByZXNlbnRhdGlvbnNcbiAgICAgICAgLy8gb2YgYE5hTmAgYXJlIG5vdCBlcXVpdmFsZW50LlxuICAgICAgICByZXR1cm4gK2EgPT09ICtiO1xuICAgIH1cbiAgICBpZiAodHlwZW9mIGEgIT0gJ29iamVjdCcgfHwgdHlwZW9mIGIgIT0gJ29iamVjdCcpIHJldHVybiBmYWxzZTtcbiAgICAvLyBBc3N1bWUgZXF1YWxpdHkgZm9yIGN5Y2xpYyBzdHJ1Y3R1cmVzLiBUaGUgYWxnb3JpdGhtIGZvciBkZXRlY3RpbmcgY3ljbGljXG4gICAgLy8gc3RydWN0dXJlcyBpcyBhZGFwdGVkIGZyb20gRVMgNS4xIHNlY3Rpb24gMTUuMTIuMywgYWJzdHJhY3Qgb3BlcmF0aW9uIGBKT2AuXG4gICAgdmFyIGxlbmd0aCA9IGFTdGFjay5sZW5ndGg7XG4gICAgd2hpbGUgKGxlbmd0aC0tKSB7XG4gICAgICAvLyBMaW5lYXIgc2VhcmNoLiBQZXJmb3JtYW5jZSBpcyBpbnZlcnNlbHkgcHJvcG9ydGlvbmFsIHRvIHRoZSBudW1iZXIgb2ZcbiAgICAgIC8vIHVuaXF1ZSBuZXN0ZWQgc3RydWN0dXJlcy5cbiAgICAgIGlmIChhU3RhY2tbbGVuZ3RoXSA9PT0gYSkgcmV0dXJuIGJTdGFja1tsZW5ndGhdID09PSBiO1xuICAgIH1cbiAgICAvLyBPYmplY3RzIHdpdGggZGlmZmVyZW50IGNvbnN0cnVjdG9ycyBhcmUgbm90IGVxdWl2YWxlbnQsIGJ1dCBgT2JqZWN0YHNcbiAgICAvLyBmcm9tIGRpZmZlcmVudCBmcmFtZXMgYXJlLlxuICAgIHZhciBhQ3RvciA9IGEuY29uc3RydWN0b3IsIGJDdG9yID0gYi5jb25zdHJ1Y3RvcjtcbiAgICBpZiAoXG4gICAgICBhQ3RvciAhPT0gYkN0b3IgJiZcbiAgICAgIC8vIEhhbmRsZSBPYmplY3QuY3JlYXRlKHgpIGNhc2VzXG4gICAgICAnY29uc3RydWN0b3InIGluIGEgJiYgJ2NvbnN0cnVjdG9yJyBpbiBiICYmXG4gICAgICAhKF8uaXNGdW5jdGlvbihhQ3RvcikgJiYgYUN0b3IgaW5zdGFuY2VvZiBhQ3RvciAmJlxuICAgICAgICBfLmlzRnVuY3Rpb24oYkN0b3IpICYmIGJDdG9yIGluc3RhbmNlb2YgYkN0b3IpXG4gICAgKSB7XG4gICAgICByZXR1cm4gZmFsc2U7XG4gICAgfVxuICAgIC8vIEFkZCB0aGUgZmlyc3Qgb2JqZWN0IHRvIHRoZSBzdGFjayBvZiB0cmF2ZXJzZWQgb2JqZWN0cy5cbiAgICBhU3RhY2sucHVzaChhKTtcbiAgICBiU3RhY2sucHVzaChiKTtcbiAgICB2YXIgc2l6ZSwgcmVzdWx0O1xuICAgIC8vIFJlY3Vyc2l2ZWx5IGNvbXBhcmUgb2JqZWN0cyBhbmQgYXJyYXlzLlxuICAgIGlmIChjbGFzc05hbWUgPT09ICdbb2JqZWN0IEFycmF5XScpIHtcbiAgICAgIC8vIENvbXBhcmUgYXJyYXkgbGVuZ3RocyB0byBkZXRlcm1pbmUgaWYgYSBkZWVwIGNvbXBhcmlzb24gaXMgbmVjZXNzYXJ5LlxuICAgICAgc2l6ZSA9IGEubGVuZ3RoO1xuICAgICAgcmVzdWx0ID0gc2l6ZSA9PT0gYi5sZW5ndGg7XG4gICAgICBpZiAocmVzdWx0KSB7XG4gICAgICAgIC8vIERlZXAgY29tcGFyZSB0aGUgY29udGVudHMsIGlnbm9yaW5nIG5vbi1udW1lcmljIHByb3BlcnRpZXMuXG4gICAgICAgIHdoaWxlIChzaXplLS0pIHtcbiAgICAgICAgICBpZiAoIShyZXN1bHQgPSBlcShhW3NpemVdLCBiW3NpemVdLCBhU3RhY2ssIGJTdGFjaykpKSBicmVhaztcbiAgICAgICAgfVxuICAgICAgfVxuICAgIH0gZWxzZSB7XG4gICAgICAvLyBEZWVwIGNvbXBhcmUgb2JqZWN0cy5cbiAgICAgIHZhciBrZXlzID0gXy5rZXlzKGEpLCBrZXk7XG4gICAgICBzaXplID0ga2V5cy5sZW5ndGg7XG4gICAgICAvLyBFbnN1cmUgdGhhdCBib3RoIG9iamVjdHMgY29udGFpbiB0aGUgc2FtZSBudW1iZXIgb2YgcHJvcGVydGllcyBiZWZvcmUgY29tcGFyaW5nIGRlZXAgZXF1YWxpdHkuXG4gICAgICByZXN1bHQgPSBfLmtleXMoYikubGVuZ3RoID09PSBzaXplO1xuICAgICAgaWYgKHJlc3VsdCkge1xuICAgICAgICB3aGlsZSAoc2l6ZS0tKSB7XG4gICAgICAgICAgLy8gRGVlcCBjb21wYXJlIGVhY2ggbWVtYmVyXG4gICAgICAgICAga2V5ID0ga2V5c1tzaXplXTtcbiAgICAgICAgICBpZiAoIShyZXN1bHQgPSBfLmhhcyhiLCBrZXkpICYmIGVxKGFba2V5XSwgYltrZXldLCBhU3RhY2ssIGJTdGFjaykpKSBicmVhaztcbiAgICAgICAgfVxuICAgICAgfVxuICAgIH1cbiAgICAvLyBSZW1vdmUgdGhlIGZpcnN0IG9iamVjdCBmcm9tIHRoZSBzdGFjayBvZiB0cmF2ZXJzZWQgb2JqZWN0cy5cbiAgICBhU3RhY2sucG9wKCk7XG4gICAgYlN0YWNrLnBvcCgpO1xuICAgIHJldHVybiByZXN1bHQ7XG4gIH07XG5cbiAgLy8gUGVyZm9ybSBhIGRlZXAgY29tcGFyaXNvbiB0byBjaGVjayBpZiB0d28gb2JqZWN0cyBhcmUgZXF1YWwuXG4gIF8uaXNFcXVhbCA9IGZ1bmN0aW9uKGEsIGIpIHtcbiAgICByZXR1cm4gZXEoYSwgYiwgW10sIFtdKTtcbiAgfTtcblxuICAvLyBJcyBhIGdpdmVuIGFycmF5LCBzdHJpbmcsIG9yIG9iamVjdCBlbXB0eT9cbiAgLy8gQW4gXCJlbXB0eVwiIG9iamVjdCBoYXMgbm8gZW51bWVyYWJsZSBvd24tcHJvcGVydGllcy5cbiAgXy5pc0VtcHR5ID0gZnVuY3Rpb24ob2JqKSB7XG4gICAgaWYgKG9iaiA9PSBudWxsKSByZXR1cm4gdHJ1ZTtcbiAgICBpZiAoXy5pc0FycmF5KG9iaikgfHwgXy5pc1N0cmluZyhvYmopIHx8IF8uaXNBcmd1bWVudHMob2JqKSkgcmV0dXJuIG9iai5sZW5ndGggPT09IDA7XG4gICAgZm9yICh2YXIga2V5IGluIG9iaikgaWYgKF8uaGFzKG9iaiwga2V5KSkgcmV0dXJuIGZhbHNlO1xuICAgIHJldHVybiB0cnVlO1xuICB9O1xuXG4gIC8vIElzIGEgZ2l2ZW4gdmFsdWUgYSBET00gZWxlbWVudD9cbiAgXy5pc0VsZW1lbnQgPSBmdW5jdGlvbihvYmopIHtcbiAgICByZXR1cm4gISEob2JqICYmIG9iai5ub2RlVHlwZSA9PT0gMSk7XG4gIH07XG5cbiAgLy8gSXMgYSBnaXZlbiB2YWx1ZSBhbiBhcnJheT9cbiAgLy8gRGVsZWdhdGVzIHRvIEVDTUE1J3MgbmF0aXZlIEFycmF5LmlzQXJyYXlcbiAgXy5pc0FycmF5ID0gbmF0aXZlSXNBcnJheSB8fCBmdW5jdGlvbihvYmopIHtcbiAgICByZXR1cm4gdG9TdHJpbmcuY2FsbChvYmopID09PSAnW29iamVjdCBBcnJheV0nO1xuICB9O1xuXG4gIC8vIElzIGEgZ2l2ZW4gdmFyaWFibGUgYW4gb2JqZWN0P1xuICBfLmlzT2JqZWN0ID0gZnVuY3Rpb24ob2JqKSB7XG4gICAgdmFyIHR5cGUgPSB0eXBlb2Ygb2JqO1xuICAgIHJldHVybiB0eXBlID09PSAnZnVuY3Rpb24nIHx8IHR5cGUgPT09ICdvYmplY3QnICYmICEhb2JqO1xuICB9O1xuXG4gIC8vIEFkZCBzb21lIGlzVHlwZSBtZXRob2RzOiBpc0FyZ3VtZW50cywgaXNGdW5jdGlvbiwgaXNTdHJpbmcsIGlzTnVtYmVyLCBpc0RhdGUsIGlzUmVnRXhwLlxuICBfLmVhY2goWydBcmd1bWVudHMnLCAnRnVuY3Rpb24nLCAnU3RyaW5nJywgJ051bWJlcicsICdEYXRlJywgJ1JlZ0V4cCddLCBmdW5jdGlvbihuYW1lKSB7XG4gICAgX1snaXMnICsgbmFtZV0gPSBmdW5jdGlvbihvYmopIHtcbiAgICAgIHJldHVybiB0b1N0cmluZy5jYWxsKG9iaikgPT09ICdbb2JqZWN0ICcgKyBuYW1lICsgJ10nO1xuICAgIH07XG4gIH0pO1xuXG4gIC8vIERlZmluZSBhIGZhbGxiYWNrIHZlcnNpb24gb2YgdGhlIG1ldGhvZCBpbiBicm93c2VycyAoYWhlbSwgSUUpLCB3aGVyZVxuICAvLyB0aGVyZSBpc24ndCBhbnkgaW5zcGVjdGFibGUgXCJBcmd1bWVudHNcIiB0eXBlLlxuICBpZiAoIV8uaXNBcmd1bWVudHMoYXJndW1lbnRzKSkge1xuICAgIF8uaXNBcmd1bWVudHMgPSBmdW5jdGlvbihvYmopIHtcbiAgICAgIHJldHVybiBfLmhhcyhvYmosICdjYWxsZWUnKTtcbiAgICB9O1xuICB9XG5cbiAgLy8gT3B0aW1pemUgYGlzRnVuY3Rpb25gIGlmIGFwcHJvcHJpYXRlLiBXb3JrIGFyb3VuZCBhbiBJRSAxMSBidWcuXG4gIGlmICh0eXBlb2YgLy4vICE9PSAnZnVuY3Rpb24nKSB7XG4gICAgXy5pc0Z1bmN0aW9uID0gZnVuY3Rpb24ob2JqKSB7XG4gICAgICByZXR1cm4gdHlwZW9mIG9iaiA9PSAnZnVuY3Rpb24nIHx8IGZhbHNlO1xuICAgIH07XG4gIH1cblxuICAvLyBJcyBhIGdpdmVuIG9iamVjdCBhIGZpbml0ZSBudW1iZXI/XG4gIF8uaXNGaW5pdGUgPSBmdW5jdGlvbihvYmopIHtcbiAgICByZXR1cm4gaXNGaW5pdGUob2JqKSAmJiAhaXNOYU4ocGFyc2VGbG9hdChvYmopKTtcbiAgfTtcblxuICAvLyBJcyB0aGUgZ2l2ZW4gdmFsdWUgYE5hTmA/IChOYU4gaXMgdGhlIG9ubHkgbnVtYmVyIHdoaWNoIGRvZXMgbm90IGVxdWFsIGl0c2VsZikuXG4gIF8uaXNOYU4gPSBmdW5jdGlvbihvYmopIHtcbiAgICByZXR1cm4gXy5pc051bWJlcihvYmopICYmIG9iaiAhPT0gK29iajtcbiAgfTtcblxuICAvLyBJcyBhIGdpdmVuIHZhbHVlIGEgYm9vbGVhbj9cbiAgXy5pc0Jvb2xlYW4gPSBmdW5jdGlvbihvYmopIHtcbiAgICByZXR1cm4gb2JqID09PSB0cnVlIHx8IG9iaiA9PT0gZmFsc2UgfHwgdG9TdHJpbmcuY2FsbChvYmopID09PSAnW29iamVjdCBCb29sZWFuXSc7XG4gIH07XG5cbiAgLy8gSXMgYSBnaXZlbiB2YWx1ZSBlcXVhbCB0byBudWxsP1xuICBfLmlzTnVsbCA9IGZ1bmN0aW9uKG9iaikge1xuICAgIHJldHVybiBvYmogPT09IG51bGw7XG4gIH07XG5cbiAgLy8gSXMgYSBnaXZlbiB2YXJpYWJsZSB1bmRlZmluZWQ/XG4gIF8uaXNVbmRlZmluZWQgPSBmdW5jdGlvbihvYmopIHtcbiAgICByZXR1cm4gb2JqID09PSB2b2lkIDA7XG4gIH07XG5cbiAgLy8gU2hvcnRjdXQgZnVuY3Rpb24gZm9yIGNoZWNraW5nIGlmIGFuIG9iamVjdCBoYXMgYSBnaXZlbiBwcm9wZXJ0eSBkaXJlY3RseVxuICAvLyBvbiBpdHNlbGYgKGluIG90aGVyIHdvcmRzLCBub3Qgb24gYSBwcm90b3R5cGUpLlxuICBfLmhhcyA9IGZ1bmN0aW9uKG9iaiwga2V5KSB7XG4gICAgcmV0dXJuIG9iaiAhPSBudWxsICYmIGhhc093blByb3BlcnR5LmNhbGwob2JqLCBrZXkpO1xuICB9O1xuXG4gIC8vIFV0aWxpdHkgRnVuY3Rpb25zXG4gIC8vIC0tLS0tLS0tLS0tLS0tLS0tXG5cbiAgLy8gUnVuIFVuZGVyc2NvcmUuanMgaW4gKm5vQ29uZmxpY3QqIG1vZGUsIHJldHVybmluZyB0aGUgYF9gIHZhcmlhYmxlIHRvIGl0c1xuICAvLyBwcmV2aW91cyBvd25lci4gUmV0dXJucyBhIHJlZmVyZW5jZSB0byB0aGUgVW5kZXJzY29yZSBvYmplY3QuXG4gIF8ubm9Db25mbGljdCA9IGZ1bmN0aW9uKCkge1xuICAgIHJvb3QuXyA9IHByZXZpb3VzVW5kZXJzY29yZTtcbiAgICByZXR1cm4gdGhpcztcbiAgfTtcblxuICAvLyBLZWVwIHRoZSBpZGVudGl0eSBmdW5jdGlvbiBhcm91bmQgZm9yIGRlZmF1bHQgaXRlcmF0ZWVzLlxuICBfLmlkZW50aXR5ID0gZnVuY3Rpb24odmFsdWUpIHtcbiAgICByZXR1cm4gdmFsdWU7XG4gIH07XG5cbiAgXy5jb25zdGFudCA9IGZ1bmN0aW9uKHZhbHVlKSB7XG4gICAgcmV0dXJuIGZ1bmN0aW9uKCkge1xuICAgICAgcmV0dXJuIHZhbHVlO1xuICAgIH07XG4gIH07XG5cbiAgXy5ub29wID0gZnVuY3Rpb24oKXt9O1xuXG4gIF8ucHJvcGVydHkgPSBmdW5jdGlvbihrZXkpIHtcbiAgICByZXR1cm4gZnVuY3Rpb24ob2JqKSB7XG4gICAgICByZXR1cm4gb2JqW2tleV07XG4gICAgfTtcbiAgfTtcblxuICAvLyBSZXR1cm5zIGEgcHJlZGljYXRlIGZvciBjaGVja2luZyB3aGV0aGVyIGFuIG9iamVjdCBoYXMgYSBnaXZlbiBzZXQgb2YgYGtleTp2YWx1ZWAgcGFpcnMuXG4gIF8ubWF0Y2hlcyA9IGZ1bmN0aW9uKGF0dHJzKSB7XG4gICAgdmFyIHBhaXJzID0gXy5wYWlycyhhdHRycyksIGxlbmd0aCA9IHBhaXJzLmxlbmd0aDtcbiAgICByZXR1cm4gZnVuY3Rpb24ob2JqKSB7XG4gICAgICBpZiAob2JqID09IG51bGwpIHJldHVybiAhbGVuZ3RoO1xuICAgICAgb2JqID0gbmV3IE9iamVjdChvYmopO1xuICAgICAgZm9yICh2YXIgaSA9IDA7IGkgPCBsZW5ndGg7IGkrKykge1xuICAgICAgICB2YXIgcGFpciA9IHBhaXJzW2ldLCBrZXkgPSBwYWlyWzBdO1xuICAgICAgICBpZiAocGFpclsxXSAhPT0gb2JqW2tleV0gfHwgIShrZXkgaW4gb2JqKSkgcmV0dXJuIGZhbHNlO1xuICAgICAgfVxuICAgICAgcmV0dXJuIHRydWU7XG4gICAgfTtcbiAgfTtcblxuICAvLyBSdW4gYSBmdW5jdGlvbiAqKm4qKiB0aW1lcy5cbiAgXy50aW1lcyA9IGZ1bmN0aW9uKG4sIGl0ZXJhdGVlLCBjb250ZXh0KSB7XG4gICAgdmFyIGFjY3VtID0gQXJyYXkoTWF0aC5tYXgoMCwgbikpO1xuICAgIGl0ZXJhdGVlID0gY3JlYXRlQ2FsbGJhY2soaXRlcmF0ZWUsIGNvbnRleHQsIDEpO1xuICAgIGZvciAodmFyIGkgPSAwOyBpIDwgbjsgaSsrKSBhY2N1bVtpXSA9IGl0ZXJhdGVlKGkpO1xuICAgIHJldHVybiBhY2N1bTtcbiAgfTtcblxuICAvLyBSZXR1cm4gYSByYW5kb20gaW50ZWdlciBiZXR3ZWVuIG1pbiBhbmQgbWF4IChpbmNsdXNpdmUpLlxuICBfLnJhbmRvbSA9IGZ1bmN0aW9uKG1pbiwgbWF4KSB7XG4gICAgaWYgKG1heCA9PSBudWxsKSB7XG4gICAgICBtYXggPSBtaW47XG4gICAgICBtaW4gPSAwO1xuICAgIH1cbiAgICByZXR1cm4gbWluICsgTWF0aC5mbG9vcihNYXRoLnJhbmRvbSgpICogKG1heCAtIG1pbiArIDEpKTtcbiAgfTtcblxuICAvLyBBIChwb3NzaWJseSBmYXN0ZXIpIHdheSB0byBnZXQgdGhlIGN1cnJlbnQgdGltZXN0YW1wIGFzIGFuIGludGVnZXIuXG4gIF8ubm93ID0gRGF0ZS5ub3cgfHwgZnVuY3Rpb24oKSB7XG4gICAgcmV0dXJuIG5ldyBEYXRlKCkuZ2V0VGltZSgpO1xuICB9O1xuXG4gICAvLyBMaXN0IG9mIEhUTUwgZW50aXRpZXMgZm9yIGVzY2FwaW5nLlxuICB2YXIgZXNjYXBlTWFwID0ge1xuICAgICcmJzogJyZhbXA7JyxcbiAgICAnPCc6ICcmbHQ7JyxcbiAgICAnPic6ICcmZ3Q7JyxcbiAgICAnXCInOiAnJnF1b3Q7JyxcbiAgICBcIidcIjogJyYjeDI3OycsXG4gICAgJ2AnOiAnJiN4NjA7J1xuICB9O1xuICB2YXIgdW5lc2NhcGVNYXAgPSBfLmludmVydChlc2NhcGVNYXApO1xuXG4gIC8vIEZ1bmN0aW9ucyBmb3IgZXNjYXBpbmcgYW5kIHVuZXNjYXBpbmcgc3RyaW5ncyB0by9mcm9tIEhUTUwgaW50ZXJwb2xhdGlvbi5cbiAgdmFyIGNyZWF0ZUVzY2FwZXIgPSBmdW5jdGlvbihtYXApIHtcbiAgICB2YXIgZXNjYXBlciA9IGZ1bmN0aW9uKG1hdGNoKSB7XG4gICAgICByZXR1cm4gbWFwW21hdGNoXTtcbiAgICB9O1xuICAgIC8vIFJlZ2V4ZXMgZm9yIGlkZW50aWZ5aW5nIGEga2V5IHRoYXQgbmVlZHMgdG8gYmUgZXNjYXBlZFxuICAgIHZhciBzb3VyY2UgPSAnKD86JyArIF8ua2V5cyhtYXApLmpvaW4oJ3wnKSArICcpJztcbiAgICB2YXIgdGVzdFJlZ2V4cCA9IFJlZ0V4cChzb3VyY2UpO1xuICAgIHZhciByZXBsYWNlUmVnZXhwID0gUmVnRXhwKHNvdXJjZSwgJ2cnKTtcbiAgICByZXR1cm4gZnVuY3Rpb24oc3RyaW5nKSB7XG4gICAgICBzdHJpbmcgPSBzdHJpbmcgPT0gbnVsbCA/ICcnIDogJycgKyBzdHJpbmc7XG4gICAgICByZXR1cm4gdGVzdFJlZ2V4cC50ZXN0KHN0cmluZykgPyBzdHJpbmcucmVwbGFjZShyZXBsYWNlUmVnZXhwLCBlc2NhcGVyKSA6IHN0cmluZztcbiAgICB9O1xuICB9O1xuICBfLmVzY2FwZSA9IGNyZWF0ZUVzY2FwZXIoZXNjYXBlTWFwKTtcbiAgXy51bmVzY2FwZSA9IGNyZWF0ZUVzY2FwZXIodW5lc2NhcGVNYXApO1xuXG4gIC8vIElmIHRoZSB2YWx1ZSBvZiB0aGUgbmFtZWQgYHByb3BlcnR5YCBpcyBhIGZ1bmN0aW9uIHRoZW4gaW52b2tlIGl0IHdpdGggdGhlXG4gIC8vIGBvYmplY3RgIGFzIGNvbnRleHQ7IG90aGVyd2lzZSwgcmV0dXJuIGl0LlxuICBfLnJlc3VsdCA9IGZ1bmN0aW9uKG9iamVjdCwgcHJvcGVydHkpIHtcbiAgICBpZiAob2JqZWN0ID09IG51bGwpIHJldHVybiB2b2lkIDA7XG4gICAgdmFyIHZhbHVlID0gb2JqZWN0W3Byb3BlcnR5XTtcbiAgICByZXR1cm4gXy5pc0Z1bmN0aW9uKHZhbHVlKSA/IG9iamVjdFtwcm9wZXJ0eV0oKSA6IHZhbHVlO1xuICB9O1xuXG4gIC8vIEdlbmVyYXRlIGEgdW5pcXVlIGludGVnZXIgaWQgKHVuaXF1ZSB3aXRoaW4gdGhlIGVudGlyZSBjbGllbnQgc2Vzc2lvbikuXG4gIC8vIFVzZWZ1bCBmb3IgdGVtcG9yYXJ5IERPTSBpZHMuXG4gIHZhciBpZENvdW50ZXIgPSAwO1xuICBfLnVuaXF1ZUlkID0gZnVuY3Rpb24ocHJlZml4KSB7XG4gICAgdmFyIGlkID0gKytpZENvdW50ZXIgKyAnJztcbiAgICByZXR1cm4gcHJlZml4ID8gcHJlZml4ICsgaWQgOiBpZDtcbiAgfTtcblxuICAvLyBCeSBkZWZhdWx0LCBVbmRlcnNjb3JlIHVzZXMgRVJCLXN0eWxlIHRlbXBsYXRlIGRlbGltaXRlcnMsIGNoYW5nZSB0aGVcbiAgLy8gZm9sbG93aW5nIHRlbXBsYXRlIHNldHRpbmdzIHRvIHVzZSBhbHRlcm5hdGl2ZSBkZWxpbWl0ZXJzLlxuICBfLnRlbXBsYXRlU2V0dGluZ3MgPSB7XG4gICAgZXZhbHVhdGUgICAgOiAvPCUoW1xcc1xcU10rPyklPi9nLFxuICAgIGludGVycG9sYXRlIDogLzwlPShbXFxzXFxTXSs/KSU+L2csXG4gICAgZXNjYXBlICAgICAgOiAvPCUtKFtcXHNcXFNdKz8pJT4vZ1xuICB9O1xuXG4gIC8vIFdoZW4gY3VzdG9taXppbmcgYHRlbXBsYXRlU2V0dGluZ3NgLCBpZiB5b3UgZG9uJ3Qgd2FudCB0byBkZWZpbmUgYW5cbiAgLy8gaW50ZXJwb2xhdGlvbiwgZXZhbHVhdGlvbiBvciBlc2NhcGluZyByZWdleCwgd2UgbmVlZCBvbmUgdGhhdCBpc1xuICAvLyBndWFyYW50ZWVkIG5vdCB0byBtYXRjaC5cbiAgdmFyIG5vTWF0Y2ggPSAvKC4pXi87XG5cbiAgLy8gQ2VydGFpbiBjaGFyYWN0ZXJzIG5lZWQgdG8gYmUgZXNjYXBlZCBzbyB0aGF0IHRoZXkgY2FuIGJlIHB1dCBpbnRvIGFcbiAgLy8gc3RyaW5nIGxpdGVyYWwuXG4gIHZhciBlc2NhcGVzID0ge1xuICAgIFwiJ1wiOiAgICAgIFwiJ1wiLFxuICAgICdcXFxcJzogICAgICdcXFxcJyxcbiAgICAnXFxyJzogICAgICdyJyxcbiAgICAnXFxuJzogICAgICduJyxcbiAgICAnXFx1MjAyOCc6ICd1MjAyOCcsXG4gICAgJ1xcdTIwMjknOiAndTIwMjknXG4gIH07XG5cbiAgdmFyIGVzY2FwZXIgPSAvXFxcXHwnfFxccnxcXG58XFx1MjAyOHxcXHUyMDI5L2c7XG5cbiAgdmFyIGVzY2FwZUNoYXIgPSBmdW5jdGlvbihtYXRjaCkge1xuICAgIHJldHVybiAnXFxcXCcgKyBlc2NhcGVzW21hdGNoXTtcbiAgfTtcblxuICAvLyBKYXZhU2NyaXB0IG1pY3JvLXRlbXBsYXRpbmcsIHNpbWlsYXIgdG8gSm9obiBSZXNpZydzIGltcGxlbWVudGF0aW9uLlxuICAvLyBVbmRlcnNjb3JlIHRlbXBsYXRpbmcgaGFuZGxlcyBhcmJpdHJhcnkgZGVsaW1pdGVycywgcHJlc2VydmVzIHdoaXRlc3BhY2UsXG4gIC8vIGFuZCBjb3JyZWN0bHkgZXNjYXBlcyBxdW90ZXMgd2l0aGluIGludGVycG9sYXRlZCBjb2RlLlxuICAvLyBOQjogYG9sZFNldHRpbmdzYCBvbmx5IGV4aXN0cyBmb3IgYmFja3dhcmRzIGNvbXBhdGliaWxpdHkuXG4gIF8udGVtcGxhdGUgPSBmdW5jdGlvbih0ZXh0LCBzZXR0aW5ncywgb2xkU2V0dGluZ3MpIHtcbiAgICBpZiAoIXNldHRpbmdzICYmIG9sZFNldHRpbmdzKSBzZXR0aW5ncyA9IG9sZFNldHRpbmdzO1xuICAgIHNldHRpbmdzID0gXy5kZWZhdWx0cyh7fSwgc2V0dGluZ3MsIF8udGVtcGxhdGVTZXR0aW5ncyk7XG5cbiAgICAvLyBDb21iaW5lIGRlbGltaXRlcnMgaW50byBvbmUgcmVndWxhciBleHByZXNzaW9uIHZpYSBhbHRlcm5hdGlvbi5cbiAgICB2YXIgbWF0Y2hlciA9IFJlZ0V4cChbXG4gICAgICAoc2V0dGluZ3MuZXNjYXBlIHx8IG5vTWF0Y2gpLnNvdXJjZSxcbiAgICAgIChzZXR0aW5ncy5pbnRlcnBvbGF0ZSB8fCBub01hdGNoKS5zb3VyY2UsXG4gICAgICAoc2V0dGluZ3MuZXZhbHVhdGUgfHwgbm9NYXRjaCkuc291cmNlXG4gICAgXS5qb2luKCd8JykgKyAnfCQnLCAnZycpO1xuXG4gICAgLy8gQ29tcGlsZSB0aGUgdGVtcGxhdGUgc291cmNlLCBlc2NhcGluZyBzdHJpbmcgbGl0ZXJhbHMgYXBwcm9wcmlhdGVseS5cbiAgICB2YXIgaW5kZXggPSAwO1xuICAgIHZhciBzb3VyY2UgPSBcIl9fcCs9J1wiO1xuICAgIHRleHQucmVwbGFjZShtYXRjaGVyLCBmdW5jdGlvbihtYXRjaCwgZXNjYXBlLCBpbnRlcnBvbGF0ZSwgZXZhbHVhdGUsIG9mZnNldCkge1xuICAgICAgc291cmNlICs9IHRleHQuc2xpY2UoaW5kZXgsIG9mZnNldCkucmVwbGFjZShlc2NhcGVyLCBlc2NhcGVDaGFyKTtcbiAgICAgIGluZGV4ID0gb2Zmc2V0ICsgbWF0Y2gubGVuZ3RoO1xuXG4gICAgICBpZiAoZXNjYXBlKSB7XG4gICAgICAgIHNvdXJjZSArPSBcIicrXFxuKChfX3Q9KFwiICsgZXNjYXBlICsgXCIpKT09bnVsbD8nJzpfLmVzY2FwZShfX3QpKStcXG4nXCI7XG4gICAgICB9IGVsc2UgaWYgKGludGVycG9sYXRlKSB7XG4gICAgICAgIHNvdXJjZSArPSBcIicrXFxuKChfX3Q9KFwiICsgaW50ZXJwb2xhdGUgKyBcIikpPT1udWxsPycnOl9fdCkrXFxuJ1wiO1xuICAgICAgfSBlbHNlIGlmIChldmFsdWF0ZSkge1xuICAgICAgICBzb3VyY2UgKz0gXCInO1xcblwiICsgZXZhbHVhdGUgKyBcIlxcbl9fcCs9J1wiO1xuICAgICAgfVxuXG4gICAgICAvLyBBZG9iZSBWTXMgbmVlZCB0aGUgbWF0Y2ggcmV0dXJuZWQgdG8gcHJvZHVjZSB0aGUgY29ycmVjdCBvZmZlc3QuXG4gICAgICByZXR1cm4gbWF0Y2g7XG4gICAgfSk7XG4gICAgc291cmNlICs9IFwiJztcXG5cIjtcblxuICAgIC8vIElmIGEgdmFyaWFibGUgaXMgbm90IHNwZWNpZmllZCwgcGxhY2UgZGF0YSB2YWx1ZXMgaW4gbG9jYWwgc2NvcGUuXG4gICAgaWYgKCFzZXR0aW5ncy52YXJpYWJsZSkgc291cmNlID0gJ3dpdGgob2JqfHx7fSl7XFxuJyArIHNvdXJjZSArICd9XFxuJztcblxuICAgIHNvdXJjZSA9IFwidmFyIF9fdCxfX3A9JycsX19qPUFycmF5LnByb3RvdHlwZS5qb2luLFwiICtcbiAgICAgIFwicHJpbnQ9ZnVuY3Rpb24oKXtfX3ArPV9fai5jYWxsKGFyZ3VtZW50cywnJyk7fTtcXG5cIiArXG4gICAgICBzb3VyY2UgKyAncmV0dXJuIF9fcDtcXG4nO1xuXG4gICAgdHJ5IHtcbiAgICAgIHZhciByZW5kZXIgPSBuZXcgRnVuY3Rpb24oc2V0dGluZ3MudmFyaWFibGUgfHwgJ29iaicsICdfJywgc291cmNlKTtcbiAgICB9IGNhdGNoIChlKSB7XG4gICAgICBlLnNvdXJjZSA9IHNvdXJjZTtcbiAgICAgIHRocm93IGU7XG4gICAgfVxuXG4gICAgdmFyIHRlbXBsYXRlID0gZnVuY3Rpb24oZGF0YSkge1xuICAgICAgcmV0dXJuIHJlbmRlci5jYWxsKHRoaXMsIGRhdGEsIF8pO1xuICAgIH07XG5cbiAgICAvLyBQcm92aWRlIHRoZSBjb21waWxlZCBzb3VyY2UgYXMgYSBjb252ZW5pZW5jZSBmb3IgcHJlY29tcGlsYXRpb24uXG4gICAgdmFyIGFyZ3VtZW50ID0gc2V0dGluZ3MudmFyaWFibGUgfHwgJ29iaic7XG4gICAgdGVtcGxhdGUuc291cmNlID0gJ2Z1bmN0aW9uKCcgKyBhcmd1bWVudCArICcpe1xcbicgKyBzb3VyY2UgKyAnfSc7XG5cbiAgICByZXR1cm4gdGVtcGxhdGU7XG4gIH07XG5cbiAgLy8gQWRkIGEgXCJjaGFpblwiIGZ1bmN0aW9uLiBTdGFydCBjaGFpbmluZyBhIHdyYXBwZWQgVW5kZXJzY29yZSBvYmplY3QuXG4gIF8uY2hhaW4gPSBmdW5jdGlvbihvYmopIHtcbiAgICB2YXIgaW5zdGFuY2UgPSBfKG9iaik7XG4gICAgaW5zdGFuY2UuX2NoYWluID0gdHJ1ZTtcbiAgICByZXR1cm4gaW5zdGFuY2U7XG4gIH07XG5cbiAgLy8gT09QXG4gIC8vIC0tLS0tLS0tLS0tLS0tLVxuICAvLyBJZiBVbmRlcnNjb3JlIGlzIGNhbGxlZCBhcyBhIGZ1bmN0aW9uLCBpdCByZXR1cm5zIGEgd3JhcHBlZCBvYmplY3QgdGhhdFxuICAvLyBjYW4gYmUgdXNlZCBPTy1zdHlsZS4gVGhpcyB3cmFwcGVyIGhvbGRzIGFsdGVyZWQgdmVyc2lvbnMgb2YgYWxsIHRoZVxuICAvLyB1bmRlcnNjb3JlIGZ1bmN0aW9ucy4gV3JhcHBlZCBvYmplY3RzIG1heSBiZSBjaGFpbmVkLlxuXG4gIC8vIEhlbHBlciBmdW5jdGlvbiB0byBjb250aW51ZSBjaGFpbmluZyBpbnRlcm1lZGlhdGUgcmVzdWx0cy5cbiAgdmFyIHJlc3VsdCA9IGZ1bmN0aW9uKG9iaikge1xuICAgIHJldHVybiB0aGlzLl9jaGFpbiA/IF8ob2JqKS5jaGFpbigpIDogb2JqO1xuICB9O1xuXG4gIC8vIEFkZCB5b3VyIG93biBjdXN0b20gZnVuY3Rpb25zIHRvIHRoZSBVbmRlcnNjb3JlIG9iamVjdC5cbiAgXy5taXhpbiA9IGZ1bmN0aW9uKG9iaikge1xuICAgIF8uZWFjaChfLmZ1bmN0aW9ucyhvYmopLCBmdW5jdGlvbihuYW1lKSB7XG4gICAgICB2YXIgZnVuYyA9IF9bbmFtZV0gPSBvYmpbbmFtZV07XG4gICAgICBfLnByb3RvdHlwZVtuYW1lXSA9IGZ1bmN0aW9uKCkge1xuICAgICAgICB2YXIgYXJncyA9IFt0aGlzLl93cmFwcGVkXTtcbiAgICAgICAgcHVzaC5hcHBseShhcmdzLCBhcmd1bWVudHMpO1xuICAgICAgICByZXR1cm4gcmVzdWx0LmNhbGwodGhpcywgZnVuYy5hcHBseShfLCBhcmdzKSk7XG4gICAgICB9O1xuICAgIH0pO1xuICB9O1xuXG4gIC8vIEFkZCBhbGwgb2YgdGhlIFVuZGVyc2NvcmUgZnVuY3Rpb25zIHRvIHRoZSB3cmFwcGVyIG9iamVjdC5cbiAgXy5taXhpbihfKTtcblxuICAvLyBBZGQgYWxsIG11dGF0b3IgQXJyYXkgZnVuY3Rpb25zIHRvIHRoZSB3cmFwcGVyLlxuICBfLmVhY2goWydwb3AnLCAncHVzaCcsICdyZXZlcnNlJywgJ3NoaWZ0JywgJ3NvcnQnLCAnc3BsaWNlJywgJ3Vuc2hpZnQnXSwgZnVuY3Rpb24obmFtZSkge1xuICAgIHZhciBtZXRob2QgPSBBcnJheVByb3RvW25hbWVdO1xuICAgIF8ucHJvdG90eXBlW25hbWVdID0gZnVuY3Rpb24oKSB7XG4gICAgICB2YXIgb2JqID0gdGhpcy5fd3JhcHBlZDtcbiAgICAgIG1ldGhvZC5hcHBseShvYmosIGFyZ3VtZW50cyk7XG4gICAgICBpZiAoKG5hbWUgPT09ICdzaGlmdCcgfHwgbmFtZSA9PT0gJ3NwbGljZScpICYmIG9iai5sZW5ndGggPT09IDApIGRlbGV0ZSBvYmpbMF07XG4gICAgICByZXR1cm4gcmVzdWx0LmNhbGwodGhpcywgb2JqKTtcbiAgICB9O1xuICB9KTtcblxuICAvLyBBZGQgYWxsIGFjY2Vzc29yIEFycmF5IGZ1bmN0aW9ucyB0byB0aGUgd3JhcHBlci5cbiAgXy5lYWNoKFsnY29uY2F0JywgJ2pvaW4nLCAnc2xpY2UnXSwgZnVuY3Rpb24obmFtZSkge1xuICAgIHZhciBtZXRob2QgPSBBcnJheVByb3RvW25hbWVdO1xuICAgIF8ucHJvdG90eXBlW25hbWVdID0gZnVuY3Rpb24oKSB7XG4gICAgICByZXR1cm4gcmVzdWx0LmNhbGwodGhpcywgbWV0aG9kLmFwcGx5KHRoaXMuX3dyYXBwZWQsIGFyZ3VtZW50cykpO1xuICAgIH07XG4gIH0pO1xuXG4gIC8vIEV4dHJhY3RzIHRoZSByZXN1bHQgZnJvbSBhIHdyYXBwZWQgYW5kIGNoYWluZWQgb2JqZWN0LlxuICBfLnByb3RvdHlwZS52YWx1ZSA9IGZ1bmN0aW9uKCkge1xuICAgIHJldHVybiB0aGlzLl93cmFwcGVkO1xuICB9O1xuXG4gIC8vIEFNRCByZWdpc3RyYXRpb24gaGFwcGVucyBhdCB0aGUgZW5kIGZvciBjb21wYXRpYmlsaXR5IHdpdGggQU1EIGxvYWRlcnNcbiAgLy8gdGhhdCBtYXkgbm90IGVuZm9yY2UgbmV4dC10dXJuIHNlbWFudGljcyBvbiBtb2R1bGVzLiBFdmVuIHRob3VnaCBnZW5lcmFsXG4gIC8vIHByYWN0aWNlIGZvciBBTUQgcmVnaXN0cmF0aW9uIGlzIHRvIGJlIGFub255bW91cywgdW5kZXJzY29yZSByZWdpc3RlcnNcbiAgLy8gYXMgYSBuYW1lZCBtb2R1bGUgYmVjYXVzZSwgbGlrZSBqUXVlcnksIGl0IGlzIGEgYmFzZSBsaWJyYXJ5IHRoYXQgaXNcbiAgLy8gcG9wdWxhciBlbm91Z2ggdG8gYmUgYnVuZGxlZCBpbiBhIHRoaXJkIHBhcnR5IGxpYiwgYnV0IG5vdCBiZSBwYXJ0IG9mXG4gIC8vIGFuIEFNRCBsb2FkIHJlcXVlc3QuIFRob3NlIGNhc2VzIGNvdWxkIGdlbmVyYXRlIGFuIGVycm9yIHdoZW4gYW5cbiAgLy8gYW5vbnltb3VzIGRlZmluZSgpIGlzIGNhbGxlZCBvdXRzaWRlIG9mIGEgbG9hZGVyIHJlcXVlc3QuXG4gIGlmICh0eXBlb2YgZGVmaW5lID09PSAnZnVuY3Rpb24nICYmIGRlZmluZS5hbWQpIHtcbiAgICBkZWZpbmUoJ3VuZGVyc2NvcmUnLCBbXSwgZnVuY3Rpb24oKSB7XG4gICAgICByZXR1cm4gXztcbiAgICB9KTtcbiAgfVxufS5jYWxsKHRoaXMpKTtcbiIsImlmICh0eXBlb2Ygd2luZG93ICE9PSBcInVuZGVmaW5lZFwiKSB7XG4gICAgbW9kdWxlLmV4cG9ydHMgPSB3aW5kb3c7XG59IGVsc2UgaWYgKHR5cGVvZiBnbG9iYWwgIT09IFwidW5kZWZpbmVkXCIpIHtcbiAgICBtb2R1bGUuZXhwb3J0cyA9IGdsb2JhbDtcbn0gZWxzZSBpZiAodHlwZW9mIHNlbGYgIT09IFwidW5kZWZpbmVkXCIpe1xuICAgIG1vZHVsZS5leHBvcnRzID0gc2VsZjtcbn0gZWxzZSB7XG4gICAgbW9kdWxlLmV4cG9ydHMgPSB7fTtcbn1cbiIsIm1vZHVsZS5leHBvcnRzID0gb25jZVxuXG5vbmNlLnByb3RvID0gb25jZShmdW5jdGlvbiAoKSB7XG4gIE9iamVjdC5kZWZpbmVQcm9wZXJ0eShGdW5jdGlvbi5wcm90b3R5cGUsICdvbmNlJywge1xuICAgIHZhbHVlOiBmdW5jdGlvbiAoKSB7XG4gICAgICByZXR1cm4gb25jZSh0aGlzKVxuICAgIH0sXG4gICAgY29uZmlndXJhYmxlOiB0cnVlXG4gIH0pXG59KVxuXG5mdW5jdGlvbiBvbmNlIChmbikge1xuICB2YXIgY2FsbGVkID0gZmFsc2VcbiAgcmV0dXJuIGZ1bmN0aW9uICgpIHtcbiAgICBpZiAoY2FsbGVkKSByZXR1cm5cbiAgICBjYWxsZWQgPSB0cnVlXG4gICAgcmV0dXJuIGZuLmFwcGx5KHRoaXMsIGFyZ3VtZW50cylcbiAgfVxufVxuIiwidmFyIGlzRnVuY3Rpb24gPSByZXF1aXJlKCdpcy1mdW5jdGlvbicpXG5cbm1vZHVsZS5leHBvcnRzID0gZm9yRWFjaFxuXG52YXIgdG9TdHJpbmcgPSBPYmplY3QucHJvdG90eXBlLnRvU3RyaW5nXG52YXIgaGFzT3duUHJvcGVydHkgPSBPYmplY3QucHJvdG90eXBlLmhhc093blByb3BlcnR5XG5cbmZ1bmN0aW9uIGZvckVhY2gobGlzdCwgaXRlcmF0b3IsIGNvbnRleHQpIHtcbiAgICBpZiAoIWlzRnVuY3Rpb24oaXRlcmF0b3IpKSB7XG4gICAgICAgIHRocm93IG5ldyBUeXBlRXJyb3IoJ2l0ZXJhdG9yIG11c3QgYmUgYSBmdW5jdGlvbicpXG4gICAgfVxuXG4gICAgaWYgKGFyZ3VtZW50cy5sZW5ndGggPCAzKSB7XG4gICAgICAgIGNvbnRleHQgPSB0aGlzXG4gICAgfVxuICAgIFxuICAgIGlmICh0b1N0cmluZy5jYWxsKGxpc3QpID09PSAnW29iamVjdCBBcnJheV0nKVxuICAgICAgICBmb3JFYWNoQXJyYXkobGlzdCwgaXRlcmF0b3IsIGNvbnRleHQpXG4gICAgZWxzZSBpZiAodHlwZW9mIGxpc3QgPT09ICdzdHJpbmcnKVxuICAgICAgICBmb3JFYWNoU3RyaW5nKGxpc3QsIGl0ZXJhdG9yLCBjb250ZXh0KVxuICAgIGVsc2VcbiAgICAgICAgZm9yRWFjaE9iamVjdChsaXN0LCBpdGVyYXRvciwgY29udGV4dClcbn1cblxuZnVuY3Rpb24gZm9yRWFjaEFycmF5KGFycmF5LCBpdGVyYXRvciwgY29udGV4dCkge1xuICAgIGZvciAodmFyIGkgPSAwLCBsZW4gPSBhcnJheS5sZW5ndGg7IGkgPCBsZW47IGkrKykge1xuICAgICAgICBpZiAoaGFzT3duUHJvcGVydHkuY2FsbChhcnJheSwgaSkpIHtcbiAgICAgICAgICAgIGl0ZXJhdG9yLmNhbGwoY29udGV4dCwgYXJyYXlbaV0sIGksIGFycmF5KVxuICAgICAgICB9XG4gICAgfVxufVxuXG5mdW5jdGlvbiBmb3JFYWNoU3RyaW5nKHN0cmluZywgaXRlcmF0b3IsIGNvbnRleHQpIHtcbiAgICBmb3IgKHZhciBpID0gMCwgbGVuID0gc3RyaW5nLmxlbmd0aDsgaSA8IGxlbjsgaSsrKSB7XG4gICAgICAgIC8vIG5vIHN1Y2ggdGhpbmcgYXMgYSBzcGFyc2Ugc3RyaW5nLlxuICAgICAgICBpdGVyYXRvci5jYWxsKGNvbnRleHQsIHN0cmluZy5jaGFyQXQoaSksIGksIHN0cmluZylcbiAgICB9XG59XG5cbmZ1bmN0aW9uIGZvckVhY2hPYmplY3Qob2JqZWN0LCBpdGVyYXRvciwgY29udGV4dCkge1xuICAgIGZvciAodmFyIGsgaW4gb2JqZWN0KSB7XG4gICAgICAgIGlmIChoYXNPd25Qcm9wZXJ0eS5jYWxsKG9iamVjdCwgaykpIHtcbiAgICAgICAgICAgIGl0ZXJhdG9yLmNhbGwoY29udGV4dCwgb2JqZWN0W2tdLCBrLCBvYmplY3QpXG4gICAgICAgIH1cbiAgICB9XG59XG4iLCJtb2R1bGUuZXhwb3J0cyA9IGlzRnVuY3Rpb25cblxudmFyIHRvU3RyaW5nID0gT2JqZWN0LnByb3RvdHlwZS50b1N0cmluZ1xuXG5mdW5jdGlvbiBpc0Z1bmN0aW9uIChmbikge1xuICB2YXIgc3RyaW5nID0gdG9TdHJpbmcuY2FsbChmbilcbiAgcmV0dXJuIHN0cmluZyA9PT0gJ1tvYmplY3QgRnVuY3Rpb25dJyB8fFxuICAgICh0eXBlb2YgZm4gPT09ICdmdW5jdGlvbicgJiYgc3RyaW5nICE9PSAnW29iamVjdCBSZWdFeHBdJykgfHxcbiAgICAodHlwZW9mIHdpbmRvdyAhPT0gJ3VuZGVmaW5lZCcgJiZcbiAgICAgLy8gSUU4IGFuZCBiZWxvd1xuICAgICAoZm4gPT09IHdpbmRvdy5zZXRUaW1lb3V0IHx8XG4gICAgICBmbiA9PT0gd2luZG93LmFsZXJ0IHx8XG4gICAgICBmbiA9PT0gd2luZG93LmNvbmZpcm0gfHxcbiAgICAgIGZuID09PSB3aW5kb3cucHJvbXB0KSlcbn07XG4iLCJcbmV4cG9ydHMgPSBtb2R1bGUuZXhwb3J0cyA9IHRyaW07XG5cbmZ1bmN0aW9uIHRyaW0oc3RyKXtcbiAgcmV0dXJuIHN0ci5yZXBsYWNlKC9eXFxzKnxcXHMqJC9nLCAnJyk7XG59XG5cbmV4cG9ydHMubGVmdCA9IGZ1bmN0aW9uKHN0cil7XG4gIHJldHVybiBzdHIucmVwbGFjZSgvXlxccyovLCAnJyk7XG59O1xuXG5leHBvcnRzLnJpZ2h0ID0gZnVuY3Rpb24oc3RyKXtcbiAgcmV0dXJuIHN0ci5yZXBsYWNlKC9cXHMqJC8sICcnKTtcbn07XG4iLCJ2YXIgdHJpbSA9IHJlcXVpcmUoJ3RyaW0nKVxuICAsIGZvckVhY2ggPSByZXF1aXJlKCdmb3ItZWFjaCcpXG4gICwgaXNBcnJheSA9IGZ1bmN0aW9uKGFyZykge1xuICAgICAgcmV0dXJuIE9iamVjdC5wcm90b3R5cGUudG9TdHJpbmcuY2FsbChhcmcpID09PSAnW29iamVjdCBBcnJheV0nO1xuICAgIH1cblxubW9kdWxlLmV4cG9ydHMgPSBmdW5jdGlvbiAoaGVhZGVycykge1xuICBpZiAoIWhlYWRlcnMpXG4gICAgcmV0dXJuIHt9XG5cbiAgdmFyIHJlc3VsdCA9IHt9XG5cbiAgZm9yRWFjaChcbiAgICAgIHRyaW0oaGVhZGVycykuc3BsaXQoJ1xcbicpXG4gICAgLCBmdW5jdGlvbiAocm93KSB7XG4gICAgICAgIHZhciBpbmRleCA9IHJvdy5pbmRleE9mKCc6JylcbiAgICAgICAgICAsIGtleSA9IHRyaW0ocm93LnNsaWNlKDAsIGluZGV4KSkudG9Mb3dlckNhc2UoKVxuICAgICAgICAgICwgdmFsdWUgPSB0cmltKHJvdy5zbGljZShpbmRleCArIDEpKVxuXG4gICAgICAgIGlmICh0eXBlb2YocmVzdWx0W2tleV0pID09PSAndW5kZWZpbmVkJykge1xuICAgICAgICAgIHJlc3VsdFtrZXldID0gdmFsdWVcbiAgICAgICAgfSBlbHNlIGlmIChpc0FycmF5KHJlc3VsdFtrZXldKSkge1xuICAgICAgICAgIHJlc3VsdFtrZXldLnB1c2godmFsdWUpXG4gICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgcmVzdWx0W2tleV0gPSBbIHJlc3VsdFtrZXldLCB2YWx1ZSBdXG4gICAgICAgIH1cbiAgICAgIH1cbiAgKVxuXG4gIHJldHVybiByZXN1bHRcbn0iLCJDb2xvcnMgPSByZXF1aXJlKFwibXNhLWNvbG9yc2NoZW1lc1wiKVxuXG5Nb2RlbCA9IHJlcXVpcmUoXCJiYWNrYm9uZS10aGluXCIpLk1vZGVsXG5cbiMgdGhpcyBpcyBhbiBleGFtcGxlIG9mIGhvdyBvbmUgY291bGQgY29sb3IgdGhlIE1TQVxuIyBmZWVsIGZyZWUgdG8gY3JlYXRlIHlvdXIgb3duIGNvbG9yIHNjaGVtZSBpbiB0aGUgL2Nzcy9zY2hlbWVzIGZvbGRlclxubW9kdWxlLmV4cG9ydHMgPSBDb2xvcnNjaGVtZSA9IE1vZGVsLmV4dGVuZFxuXG4gIGRlZmF1bHRzOlxuICAgIHNjaGVtZTogXCJ0YXlsb3JcIiAjIG5hbWUgb2YgeW91ciBjb2xvciBzY2hlbWVcbiAgICBjb2xvckJhY2tncm91bmQ6IHRydWUgIyBvdGhlcndpc2Ugb25seSB0aGUgdGV4dCB3aWxsIGJlIGNvbG9yZWRcbiAgICBzaG93TG93ZXJDYXNlOiB0cnVlICMgdXNlZCB0byBoaWRlIGFuZCBzaG93IGxvd2VyY2FzZSBjaGFycyBpbiB0aGUgb3ZlcnZpZXdib3hcbiAgICBvcGFjaXR5OiAwLjYgIyBvcGFjaXR5IGZvciB0aGUgcmVzaWR1ZXNcblxuICBpbml0aWFsaXplOiAoZGF0YSxzZXFzLCBzdGF0KSAtPlxuICAgIEBjb2xvcnMgPSBuZXcgQ29sb3JzKFxuICAgICAgc2Vxczogc2Vxc1xuICAgICAgY29uc2VydmF0aW9uOiAtPlxuICAgICAgICBzdGF0LnNjYWxlKHN0YXQuY29uc2VydmF0aW9uKCkpXG4gICAgKVxuICAgICMgdGhlIHN0YXRzIG1vZHVsZSBzZW5kcyBhbiBldmVudCBldmVyeSB0aW1lIGl0IGlzIHJlZnJlc2hlZFxuICAgIHN0YXQub24gXCJyZXNldFwiLCAtPlxuICAgICAgaWYgQGdldFNlbGVjdGVkU2NoZW1lKCkudHlwZSBpcyBcImR5blwiXG4gICAgICAgIEBnZXRTZWxlY3RlZFNjaGVtZSgpLnJlc2V0KClcbiAgICAsQFxuXG4gICMgWW91IGNhbiBlbnRlciB5b3VyIG93biBjb2xvciBzY2hlbWUgaGVyZVxuICBhZGRTdGF0aWNTY2hlbWU6IChuYW1lLCBkaWN0KSAtPlxuICAgIEBjb2xvcnMuYWRkU3RhdGljU2NoZW1lIG5hbWUsZGljdFxuXG4gIGFkZER5blNjaGVtZTogKG5hbWUsIGZ1bikgLT5cbiAgICBAY29sb3JzLmFkZER5blNjaGVtZSBuYW1lLGZ1blxuXG4gIGdldFNjaGVtZTogKG5hbWUpIC0+XG4gICAgQGNvbG9ycy5nZXRTY2hlbWUgbmFtZVxuXG4gIGdldFNlbGVjdGVkU2NoZW1lOiAtPlxuICAgIEBjb2xvcnMuZ2V0U2NoZW1lIEBnZXQoXCJzY2hlbWVcIilcbiIsIk1vZGVsID0gcmVxdWlyZShcImJhY2tib25lLXRoaW5cIikuTW9kZWxcbl8gPSByZXF1aXJlIFwidW5kZXJzY29yZVwiXG5cbiMgbW9kZWwgZm9yIGNvbHVtbiBwcm9wZXJ0aWVzIChsaWtlIHRoZWlyIGhpZGRlbiBzdGF0ZSlcbm1vZHVsZS5leHBvcnRzID0gQ29sdW1ucyA9IE1vZGVsLmV4dGVuZFxuXG4gIGluaXRpYWxpemU6IChvLHN0YXQpIC0+XG4gICAgIyBoaWRkZW4gY29sdW1uc1xuICAgIEAuc2V0IFwiaGlkZGVuXCIsIFtdIHVubGVzcyBALmdldChcImhpZGRlblwiKT9cbiAgICBAc3RhdHMgPSBzdGF0XG5cbiAgIyBhc3N1bWVzIGhpZGRlbiBjb2x1bW5zIGFyZSBzb3J0ZWRcbiAgIyBAcmV0dXJucyBuIFtpbnRdIG51bWJlciBvZiBoaWRkZW4gY29sdW1ucyB1bnRpbCBuXG4gIGNhbGNIaWRkZW5Db2x1bW5zOiAobikgLT5cbiAgICBoaWRkZW4gPSBAZ2V0IFwiaGlkZGVuXCJcbiAgICBuZXdYID0gblxuICAgIGZvciBpIGluIGhpZGRlblxuICAgICAgaWYgaSA8PSBuZXdYXG4gICAgICAgIG5ld1grK1xuICAgIG5ld1ggLSBuXG4iLCJNb2RlbCA9IHJlcXVpcmUoXCJiYWNrYm9uZS10aGluXCIpLk1vZGVsXG5cbiMgc2ltcGxlIHVzZXIgY29uZmlnXG5tb2R1bGUuZXhwb3J0cyA9IENvbmZpZyA9IE1vZGVsLmV4dGVuZFxuXG4gIGRlZmF1bHRzOlxuICAgIHJlZ2lzdGVyTW91c2VIb3ZlcjogZmFsc2UsXG4gICAgcmVnaXN0ZXJNb3VzZUNsaWNrczogdHJ1ZSxcbiAgICBpbXBvcnRQcm94eTogXCJodHRwczovL2NvcnMtYW55d2hlcmUuaGVyb2t1YXBwLmNvbS9cIlxuICAgIGV2ZW50QnVzOiB0cnVlXG4gICAgYWxwaGFiZXRTaXplOiAyMFxuICAgIGRyb3BJbXBvcnQ6IGZhbHNlXG4gICAgZGVidWc6IGZhbHNlXG4gICAgaGFzUmVmOiBmYWxzZSAjIGhhc1JlZmVyZW5jZVxuIiwiTG9hZGVyID0gcmVxdWlyZSBcIi4uL3V0aWxzL2xvYWRlclwiXG5Nb2RlbCA9IHJlcXVpcmUoXCJiYWNrYm9uZS10aGluXCIpLk1vZGVsXG5cbm1vZHVsZS5leHBvcnRzID0gUGFja2FnZSA9IE1vZGVsLmV4dGVuZFxuXG4gIGluaXRpYWxpemU6IChnKSAtPlxuICAgIEBnID0gZ1xuXG4gIGRldmVsb3BtZW50OlxuICAgIFwibXNhLXRudFwiOiBcIi9ub2RlX21vZHVsZXMvbXNhLXRudC9idWlsZC9idW5kbGUuanNcIlxuICAgIFwiYmlvanMtaW8tbmV3aWNrXCI6IFwiL25vZGVfbW9kdWxlcy9iaW9qcy1pby1uZXdpY2svYnVpbGQvYmlvanMtaW8tbmV3aWNrLm1pbi5qc1wiXG5cbiAgIyBsb2FkcyBhIHBhY2thZ2UgaW50byB0aGUgTVNBIGNvbXBvbmVudCAoaWYgaXQgaXMgbm90IGF2YWlsYWJsZSB5ZXQpXG4gIGxvYWRQYWNrYWdlOiAocGtnLCBjYikgLT5cbiAgICB0cnlcbiAgICAgIHAgPSByZXF1aXJlIHBrZ1xuICAgICAgY2IgcFxuICAgIGNhdGNoXG4gICAgICBMb2FkZXIubG9hZFNjcmlwdCBAX3BrZ1VSTChwa2cpLCBjYlxuXG4gICMgbG9hZHMgbXVsdGlwbGUgcGFja2FnZXMgYW5kIGNhbGxzIHRoZSBjYiBpZiBhbGwgcGFja2FnZXMgYXJlIGxvYWRlZFxuICBsb2FkUGFja2FnZXM6IChwa2dzLCBjYikgLT5cbiAgICAgIGNicyA9IExvYWRlci5qb2luQ2IgLT5cbiAgICAgICAgY2IoKVxuICAgICAgLCBwa2dzLmxlbmd0aFxuICAgICAgcGtncy5mb3JFYWNoIChwa2cpID0+XG4gICAgICAgIEBsb2FkUGFja2FnZSBwa2csIGNic1xuXG4gICMgaW50ZXJuYWwgbWV0aG9kIHRvIGdldCB0aGUgVVJMIGZvciBhIHBhY2thZ2VcbiAgX3BrZ1VSTDogKHBrZykgLT5cblxuICAgIGlmIEBnLmNvbmZpZy5nZXQoXCJkZWJ1Z1wiKVxuICAgICAgdXJsID0gQGRldmVsb3BtZW50W3BrZ11cbiAgICBlbHNlXG4gICAgICB1cmwgPSBcImh0dHA6Ly93enJkLmluL2J1bmRsZS8je3BrZ31AbGF0ZXN0XCJcblxuICAgIHVybFxuIiwiXyA9IHJlcXVpcmUgXCJ1bmRlcnNjb3JlXCJcbk1vZGVsID0gcmVxdWlyZShcImJhY2tib25lLXRoaW5cIikuTW9kZWxcblxuIyBob2xkcyB0aGUgY3VycmVudCB1c2VyIHNlbGVjdGlvblxuU2VsZWN0aW9uID0gTW9kZWwuZXh0ZW5kXG4gIGRlZmF1bHRzOlxuICAgIHR5cGU6IFwic3VwZXJcIlxuXG5Sb3dTZWxlY3Rpb24gPSBTZWxlY3Rpb24uZXh0ZW5kXG4gIGRlZmF1bHRzOiBfLmV4dGVuZCB7fSwgU2VsZWN0aW9uOjouZGVmYXVsdHMsXG4gICAgdHlwZTogXCJyb3dcIlxuICAgIHNlcUlkOiBcIlwiXG5cbiAgaW5Sb3c6IChzZXFJZCkgLT5cbiAgICBzZXFJZCBpcyBALmdldCBcInNlcUlkXCJcblxuICBpbkNvbHVtbjogKHJvd1BvcykgLT5cbiAgICB0cnVlXG5cbiAgZ2V0TGVuZ3RoOiAtPlxuICAgIDFcblxuQ29sdW1uU2VsZWN0aW9uID0gU2VsZWN0aW9uLmV4dGVuZFxuICBkZWZhdWx0czogXy5leHRlbmQge30sIFNlbGVjdGlvbjo6LmRlZmF1bHRzLFxuICAgIHR5cGU6IFwiY29sdW1uXCJcbiAgICB4U3RhcnQ6IC0xXG4gICAgeEVuZDogLTFcblxuICBpblJvdzogKCkgLT5cbiAgICB0cnVlXG5cbiAgaW5Db2x1bW46IChyb3dQb3MpIC0+XG4gICAgeFN0YXJ0IDw9IHJvd1BvcyAmJiByb3dQb3MgPD0geEVuZFxuXG4gIGdldExlbmd0aDogLT5cbiAgICB4RW5kIC0geFN0YXJ0XG5cbiMgcG9zIGlzIGEgbWl4aW4gb2YgY29sdW1uIGFuZCByb3dcbiMgc3RhcnQgd2l0aCBSb3cgYW5kIG9ubHkgb3ZlcndyaXRlIFwiaW5Db2x1bW5cIiBmcm9tIENvbHVtblxuUG9zU2VsZWN0aW9uID0gUm93U2VsZWN0aW9uLmV4dGVuZCBfLmV4dGVuZCB7fSxfLnBpY2soQ29sdW1uU2VsZWN0aW9uLFwiaW5Db2x1bW5cIiksXG4gIF8ucGljayhDb2x1bW5TZWxlY3Rpb24sXCJnZXRMZW5ndGhcIilcblxuICAjIG1lcmdlIGJvdGggZGVmYXVsdHNcbiAgZGVmYXVsdHM6IF8uZXh0ZW5kIHt9LCBDb2x1bW5TZWxlY3Rpb246Oi5kZWZhdWx0cywgUm93U2VsZWN0aW9uOjouZGVmYXVsdHMsXG4gICAgdHlwZTogXCJwb3NcIlxuXG5tb2R1bGUuZXhwb3J0cy5zZWwgPSBTZWxlY3Rpb25cbm1vZHVsZS5leHBvcnRzLnBvc3NlbCA9IFBvc1NlbGVjdGlvblxubW9kdWxlLmV4cG9ydHMucm93c2VsID0gUm93U2VsZWN0aW9uXG5tb2R1bGUuZXhwb3J0cy5jb2x1bW5zZWwgPSBDb2x1bW5TZWxlY3Rpb25cbiIsInNlbCA9IHJlcXVpcmUgXCIuL1NlbGVjdGlvblwiXG5fID0gcmVxdWlyZSBcInVuZGVyc2NvcmVcIlxuQ29sbGVjdGlvbiA9IHJlcXVpcmUoXCJiYWNrYm9uZS10aGluXCIpLkNvbGxlY3Rpb25cblxuIyBob2xkcyB0aGUgY3VycmVudCB1c2VyIHNlbGVjdGlvblxubW9kdWxlLmV4cG9ydHMgPSBTZWxlY3Rpb25NYW5hZ2VyID0gQ29sbGVjdGlvbi5leHRlbmRcblxuICBtb2RlbDogc2VsLnNlbFxuXG4gIGluaXRpYWxpemU6IChkYXRhLCBvcHRzKSAtPlxuICAgIGlmIG9wdHM/XG4gICAgICBAZyA9IG9wdHMuZ1xuXG4gICAgICBAbGlzdGVuVG8gQGcsIFwicmVzaWR1ZTpjbGlja1wiLCAoZSkgLT5cbiAgICAgICAgQF9oYW5kbGVFIGUuZXZ0LCBuZXcgc2VsLnBvc3NlbFxuICAgICAgICAgIHhTdGFydDogZS5yb3dQb3NcbiAgICAgICAgICB4RW5kOiBlLnJvd1Bvc1xuICAgICAgICAgIHNlcUlkOiBlLnNlcUlkXG5cbiAgICAgIEBsaXN0ZW5UbyBAZywgXCJyb3c6Y2xpY2tcIiwgKGUpIC0+XG4gICAgICAgIEBfaGFuZGxlRSBlLmV2dCwgbmV3IHNlbC5yb3dzZWxcbiAgICAgICAgICBzZXFJZDogZS5zZXFJZFxuXG4gICAgICBAbGlzdGVuVG8gQGcsIFwiY29sdW1uOmNsaWNrXCIsIChlKSAtPlxuICAgICAgICBAX2hhbmRsZUUgZS5ldnQsIG5ldyBzZWwuY29sdW1uc2VsXG4gICAgICAgICAgeFN0YXJ0OiBlLnJvd1Bvc1xuICAgICAgICAgIHhFbmQ6IGUucm93UG9zICsgZS5zdGVwU2l6ZSAtIDFcblxuICAgICNAbGlzdGVuVG8gQCwgXCJhZGQgcmVzZXRcIiwgKGUpIC0+XG4gICAgICAjQF9yZWR1Y2VDb2x1bW5zKClcblxuICBnZXRTZWxGb3JSb3c6IChzZXFJZCkgLT5cbiAgICBAZmlsdGVyIChlbCkgLT4gZWwuaW5Sb3cgc2VxSWRcblxuICBnZXRTZWxGb3JDb2x1bW5zOiAocm93UG9zKSAtPlxuICAgIEBmaWx0ZXIgKGVsKSAtPiBlbC5pbkNvbHVtbiByb3dQb3NcblxuICBhZGRKU09OOiAobW9kZWwpIC0+XG4gICAgQGFkZCBAX2Zyb21KU09OIG1vZGVsXG5cbiAgX2Zyb21KU09OOiAobW9kZWwpIC0+XG4gICBzd2l0Y2ggbW9kZWwudHlwZVxuICAgICB3aGVuIFwiY29sdW1uXCIgdGhlbiAgbmV3IHNlbC5jb2x1bW5zZWwgbW9kZWxcbiAgICAgd2hlbiBcInJvd1wiIHRoZW4gIG5ldyBzZWwucm93c2VsIG1vZGVsXG4gICAgIHdoZW4gXCJwb3NcIiB0aGVuICBuZXcgc2VsLnBvc3NlbCBtb2RlbFxuXG4gICMgYWxsb3dzIG5vcm1hbCBKU09OIGlucHV0XG4gIHJlc2V0SlNPTjogKGFycikgLT5cbiAgICBhcnIgPSBfLm1hcCBhcnIsIEBfZnJvbUpTT05cbiAgICBAcmVzZXQgYXJyXG5cbiAgIyBAcmV0dXJucyBhcnJheSBvZiBhbGwgc2VsZWN0ZWQgcmVzaWR1ZXMgZm9yIGEgcm93XG4gIGdldEJsb2Nrc0ZvclJvdzogKHNlcUlkLCBtYXhMZW4pIC0+XG4gICAgc2VsaXMgPSBAZmlsdGVyIChlbCkgLT4gZWwuaW5Sb3cgc2VxSWRcbiAgICBibG9ja3MgPSBbXVxuICAgIGZvciBzZWxpIGluIHNlbGlzXG4gICAgICBpZiBzZWxpLmF0dHJpYnV0ZXMudHlwZSBpcyBcInJvd1wiXG4gICAgICAgIGJsb2NrcyA9IFswLi5tYXhMZW5dXG4gICAgICAgIGJyZWFrXG4gICAgICBlbHNlXG4gICAgICAgIGJsb2NrcyA9IGJsb2Nrcy5jb25jYXQgW3NlbGkuYXR0cmlidXRlcy54U3RhcnQgLi4gc2VsaS5hdHRyaWJ1dGVzLnhFbmRdXG4gICAgYmxvY2tzXG5cbiAgIyBAcmV0dXJucyBhcnJheSB3aXRoIGFsbCBjb2x1bW5zIGJlaW5nIHNlbGVjdGVkXG4gICMgZXhhbXBsZTogMC00Li4uIDEyLTE0IHNlbGVjdGVkIC0+IFswLDEsMiwzLDQsMTIsMTMsMTRdXG4gIGdldEFsbENvbHVtbkJsb2NrczogKGNvbmYpIC0+XG4gICAgbWF4TGVuID0gY29uZi5tYXhMZW5cbiAgICB3aXRoUG9zID0gY29uZi53aXRoUG9zXG4gICAgYmxvY2tzID0gW11cbiAgICBpZiBjb25mLndpdGhQb3NcbiAgICAgIGZpbHRlcmVkID0gKEBmaWx0ZXIgKGVsKSAtPiBlbC5nZXQoJ3hTdGFydCcpPyApXG4gICAgZWxzZVxuICAgICAgZmlsdGVyZWQgPSAoQGZpbHRlciAoZWwpIC0+IGVsLmdldCgndHlwZScpIGlzIFwiY29sdW1uXCIpXG4gICAgZm9yIHNlbGkgaW4gZmlsdGVyZWRcbiAgICAgIGJsb2NrcyA9IGJsb2Nrcy5jb25jYXQgW3NlbGkuYXR0cmlidXRlcy54U3RhcnQuLnNlbGkuYXR0cmlidXRlcy54RW5kXVxuICAgIGJsb2NrcyA9IF8udW5pcSBibG9ja3NcbiAgICByZXR1cm4gYmxvY2tzXG5cbiAgIyBpbnZlcnRzIHRoZSBjdXJyZW50IHNlbGVjdGlvbiBmb3IgY29sdW1uc1xuICAjIEBwYXJhbSByb3dzIFtBcnJheV0gYWxsIGF2YWlsYWJsZSBzZXFJZFxuICBpbnZlcnRSb3c6IChyb3dzKSAtPlxuICAgIHNlbFJvd3MgPSBAd2hlcmUodHlwZTpcInJvd1wiKVxuICAgIHNlbFJvd3MgPSBfLm1hcCBzZWxSb3dzLCAoZWwpIC0+IGVsLmF0dHJpYnV0ZXMuc2VxSWRcbiAgICBpbnZlcnRlZCA9IF8uZmlsdGVyIHJvd3MsIChlbCkgLT5cbiAgICAgIHJldHVybiBmYWxzZSBpZiBzZWxSb3dzLmluZGV4T2YoZWwpID49IDAgIyBleGlzdGluZyBzZWxlY3Rpb25cbiAgICAgIHRydWVcbiAgICAjIG1hc3MgaW5zZXJ0XG4gICAgcyA9IFtdXG4gICAgZm9yIGVsIGluIGludmVydGVkXG4gICAgICBzLnB1c2ggbmV3IHNlbC5yb3dzZWwoc2VxSWQ6ZWwpXG4gICAgQHJlc2V0IHNcblxuICAjIGludmVydHMgdGhlIGN1cnJlbnQgc2VsZWN0aW9uIGZvciByb3dzXG4gICMgQHBhcmFtIHJvd3MgW0FycmF5XSBhbGwgYXZhaWxhYmxlIHJvd3MgKDAuLm1heC5sZW5ndGgpXG4gIGludmVydENvbDogKGNvbHVtbnMpIC0+XG4gICAgc2VsQ29sdW1ucyA9IEB3aGVyZSh0eXBlOlwiY29sdW1uXCIpXG4gICAgc2VsQ29sdW1ucyA9IF8ucmVkdWNlIHNlbENvbHVtbnMsIChtZW1vLGVsKSAtPlxuICAgICAgbWVtby5jb25jYXQgW2VsLmF0dHJpYnV0ZXMueFN0YXJ0IC4uIGVsLmF0dHJpYnV0ZXMueEVuZF1cbiAgICAsIFtdXG4gICAgaW52ZXJ0ZWQgPSBfLmZpbHRlciBjb2x1bW5zLCAoZWwpIC0+XG4gICAgICBpZiBzZWxDb2x1bW5zLmluZGV4T2YoZWwpID49IDBcbiAgICAgICAgIyBleGlzdGluZyBzZWxlY3Rpb25cbiAgICAgICAgcmV0dXJuIGZhbHNlXG4gICAgICB0cnVlXG4gICAgIyBtYXNzIGluc2VydFxuICAgIHJldHVybiBpZiBpbnZlcnRlZC5sZW5ndGggPT0gMFxuICAgIHMgPSBbXVxuICAgIHhTdGFydCA9IHhFbmQgPSBpbnZlcnRlZFswXVxuICAgIGZvciBlbCBpbiBpbnZlcnRlZFxuICAgICAgaWYgeEVuZCArIDEgaXMgZWxcbiAgICAgICAgIyBjb250aWd1b3VzXG4gICAgICAgIHhFbmQgPSBlbFxuICAgICAgZWxzZVxuICAgICAgICAjIGdhcCBiZXR3ZWVuXG4gICAgICAgIHMucHVzaCBuZXcgc2VsLmNvbHVtbnNlbCh4U3RhcnQ6eFN0YXJ0LCB4RW5kOiB4RW5kKVxuICAgICAgICB4U3RhcnQgPSB4RW5kID0gZWxcbiAgICAjIGNoZWNrIGZvciBsYXN0IGdhcFxuICAgIHMucHVzaCBuZXcgc2VsLmNvbHVtbnNlbCh4U3RhcnQ6eFN0YXJ0LCB4RW5kOiBpbnZlcnRlZFtpbnZlcnRlZC5sZW5ndGggLSAxXSkgaWYgeFN0YXJ0IGlzbnQgeEVuZFxuICAgIEByZXNldCBzXG5cbiAgIyBtZXRob2QgdG8gZGVjaWRlIHdoZXRoZXIgdG8gc3RhcnQgYSBuZXcgc2VsZWN0aW9uXG4gICMgb3IgYXBwZW5kIHRvIHRoZSBvbGQgb25lIChkZXBlbmRpbmcgd2hldGhlciBDVFJMIHdhcyBwcmVzc2VkKVxuICBfaGFuZGxlRTogKGUsIHNlbGVjdGlvbikgLT5cbiAgICBpZiBlLmN0cmxLZXkgb3IgZS5tZXRhS2V5XG4gICAgICBAYWRkIHNlbGVjdGlvblxuICAgIGVsc2VcbiAgICAgIEByZXNldCBbc2VsZWN0aW9uXVxuXG4gICMgZXhwZXJpbWVudGFsIHJlZHVjZSBtZXRob2QgZm9yIGNvbHVtbnNcbiAgX3JlZHVjZUNvbHVtbnM6IC0+XG4gICAgQGVhY2ggKGVsLCBpbmRleCwgYXJyKSAtPlxuICAgICAgY29scyA9IF8uZmlsdGVyIGFyciwgKGVsKSAtPiBlbC5nZXQoJ3R5cGUnKSBpcyAnY29sdW1uJ1xuICAgICAgeFN0YXJ0ID0gZWwuZ2V0KCd4U3RhcnQnKVxuICAgICAgeEVuZCA9IGVsLmdldCgneEVuZCcpXG5cbiAgICAgIGxlZnRzID0gXy5maWx0ZXIgY29scywgKGVsKSAtPiBlbC5nZXQoJ3hFbmQnKSBpcyAoeFN0YXJ0IC0gMSlcbiAgICAgIGZvciBsZWZ0IGluIGxlZnRzXG4gICAgICAgIGxlZnQuc2V0ICd4RW5kJywgeFN0YXJ0XG5cbiAgICAgIHJpZ2h0cyA9IF8uZmlsdGVyIGNvbHMsIChlbCkgLT4gZWwuZ2V0KCd4U3RhcnQnKSBpcyAoeEVuZCArIDEpXG4gICAgICBmb3IgcmlnaHQgaW4gcmlnaHRzXG4gICAgICAgIHJpZ2h0LnNldCAneFN0YXJ0JywgeEVuZFxuXG4gICAgICBpZiBsZWZ0cy5sZW5ndGggPiAwIG9yIHJpZ2h0cy5sZW5ndGggPiAwXG4gICAgICAgIGNvbnNvbGUubG9nIFwicmVtb3ZlZCBlbFwiXG4gICAgICAgIGVsLmNvbGxlY3Rpb24ucmVtb3ZlIGVsXG4iLCJNb2RlbCA9IHJlcXVpcmUoXCJiYWNrYm9uZS10aGluXCIpLk1vZGVsXG5cbiMgc2ltcGxlIHVzZXIgY29uZmlnXG5tb2R1bGUuZXhwb3J0cyA9IENvbmZpZyA9IE1vZGVsLmV4dGVuZFxuXG4gIGRlZmF1bHRzOlxuICAgIHNlYXJjaFRleHQ6IFwiXCJcbiIsIk1vZGVsID0gcmVxdWlyZShcImJhY2tib25lLXRoaW5cIikuTW9kZWxcblxuIyB2aXNpYmxlIGFyZWFzXG5tb2R1bGUuZXhwb3J0cyA9IFZpc2liaWxpdHkgPSBNb2RlbC5leHRlbmRcblxuICBkZWZhdWx0czpcblxuICAgICMgZm9yIHRoZSBTdGFnZVxuICAgIHNlYXJjaEJveDogLTEwXG4gICAgb3ZlcnZpZXdCb3g6IDMwXG4gICAgaGVhZGVyQm94OiAtMVxuICAgIGFsaWdubWVudEJvZHk6IDBcbiIsIk1vZGVsID0gcmVxdWlyZShcImJhY2tib25lLXRoaW5cIikuTW9kZWxcblxuIyB2aXNpYmxlIGFyZWFzXG5tb2R1bGUuZXhwb3J0cyA9IFZpc2liaWxpdHkgPSBNb2RlbC5leHRlbmRcblxuICBkZWZhdWx0czpcbiAgICBzZXF1ZW5jZXM6IHRydWVcbiAgICBtYXJrZXJzOiB0cnVlXG4gICAgbWV0YWNlbGw6IGZhbHNlXG4gICAgY29uc2VydjogZmFsc2VcbiAgICBvdmVydmlld2JveDogZmFsc2VcbiAgICBzZXFsb2dvOiBmYWxzZVxuICAgIGdhcEhlYWRlcjogZmFsc2VcbiAgICBsZWZ0SGVhZGVyOiB0cnVlXG5cbiAgICAjIGFib3V0IHRoZSBsYWJlbHNcbiAgICBsYWJlbHM6IHRydWVcbiAgICBsYWJlbE5hbWU6IHRydWVcbiAgICBsYWJlbElkOiB0cnVlXG4gICAgbGFiZWxQYXJ0aXRpb246IGZhbHNlXG4gICAgbGFiZWxDaGVja2JveDogZmFsc2VcblxuICAgICMgbWV0YSBzdHVmZlxuICAgIG1ldGFHYXBzOiB0cnVlXG4gICAgbWV0YUlkZW50aXR5OiB0cnVlXG4gICAgbWV0YUxpbmtzOiB0cnVlXG5cbiAgY29uc3RydWN0b3I6IChhdHRyaWJ1dGVzLG9wdGlvbnMpIC0+XG4gICAgQGNhbGNEZWZhdWx0cyBvcHRpb25zLm1vZGVsXG4gICAgTW9kZWwuYXBwbHkgQCwgYXJndW1lbnRzXG5cbiAgaW5pdGlhbGl6ZTogLT5cblxuICAgIEBsaXN0ZW5UbyBALCBcImNoYW5nZTptZXRhTGlua3MgY2hhbmdlOm1ldGFJZGVudGl0eSBjaGFuZ2U6bWV0YUdhcHNcIiwgLT5cbiAgICAgIEB0cmlnZ2VyIFwiY2hhbmdlOm1ldGFjZWxsXCJcbiAgICAsIEBcblxuICAgIEBsaXN0ZW5UbyBALCBcImNoYW5nZTpsYWJlbE5hbWUgY2hhbmdlOmxhYmVsSWQgY2hhbmdlOmxhYmVsUGFydGl0aW9uIGNoYW5nZTpsYWJlbENoZWNrYm94XCIsIC0+XG4gICAgICBAdHJpZ2dlciBcImNoYW5nZTpsYWJlbHNcIlxuICAgICwgQFxuXG4gICAgQGxpc3RlblRvIEAsXCJjaGFuZ2U6bWFya2VycyBjaGFuZ2U6Y29uc2VydiBjaGFuZ2U6c2VxbG9nbyBjaGFuZ2U6Z2FwSGVhZGVyXCIsIC0+XG4gICAgICBAdHJpZ2dlciBcImNoYW5nZTpoZWFkZXJcIlxuICAgICwgQFxuXG4gIGNhbGNEZWZhdWx0czogKHNlcXMpIC0+XG4gICAgY29uc29sZS5sb2cgc2Vxc1xuICAgIGlmIHNlcXMubGVuZ3RoID4gMFxuICAgICAgc2VxID0gc2Vxcy5hdCgwKVxuICAgICAgaWRzID0gc2VxLmdldCBcImlkc1wiXG4gICAgICBpZiBpZHMgaXNudCB1bmRlZmluZWQgYW5kIE9iamVjdC5rZXlzKGlkcykubGVuZ3RoIGlzIDBcbiAgICAgICAgQGRlZmF1bHRzLm1ldGFMaW5rcyA9IGZhbHNlXG4iLCJNb2RlbCA9IHJlcXVpcmUoXCJiYWNrYm9uZS10aGluXCIpLk1vZGVsXG4jIHBpeGVsIHByb3BlcnRpZXMgZm9yIHNvbWUgY29tcG9uZW50c1xubW9kdWxlLmV4cG9ydHMgPSBab29tZXIgPSBNb2RlbC5leHRlbmRcblxuICBjb25zdHJ1Y3RvcjogKGF0dHJpYnV0ZXMsb3B0aW9ucykgLT5cbiAgICBAY2FsY0RlZmF1bHRzIG9wdGlvbnMubW9kZWxcbiAgICBNb2RlbC5hcHBseSBALCBhcmd1bWVudHNcbiAgICBAZyA9IG9wdGlvbnMuZ1xuXG4gICAgIyBldmVudHNcbiAgICBAbGlzdGVuVG8gQCwgXCJjaGFuZ2U6bGFiZWxJZExlbmd0aCBjaGFuZ2U6bGFiZWxOYW1lTGVuZ3RoIGNoYW5nZTpsYWJlbFBhcnRMZW5ndGggY2hhbmdlOmxhYmVsQ2hlY2tMZW5ndGhcIiwgLT5cbiAgICAgIEB0cmlnZ2VyIFwiY2hhbmdlOmxhYmVsV2lkdGhcIiwgQGdldExhYmVsV2lkdGgoKVxuICAgICwgQFxuICAgIEBsaXN0ZW5UbyBALCBcImNoYW5nZTptZXRhTGlua3NXaWR0aCBjaGFuZ2U6bWV0YUlkZW50V2lkdGggY2hhbmdlOm1ldGFHYXBXaWR0aFwiLCAtPlxuICAgICAgQHRyaWdnZXIgXCJjaGFuZ2U6bWV0YVdpZHRoXCIsIEBnZXRNZXRhV2lkdGgoKVxuICAgICwgQFxuXG4gICAgQFxuXG4gIGRlZmF1bHRzOlxuXG4gICAgIyBnZW5lcmFsXG4gICAgYWxpZ25tZW50V2lkdGg6IFwiYXV0b1wiXG4gICAgYWxpZ25tZW50SGVpZ2h0OiAyMjVcbiAgICBjb2x1bW5XaWR0aDogMTVcbiAgICByb3dIZWlnaHQ6IDE1XG4gICAgYXV0b1Jlc2l6ZTogdHJ1ZSAjIG9ubHkgZm9yIHRoZSB3aWR0aFxuXG4gICAgIyBsYWJlbHNcbiAgICB0ZXh0VmlzaWJsZTogdHJ1ZVxuICAgIGxhYmVsSWRMZW5ndGg6IDMwXG4gICAgbGFiZWxOYW1lTGVuZ3RoOiAxMDBcbiAgICBsYWJlbFBhcnRMZW5ndGg6IDE1XG4gICAgbGFiZWxDaGVja0xlbmd0aDogMTVcbiAgICBsYWJlbEZvbnRzaXplOiAxM1xuICAgIGxhYmVsTGluZUhlaWdodDogXCIxM3B4XCJcblxuICAgICMgbWFya2VyXG4gICAgbWFya2VyRm9udHNpemU6IFwiMTBweFwiXG4gICAgc3RlcFNpemU6IDFcbiAgICBtYXJrZXJTdGVwU2l6ZTogMlxuICAgIG1hcmtlckhlaWdodDogMjBcblxuICAgICMgY2FudmFzXG4gICAgcmVzaWR1ZUZvbnQ6IFwiMTNcIiAjIGluIHB4XG4gICAgY2FudmFzRXZlbnRTY2FsZTogMVxuXG4gICAgIyBvdmVydmlldyBib3hcbiAgICBib3hSZWN0SGVpZ2h0OiAyXG4gICAgYm94UmVjdFdpZHRoOiAyXG4gICAgb3ZlcnZpZXdib3hQYWRkaW5nVG9wOiAxMFxuXG4gICAgIyBtZW51XG4gICAgbWVudUZvbnRzaXplOiBcIjE0cHhcIlxuICAgIG1lbnVJdGVtRm9udHNpemU6IFwiMTRweFwiXG4gICAgbWVudUl0ZW1MaW5lSGVpZ2h0OiBcIjE0cHhcIlxuICAgIG1lbnVNYXJnaW5MZWZ0OiBcIjNweFwiXG4gICAgbWVudVBhZGRpbmc6IFwiM3B4IDRweCAzcHggNHB4XCJcblxuICAgICMgbWV0YSBjZWxsXG4gICAgbWV0YUdhcFdpZHRoOiAzNVxuICAgIG1ldGFJZGVudFdpZHRoOiA0MFxuICAgIG1ldGFMaW5rc1dpZHRoOiAyNVxuXG4gICAgIyBpbnRlcm5hbCBwcm9wc1xuICAgIF9hbGlnbm1lbnRTY3JvbGxMZWZ0OiAwXG4gICAgX2FsaWdubWVudFNjcm9sbFRvcDogMFxuXG4gICMgc2V0cyBzb21lIGRlZmF1bHRzLCBkZXBlbmRpbmcgb24gdGhlIG1vZGVsXG4gIGNhbGNEZWZhdWx0czogKG1vZGVsKSAtPlxuICAgIG1heExlbiA9IG1vZGVsLmdldE1heExlbmd0aCgpXG4gICAgaWYgbWF4TGVuIDwgMjAwIGFuZCBtb2RlbC5sZW5ndGggPCAzMFxuICAgICAgQGRlZmF1bHRzLmJveFJlY3RXaWR0aCA9IEBkZWZhdWx0cy5ib3hSZWN0SGVpZ2h0ID0gNVxuXG4gICMgQHBhcmFtIG4gW2ludF0gbWF4TGVuZ3RoIG9mIGFsbCBzZXFzXG4gIGdldEFsaWdubWVudFdpZHRoOiAobikgLT5cbiAgICBpZiBAZ2V0KFwiYXV0b1Jlc2l6ZVwiKSBhbmQgbiBpc250IHVuZGVmaW5lZFxuICAgICAgcmV0dXJuIEBnZXQoXCJjb2x1bW5XaWR0aFwiKSAqIG5cbiAgICBpZiBAZ2V0KFwiYWxpZ25tZW50V2lkdGhcIikgaXMgdW5kZWZpbmVkIG9yIEBnZXQoXCJhbGlnbm1lbnRXaWR0aFwiKSBpcyBcImF1dG9cIiBvciBAZ2V0KFwiYWxpZ25tZW50V2lkdGhcIikgaXMgMFxuICAgICAgQF9hZGp1c3RXaWR0aCgpXG4gICAgZWxzZVxuICAgICAgQGdldCBcImFsaWdubWVudFdpZHRoXCJcblxuICAjIEBwYXJhbSBuIFtpbnRdIG51bWJlciBvZiByZXNpZHVlcyB0byBzY3JvbGwgdG8gdGhlIHJpZ2h0XG4gIHNldExlZnRPZmZzZXQ6IChuKSAtPlxuICAgIHZhbCA9IChuKVxuICAgIHZhbCA9IE1hdGgubWF4IDAsIHZhbFxuICAgIHZhbCAtPSBAZy5jb2x1bW5zLmNhbGNIaWRkZW5Db2x1bW5zIHZhbFxuICAgIEBzZXQgXCJfYWxpZ25tZW50U2Nyb2xsTGVmdFwiLCB2YWwgKiBAZ2V0KCdjb2x1bW5XaWR0aCcpXG5cbiAgIyBAcGFyYW0gbiBbaW50XSByb3cgdGhhdCBzaG91bGQgYmUgb24gdG9wXG4gIHNldFRvcE9mZnNldDogKG4pIC0+XG4gICAgdmFsID0gTWF0aC5tYXggMCwgKG4gLSAxKVxuICAgIGhlaWdodCA9IDBcbiAgICBmb3IgaSBpbiBbMC4udmFsXSBieSAxXG4gICAgICBzZXEgPSBAbW9kZWwuYXQgaVxuICAgICAgaGVpZ2h0ICs9IHNlcS5hdHRyaWJ1dGVzLmhlaWdodCB8fCAxXG4gICAgQHNldCBcIl9hbGlnbm1lbnRTY3JvbGxUb3BcIixoZWlnaHQgKiBAZ2V0KFwicm93SGVpZ2h0XCIpXG5cbiAgIyBsZW5ndGggb2YgYWxsIGVsZW1lbnRzIGxlZnQgdG8gdGhlIG1haW4gc2VxdWVuY2UgYm9keTogbGFiZWxzLCBtZXRhY2VsbCwgLi5cbiAgZ2V0TGVmdEJsb2NrV2lkdGg6IC0+XG4gICAgIHBhZGRpbmdMZWZ0ID0gMFxuICAgICBwYWRkaW5nTGVmdCArPSBAZ2V0TGFiZWxXaWR0aCgpIGlmIEBnLnZpcy5nZXQgXCJsYWJlbHNcIlxuICAgICBwYWRkaW5nTGVmdCArPSBAZ2V0TWV0YVdpZHRoKCkgaWYgQGcudmlzLmdldCBcIm1ldGFjZWxsXCJcbiAgICAgI3BhZGRpbmdMZWZ0ICs9IDE1ICMgc2Nyb2xsIGJhclxuICAgICByZXR1cm4gcGFkZGluZ0xlZnRcblxuICBnZXRNZXRhV2lkdGg6IC0+XG4gICAgIHZhbCA9IDBcbiAgICAgdmFsICs9IEBnZXQgXCJtZXRhR2FwV2lkdGhcIiBpZiBAZy52aXMuZ2V0IFwibWV0YUdhcHNcIlxuICAgICB2YWwgKz0gQGdldCBcIm1ldGFJZGVudFdpZHRoXCIgaWYgQGcudmlzLmdldCBcIm1ldGFJZGVudGl0eVwiXG4gICAgIHZhbCArPSBAZ2V0IFwibWV0YUxpbmtzV2lkdGhcIiBpZiBAZy52aXMuZ2V0IFwibWV0YUxpbmtzXCJcbiAgICAgdmFsXG5cbiAgZ2V0TGFiZWxXaWR0aDogLT5cbiAgICAgdmFsID0gMFxuICAgICB2YWwgKz0gQGdldCBcImxhYmVsTmFtZUxlbmd0aFwiIGlmIEBnLnZpcy5nZXQgXCJsYWJlbE5hbWVcIlxuICAgICB2YWwgKz0gQGdldCBcImxhYmVsSWRMZW5ndGhcIiBpZiBAZy52aXMuZ2V0IFwibGFiZWxJZFwiXG4gICAgIHZhbCArPSBAZ2V0IFwibGFiZWxQYXJ0TGVuZ3RoXCIgaWYgQGcudmlzLmdldCBcImxhYmVsUGFydGl0aW9uXCJcbiAgICAgdmFsICs9IEBnZXQgXCJsYWJlbENoZWNrTGVuZ3RoXCIgaWYgQGcudmlzLmdldCBcImxhYmVsQ2hlY2tib3hcIlxuICAgICB2YWxcblxuICBfYWRqdXN0V2lkdGg6IC0+XG4gICAgcmV0dXJuIHVubGVzcyBAZWwgaXNudCB1bmRlZmluZWQgYW5kIEBtb2RlbCBpc250IHVuZGVmaW5lZFxuICAgIGlmIEBlbC5wYXJlbnROb2RlPyBhbmQgQGVsLnBhcmVudE5vZGUub2Zmc2V0V2lkdGggaXNudCAwXG4gICAgICBwYXJlbnRXaWR0aCA9IEBlbC5wYXJlbnROb2RlLm9mZnNldFdpZHRoXG4gICAgZWxzZVxuICAgICAgcGFyZW50V2lkdGggPSBkb2N1bWVudC5ib2R5LmNsaWVudFdpZHRoIC0gMzVcblxuICAgICMgVE9ETzogZGlydHkgaGFja1xuICAgIG1heFdpZHRoID0gcGFyZW50V2lkdGggLSBAZ2V0TGVmdEJsb2NrV2lkdGgoKVxuICAgIGNhbGNXaWR0aCA9IEBnZXRBbGlnbm1lbnRXaWR0aCggQG1vZGVsLmdldE1heExlbmd0aCgpIC0gQGcuY29sdW1ucy5nZXQoJ2hpZGRlbicpLmxlbmd0aClcbiAgICB2YWwgPSBNYXRoLm1pbihtYXhXaWR0aCxjYWxjV2lkdGgpXG4gICAgIyByb3VuZCB0byBhIHZhbGlkIEFBIGJveFxuICAgIHZhbCA9IE1hdGguZmxvb3IoIHZhbCAvIEBnZXQoXCJjb2x1bW5XaWR0aFwiKSkgKiBAZ2V0KFwiY29sdW1uV2lkdGhcIilcblxuICAgICNAc2V0IFwiYWxpZ25tZW50V2lkdGhcIiwgdmFsXG4gICAgQC5hdHRyaWJ1dGVzLmFsaWdubWVudFdpZHRoID0gdmFsXG5cbiAgYXV0b1Jlc2l6ZTogIC0+XG4gICAgaWYgQGdldCBcImF1dG9SZXNpemVcIlxuICAgICAgQF9hZGp1c3RXaWR0aCBAZWwsIEBtb2RlbFxuXG4gICMgbWF4IGlzIHRoZSBtYXhpbWFsIGFsbG93ZWQgaGVpZ2h0XG4gIGF1dG9IZWlnaHQ6IChtYXgpIC0+XG4gICAgIyBUT0RPIVxuICAgICMgbWFrZSBzZXFsb2dvIGhlaWdodCBjb25maWd1cmFibGVcbiAgICB2YWwgPSBAZ2V0TWF4QWxpZ25tZW50SGVpZ2h0KClcbiAgICBpZiBtYXggIT0gdW5kZWZpbmVkIGFuZCBtYXggPiAwXG4gICAgICB2YWwgPSBNYXRoLm1pbiB2YWwsIG1heFxuXG4gICAgQHNldCBcImFsaWdubWVudEhlaWdodFwiLCB2YWxcblxuICBzZXRFbDogKGVsLCBtb2RlbCkgLT5cbiAgICBAZWwgPSBlbFxuICAgIEBtb2RlbCA9IG1vZGVsXG5cbiAgIyB1cGRhdGVzIGJvdGggc2Nyb2xsIHByb3BlcnRpZXMgKGlmIG5lZWRlZClcbiAgX2NoZWNrU2Nyb2xsaW5nOiAoc2Nyb2xsT2JqLCBvcHRzKSAtPlxuICAgIHhTY3JvbGwgPSBzY3JvbGxPYmpbMF1cbiAgICB5U2Nyb2xsID0gc2Nyb2xsT2JqWzFdXG5cbiAgICBAc2V0IFwiX2FsaWdubWVudFNjcm9sbExlZnRcIiwgeFNjcm9sbCwgb3B0c1xuICAgIEBzZXQgXCJfYWxpZ25tZW50U2Nyb2xsVG9wXCIsIHlTY3JvbGwsIG9wdHNcblxuICBnZXRNYXhBbGlnbm1lbnRIZWlnaHQ6IC0+XG4gICAgaGVpZ2h0ID0gMFxuICAgIEBtb2RlbC5lYWNoIChzZXEpIC0+XG4gICAgICBoZWlnaHQgKz0gc2VxLmF0dHJpYnV0ZXMuaGVpZ2h0IHx8IDFcblxuICAgIHJldHVybiAoaGVpZ2h0ICogQGdldChcInJvd0hlaWdodFwiKSlcblxuICBnZXRNYXhBbGlnbm1lbnRXaWR0aDogLT5cbiAgICByZXR1cm4gQG1vZGVsLmdldE1heExlbmd0aCgpICogQGdldChcImNvbHVtbldpZHRoXCIpXG5cbiIsIk1TQSA9IHJlcXVpcmUoXCIuL21zYVwiKVxuXG5tb2R1bGUuZXhwb3J0cyA9IC0+XG4gIG1zYSA9IChhcmdzKSAtPlxuICAgIE1TQS5hcHBseSBALCBhcmdzXG4gIG1zYTo6ID0gTVNBOjpcbiAgbmV3IG1zYSBhcmd1bWVudHNcblxubW9kdWxlLmV4cG9ydHMubXNhID0gTVNBXG5cbiMgbW9kZWxzXG5tb2R1bGUuZXhwb3J0cy5tb2RlbCA9IHJlcXVpcmUoXCIuL21vZGVsXCIpXG5cbiMgZXh0cmEgcGx1Z2lucywgZXh0ZW5zaW9uc1xubW9kdWxlLmV4cG9ydHMubWVudSA9IHJlcXVpcmUoXCIuL21lbnVcIilcbm1vZHVsZS5leHBvcnRzLnV0aWxzID0gcmVxdWlyZShcIi4vdXRpbHNcIilcblxuIyBwcm9iYWJseSBuZWVkZWQgbW9yZSBvZnRlblxubW9kdWxlLmV4cG9ydHMuc2VsZWN0aW9uID0gcmVxdWlyZShcIi4vZy9zZWxlY3Rpb24vU2VsZWN0aW9uXCIpXG5tb2R1bGUuZXhwb3J0cy5zZWxjb2wgPSByZXF1aXJlKFwiLi9nL3NlbGVjdGlvbi9TZWxlY3Rpb25Db2xcIilcbm1vZHVsZS5leHBvcnRzLnZpZXcgPSByZXF1aXJlKFwiYmFja2JvbmUtdmlld2pcIilcbm1vZHVsZS5leHBvcnRzLmJvbmVWaWV3ID0gcmVxdWlyZShcImJhY2tib25lLWNoaWxkc1wiKVxuXG4jIGNvbnZlbmllbmNlXG5tb2R1bGUuZXhwb3J0cy5fID0gcmVxdWlyZSAndW5kZXJzY29yZSdcbm1vZHVsZS5leHBvcnRzLiQgPSByZXF1aXJlICdqYm9uZSdcblxuIyBwYXJzZXIgKGFyZSBjdXJyZW50bHkgYnVuZGxlZCAtIHNvIHdlIGNhbiBhbHNvIGV4cG9zZSB0aGVtKVxubW9kdWxlLmV4cG9ydHMuaW8gPSB7fVxubW9kdWxlLmV4cG9ydHMuaW8ueGhyID0gcmVxdWlyZSAneGhyJ1xubW9kdWxlLmV4cG9ydHMuaW8uZmFzdGEgPSByZXF1aXJlICdiaW9qcy1pby1mYXN0YSdcbm1vZHVsZS5leHBvcnRzLmlvLmNsdXN0YWwgPSByZXF1aXJlICdiaW9qcy1pby1jbHVzdGFsJ1xubW9kdWxlLmV4cG9ydHMuaW8uZ2ZmID0gcmVxdWlyZSAnYmlvanMtaW8tZ2ZmJ1xuXG5tb2R1bGUuZXhwb3J0cy52ZXJzaW9uID0gXCIwLjIuMFwiXG4iLCJib25lVmlldyA9IHJlcXVpcmUoXCJiYWNrYm9uZS1jaGlsZHNcIilcblxuIyBtZW51IHZpZXdzXG5JbXBvcnRNZW51ID0gcmVxdWlyZSBcIi4vdmlld3MvSW1wb3J0TWVudVwiXG5GaWx0ZXJNZW51ID0gcmVxdWlyZSBcIi4vdmlld3MvRmlsdGVyTWVudVwiXG5TZWxlY3Rpb25NZW51ID0gcmVxdWlyZSBcIi4vdmlld3MvU2VsZWN0aW9uTWVudVwiXG5WaXNNZW51ID0gcmVxdWlyZSBcIi4vdmlld3MvVmlzTWVudVwiXG5Db2xvck1lbnUgPSByZXF1aXJlIFwiLi92aWV3cy9Db2xvck1lbnVcIlxuT3JkZXJpbmdNZW51ID0gcmVxdWlyZSBcIi4vdmlld3MvT3JkZXJpbmdNZW51XCJcbkV4dHJhTWVudSA9IHJlcXVpcmUgXCIuL3ZpZXdzL0V4dHJhTWVudVwiXG5FeHBvcnRNZW51ID0gcmVxdWlyZSBcIi4vdmlld3MvRXhwb3J0TWVudVwiXG5IZWxwTWVudSA9IHJlcXVpcmUgXCIuL3ZpZXdzL0hlbHBNZW51XCJcbkRlYnVnTWVudSA9IHJlcXVpcmUgXCIuL3ZpZXdzL0RlYnVnTWVudVwiXG5cbiMgdGhpcyB2ZXJ5IGJhc2ljIG1lbnUgZGVtb25zdHJhdGVzIGNhbGxzIHRvIHRoZSBNU0EgY29tcG9uZW50XG5tb2R1bGUuZXhwb3J0cyA9IE1lbnVWaWV3ID0gYm9uZVZpZXcuZXh0ZW5kXG5cbiAgaW5pdGlhbGl6ZTogKGRhdGEpIC0+XG4gICAgQG1zYSA9IGRhdGEubXNhXG5cbiAgICBAYWRkVmlldyAgXCIxMF9pbXBvcnRcIiwgbmV3IEltcG9ydE1lbnUgbW9kZWw6IEBtc2Euc2VxcywgZzpAbXNhLmcsIG1zYTogQG1zYVxuICAgIEBhZGRWaWV3ICBcIjIwX2ZpbHRlclwiLCBuZXcgRmlsdGVyTWVudSBtb2RlbDogQG1zYS5zZXFzLCBnOkBtc2EuZ1xuICAgIEBhZGRWaWV3ICBcIjMwX3NlbGVjdGlvblwiLCBuZXcgU2VsZWN0aW9uTWVudSBtb2RlbDogQG1zYS5zZXFzLCBnOkBtc2EuZ1xuICAgIEBhZGRWaWV3ICBcIjQwX3Zpc1wiLCBuZXcgVmlzTWVudSBtb2RlbDogQG1zYS5zZXFzLCBnOkBtc2EuZ1xuICAgIEBhZGRWaWV3ICBcIjUwX2NvbG9yXCIsIG5ldyBDb2xvck1lbnUgbW9kZWw6IEBtc2Euc2VxcywgZzpAbXNhLmdcbiAgICBAYWRkVmlldyAgXCI2MF9vcmRlcmluZ1wiLCBuZXcgT3JkZXJpbmdNZW51IG1vZGVsOiBAbXNhLnNlcXMsIGc6QG1zYS5nXG4gICAgQGFkZFZpZXcgIFwiNzBfZXh0cmFcIiwgbmV3IEV4dHJhTWVudSBtb2RlbDogQG1zYS5zZXFzLCBnOkBtc2EuZywgbXNhOiBAbXNhXG4gICAgQGFkZFZpZXcgIFwiODBfZXhwb3J0XCIsIG5ldyBFeHBvcnRNZW51IG1vZGVsOiBAbXNhLnNlcXMsIGc6QG1zYS5nLCBtc2E6QG1zYVxuICAgIEBhZGRWaWV3ICBcIjkwX2hlbHBcIiwgbmV3IEhlbHBNZW51ICBnOkBtc2EuZ1xuICAgIGlmIEBtc2EuZy5jb25maWcuZ2V0KFwiZGVidWdcIilcbiAgICAgIEBhZGRWaWV3ICBcIjk1X2RlYnVnXCIsIG5ldyBEZWJ1Z01lbnUgIGc6QG1zYS5nXG5cbiAgcmVuZGVyOiAtPlxuICAgIEByZW5kZXJTdWJ2aWV3cygpXG4gICAgIyBvdGhlclxuICAgIEBlbC5zZXRBdHRyaWJ1dGUgXCJjbGFzc1wiLCBcInNtZW51YmFyXCJcbiAgICBAZWwuYXBwZW5kQ2hpbGQgZG9jdW1lbnQuY3JlYXRlRWxlbWVudChcInBcIilcbiIsIm1vZHVsZS5leHBvcnRzLmRlZmF1bHRtZW51ID0gcmVxdWlyZShcIi4vZGVmYXVsdG1lbnVcIilcbm1vZHVsZS5leHBvcnRzLm1lbnVidWlsZGVyID0gcmVxdWlyZShcIi4vbWVudWJ1aWxkZXJcIilcbiIsImJ1aWxkZXIgPSByZXF1aXJlIFwibWVudS1idWlsZGVyXCJcblxubW9kdWxlLmV4cG9ydHMgPSBNZW51QnVpbGRlciA9IGJ1aWxkZXIuZXh0ZW5kXG5cbiAgICBidWlsZERPTTogLT5cbiAgICAgIEAub24gXCJuZXc6bm9kZVwiLCBAYnVpbGROb2RlXG4gICAgICBALm9uIFwibmV3OmJ1dHRvblwiLCBAYnVpbGRCdXR0b25cbiAgICAgIEAub24gXCJuZXc6bWVudVwiLCBAYnVpbGRNZW51XG4gICAgICByZXR1cm4gYnVpbGRlcjo6YnVpbGRET00uY2FsbCBAXG5cbiAgICBidWlsZE5vZGU6IChsaSkgLT5cbiAgICAgIGlmIEBnP1xuICAgICAgICBsaS5zdHlsZS5saW5lSGVpZ2h0ID0gQGcuem9vbWVyLmdldCBcIm1lbnVJdGVtTGluZUhlaWdodFwiXG5cbiAgICBidWlsZEJ1dHRvbjogKGJ0bikgLT5cbiAgICAgIGlmIEBnP1xuICAgICAgICBidG4uc3R5bGUuZm9udFNpemUgPSBAZy56b29tZXIuZ2V0IFwibWVudUZvbnRzaXplXCJcbiAgICAgICAgYnRuLnN0eWxlLm1hcmdpbkxlZnQgPSBAZy56b29tZXIuZ2V0IFwibWVudU1hcmdpbkxlZnRcIlxuICAgICAgICBidG4uc3R5bGUucGFkZGluZyA9IEBnLnpvb21lci5nZXQgXCJtZW51UGFkZGluZ1wiXG5cbiAgICBidWlsZE1lbnU6IChtZW51KSAtPlxuICAgICAgaWYgQGc/XG4gICAgICAgIG1lbnUuc3R5bGUuZm9udFNpemUgPSBAZy56b29tZXIuZ2V0IFwibWVudUl0ZW1Gb250c2l6ZVwiXG4iLCJNZW51QnVpbGRlciA9IHJlcXVpcmUgXCIuLi9tZW51YnVpbGRlclwiXG5fID0gcmVxdWlyZSBcInVuZGVyc2NvcmVcIlxuZG9tID0gcmVxdWlyZSBcImRvbS1oZWxwZXJcIlxuXG5tb2R1bGUuZXhwb3J0cyA9IENvbG9yTWVudSA9IE1lbnVCdWlsZGVyLmV4dGVuZFxuXG4gIGluaXRpYWxpemU6IChkYXRhKSAtPlxuICAgIEBnID0gZGF0YS5nXG4gICAgQGVsLnN0eWxlLmRpc3BsYXkgPSBcImlubGluZS1ibG9ja1wiXG4gICAgQGxpc3RlblRvIEBnLmNvbG9yc2NoZW1lLCBcImNoYW5nZVwiLCAtPlxuICAgICAgQHJlbmRlcigpXG5cbiAgcmVuZGVyOiAtPlxuICAgIG1lbnVDb2xvciA9IEBzZXROYW1lKFwiQ29sb3Igc2NoZW1lXCIpXG4gICAgQHJlbW92ZUFsbE5vZGVzKClcblxuICAgIGNvbG9yc2NoZW1lcyA9IEBnZXRDb2xvcnNjaGVtZXMoKVxuICAgIGZvciBzY2hlbWUgaW4gY29sb3JzY2hlbWVzXG4gICAgICBAYWRkU2NoZW1lIG1lbnVDb2xvciwgc2NoZW1lXG5cbiAgICB0ZXh0ID0gXCJCYWNrZ3JvdW5kXCJcbiAgICBpZiBAZy5jb2xvcnNjaGVtZS5nZXQoXCJjb2xvckJhY2tncm91bmRcIilcbiAgICAgIHRleHQgPSBcIkhpZGUgXCIgKyB0ZXh0XG4gICAgZWxzZVxuICAgICAgdGV4dCA9IFwiU2hvdyBcIiArIHRleHRcblxuICAgIEBhZGROb2RlIHRleHQsID0+XG4gICAgICBAZy5jb2xvcnNjaGVtZS5zZXQgXCJjb2xvckJhY2tncm91bmRcIiwgIUBnLmNvbG9yc2NoZW1lLmdldChcImNvbG9yQmFja2dyb3VuZFwiKVxuXG4gICAgQGdyZXkgbWVudUNvbG9yXG5cbiAgICAjIFRPRE86IG1ha2UgbW9yZSBlZmZpY2llbnRcbiAgICBkb20ucmVtb3ZlQWxsQ2hpbGRzIEBlbFxuICAgIEBlbC5hcHBlbmRDaGlsZCBAYnVpbGRET00oKVxuICAgIEBcblxuICBhZGRTY2hlbWU6IChtZW51Q29sb3Isc2NoZW1lKSAtPlxuICAgIHN0eWxlID0ge31cbiAgICBjdXJyZW50ID0gQGcuY29sb3JzY2hlbWUuZ2V0KFwic2NoZW1lXCIpXG4gICAgaWYgY3VycmVudCBpcyBzY2hlbWUuaWRcbiAgICAgIHN0eWxlLmJhY2tncm91bmRDb2xvciA9IFwiIzc3RUQ4MFwiXG5cbiAgICBAYWRkTm9kZSBzY2hlbWUubmFtZSwgPT5cbiAgICAgIEBnLmNvbG9yc2NoZW1lLnNldCBcInNjaGVtZVwiLCBzY2hlbWUuaWRcbiAgICAsXG4gICAgICBzdHlsZTogc3R5bGVcblxuICBnZXRDb2xvcnNjaGVtZXM6IC0+XG4gICAgc2NoZW1lcyAgPSBbXVxuICAgIHNjaGVtZXMucHVzaCBuYW1lOiBcIlphcHBvXCIsIGlkOiBcInphcHBvXCJcbiAgICBzY2hlbWVzLnB1c2ggbmFtZTogXCJUYXlsb3JcIiwgaWQ6IFwidGF5bG9yXCJcbiAgICBzY2hlbWVzLnB1c2ggbmFtZTogXCJIeWRyb3Bob2JpY2l0eVwiLCBpZDogXCJoeWRyb1wiXG4gICAgc2NoZW1lcy5wdXNoIG5hbWU6IFwiTGVza1wiLCBpZDogXCJsZXNrXCJcbiAgICBzY2hlbWVzLnB1c2ggbmFtZTogXCJDaW5lbWFcIiwgaWQ6IFwiY2luZW1hXCJcbiAgICBzY2hlbWVzLnB1c2ggbmFtZTogXCJNQUVcIiwgaWQ6IFwibWFlXCJcbiAgICBzY2hlbWVzLnB1c2ggbmFtZTogXCJDbHVzdGFsXCIsIGlkOiBcImNsdXN0YWxcIlxuICAgIHNjaGVtZXMucHVzaCBuYW1lOiBcIkNsdXN0YWwyXCIsIGlkOiBcImNsdXN0YWwyXCJcbiAgICBzY2hlbWVzLnB1c2ggbmFtZTogXCJUdXJuXCIsIGlkOiBcInR1cm5cIlxuICAgIHNjaGVtZXMucHVzaCBuYW1lOiBcIlN0cmFuZFwiLCBpZDogXCJzdHJhbmRcIlxuICAgIHNjaGVtZXMucHVzaCBuYW1lOiBcIkJ1cmllZFwiLCBpZDogXCJidXJpZWRcIlxuICAgIHNjaGVtZXMucHVzaCBuYW1lOiBcIkhlbGl4XCIsIGlkOiBcImhlbGl4XCJcbiAgICBzY2hlbWVzLnB1c2ggbmFtZTogXCJOdWNsZW90aWRlXCIsIGlkOiBcIm51Y2xlb3RpZGVcIlxuICAgIHNjaGVtZXMucHVzaCBuYW1lOiBcIlB1cmluZVwiLCBpZDogXCJwdXJpbmVcIlxuICAgIHNjaGVtZXMucHVzaCBuYW1lOiBcIlBJRFwiLCBpZDogXCJwaWRcIlxuICAgIHNjaGVtZXMucHVzaCBuYW1lOiBcIk5vIGNvbG9yXCIsIGlkOiBcImZvb1wiXG4gICAgc2NoZW1lc1xuXG4gIGdyZXk6IChtZW51Q29sb3IpIC0+XG4gICAgIyBncmV5cyBhbGwgbG93ZXJjYXNlIGxldHRlcnNcbiAgICBAYWRkTm9kZSBcIlNoYWRlXCIsID0+XG4gICAgICBAZy5jb2xvcnNjaGVtZS5zZXQgXCJzaG93TG93ZXJDYXNlXCIsIGZhbHNlXG4gICAgICBAbW9kZWwuZWFjaCAoc2VxKSAtPlxuICAgICAgICByZXNpZHVlcyA9IHNlcS5nZXQgXCJzZXFcIlxuICAgICAgICBncmV5ID0gW11cbiAgICAgICAgXy5lYWNoIHJlc2lkdWVzLCAoZWwsIGluZGV4KSAtPlxuICAgICAgICAgIGlmIGVsIGlzIGVsLnRvTG93ZXJDYXNlKClcbiAgICAgICAgICAgIGdyZXkucHVzaCBpbmRleFxuICAgICAgICBzZXEuc2V0IFwiZ3JleVwiLCBncmV5XG5cbiAgICBAYWRkTm9kZSBcIlNoYWRlIGJ5IHRocmVzaG9sZFwiLCA9PlxuICAgICAgdGhyZXNob2xkID0gcHJvbXB0IFwiRW50ZXIgdGhyZXNob2xkIChpbiBwZXJjZW50KVwiLCAyMFxuICAgICAgdGhyZXNob2xkID0gdGhyZXNob2xkIC8gMTAwXG4gICAgICBtYXhMZW4gPSBAbW9kZWwuZ2V0TWF4TGVuZ3RoKClcbiAgICAgICMgVE9ETzogY2FjaGVcbiAgICAgIGNvbnNlcnYgPSBAZy5zdGF0cy5zY2FsZSBAZy5zdGF0cy5jb25zZXJ2YXRpb24oKVxuICAgICAgZ3JleSA9IFtdXG4gICAgICBmb3IgaSBpbiBbMC4uIG1heExlbiAtIDFdXG4gICAgICAgIGlmIGNvbnNlcnZbaV0gPCB0aHJlc2hvbGRcbiAgICAgICAgICBncmV5LnB1c2ggaVxuICAgICAgQG1vZGVsLmVhY2ggKHNlcSkgLT5cbiAgICAgICAgc2VxLnNldCBcImdyZXlcIiwgZ3JleVxuXG4gICAgQGFkZE5vZGUgXCJTaGFkZSBzZWxlY3Rpb25cIiwgPT5cbiAgICAgIG1heExlbiA9IEBtb2RlbC5nZXRNYXhMZW5ndGgoKVxuICAgICAgQG1vZGVsLmVhY2ggKHNlcSkgPT5cbiAgICAgICAgYmxvY2tzID0gQGcuc2VsY29sLmdldEJsb2Nrc0ZvclJvdyhzZXEuZ2V0KFwiaWRcIiksbWF4TGVuKVxuICAgICAgICBzZXEuc2V0IFwiZ3JleVwiLCBibG9ja3NcblxuICAgIEBhZGROb2RlIFwiUmVzZXQgc2hhZGVcIiwgPT5cbiAgICAgIEBnLmNvbG9yc2NoZW1lLnNldCBcInNob3dMb3dlckNhc2VcIiwgdHJ1ZVxuICAgICAgQG1vZGVsLmVhY2ggKHNlcSkgLT5cbiAgICAgICAgc2VxLnNldCBcImdyZXlcIiwgW11cbiIsIk1lbnVCdWlsZGVyID0gcmVxdWlyZSBcIi4uL21lbnVidWlsZGVyXCJcblxubW9kdWxlLmV4cG9ydHMgPSBEZWJ1Z01lbnUgPSBNZW51QnVpbGRlci5leHRlbmRcblxuICBpbml0aWFsaXplOiAoZGF0YSkgLT5cbiAgICBAZyA9IGRhdGEuZ1xuICAgIEBlbC5zdHlsZS5kaXNwbGF5ID0gXCJpbmxpbmUtYmxvY2tcIlxuXG4gIHJlbmRlcjogLT5cbiAgICBAc2V0TmFtZShcIkRlYnVnXCIpXG5cbiAgICBAYWRkTm9kZSBcIkdldCB0aGUgY29kZVwiLCA9PlxuICAgICAgd2luZG93Lm9wZW4gXCJodHRwczovL2dpdGh1Yi5jb20vZ3JlZW5pZnkvbXNhXCJcblxuICAgIEBhZGROb2RlIFwiVG9nZ2xlIG1vdXNlb3ZlciBldmVudHNcIiwgPT5cbiAgICAgIEBnLmNvbmZpZy5zZXQgXCJyZWdpc3Rlck1vdXNlSG92ZXJcIiwgIUBnLmNvbmZpZy5nZXQgXCJyZWdpc3Rlck1vdXNlSG92ZXJcIlxuICAgICAgQGcub25BbGwgLT5cbiAgICAgICAgY29uc29sZS5sb2cgYXJndW1lbnRzXG5cbiAgICBAZWwuYXBwZW5kQ2hpbGQgQGJ1aWxkRE9NKClcbiAgICBAXG4iLCJNZW51QnVpbGRlciA9IHJlcXVpcmUgXCIuLi9tZW51YnVpbGRlclwiXG5GYXN0YUV4cG9ydGVyID0gcmVxdWlyZShcImJpb2pzLWlvLWZhc3RhXCIpLndyaXRlclxuXyA9IHJlcXVpcmUgXCJ1bmRlcnNjb3JlXCJcbkV4cG9ydGVyID0gcmVxdWlyZSBcIi4uLy4uL3V0aWxzL2V4cG9ydFwiXG5cbm1vZHVsZS5leHBvcnRzID0gRXhwb3J0TWVudSA9IE1lbnVCdWlsZGVyLmV4dGVuZFxuXG4gIGluaXRpYWxpemU6IChkYXRhKSAtPlxuICAgIEBnID0gZGF0YS5nXG4gICAgQG1zYSA9IGRhdGEubXNhXG4gICAgQGVsLnN0eWxlLmRpc3BsYXkgPSBcImlubGluZS1ibG9ja1wiXG5cbiAgcmVuZGVyOiAtPlxuICAgIEBzZXROYW1lKFwiRXhwb3J0XCIpXG5cbiAgICBAYWRkTm9kZSBcIlZpZXcgaW4gSmFsdmlld1wiLCA9PlxuICAgICAgdXJsID0gQGcuY29uZmlnLmdldCgndXJsJylcbiAgICAgIHVubGVzcyB1cmw/XG4gICAgICAgIGFsZXJ0IFwiU2VxdWVuY2Ugd2VyZW4ndCBpbXBvcnRlZCB2aWEgYW4gVVJMXCJcbiAgICAgIGVsc2VcbiAgICAgICAgaWYgdXJsLmluZGV4T2YgXCJsb2NhbGhvc3RcIiBvciB1cmwgaXMgXCJkcmFnaW1wb3J0XCJcbiAgICAgICAgICBFeHBvcnRlci5wdWJsaXNoV2ViIEBtc2EsIChsaW5rKSA9PlxuICAgICAgICAgICAgRXhwb3J0ZXIub3BlbkluSmFsdmlldyBsaW5rLCBAZy5jb2xvcnNjaGVtZS5nZXQgXCJzY2hlbWVcIlxuICAgICAgICBlbHNlXG4gICAgICAgICAgRXhwb3J0ZXIub3BlbkluSmFsdmlldyB1cmwsIEBnLmNvbG9yc2NoZW1lLmdldCBcInNjaGVtZVwiXG5cbiAgICBAYWRkTm9kZSBcIlB1Ymxpc2ggdG8gdGhlIHdlYlwiLCA9PlxuICAgICAgRXhwb3J0ZXIucHVibGlzaFdlYiBAbXNhLCAobGluaykgLT5cbiAgICAgICAgd2luZG93Lm9wZW4gbGluaywgJ19ibGFuaydcblxuICAgIEBhZGROb2RlIFwiU2hhcmUgbGlua1wiLCA9PlxuICAgICAgRXhwb3J0ZXIuc2hhcmVMaW5rIEBtc2EsIChsaW5rKSAtPlxuICAgICAgICB3aW5kb3cub3BlbiBsaW5rLCAnX2JsYW5rJ1xuXG4gICAgQGFkZE5vZGUgXCJFeHBvcnQgc2VxdWVuY2VzXCIsID0+XG4gICAgICBFeHBvcnRlci5zYXZlQXNGaWxlIEBtc2EsIFwiYWxsLmZhc3RhXCJcblxuICAgIEBhZGROb2RlIFwiRXhwb3J0IHNlbGVjdGlvblwiLCA9PlxuICAgICAgRXhwb3J0ZXIuc2F2ZVNlbGVjdGlvbiBAbXNhLCBcInNlbGVjdGlvbi5mYXN0YVwiXG5cbiAgICBAYWRkTm9kZSBcIkV4cG9ydCBmZWF0dXJlc1wiLCA9PlxuICAgICAgRXhwb3J0ZXIuc2F2ZUFubm90cyBAbXNhLCBcImZlYXR1cmVzLmdmZjNcIlxuXG4gICAgQGFkZE5vZGUgXCJFeHBvcnQgaW1hZ2VcIiwgPT5cbiAgICAgIEV4cG9ydGVyLnNhdmVBc0ltZyBAbXNhLCBcImJpb2pzLW1zYS5wbmdcIlxuXG4gICAgQGVsLmFwcGVuZENoaWxkIEBidWlsZERPTSgpXG4gICAgQFxuIiwiTWVudUJ1aWxkZXIgPSByZXF1aXJlIFwiLi4vbWVudWJ1aWxkZXJcIlxuU2VxID0gcmVxdWlyZSBcIi4uLy4uL21vZGVsL1NlcXVlbmNlXCJcbkxvYWRlciA9IHJlcXVpcmUgXCIuLi8uLi91dGlscy9sb2FkZXJcIlxueGhyID0gcmVxdWlyZSBcInhoclwiXG5cbm1vZHVsZS5leHBvcnRzID0gRXh0cmFNZW51ID0gTWVudUJ1aWxkZXIuZXh0ZW5kXG5cbiAgaW5pdGlhbGl6ZTogKGRhdGEpIC0+XG4gICAgQGcgPSBkYXRhLmdcbiAgICBAZWwuc3R5bGUuZGlzcGxheSA9IFwiaW5saW5lLWJsb2NrXCJcbiAgICBAbXNhID0gZGF0YS5tc2FcblxuICByZW5kZXI6IC0+XG4gICAgQHNldE5hbWUoXCJFeHRyYXNcIilcbiAgICBzdGF0cyA9IEBnLnN0YXRzXG4gICAgbXNhID0gQG1zYVxuICAgIEBhZGROb2RlIFwiQWRkIGNvbnNlbnN1cyBzZXFcIiwgPT5cbiAgICAgIGNvbiA9IHN0YXRzLmNvbnNlbnN1cygpXG4gICAgICBzZXEgPSBuZXcgU2VxXG4gICAgICAgIHNlcTogY29uXG4gICAgICAgIGlkOiBcIjBjXCJcbiAgICAgICAgbmFtZTogXCJjb25zZW51c1wiXG4gICAgICBAbW9kZWwuYWRkIHNlcVxuICAgICAgQG1vZGVsLnNldFJlZiBzZXFcbiAgICAgIEBtb2RlbC5jb21wYXJhdG9yID0gKHNlcSkgLT5cbiAgICAgICAgbm90IHNlcS5nZXQgXCJyZWZcIlxuICAgICAgQG1vZGVsLnNvcnQoKVxuXG4gICAgQGFkZE5vZGUgXCJDYWxjIFRyZWVcIiwgLT5cbiAgICAgICMgdGhpcyBpcyBhIHZlcnkgZXhwZXJpbWVudGFsIGZlYXR1cmVcbiAgICAgICMgVE9ETzogZXhjbHVkZSBtc2EgJiB0bnQgaW4gdGhlIGFkYXB0ZXIgcGFja2FnZVxuICAgICAgbmV3aWNrU3RyID0gXCJcIlxuXG4gICAgICBjYnMgPSBMb2FkZXIuam9pbkNiIC0+XG4gICAgICAgIG1zYS51LnRyZWUuc2hvd1RyZWUgbndrRGF0YVxuICAgICAgLCAyLCBAXG5cbiAgICAgIG1zYS51LnRyZWUubG9hZFRyZWUgY2JzXG4gICAgICAjIGxvYWQgZmFrZSB0cmVlXG4gICAgICBud2tEYXRhID1cbiAgICAgICAgbmFtZTogXCJyb290XCIsXG4gICAgICAgIGNoaWxkcmVuOiBbXG4gICAgICAgICAgbmFtZTogXCJjMVwiLFxuICAgICAgICAgIGJyYW5jaF9sZW5ndGg6IDRcbiAgICAgICAgICBjaGlsZHJlbjogbXNhLnNlcXMuZmlsdGVyIChmLGkpIC0+ICBpICUgMiBpcyAwXG4gICAgICAgICxcbiAgICAgICAgICBuYW1lOiBcImMyXCIsXG4gICAgICAgICAgY2hpbGRyZW46IG1zYS5zZXFzLmZpbHRlciAoZixpKSAtPiAgaSAlIDIgaXMgMVxuICAgICAgICAgIGJyYW5jaF9sZW5ndGg6IDRcbiAgICAgICAgXVxuICAgICAgbXNhLnNlcXMuZWFjaCAocykgLT5cbiAgICAgICAgcy5zZXQgXCJicmFuY2hfbGVuZ3RoXCIsIDJcbiAgICAgIGNicygpXG5cbiAgICBAYWRkTm9kZSBcIkluY3JlYXNlIGZvbnQgc2l6ZVwiLCA9PlxuICAgICAgY29sdW1uV2lkdGggPSAgQGcuem9vbWVyLmdldChcImNvbHVtbldpZHRoXCIpXG4gICAgICBuQ29sdW1uV2lkdGggPSBjb2x1bW5XaWR0aCArIDVcbiAgICAgIEBnLnpvb21lci5zZXQgXCJjb2x1bW5XaWR0aFwiLCAgbkNvbHVtbldpZHRoXG4gICAgICBAZy56b29tZXIuc2V0IFwicm93SGVpZ2h0XCIsIG5Db2x1bW5XaWR0aFxuICAgICAgbkZvbnRTaXplID0gbkNvbHVtbldpZHRoICogMC43XG4gICAgICBAZy56b29tZXIuc2V0IFwicmVzaWR1ZUZvbnRcIiwgbkZvbnRTaXplXG4gICAgICBAZy56b29tZXIuc2V0IFwibGFiZWxGb250U2l6ZVwiLCAgbkZvbnRTaXplXG4gICAgQGFkZE5vZGUgXCJEZWNyZWFzZSBmb250IHNpemVcIiwgPT5cbiAgICAgIGNvbHVtbldpZHRoID0gIEBnLnpvb21lci5nZXQoXCJjb2x1bW5XaWR0aFwiKVxuICAgICAgbkNvbHVtbldpZHRoID0gY29sdW1uV2lkdGggLSAyXG4gICAgICBAZy56b29tZXIuc2V0IFwiY29sdW1uV2lkdGhcIiwgIG5Db2x1bW5XaWR0aFxuICAgICAgQGcuem9vbWVyLnNldCBcInJvd0hlaWdodFwiLCBuQ29sdW1uV2lkdGhcbiAgICAgIG5Gb250U2l6ZSA9IG5Db2x1bW5XaWR0aCAqIDAuNlxuICAgICAgQGcuem9vbWVyLnNldCBcInJlc2lkdWVGb250XCIsIG5Gb250U2l6ZVxuICAgICAgQGcuem9vbWVyLnNldCBcImxhYmVsRm9udFNpemVcIiwgIG5Gb250U2l6ZVxuXG4gICAgICBpZiBAZy56b29tZXIuZ2V0KFwiY29sdW1uV2lkdGhcIikgPCA4XG4gICAgICAgIEBnLnpvb21lci5zZXQgXCJ0ZXh0VmlzaWJsZVwiLCBmYWxzZVxuXG4gICAgQGFkZE5vZGUgXCJNaW5pbWl6ZWQgd2lkdGhcIiwgPT5cbiAgICAgIEBnLnpvb21lci5zZXQgXCJhbGlnbm1lbnRXaWR0aFwiLCA2MDBcbiAgICBAYWRkTm9kZSBcIk1pbmltaXplZCBoZWlnaHRcIiwgPT5cbiAgICAgIEBnLnpvb21lci5zZXQgXCJhbGlnbm1lbnRIZWlnaHRcIiwgMTIwXG5cbiAgICBAYWRkTm9kZSBcIkp1bXAgdG8gYSBjb2x1bW5cIiwgPT5cbiAgICAgIG9mZnNldCA9IHByb21wdCBcIkNvbHVtblwiLCBcIjIwXCJcbiAgICAgIGlmIG9mZnNldCA8IDAgb3Igb2Zmc2V0ID4gQG1vZGVsLmdldE1heExlbmd0aCgpIG9yIGlzTmFOKG9mZnNldClcbiAgICAgICAgYWxlcnQgXCJpbnZhbGlkIGNvbHVtblwiXG4gICAgICAgIHJldHVyblxuICAgICAgQGcuem9vbWVyLnNldExlZnRPZmZzZXQob2Zmc2V0KVxuXG4gICAgQGVsLmFwcGVuZENoaWxkIEBidWlsZERPTSgpXG4gICAgQFxuIiwiTWVudUJ1aWxkZXIgPSByZXF1aXJlIFwiLi4vbWVudWJ1aWxkZXJcIlxuXyA9IHJlcXVpcmUgXCJ1bmRlcnNjb3JlXCJcblxubW9kdWxlLmV4cG9ydHMgPSBGaWx0ZXJNZW51ID0gTWVudUJ1aWxkZXIuZXh0ZW5kXG5cbiAgaW5pdGlhbGl6ZTogKGRhdGEpIC0+XG4gICAgQGcgPSBkYXRhLmdcbiAgICBAZWwuc3R5bGUuZGlzcGxheSA9IFwiaW5saW5lLWJsb2NrXCJcblxuICByZW5kZXI6IC0+XG4gICAgQHNldE5hbWUoXCJGaWx0ZXJcIilcbiAgICBAYWRkTm9kZSBcIkhpZGUgY29sdW1ucyBieSB0aHJlc2hvbGRcIiwoZSkgPT5cbiAgICAgIHRocmVzaG9sZCA9IHByb21wdCBcIkVudGVyIHRocmVzaG9sZCAoaW4gcGVyY2VudClcIiwgMjBcbiAgICAgIHRocmVzaG9sZCA9IHRocmVzaG9sZCAvIDEwMFxuICAgICAgbWF4TGVuID0gQG1vZGVsLmdldE1heExlbmd0aCgpXG4gICAgICBoaWRkZW4gPSBbXVxuICAgICAgIyBUT0RPOiBjYWNoZSB0aGlzIHZhbHVlXG4gICAgICBjb25zZXJ2ID0gQGcuc3RhdHMuc2NhbGUoQGcuc3RhdHMuY29uc2VydmF0aW9uKCkpXG4gICAgICBmb3IgaSBpbiBbMC4uIG1heExlbiAtIDFdXG4gICAgICAgIGlmIGNvbnNlcnZbaV0gPCB0aHJlc2hvbGRcbiAgICAgICAgICBoaWRkZW4ucHVzaCBpXG4gICAgICBAZy5jb2x1bW5zLnNldCBcImhpZGRlblwiLCBoaWRkZW5cblxuICAgIEBhZGROb2RlIFwiSGlkZSBjb2x1bW5zIGJ5IHNlbGVjdGlvblwiLCA9PlxuICAgICAgaGlkZGVuT2xkID0gQGcuY29sdW1ucy5nZXQgXCJoaWRkZW5cIlxuICAgICAgaGlkZGVuID0gaGlkZGVuT2xkLmNvbmNhdCBAZy5zZWxjb2wuZ2V0QWxsQ29sdW1uQmxvY2tzIG1heExlbjogQG1vZGVsLmdldE1heExlbmd0aCgpLCB3aXRoUG9zOiB0cnVlXG4gICAgICBAZy5zZWxjb2wucmVzZXQgW11cbiAgICAgIEBnLmNvbHVtbnMuc2V0IFwiaGlkZGVuXCIsIGhpZGRlblxuXG4gICAgQGFkZE5vZGUgXCJIaWRlIGNvbHVtbnMgYnkgZ2Fwc1wiLCA9PlxuICAgICAgdGhyZXNob2xkID0gcHJvbXB0IFwiRW50ZXIgdGhyZXNob2xkIChpbiBwZXJjZW50KVwiLCAyMFxuICAgICAgdGhyZXNob2xkID0gdGhyZXNob2xkIC8gMTAwXG4gICAgICBtYXhMZW4gPSBAbW9kZWwuZ2V0TWF4TGVuZ3RoKClcbiAgICAgIGhpZGRlbiA9IFtdXG4gICAgICBmb3IgaSBpbiBbMC4uIG1heExlbiAtIDFdXG4gICAgICAgIGdhcHMgPSAwXG4gICAgICAgIHRvdGFsID0gMFxuICAgICAgICBAbW9kZWwuZWFjaCAoZWwpIC0+XG4gICAgICAgICAgZ2FwcysrIGlmIGVsLmdldCgnc2VxJylbaV0gaXMgXCItXCJcbiAgICAgICAgICB0b3RhbCsrXG4gICAgICAgIGdhcENvbnRlbnQgPSBnYXBzIC8gdG90YWxcbiAgICAgICAgaWYgZ2FwQ29udGVudCA+IHRocmVzaG9sZFxuICAgICAgICAgIGhpZGRlbi5wdXNoIGlcbiAgICAgIEBnLmNvbHVtbnMuc2V0IFwiaGlkZGVuXCIsIGhpZGRlblxuXG4gICAgQGFkZE5vZGUgXCJIaWRlIHNlcXMgYnkgaWRlbnRpdHlcIiwgPT5cbiAgICAgIHRocmVzaG9sZCA9IHByb21wdCBcIkVudGVyIHRocmVzaG9sZCAoaW4gcGVyY2VudClcIiwgMjBcbiAgICAgIHRocmVzaG9sZCA9IHRocmVzaG9sZCAvIDEwMFxuICAgICAgQG1vZGVsLmVhY2ggKGVsKSAtPlxuICAgICAgICBpZiBlbC5nZXQoJ2lkZW50aXR5JykgPCB0aHJlc2hvbGRcbiAgICAgICAgICBlbC5zZXQoJ2hpZGRlbicsIHRydWUpXG5cbiAgICBAYWRkTm9kZSBcIkhpZGUgc2VxcyBieSBzZWxlY3Rpb25cIiwgPT5cbiAgICAgIGhpZGRlbiA9IEBnLnNlbGNvbC53aGVyZSB0eXBlOiBcInJvd1wiXG4gICAgICBpZHMgPSBfLm1hcCBoaWRkZW4sIChlbCkgLT4gZWwuZ2V0KCdzZXFJZCcpXG4gICAgICBAZy5zZWxjb2wucmVzZXQgW11cbiAgICAgIEBtb2RlbC5lYWNoIChlbCkgLT5cbiAgICAgICAgaWYgaWRzLmluZGV4T2YoZWwuZ2V0KCdpZCcpKSA+PSAwXG4gICAgICAgICAgZWwuc2V0KCdoaWRkZW4nLCB0cnVlKVxuXG4gICAgQGFkZE5vZGUgXCJIaWRlIHNlcXMgYnkgZ2Fwc1wiLCA9PlxuICAgICAgdGhyZXNob2xkID0gcHJvbXB0IFwiRW50ZXIgdGhyZXNob2xkIChpbiBwZXJjZW50KVwiLCA0MFxuICAgICAgQG1vZGVsLmVhY2ggKGVsLGkpIC0+XG4gICAgICAgIHNlcSA9IGVsLmdldCgnc2VxJylcbiAgICAgICAgZ2FwcyA9IF8ucmVkdWNlIHNlcSwgKChtZW1vLCBjKSAtPiBtZW1vKysgaWYgYyBpcyAnLSc7bWVtbyksMFxuICAgICAgICBpZiBnYXBzID4gIHRocmVzaG9sZFxuICAgICAgICAgIGVsLnNldCgnaGlkZGVuJywgdHJ1ZSlcblxuICAgIEBhZGROb2RlIFwiUmVzZXRcIiwgPT5cbiAgICAgIEBnLmNvbHVtbnMuc2V0IFwiaGlkZGVuXCIsIFtdXG4gICAgICBAbW9kZWwuZWFjaCAoZWwpIC0+XG4gICAgICAgIGlmIGVsLmdldCgnaGlkZGVuJylcbiAgICAgICAgICBlbC5zZXQoJ2hpZGRlbicsIGZhbHNlKVxuXG4gICAgQGVsLmFwcGVuZENoaWxkIEBidWlsZERPTSgpXG4gICAgQFxuIiwiTWVudUJ1aWxkZXIgPSByZXF1aXJlIFwiLi4vbWVudWJ1aWxkZXJcIlxuXG5tb2R1bGUuZXhwb3J0cyA9IEhlbHBNZW51ID0gTWVudUJ1aWxkZXIuZXh0ZW5kXG5cbiAgaW5pdGlhbGl6ZTogKGRhdGEpIC0+XG4gICAgQGcgPSBkYXRhLmdcblxuICByZW5kZXI6IC0+XG4gICAgQHNldE5hbWUoXCJIZWxwXCIpXG4gICAgQGFkZE5vZGUgXCJBYm91dCB0aGUgcHJvamVjdFwiLCA9PlxuICAgICAgd2luZG93Lm9wZW4gXCJodHRwczovL2dpdGh1Yi5jb20vZ3JlZW5pZnkvbXNhXCJcbiAgICBAYWRkTm9kZSBcIlJlcG9ydCBpc3N1ZXNcIiwgPT5cbiAgICAgIHdpbmRvdy5vcGVuIFwiaHR0cHM6Ly9naXRodWIuY29tL2dyZWVuaWZ5L21zYS9pc3N1ZXNcIlxuICAgIEBhZGROb2RlIFwiVXNlciBtYW51YWxcIiwgPT5cbiAgICAgIHdpbmRvdy5vcGVuIFwiaHR0cHM6Ly9naXRodWIuY29tL2dyZWVuaWZ5L21zYS93aWtpXCJcbiAgICBAZWwuc3R5bGUuZGlzcGxheSA9IFwiaW5saW5lLWJsb2NrXCJcbiAgICBAZWwuYXBwZW5kQ2hpbGQgQGJ1aWxkRE9NKClcbiAgICBAXG4iLCJNZW51QnVpbGRlciA9IHJlcXVpcmUgXCIuLi9tZW51YnVpbGRlclwiXG5rID0gcmVxdWlyZShcImtvYWxhLWpzXCIpXG5cbm1vZHVsZS5leHBvcnRzID0gSW1wb3J0TWVudSA9IE1lbnVCdWlsZGVyLmV4dGVuZFxuXG4gIGluaXRpYWxpemU6IChkYXRhKSAtPlxuICAgIEBnID0gZGF0YS5nXG4gICAgQGVsLnN0eWxlLmRpc3BsYXkgPSBcImlubGluZS1ibG9ja1wiXG4gICAgQG1zYSA9IGRhdGEubXNhXG5cbiAgcmVuZGVyOiAtPlxuICAgIG1zYSA9IEBtc2FcbiAgICB1cGxvYWRlciA9IGsubWsgXCJpbnB1dFwiXG4gICAgdXBsb2FkZXIudHlwZSA9IFwiZmlsZVwiXG4gICAgdXBsb2FkZXIuc3R5bGUuZGlzcGxheSA9IFwibm9uZVwiXG4gICAgI3VwbG9hZGVyLmFjY2VwdFxuICAgICMgaHR0cDovL3d3dy53M3NjaG9vbHMuY29tL2pzcmVmL3Byb3BfZmlsZXVwbG9hZF9hY2NlcHQuYXNwXG4gICAgIyBmb3Igbm93IHdlIGFsbG93IG11bHRpcGxlIGZpbGVzXG4gICAgdXBsb2FkZXIubXVsdGlwbGUgPSB0cnVlXG4gICAgdXBsb2FkZXIuYWRkRXZlbnRMaXN0ZW5lciBcImNoYW5nZVwiLCAtPlxuICAgICAgZmlsZXMgPSB1cGxvYWRlci5maWxlcyB8fCBbXVxuICAgICAgbXNhLnUuZmlsZS5pbXBvcnRGaWxlcyBmaWxlc1xuXG4gICAgQGVsLmFwcGVuZENoaWxkIHVwbG9hZGVyXG5cbiAgICBAc2V0TmFtZShcIkltcG9ydFwiKVxuICAgIEBhZGROb2RlIFwiVVJMXCIsKGUpID0+XG4gICAgICB1cmwgPSBwcm9tcHQgXCJVUkxcIixcbiAgICAgIFwiaHR0cDovL3Jvc3RsYWIub3JnL35nb2xkYmVyZy9jbHVzdGFsdzItSTIwMTQwODE4LTIxNTI0OS0wNTU2LTUzNjk5ODc4LXBnLmNsdXN0YWx3XCJcbiAgICAgIEBtc2EudS5maWxlLmltcG9ydFVSTCB1cmwsIC0+XG4gICAgICAgICMgbWFzcyB1cGRhdGUgb24gem9vbWVyXG4gICAgICAgICN6b29tZXIgPSBAZy56b29tZXIudG9KU09OKClcbiAgICAgICAgIyN6b29tZXIudGV4dFZpc2libGUgPSBmYWxzZVxuICAgICAgICAjI3pvb21lci5jb2x1bW5XaWR0aCA9IDRcbiAgICAgICAgI3pvb21lci5ib3hSZWN0SGVpZ2h0ID0gMlxuICAgICAgICAjem9vbWVyLmJveFJlY3RXaWR0aCA9IDJcbiAgICAgICAgI0BnLnpvb21lci5zZXQgem9vbWVyXG5cbiAgICBAYWRkTm9kZSBcIkZyb20gZmlsZVwiLCA9PlxuICAgICAgdXBsb2FkZXIuY2xpY2soKVxuXG4gICAgQGFkZE5vZGUgXCJEcmFnICYgRHJvcFwiLCA9PlxuICAgICAgYWxlcnQgXCJZZXAuIEp1c3QgZHJhZyAmIGRyb3AgeW91ciBmaWxlXCJcblxuICAgIEBlbC5hcHBlbmRDaGlsZCBAYnVpbGRET00oKVxuICAgIEBcbiIsIk1lbnVCdWlsZGVyID0gcmVxdWlyZSBcIi4uL21lbnVidWlsZGVyXCJcbmRvbSA9IHJlcXVpcmUgXCJkb20taGVscGVyXCJcbl8gPSByZXF1aXJlKCd1bmRlcnNjb3JlJylcblxubW9kdWxlLmV4cG9ydHMgPSBPcmRlcmluZ01lbnUgPSBNZW51QnVpbGRlci5leHRlbmRcblxuICBpbml0aWFsaXplOiAoZGF0YSkgLT5cbiAgICBAZyA9IGRhdGEuZ1xuICAgIEBvcmRlciA9IFwiSURcIlxuICAgIEBlbC5zdHlsZS5kaXNwbGF5ID0gXCJpbmxpbmUtYmxvY2tcIlxuXG4gIHNldE9yZGVyOiAob3JkZXIpIC0+XG4gICAgQG9yZGVyID0gb3JkZXJcbiAgICBAcmVuZGVyKClcblxuICAjIFRPRE86IG1ha2UgbW9yZSBnZW5lcmljXG4gIHJlbmRlcjogLT5cbiAgICBAc2V0TmFtZShcIk9yZGVyaW5nXCIpXG4gICAgQHJlbW92ZUFsbE5vZGVzKClcblxuICAgIGNvbXBzID0gQGdldENvbXBhcmF0b3JzKClcbiAgICBmb3IgbSBpbiBjb21wc1xuICAgICAgQF9hZGROb2RlIG1cblxuICAgIGVsID0gQGJ1aWxkRE9NKClcblxuICAgICMgVE9ETzogbWFrZSBtb3JlIGVmZmljaWVudFxuICAgIGRvbS5yZW1vdmVBbGxDaGlsZHMgQGVsXG4gICAgQGVsLmFwcGVuZENoaWxkIGVsXG4gICAgQFxuXG4gIF9hZGROb2RlOiAobSkgLT5cbiAgICB0ZXh0ID0gbS50ZXh0XG4gICAgc3R5bGUgPSB7fVxuICAgIGlmIHRleHQgaXMgQG9yZGVyXG4gICAgICBzdHlsZS5iYWNrZ3JvdW5kQ29sb3IgPSBcIiM3N0VEODBcIlxuICAgIEBhZGROb2RlIHRleHQsID0+XG4gICAgICBtLnByZWNvZGUoKSBpZiBtLnByZWNvZGU/XG4gICAgICBAbW9kZWwuY29tcGFyYXRvciA9IG0uY29tcGFyYXRvclxuICAgICAgQG1vZGVsLnNvcnQoKVxuICAgICAgQHNldE9yZGVyIG0udGV4dFxuICAgICxcbiAgICAgIHN0eWxlOiBzdHlsZVxuXG4gIGdldENvbXBhcmF0b3JzOiAtPlxuICAgIG1vZGVscyA9IFtdXG5cblxuICAgIG1vZGVscy5wdXNoIHRleHQ6IFwiSURcIiwgY29tcGFyYXRvcjogXCJpZFwiXG5cbiAgICBtb2RlbHMucHVzaCB0ZXh0OiBcIklEIERlc2NcIiwgY29tcGFyYXRvcjogKGEsIGIpIC0+XG4gICAgICAjIGF1dG8gY29udmVydHMgdG8gc3RyaW5nIGZvciBsb2NhbGVDb21wYXJlXG4gICAgICAgIC0gKFwiXCIgKyBhLmdldChcImlkXCIpKS5sb2NhbGVDb21wYXJlKFwiXCIgKyBiLmdldChcImlkXCIpLCBbXSwgbnVtZXJpYzogdHJ1ZSApXG5cbiAgICBtb2RlbHMucHVzaCB0ZXh0OiBcIkxhYmVsXCIsIGNvbXBhcmF0b3I6IFwibmFtZVwiXG5cbiAgICBtb2RlbHMucHVzaCB0ZXh0OiBcIkxhYmVsIERlc2NcIiwgY29tcGFyYXRvcjogKGEsIGIpIC0+XG4gICAgICAgIC0gYS5nZXQoXCJuYW1lXCIpLmxvY2FsZUNvbXBhcmUoYi5nZXQoXCJuYW1lXCIpKVxuXG4gICAgbW9kZWxzLnB1c2ggdGV4dDogXCJTZXFcIiwgY29tcGFyYXRvcjogXCJzZXFcIlxuXG4gICAgbW9kZWxzLnB1c2ggdGV4dDogXCJTZXEgRGVzY1wiLCBjb21wYXJhdG9yOiAoYSxiKSAtPlxuICAgICAgICAtIGEuZ2V0KFwic2VxXCIpLmxvY2FsZUNvbXBhcmUoYi5nZXQoXCJzZXFcIikpXG5cbiAgICBzZXRJZGVudCA9ID0+XG4gICAgICBAaWRlbnQgPSBAZy5zdGF0cy5pZGVudGl0eSgpXG5cbiAgICBtb2RlbHMucHVzaCB0ZXh0OiBcIklkZW50aXR5XCIsIGNvbXBhcmF0b3I6IChhLGIpID0+XG4gICAgICB2YWwgPSBAaWRlbnRbYS5pZF0gLSBAaWRlbnRbYi5pZF1cbiAgICAgIHJldHVybiAxIGlmIHZhbCA+IDBcbiAgICAgIHJldHVybiAtMSBpZiB2YWwgPCAwXG4gICAgICAwXG4gICAgLCBwcmVjb2RlOiBzZXRJZGVudFxuXG4gICAgbW9kZWxzLnB1c2ggdGV4dDogXCJJZGVudGl0eSBEZXNjXCIsIGNvbXBhcmF0b3I6IChhLGIpID0+XG4gICAgICB2YWwgPSBAaWRlbnRbYS5pZF0gLSBAaWRlbnRbYi5pZF1cbiAgICAgIHJldHVybiAtMSBpZiB2YWwgPiAwXG4gICAgICByZXR1cm4gMSBpZiB2YWwgPCAwXG4gICAgICAwXG4gICAgLCBwcmVjb2RlOiBzZXRJZGVudFxuXG4gICAgbW9kZWxzLnB1c2ggdGV4dDogXCJSZWZlcmVuY2VcIiwgY29tcGFyYXRvcjogKHNlcSkgLT5cbiAgICAgICAgbm90IHNlcS5nZXQgXCJyZWZcIlxuXG4gICAgbW9kZWxzLnB1c2ggdGV4dDogXCJQYXJ0aXRpb24gY29kZXNcIiwgY29tcGFyYXRvcjogXCJwYXJ0aXRpb25cIiwgcHJlY29kZTogPT5cbiAgICAgICMgc2V0IHBhcnRpdGlvbnMgcmFuZG9tXG4gICAgICBAZy52aXMuc2V0KCdsYWJlbFBhcnRpdGlvbicsIHRydWUpXG4gICAgICBAbW9kZWwuZWFjaCAoZWwpIC0+XG4gICAgICAgIGVsLnNldCgncGFydGl0aW9uJywgXy5yYW5kb20oMSwzKSlcblxuXG4gICAgcmV0dXJuIG1vZGVsc1xuIiwiTWVudUJ1aWxkZXIgPSByZXF1aXJlIFwiLi4vbWVudWJ1aWxkZXJcIlxuXG5tb2R1bGUuZXhwb3J0cyA9IFNlbGVjdGlvbk1lbnUgPSBNZW51QnVpbGRlci5leHRlbmRcblxuICBpbml0aWFsaXplOiAoZGF0YSkgLT5cbiAgICBAZyA9IGRhdGEuZ1xuICAgIEBlbC5zdHlsZS5kaXNwbGF5ID0gXCJpbmxpbmUtYmxvY2tcIlxuXG4gIHJlbmRlcjogLT5cbiAgICBAc2V0TmFtZShcIlNlbGVjdGlvblwiKVxuICAgIEBhZGROb2RlIFwiRmluZCBNb3RpZiAoc3VwcG9ydHMgUmVnRXgpXCIsID0+XG4gICAgICBzZWFyY2ggPSBwcm9tcHQgXCJ5b3VyIHNlYXJjaFwiLCBcIkRcIlxuICAgICAgQGcudXNlci5zZXQgXCJzZWFyY2hUZXh0XCIsIHNlYXJjaFxuXG4gICAgQGFkZE5vZGUgXCJJbnZlcnQgY29sdW1uc1wiLCA9PlxuICAgICAgQGcuc2VsY29sLmludmVydENvbCBbMC4uQG1vZGVsLmdldE1heExlbmd0aCgpXVxuICAgIEBhZGROb2RlIFwiSW52ZXJ0IHJvd3NcIiwgPT5cbiAgICAgIEBnLnNlbGNvbC5pbnZlcnRSb3cgQG1vZGVsLnBsdWNrIFwiaWRcIlxuICAgIEBhZGROb2RlIFwiUmVzZXRcIiwgPT5cbiAgICAgIEBnLnNlbGNvbC5yZXNldCgpXG4gICAgQGVsLmFwcGVuZENoaWxkIEBidWlsZERPTSgpXG4gICAgQFxuIiwiTWVudUJ1aWxkZXIgPSByZXF1aXJlIFwiLi4vbWVudWJ1aWxkZXJcIlxuZG9tID0gcmVxdWlyZSBcImRvbS1oZWxwZXJcIlxuXG5tb2R1bGUuZXhwb3J0cyA9IFZpc01lbnUgPSBNZW51QnVpbGRlci5leHRlbmRcblxuICBpbml0aWFsaXplOiAoZGF0YSkgLT5cbiAgICBAZyA9IGRhdGEuZ1xuICAgIEBlbC5zdHlsZS5kaXNwbGF5ID0gXCJpbmxpbmUtYmxvY2tcIlxuICAgIEBsaXN0ZW5UbyBAZy52aXMsIFwiY2hhbmdlXCIsIEByZW5kZXJcblxuICByZW5kZXI6IC0+XG4gICAgQHJlbW92ZUFsbE5vZGVzKClcbiAgICBAc2V0TmFtZShcIlZpcy5lbGVtZW50c1wiKVxuXG4gICAgdmlzRWxlbWVudHMgPSBAZ2V0VmlzRWxlbWVudHMoKVxuICAgIGZvciB2aXNFbCBpbiB2aXNFbGVtZW50c1xuICAgICAgQF9hZGRWaXNFbCB2aXNFbFxuXG4gICAgIyBvdGhlclxuICAgIEBhZGROb2RlIFwiUmVzZXRcIiwgPT5cbiAgICAgIEBnLnZpcy5zZXQgXCJsYWJlbHNcIiwgdHJ1ZVxuICAgICAgQGcudmlzLnNldCBcInNlcXVlbmNlc1wiLCB0cnVlXG4gICAgICBAZy52aXMuc2V0IFwibWV0YWNlbGxcIiwgdHJ1ZVxuICAgICAgQGcudmlzLnNldCBcImNvbnNlcnZcIiwgdHJ1ZVxuICAgICAgQGcudmlzLnNldCBcImxhYmVsSWRcIiwgdHJ1ZVxuICAgICAgQGcudmlzLnNldCBcImxhYmVsTmFtZVwiLCB0cnVlXG4gICAgICBAZy52aXMuc2V0IFwibGFiZWxDaGVja2JveFwiLCBmYWxzZVxuICAgICAgQGcudmlzLnNldCBcInNlcWxvZ29cIiwgZmFsc2VcbiAgICAgIEBnLnZpcy5zZXQgXCJnYXBIZWFkZXJcIiwgZmFsc2VcbiAgICAgIEBnLnZpcy5zZXQgXCJsZWZ0SGVhZGVyXCIsIHRydWVcbiAgICAgIEBnLnZpcy5zZXQgXCJtZXRhR2Fwc1wiLCB0cnVlXG4gICAgICBAZy52aXMuc2V0IFwibWV0YUlkZW50aXR5XCIsIHRydWVcbiAgICAgIEBnLnZpcy5zZXQgXCJtZXRhTGlua3NcIiwgdHJ1ZVxuXG4gICAgIyBUT0RPOiBtYWtlIG1vcmUgZWZmaWNpZW50XG4gICAgZG9tLnJlbW92ZUFsbENoaWxkcyBAZWxcbiAgICBAZWwuYXBwZW5kQ2hpbGQgQGJ1aWxkRE9NKClcbiAgICBAXG5cbiAgX2FkZFZpc0VsOiAodmlzRWwpIC0+XG4gICAgc3R5bGUgPSB7fVxuXG4gICAgaWYgQGcudmlzLmdldCB2aXNFbC5pZFxuICAgICAgcHJlID0gXCJIaWRlIFwiXG4gICAgICBzdHlsZS5jb2xvciA9IFwicmVkXCJcbiAgICBlbHNlXG4gICAgICBwcmUgPSBcIlNob3cgXCJcbiAgICAgIHN0eWxlLmNvbG9yID0gXCJncmVlblwiXG5cbiAgICBAYWRkTm9kZSAocHJlICsgdmlzRWwubmFtZSksID0+XG4gICAgICBAZy52aXMuc2V0IHZpc0VsLmlkLCAhIEBnLnZpcy5nZXQgdmlzRWwuaWRcbiAgICAsXG4gICAgICBzdHlsZTogc3R5bGVcblxuICBnZXRWaXNFbGVtZW50czogLT5cbiAgICB2aXMgPSBbXVxuICAgIHZpcy5wdXNoIG5hbWU6IFwiTWFya2Vyc1wiLCBpZDogXCJtYXJrZXJzXCJcbiAgICB2aXMucHVzaCBuYW1lOiBcIkxhYmVsc1wiLCBpZDogXCJsYWJlbHNcIlxuICAgICN2aXMucHVzaCBuYW1lOiBcIlNlcXVlbmNlc1wiLCBpZDogXCJzZXF1ZW5jZXNcIlxuICAgIHZpcy5wdXNoIG5hbWU6IFwiTWV0YSBpbmZvXCIsIGlkOiBcIm1ldGFjZWxsXCJcbiAgICB2aXMucHVzaCBuYW1lOiBcIk92ZXJ2aWV3Ym94XCIsIGlkOiBcIm92ZXJ2aWV3Ym94XCJcbiAgICB2aXMucHVzaCBuYW1lOiBcIkNvbnNlcnZcIiwgaWQ6IFwiY29uc2VydlwiXG4gICAgdmlzLnB1c2ggbmFtZTogXCJTZXEuIGxvZ29cIiwgaWQ6IFwic2VxbG9nb1wiXG4gICAgdmlzLnB1c2ggbmFtZTogXCJHYXAgSGVhZGVyXCIsIGlkOiBcImdhcEhlYWRlclwiXG4gICAgdmlzLnB1c2ggbmFtZTogXCJMZWZ0IGhlYWRlclwiLCBpZDogXCJsZWZ0SGVhZGVyXCJcbiAgICB2aXMucHVzaCBuYW1lOiBcIkxhYmVsIG5hbWVcIiwgaWQ6IFwibGFiZWxOYW1lXCJcbiAgICB2aXMucHVzaCBuYW1lOiBcIkxhYmVsIGlkXCIsIGlkOiBcImxhYmVsSWRcIlxuICAgIHZpcy5wdXNoIG5hbWU6IFwiTGFiZWwgY2hlY2tib3hcIiwgaWQ6IFwibGFiZWxDaGVja2JveFwiXG4gICAgdmlzLnB1c2ggbmFtZTogXCJNZXRhIGdhcHNcIiwgaWQ6IFwibWV0YUdhcHNcIlxuICAgIHZpcy5wdXNoIG5hbWU6IFwiTWV0YSBpZGVudGl0eVwiLCBpZDogXCJtZXRhSWRlbnRpdHlcIlxuICAgIHZpcy5wdXNoIG5hbWU6IFwiTWV0YSBsaW5rc1wiLCBpZDogXCJtZXRhTGlua3NcIlxuICAgIHJldHVybiB2aXNcbiIsIkZlYXR1cmUgPSByZXF1aXJlIFwiLi9GZWF0dXJlXCJcbk1vZGVsID0gcmVxdWlyZShcImJhY2tib25lLXRoaW5cIikuTW9kZWxcblxubW9kdWxlLmV4cG9ydHMgPSBGZWF0dXJlID0gTW9kZWwuZXh0ZW5kXG5cbiAgZGVmYXVsdHM6XG4gICAgeFN0YXJ0OiAtMVxuICAgIHhFbmQ6IC0xXG4gICAgaGVpZ2h0OiAtMVxuICAgIHRleHQ6IFwiXCJcbiAgICBmaWxsQ29sb3I6IFwicmVkXCJcbiAgICBmaWxsT3BhY2l0eTogMC41XG4gICAgdHlwZTogXCJyZWN0YW5nbGVcIlxuICAgIGJvcmRlclNpemU6IDFcbiAgICBib3JkZXJDb2xvcjogXCJibGFja1wiXG4gICAgYm9yZGVyT3BhY2l0eTogMC41XG4gICAgdmFsaWRhdGU6IHRydWVcbiAgICByb3c6IDBcblxuICBpbml0aWFsaXplOiAob2JqKSAtPlxuICAgIGlmIG9iai5zdGFydD9cbiAgICAgIEBzZXQgXCJ4U3RhcnRcIiwgb2JqLnN0YXJ0XG4gICAgaWYgb2JqLmVuZD9cbiAgICAgIEBzZXQgXCJ4RW5kXCIsIG9iai5lbmRcbiAgICAjIG5hbWUgaGFzIGEgcHJlZGVmaW5lZCBtZWFuaW5nXG4gICAgaWYgb2JqLmF0dHJpYnV0ZXM/XG4gICAgICBpZiBvYmouYXR0cmlidXRlcy5OYW1lP1xuICAgICAgICBAc2V0IFwidGV4dFwiLCBvYmouYXR0cmlidXRlcy5OYW1lXG4gICAgICBpZiBvYmouYXR0cmlidXRlcy5Db2xvcj9cbiAgICAgICAgQHNldCBcImZpbGxDb2xvclwiLCBvYmouYXR0cmlidXRlcy5Db2xvclxuXG4gICAgaWYgQGF0dHJpYnV0ZXMueEVuZCA8IEBhdHRyaWJ1dGVzLnhTdGFydFxuICAgICAgY29uc29sZS53YXJuIFwiaW52YWxpZCBmZWF0dXJlIHJhbmdlIGZvclwiLCBAYXR0cmlidXRlc1xuXG4gICAgaWYgbm90IF8uaXNOdW1iZXIoQGF0dHJpYnV0ZXMueFN0YXJ0KSBvciBub3QgXy5pc051bWJlcihAYXR0cmlidXRlcy54RW5kKVxuICAgICAgY29uc29sZS53YXJuIFwicGxlYXNlIHByb3ZpZGUgbnVtZXJpYyBmZWF0dXJlIHJhbmdlc1wiLCBvYmpcbiAgICAgICMgdHJ5aW5nIGF1dG8tY2FzdGluZ1xuICAgICAgQHNldCBcInhTdGFydFwiLCBwYXJzZUludChAYXR0cmlidXRlcy54U3RhcnQpXG4gICAgICBAc2V0IFwieEVuZFwiLCBwYXJzZUludChAYXR0cmlidXRlcy54RW5kKVxuXG4gIHZhbGlkYXRlOiAtPlxuICAgIGlmIGlzTmFOIEBhdHRyaWJ1dGVzLnhTdGFydCBvciBpc05hTiBAYXR0cmlidXRlcy54RW5kXG4gICAgICBcImZlYXR1cmVzIG5lZWQgaW50ZWdlciBzdGFydCBhbmQgZW5kLlwiXG5cbiAgY29udGFpbnM6IChpbmRleCkgLT5cbiAgICByZXR1cm4gIEBhdHRyaWJ1dGVzLnhTdGFydCA8PSBpbmRleCAmJiBpbmRleCA8PSBAYXR0cmlidXRlcy54RW5kXG5cbiIsIkZlYXR1cmUgPSByZXF1aXJlIFwiLi9GZWF0dXJlXCJcbkNvbGxlY3Rpb24gPSByZXF1aXJlKFwiYmFja2JvbmUtdGhpblwiKS5Db2xsZWN0aW9uXG5fID0gcmVxdWlyZSBcInVuZGVyc2NvcmVcIlxuXG5tb2R1bGUuZXhwb3J0cyA9IEZlYXR1cmVDb2wgPSBDb2xsZWN0aW9uLmV4dGVuZFxuICBtb2RlbDogRmVhdHVyZVxuXG4gIGNvbnN0cnVjdG9yOiAtPlxuICAgIEBzdGFydE9uQ2FjaGUgPSBbXVxuICAgICMgaW52YWxpZGF0ZSBjYWNoZVxuICAgIEBvbiBcImFsbFwiLCAtPlxuICAgICAgQHN0YXJ0T25DYWNoZSA9IFtdXG4gICAgLCBAXG4gICAgQ29sbGVjdGlvbi5hcHBseSBALCBhcmd1bWVudHNcblxuICAjIHJldHVybnMgYWxsIGZlYXR1cmVzIHN0YXJ0aW5nIG9uIGluZGV4XG4gIHN0YXJ0T246IChpbmRleCkgLT5cbiAgICB1bmxlc3MgQHN0YXJ0T25DYWNoZVtpbmRleF0/XG4gICAgICBAc3RhcnRPbkNhY2hlW2luZGV4XSA9IEB3aGVyZSh7eFN0YXJ0OiBpbmRleH0pXG4gICAgcmV0dXJuIEBzdGFydE9uQ2FjaGVbaW5kZXhdXG5cbiAgY29udGFpbnM6IChpbmRleCkgLT5cbiAgICBAcmVkdWNlIChlbCxtZW1vKSAtPlxuICAgICAgbWVtbyB8fCBlbC5jb250YWlucyBpbmRleFxuICAgICwgZmFsc2VcblxuICBnZXRGZWF0dXJlT25Sb3c6IChyb3cseCkgLT5cbiAgICBAZmlsdGVyIChlbCkgLT5cbiAgICAgIGVsLmdldChcInJvd1wiKSBpcyByb3cgYW5kIGVsLmdldChcInhTdGFydFwiKSA8PSB4IGFuZCB4IDw9IGVsLmdldChcInhFbmRcIilcblxuICAjIHRyaWVzIHRvIGF1dG8tZml0IHRoZSByb3dzXG4gICMgbm90IGEgdmVyeSBlZmZpY2llbnQgYWxnb3JpdGhtXG4gIGFzc2lnblJvd3M6IC0+XG5cbiAgICBsZW4gPSAoQG1heCAoZWwpIC0+IGVsLmdldChcInhFbmRcIikpLmF0dHJpYnV0ZXMueEVuZFxuICAgIHJvd3MgPSAoMCBmb3IgeCBpbiBbMC4uIGxlbl0pXG5cbiAgICBAZWFjaCAoZWwpIC0+XG4gICAgICBtYXggPSAwXG4gICAgICBmb3IgeCBpbiBbZWwuZ2V0KFwieFN0YXJ0XCIpIC4uIGVsLmdldChcInhFbmRcIildIGJ5IDFcbiAgICAgICAgaWYgcm93c1t4XSA+IG1heFxuICAgICAgICAgIG1heCA9IHJvd3NbeF1cbiAgICAgICAgcm93c1t4XSsrXG4gICAgICBlbC5zZXQoXCJyb3dcIiwgbWF4KVxuXG4gICAgXy5tYXggcm93c1xuXG4gIGdldEN1cnJlbnRIZWlnaHQ6IC0+XG4gICAgKEBtYXggKGVsKSAtPiBlbC5nZXQoXCJyb3dcIikpLmF0dHJpYnV0ZXMucm93ICsgMVxuXG4gICMgZ2l2ZXMgdGhlIG1pbmltYWwgbmVlZGVkIG51bWJlciBvZiByb3dzXG4gICMgbm90IGEgdmVyeSBlZmZpY2llbnQgYWxnb3JpdGhtXG4gICMgKHRoZXJlIGlzIG9uZSBpbiBPKG4pIClcbiAgZ2V0TWluUm93czogLT5cblxuICAgIGxlbiA9IChAbWF4IChlbCkgLT4gZWwuZ2V0KFwieEVuZFwiKSkuYXR0cmlidXRlcy54RW5kXG4gICAgcm93cyA9ICgwIGZvciB4IGluIFswLi4gbGVuXSlcblxuICAgIEBlYWNoIChlbCkgLT5cbiAgICAgIGZvciB4IGluIFtlbC5nZXQoXCJ4U3RhcnRcIikgLi4gZWwuZ2V0KFwieEVuZFwiKV0gYnkgMVxuICAgICAgICByb3dzW3hdKytcblxuICAgIF8ubWF4IHJvd3NcbiIsIlNlcXVlbmNlID0gcmVxdWlyZSBcIi4vU2VxdWVuY2VcIlxuRmVhdHVyZUNvbCA9IHJlcXVpcmUgXCIuL0ZlYXR1cmVDb2xcIlxuQ29sbGVjdGlvbiA9IHJlcXVpcmUoXCJiYWNrYm9uZS10aGluXCIpLkNvbGxlY3Rpb25cblxubW9kdWxlLmV4cG9ydHMgPSBTZXFNYW5hZ2VyID0gQ29sbGVjdGlvbi5leHRlbmRcbiAgbW9kZWw6IFNlcXVlbmNlXG5cbiAgY29uc3RydWN0b3I6IChzZXFzLCBnKSAtPlxuICAgIENvbGxlY3Rpb24uYXBwbHkgQCwgYXJndW1lbnRzXG4gICAgQGcgPSBnXG5cbiAgICBAb24gXCJhZGQgcmVzZXQgcmVtb3ZlXCIsID0+XG4gICAgICAjIGludmFsaWRhdGUgY2FjaGVcbiAgICAgIEBsZW5ndGhDYWNoZSA9IG51bGxcbiAgICAgIEBfYmluZFNlcXNXaXRoRmVhdHVyZXMoKVxuICAgICwgQFxuXG4gICAgIyB1c2UgdGhlIGZpcnN0IHNlcSBhcyByZWZlcmVuY2UgYXMgZGVmYXVsdFxuICAgIEBvbiBcInJlc2V0XCIsID0+XG4gICAgICBAX2F1dG9TZXRSZWZTZXEoKVxuICAgIEBfYXV0b1NldFJlZlNlcSgpXG5cbiAgICBAbGVuZ3RoQ2FjaGUgPSBudWxsXG5cbiAgICBAZmVhdHVyZXMgPSB7fVxuICAgIEBcblxuICAjIGdpdmVzIHRoZSBtYXggbGVuZ3RoIG9mIGFsbCBzZXF1ZW5jZXNcbiAgIyAoY2FjaGVkKVxuICBnZXRNYXhMZW5ndGg6ICgpIC0+XG4gICAgcmV0dXJuIDAgaWYgQG1vZGVscy5sZW5ndGggaXMgMFxuICAgIGlmIEBsZW5ndGhDYWNoZSBpcyBudWxsXG4gICAgICBAbGVuZ3RoQ2FjaGUgPSBAbWF4KChzZXEpIC0+IHNlcS5nZXQoXCJzZXFcIikubGVuZ3RoKS5nZXQoXCJzZXFcIikubGVuZ3RoXG4gICAgcmV0dXJuIEBsZW5ndGhDYWNoZVxuXG4gICMgZ2V0cyB0aGUgcHJldmlvdXMgbW9kZWxcbiAgIyBAcGFyYW0gZW5kbGVzcyBbYm9vbGVhbl0gZm9yIHRoZSBmaXJzdCBlbGVtZW50XG4gICMgdHJ1ZTogcmV0dXJucyB0aGUgbGFzdCBlbGVtZW50LCBmYWxzZTogcmV0dXJucyB1bmRlZmluZWRcbiAgcHJldjogKG1vZGVsLCBlbmRsZXNzKSAtPlxuICAgIGluZGV4ID0gQGluZGV4T2YobW9kZWwpIC0gMVxuICAgIGluZGV4ID0gQC5sZW5ndGggLSAxIGlmIGluZGV4IDwgMCBhbmQgZW5kbGVzc1xuICAgIEBhdChpbmRleClcblxuICAjIGdldHMgdGhlIG5leHQgbW9kZWxcbiAgIyBAcGFyYW0gZW5kbGVzcyBbYm9vbGVhbl0gZm9yIHRoZSBsYXN0IGVsZW1lbnRcbiAgIyB0cnVlOiByZXR1cm5zIHRoZSBmaXJzdCBlbGVtZW50LCBmYWxzZTogcmV0dXJucyB1bmRlZmluZWRcbiAgbmV4dDogKG1vZGVsLCBlbmRsZXNzKSAtPlxuICAgIGluZGV4ID0gQGluZGV4T2YobW9kZWwpICsgMVxuICAgIGluZGV4ID0gMCBpZiBpbmRleCA9PSBALmxlbmd0aCBhbmQgZW5kbGVzc1xuICAgIEBhdChpbmRleClcblxuICAjIEByZXR1cm5zIG4gW2ludF0gbnVtYmVyIG9mIGhpZGRlbiBjb2x1bW5zIHVudGlsIG5cbiAgY2FsY0hpZGRlblNlcXM6IChuKSAtPlxuICAgIG5OZXcgPSBuXG4gICAgZm9yIGkgaW4gWzAuLm5OZXddXG4gICAgICBpZiBAYXQoaSkuZ2V0KFwiaGlkZGVuXCIpXG4gICAgICAgIG5OZXcrK1xuICAgIG5OZXcgLSBuXG5cbiAgIyB5b3UgY2FuIGFkZCBmZWF0dXJlcyBpbmRlcGVuZGVudCB0byB0aGUgY3VycmVudCBzZXFzIGFzIHRoZXkgbWF5IGJlIGFkZGVkXG4gICMgbGF0ZXIgKGxhZ2dpbmcgY29ubmVjdGlvbilcbiAgYWRkRmVhdHVyZXM6IChmZWF0dXJlcykgLT5cbiAgICBpZiBmZWF0dXJlcy5jb25maWc/XG4gICAgICBvYmogPSBmZWF0dXJlc1xuICAgICAgZmVhdHVyZXMgPSBmZWF0dXJlcy5zZXFzXG4gICAgICBpZiBvYmouY29uZmlnLmNvbG9ycz9cbiAgICAgICAgY29sb3JzID0gb2JqLmNvbmZpZy5jb2xvcnNcbiAgICAgICAgXy5lYWNoIGZlYXR1cmVzLCAoc2VxKSAtPlxuICAgICAgICAgIF8uZWFjaCBzZXEsICh2YWwpIC0+XG4gICAgICAgICAgICBpZiBjb2xvcnNbdmFsLmZlYXR1cmVdP1xuICAgICAgICAgICAgICB2YWwuZmlsbENvbG9yID0gY29sb3JzW3ZhbC5mZWF0dXJlXVxuICAgIGlmIF8uaXNFbXB0eSBAZmVhdHVyZXNcbiAgICAgIEBmZWF0dXJlcyA9IGZlYXR1cmVzXG4gICAgZWxzZVxuICAgICAgXy5lYWNoIGZlYXR1cmVzLCAodmFsLCBrZXkpID0+XG4gICAgICAgIHVubGVzcyBAZmVhdHVyZXMuaGFzT3duUHJvcGVydHkga2V5XG4gICAgICAgICAgQGZlYXR1cmVzW2tleV0gPSB2YWxcbiAgICAgICAgZWxzZVxuICAgICAgICAgIEBmZWF0dXJlc1trZXldID0gXy51bmlvbiBAZmVhdHVyZXNba2V5XSwgdmFsXG4gICAgIyByZWhhc2hcbiAgICBAX2JpbmRTZXFzV2l0aEZlYXR1cmVzKClcblxuICAjIGFkZHMgZmVhdHVyZXMgdG8gYSBzZXF1ZW5jZVxuICBfYmluZFNlcVdpdGhGZWF0dXJlczogKHNlcSkgLT5cbiAgICAjIFRPRE86IHByb2JhYmx5IHdlIGRvbid0IGFsd2F5cyB3YW50IHRvIGJpbmQgdG8gbmFtZVxuICAgIGZlYXR1cmVzID0gQGZlYXR1cmVzW3NlcS5hdHRyaWJ1dGVzLm5hbWVdXG4gICAgaWYgZmVhdHVyZXNcbiAgICAgIHNlcS5zZXQgXCJmZWF0dXJlc1wiLCBuZXcgRmVhdHVyZUNvbCBmZWF0dXJlc1xuICAgICAgc2VxLmF0dHJpYnV0ZXMuZmVhdHVyZXMuYXNzaWduUm93cygpXG4gICAgICBzZXEuc2V0IFwiaGVpZ2h0XCIsIHNlcS5hdHRyaWJ1dGVzLmZlYXR1cmVzLmdldEN1cnJlbnRIZWlnaHQoKSArIDFcblxuICAjIHJlaGFzaCB0aGUgc2VxdWVuY2UgZmVhdHVyZSBiaW5kaW5nXG4gIF9iaW5kU2Vxc1dpdGhGZWF0dXJlczogKCkgLT5cbiAgICBAZWFjaCAoc2VxKSA9PiAgQF9iaW5kU2VxV2l0aEZlYXR1cmVzKHNlcSlcblxuICAjIHJlbW92ZXMgYWxsIGZlYXR1cmVzIGZyb20gdGhlIGNhY2hlIChub3QgZnJvbSB0aGUgc2VxcylcbiAgcmVtb3ZlQWxsRmVhdHVyZXM6IC0+XG4gICAgZGVsZXRlIEBmZWF0dXJlc1xuXG4gIF9hdXRvU2V0UmVmU2VxOiAtPlxuICAgIGlmIEBsZW5ndGggPiAwXG4gICAgICBAYXQoMCkuc2V0IFwicmVmXCIsIHRydWVcblxuICAjIHNldHMgYSBzZXF1ZW5jZSAoZS5nLiBCTEFTVCBzdGFydCBvciBjb25zZW5zdXMgc2VxKSBhcyByZWZlcmVuY2VcbiAgc2V0UmVmOiAoc2VxKSAtPlxuICAgIG9iaiA9IEBnZXQgc2VxXG4gICAgQGVhY2ggKHMpIC0+XG4gICAgICBpZiBzZXEuY2lkXG4gICAgICAgIGlmIG9iai5jaWQgPT0gcy5jaWRcbiAgICAgICAgICBzLnNldCBcInJlZlwiLCB0cnVlXG4gICAgICAgIGVsc2VcbiAgICAgICAgICBzLnNldCBcInJlZlwiLCBmYWxzZVxuXG4gICAgQGcuY29uZmlnLnNldCBcImhhc1JlZlwiLCB0cnVlXG4gICAgQHRyaWdnZXIgXCJjaGFuZ2U6cmVmZXJlbmNlXCIsIHNlcVxuIiwiTW9kZWwgPSByZXF1aXJlKFwiYmFja2JvbmUtdGhpblwiKS5Nb2RlbFxuRmVhdHVyZUNvbCA9IHJlcXVpcmUgXCIuL0ZlYXR1cmVDb2xcIlxuXG5tb2R1bGUuZXhwb3J0cyA9IFNlcXVlbmNlID0gTW9kZWwuZXh0ZW5kXG5cbiAgZGVmYXVsdHM6XG4gICAgbmFtZTogXCJcIlxuICAgIGlkOiBcIlwiXG4gICAgc2VxOiBcIlwiXG4gICAgaGVpZ2h0OiAxXG4gICAgcmVmOiBmYWxzZSAjIHJlZmVyZW5jZTogdGhlIHNlcXVlbmNlIHVzZWQgaW4gQkxBU1Qgb3IgdGhlIGNvbnNlbnN1cyBzZXFcblxuICBpbml0aWFsaXplOiAtPlxuICAgICMgcmVzaWR1ZXMgd2l0aG91dCBjb2xvclxuICAgIEAuc2V0IFwiZ3JleVwiLCBbXVxuICAgIHVubGVzcyBALmdldChcImZlYXR1cmVzXCIpP1xuICAgICAgQC5zZXQgXCJmZWF0dXJlc1wiLCBuZXcgRmVhdHVyZUNvbCgpXG4iLCJtb2R1bGUuZXhwb3J0cy5zZXEgPSByZXF1aXJlIFwiLi9TZXF1ZW5jZVwiXG5tb2R1bGUuZXhwb3J0cy5zZXFjb2wgPSByZXF1aXJlIFwiLi9TZXFDb2xsZWN0aW9uXCJcbm1vZHVsZS5leHBvcnRzLmZlYXR1cmUgPSByZXF1aXJlIFwiLi9GZWF0dXJlXCJcbm1vZHVsZS5leHBvcnRzLmZlYXR1cmVjb2wgPSByZXF1aXJlIFwiLi9GZWF0dXJlQ29sXCJcbiIsIiMgbW9kZWxzXG5TZXFDb2xsZWN0aW9uID0gcmVxdWlyZSBcIi4vbW9kZWwvU2VxQ29sbGVjdGlvblwiXG5cbiMgZ2xvYmFsc1xuQ29sb3JhdG9yID0gcmVxdWlyZSBcIi4vZy9jb2xvcnNjaGVtZVwiXG5Db2x1bW5zID0gcmVxdWlyZSBcIi4vZy9jb2x1bW5zXCJcbkNvbmZpZyA9IHJlcXVpcmUgXCIuL2cvY29uZmlnXCJcblBhY2thZ2UgPSByZXF1aXJlIFwiLi9nL3BhY2thZ2VcIlxuU2VsQ29sID0gcmVxdWlyZSBcIi4vZy9zZWxlY3Rpb24vU2VsZWN0aW9uQ29sXCJcblVzZXIgPSByZXF1aXJlIFwiLi9nL3VzZXJcIlxuVmlzaWJpbGl0eSA9IHJlcXVpcmUgXCIuL2cvdmlzaWJpbGl0eVwiXG5WaXNPcmRlcmluZyA9IHJlcXVpcmUgXCIuL2cvdmlzT3JkZXJpbmdcIlxuWm9vbWVyID0gcmVxdWlyZSBcIi4vZy96b29tZXJcIlxuXG4jIE1WIGZyb20gYmFja2JvbmVcbmJvbmVWaWV3ID0gcmVxdWlyZShcImJhY2tib25lLWNoaWxkc1wiKVxuRXZlbnRoYW5kbGVyID0gcmVxdWlyZSBcImJpb2pzLWV2ZW50c1wiXG5cbiMgTVNBIHZpZXdzXG5TdGFnZSA9IHJlcXVpcmUgXCIuL3ZpZXdzL1N0YWdlXCJcblxuIyBzdGF0aXN0aWNzXG5TdGF0cyA9IHJlcXVpcmUgXCJzdGF0LnNlcXNcIlxuXG4jIHV0aWxzXG4kID0gcmVxdWlyZShcImpib25lXCIpXG5GaWxlSGVscGVyID0gcmVxdWlyZSBcIi4vdXRpbHMvZmlsZVwiXG5UcmVlSGVscGVyID0gcmVxdWlyZSBcIi4vdXRpbHMvdHJlZVwiXG5Qcm94eUhlbHBlciA9IHJlcXVpcmUgXCIuL3V0aWxzL3Byb3h5XCJcblxuIyBvcHRzIGlzIGEgZGljdGlvbmFyeSBjb25zaXN0aW5nIG9mXG4jIEBwYXJhbSBlbCBbU3RyaW5nXSBpZCBvciByZWZlcmVuY2UgdG8gYSBET00gZWxlbWVudFxuIyBAcGFyYW0gc2VxcyBbU2VxQXJyYXldIEFycmF5IG9mIHNlcXVlbmNlcyBmb3IgaW5pdGxpemF0aW9uXG4jIEBwYXJhbSBjb25mIFtEaWN0XSB1c2VyIGNvbmZpZ1xuIyBAcGFyYW0gdmlzIFtEaWN0XSBjb25maWcgb2YgdmlzaWJsZSB2aWV3c1xuIyBAcGFyYW0gem9vbWVyIFtEaWN0XSBkaXNwbGF5IHNldHRpbmdzIGxpa2UgY29sdW1uV2lkdGhcbm1vZHVsZS5leHBvcnRzID0gYm9uZVZpZXcuZXh0ZW5kXG5cbiAgaW5pdGlhbGl6ZTogKGRhdGEpIC0+XG5cbiAgICBkYXRhID0ge30gdW5sZXNzIGRhdGE/XG4gICAgIyBjaGVjayBmb3IgZGVmYXVsdCBhcnJheXNcbiAgICBkYXRhLmNvbG9yc2NoZW1lID0ge30gdW5sZXNzIGRhdGEuY29sb3JzY2hlbWU/XG4gICAgZGF0YS5jb2x1bW5zID0ge30gdW5sZXNzIGRhdGEuY29sdW1ucz9cbiAgICBkYXRhLmNvbmYgPSB7fSB1bmxlc3MgZGF0YS5jb25mP1xuICAgIGRhdGEudmlzID0ge30gdW5sZXNzIGRhdGEudmlzP1xuICAgIGRhdGEudmlzb3JkZXIgPSB7fSB1bmxlc3MgZGF0YS52aXNvcmRlciA/XG4gICAgZGF0YS56b29tZXIgPSB7fSB1bmxlc3MgZGF0YS56b29tZXI/XG5cbiAgICAjIGcgaXMgb3VyIGdsb2JhbCBNZWRpYXRvclxuICAgIEBnID0gRXZlbnRoYW5kbGVyLm1peGluIHt9XG5cbiAgICAjIGxvYWQgc2VxcyBhbmQgYWRkIHN1YnZpZXdzXG4gICAgQHNlcXMgPSBuZXcgU2VxQ29sbGVjdGlvbiBkYXRhLnNlcXMsIEBnXG5cbiAgICAjIHBvcHVsYXRlIGl0IGFuZCBpbml0IHRoZSBnbG9iYWwgbW9kZWxzXG4gICAgQGcuY29uZmlnID0gbmV3IENvbmZpZyBkYXRhLmNvbmZcbiAgICBAZy5wYWNrYWdlID0gbmV3IFBhY2thZ2UgQGdcbiAgICBAZy5zZWxjb2wgPSBuZXcgU2VsQ29sIFtdLHtnOkBnfVxuICAgIEBnLnVzZXIgPSBuZXcgVXNlcigpXG4gICAgQGcudmlzID0gbmV3IFZpc2liaWxpdHkgZGF0YS52aXMsIHttb2RlbDogQHNlcXN9XG4gICAgQGcudmlzb3JkZXIgPSBuZXcgVmlzT3JkZXJpbmcgZGF0YS52aXNvcmRlclxuICAgIEBnLnpvb21lciA9IG5ldyBab29tZXIgZGF0YS56b29tZXIse2c6QGcsIG1vZGVsOiBAc2Vxc31cblxuICAgICMgZGVidWcgbW9kZVxuICAgIGlmIHdpbmRvdy5sb2NhdGlvbi5ob3N0bmFtZSBpcyBcImxvY2FsaG9zdFwiXG4gICAgICBAZy5jb25maWcuc2V0IFwiZGVidWdcIiwgdHJ1ZVxuXG4gICAgIyBzdGF0c1xuICAgIHB1cmVTZXEgPSBAc2Vxcy5wbHVjayhcInNlcVwiKVxuICAgIEBnLnN0YXRzID0gbmV3IFN0YXRzIEBzZXFzXG4gICAgQGcuc3RhdHMuYWxwaGFiZXRTaXplID0gQGcuY29uZmlnLmdldCBcImFscGhhYmV0U2l6ZVwiXG4gICAgQGcuY29sdW1ucyA9IG5ldyBDb2x1bW5zIGRhdGEuY29sdW1ucyxAZy5zdGF0cyAgIyBmb3IgYWN0aW9uIG9uIHRoZSBjb2x1bW5zIGxpa2UgaGlkaW5nXG5cbiAgICAjIGRlcGVuZGluZyBjb25maWdcbiAgICBAZy5jb2xvcnNjaGVtZSA9IG5ldyBDb2xvcmF0b3IgZGF0YS5jb2xvcnNjaGVtZSwgcHVyZVNlcSwgQGcuc3RhdHNcblxuICAgICMgbW9yZSBpbml0XG4gICAgQGcuem9vbWVyLnNldEVsIEBlbCwgQHNlcXNcblxuICAgIEBhZGRWaWV3IFwic3RhZ2VcIixuZXcgU3RhZ2Uge21vZGVsOiBAc2VxcywgZzogQGd9XG4gICAgQGVsLnNldEF0dHJpYnV0ZSBcImNsYXNzXCIsIFwiYmlvanNfbXNhX2RpdlwiXG5cbiAgICAjIHV0aWxzXG4gICAgQHUgPSB7fVxuICAgIEB1LmZpbGUgPSBuZXcgRmlsZUhlbHBlciBAXG4gICAgQHUucHJveHkgPSBuZXcgUHJveHlIZWxwZXIgZzogQGdcbiAgICBAdS50cmVlID0gbmV3IFRyZWVIZWxwZXIgQFxuXG4gICAgaWYgQGcuY29uZmlnLmdldChcImV2ZW50QnVzXCIpIGlzIHRydWVcbiAgICAgIEBzdGFydEV2ZW50QnVzKClcblxuICAgIGlmIEBnLmNvbmZpZy5nZXQgXCJkcm9wSW1wb3J0XCJcbiAgICAgIGV2ZW50cyA9XG4gICAgICAgIFwiZHJhZ292ZXJcIjogQGRyYWdPdmVyXG4gICAgICAgIFwiZHJvcFwiOiBAZHJvcEZpbGVcbiAgICAgIEBkZWxlZ2F0ZUV2ZW50cyBldmVudHNcblxuICAgIGlmIGRhdGEuaW1wb3J0VVJMXG4gICAgICBAdS5maWxlLmltcG9ydFVSTCBkYXRhLmltcG9ydFVSTCwgPT5cbiAgICAgICAgQHJlbmRlcigpXG5cbiAgICAjIGJvb3RzdHJhcHMgdGhlIG1lbnUgYmFyIGJ5IGRlZmF1bHQgLT4gZGVzdHJveXMgbW9kdWxhcml0eVxuICAgIGlmIGRhdGEuYm9vdHN0cmFwTWVudVxuICAgICAgbWVudURpdiA9IGRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoJ2RpdicpXG4gICAgICB3cmFwcGVyRGl2ID0gZG9jdW1lbnQuY3JlYXRlRWxlbWVudCgnZGl2JylcbiAgICAgIHVubGVzcyBAZWwucGFyZW50Tm9kZVxuICAgICAgICB3cmFwcGVyRGl2LmFwcGVuZENoaWxkIG1lbnVEaXZcbiAgICAgICAgd3JhcHBlckRpdi5hcHBlbmRDaGlsZCBAZWxcbiAgICAgIGVsc2VcbiAgICAgICAgQGVsLnBhcmVudE5vZGUucmVwbGFjZUNoaWxkKHdyYXBwZXJEaXYsIEBlbClcbiAgICAgICAgd3JhcHBlckRpdi5hcHBlbmRDaGlsZCBtZW51RGl2XG4gICAgICAgIHdyYXBwZXJEaXYuYXBwZW5kQ2hpbGQgQGVsXG5cbiAgICAgIGRlZk1lbnUgPSBuZXcgbXNhLm1lbnUuZGVmYXVsdG1lbnUoXG4gICAgICAgIGVsOiBtZW51RGl2LFxuICAgICAgICBtc2E6IEBcbiAgICAgIClcbiAgICAgIGRlZk1lbnUucmVuZGVyKClcblxuICAgICQod2luZG93KS5vbihcInJlc2l6ZVwiLCAoZSkgPT5cbiAgICAgIGYgPSAtPlxuICAgICAgICBAZy56b29tZXIuYXV0b1Jlc2l6ZSgpXG4gICAgICBzZXRUaW1lb3V0IGYuYmluZChAKSwgNVxuICAgIClcblxuICBkcmFnT3ZlcjogKGUpIC0+XG4gICAgIyBwcmV2ZW50IHRoZSBub3JtYWwgYnJvd3NlciBhY3Rpb25zXG4gICAgZS5wcmV2ZW50RGVmYXVsdCgpXG4gICAgZS50YXJnZXQuY2xhc3NOYW1lID0gJ2hvdmVyJ1xuICAgIGZhbHNlXG5cbiAgZHJvcEZpbGU6IChlKSAtPlxuICAgIGUucHJldmVudERlZmF1bHQoKVxuICAgIGZpbGVzID0gZS50YXJnZXQuZmlsZXMgfHwgZS5kYXRhVHJhbnNmZXIuZmlsZXNcbiAgICBAdS5maWxlLmltcG9ydEZpbGVzIGZpbGVzXG4gICAgcmV0dXJuIGZhbHNlXG5cbiAgc3RhcnRFdmVudEJ1czogLT5cbiAgICBidXNPYmpzID0gW1wiY29uZmlnXCIsIFwiY29sdW1uc1wiLCBcImNvbG9yc2NoZW1lXCIsIFwic2VsY29sXCIgLFwidmlzXCIsIFwidmlzb3JkZXJcIiwgXCJ6b29tZXJcIl1cbiAgICBmb3Iga2V5IGluIGJ1c09ianNcbiAgICAgIEBfcHJveHlUb0cga2V5XG5cbiAgX3Byb3h5VG9HOiAoa2V5KSAtPlxuICAgIEBsaXN0ZW5UbyBAZ1trZXldLCBcImFsbFwiLChuYW1lLHByZXYsbm93LG9wdHMpIC0+XG4gICAgICAjIHN1cHByZXNzIGR1cGxpY2F0ZSBldmVudHNcbiAgICAgIHJldHVybiBpZiBuYW1lIGlzIFwiY2hhbmdlXCJcbiAgICAgICMgYmFja2JvbmUgdXNlcyB0aGUgc2Vjb25kIGFyZ3VtZW50IGZvciB0aGUgbmV4dCB2YWx1ZSAtPiBzd2FwXG4gICAgICBpZiBvcHRzP1xuICAgICAgICBAZy50cmlnZ2VyKGtleSArIFwiOlwiICsgbmFtZSxub3cscHJldixvcHRzKVxuICAgICAgZWxzZVxuICAgICAgICBAZy50cmlnZ2VyKGtleSArIFwiOlwiICsgbmFtZSxub3cscHJldilcblxuICByZW5kZXI6IC0+XG4gICAgaWYgQHNlcXMgaXMgdW5kZWZpbmVkIG9yIEBzZXFzLmxlbmd0aCBpcyAwXG4gICAgICBjb25zb2xlLmxvZyBcIndhcm5pbmcuIGVtcHR5IHNlcXMuXCJcbiAgICBAcmVuZGVyU3Vidmlld3MoKVxuICAgIEBnLnZpcy5zZXQgXCJsb2FkZWRcIiwgdHJ1ZVxuICAgIEBcbiIsIm1vZHVsZS5leHBvcnRzID1cbiAgIyBtYXRoIHV0aWxpdGllc1xuICBjbGFzcyBCTWF0aFxuICAgIEByYW5kb21JbnQ6IChsb3dlciwgdXBwZXIpIC0+XG4gICAgICAjIENhbGxlZCB3aXRoIG9uZSBhcmd1bWVudFxuICAgICAgW2xvd2VyLCB1cHBlcl0gPSBbMCwgbG93ZXJdICAgICB1bmxlc3MgdXBwZXI/XG4gICAgICAjIExvd2VyIG11c3QgYmUgbGVzcyB0aGVuIHVwcGVyXG4gICAgICBbbG93ZXIsIHVwcGVyXSA9IFt1cHBlciwgbG93ZXJdIGlmIGxvd2VyID4gdXBwZXJcbiAgICAgICMgTGFzdCBzdGF0ZW1lbnQgaXMgYSByZXR1cm4gdmFsdWVcbiAgICAgIE1hdGguZmxvb3IoTWF0aC5yYW5kb20oKSAqICh1cHBlciAtIGxvd2VyICsgMSkgKyBsb3dlcilcblxuICAgICMgQHJldHVybiBbSW50ZWdlcl0gcmFuZG9tIGlkXG4gICAgQHVuaXF1ZUlkOiAobGVuZ3RoID0gOCkgLT5cbiAgICAgIGlkID0gXCJcIlxuICAgICAgaWQgKz0gTWF0aC5yYW5kb20oKS50b1N0cmluZygzNikuc3Vic3RyKDIpIHdoaWxlIGlkLmxlbmd0aCA8IGxlbmd0aFxuICAgICAgaWQuc3Vic3RyIDAsIGxlbmd0aFxuXG4gICAgIyBSZXR1cm5zIGEgcmFuZG9tIGludGVnZXIgYmV0d2VlbiBtaW4gKGluY2x1c2l2ZSkgYW5kIG1heCAoaW5jbHVzaXZlKVxuICAgIEBnZXRSYW5kb21JbnQ6IChtaW4sIG1heCkgLT5cbiAgICAgIHJldHVybiBNYXRoLmZsb29yKE1hdGgucmFuZG9tKCkgKiAobWF4IC0gbWluICsgMSkpICsgbWluXG4iLCJGYXN0YSA9IHJlcXVpcmUoXCJiaW9qcy1pby1mYXN0YVwiKVxuR0ZGID0gcmVxdWlyZShcImJpb2pzLWlvLWdmZlwiKVxueGhyID0gcmVxdWlyZSBcInhoclwiXG5ibG9iVVJMID0gcmVxdWlyZSBcImJsdWVpbXBfY2FudmFzdG9ibG9iXCJcbnNhdmVBcyA9IHJlcXVpcmUgXCJicm93c2VyLXNhdmVhc1wiXG5fID0gcmVxdWlyZSBcInVuZGVyc2NvcmVcIlxuXG5tb2R1bGUuZXhwb3J0cyA9IEV4cG9ydGVyID1cblxuICBvcGVuSW5KYWx2aWV3OiAodXJsLCBjb2xvcnNjaGVtZSkgLT5cbiAgICBpZiB1cmwuY2hhckF0KDApIGlzICcuJ1xuICAgICAgIyByZWxhdGl2ZSB1cmxzXG4gICAgICB1cmwgPSBkb2N1bWVudC5VUkwuc3Vic3RyKDAsZG9jdW1lbnQuVVJMLmxhc3RJbmRleE9mKCcvJykpICsgXCIvXCIgKyB1cmxcblxuICAgICMgY2hlY2sgd2hldGhlciB0aGlzIGlzIGEgbG9jYWwgdXJsXG4gICAgaWYgdXJsLmluZGV4T2YoXCJodHRwXCIpIDwgMFxuICAgICAgIyBhcHBlbmQgaG9zdCBhbmQgaG9wZSBmb3IgdGhlIGJlc3RcbiAgICAgIGhvc3QgPSBcImh0dHA6Ly9cIiArIHdpbmRvdy5sb2NhdGlvbi5ob3N0bmFtZVxuICAgICAgdXJsID0gaG9zdCArIHVybFxuXG4gICAgdXJsID0gZW5jb2RlVVJJQ29tcG9uZW50IHVybFxuICAgIGphbHZpZXdVcmwgPSBcImh0dHA6Ly93d3cuamFsdmlldy5vcmcvc2VydmljZXMvbGF1bmNoQXBwP29wZW49XCIgKyB1cmxcbiAgICBqYWx2aWV3VXJsICs9IFwiJmNvbG91cj1cIiArIGNvbG9yc2NoZW1lXG4gICAgd2luZG93Lm9wZW4gamFsdmlld1VybCwgJ19ibGFuaydcblxuICBwdWJsaXNoV2ViOiAodGhhdCwgY2IpIC0+XG4gICAgdGV4dCA9IEZhc3RhLndyaXRlIHRoYXQuc2Vxcy50b0pTT04oKVxuICAgIHRleHQgPSBlbmNvZGVVUklDb21wb25lbnQgdGV4dFxuICAgIHVybCA9IHRoYXQudS5wcm94eS5jb3JzVVJMIFwiaHR0cDovL3NwcnVuZ2UuYmlvanMubmV0XCJcbiAgICB4aHJcbiAgICAgIG1ldGhvZDogXCJQT1NUXCJcbiAgICAgIGJvZHk6IFwic3BydW5nZT1cIiArIHRleHRcbiAgICAgIHVyaTogdXJsXG4gICAgICBoZWFkZXJzOlxuICAgICAgICBcIkNvbnRlbnQtVHlwZVwiOiBcImFwcGxpY2F0aW9uL3gtd3d3LWZvcm0tdXJsZW5jb2RlZFwiXG4gICAgLCAoZXJyLHJlcCxib2R5KSAtPlxuICAgICAgbGluayA9IGJvZHkudHJpbSgpXG4gICAgICBjYihsaW5rKVxuXG4gIHNoYXJlTGluazogKHRoYXQsIGNiKSAtPlxuICAgIHVybCA9IHRoYXQuZy5jb25maWcuZ2V0IFwiaW1wb3J0VVJMXCJcbiAgICBtc2FVUkwgPSBcImh0dHA6Ly9iaW9qcy1tc2Eub3JnL2FwcC8/c2VxPVwiXG4gICAgZkNCID0gKGxpbmspIC0+XG4gICAgICBmVVJMID0gbXNhVVJMICsgbGlua1xuICAgICAgaWYgY2JcbiAgICAgICAgY2IgZlVSTFxuICAgIHVubGVzcyB1cmxcbiAgICAgIEV4cG9ydGVyLnB1Ymxpc2hXZWIgdGhhdCwgZkNCXG4gICAgZWxzZVxuICAgICAgZkNCIHVybFxuXG4gIHNhdmVBc0ZpbGU6ICh0aGF0LG5hbWUpIC0+XG4gICAgIyBsaW1pdCBhdCBhYm91dCAyNTZrXG4gICAgdGV4dCA9IEZhc3RhLndyaXRlIHRoYXQuc2Vxcy50b0pTT04oKVxuICAgIGJsb2IgPSBuZXcgQmxvYihbdGV4dF0sIHt0eXBlIDogJ3RleHQvcGxhaW4nfSlcbiAgICBzYXZlQXMgYmxvYiwgbmFtZVxuXG4gIHNhdmVTZWxlY3Rpb246ICh0aGF0LG5hbWUpIC0+XG4gICAgc2VsZWN0aW9uID0gdGhhdC5nLnNlbGNvbC5wbHVjayBcInNlcUlkXCJcbiAgICBjb25zb2xlLmxvZyBzZWxlY3Rpb25cbiAgICBpZiBzZWxlY3Rpb24ubGVuZ3RoID4gMFxuICAgICAgIyBmaWx0ZXIgdGhvc2Ugc2VxaWRzXG4gICAgICBzZWxlY3Rpb24gPSB0aGF0LnNlcXMuZmlsdGVyIChlbCkgLT5cbiAgICAgICAgXy5jb250YWlucyBzZWxlY3Rpb24sIGVsLmdldCBcImlkXCJcbiAgICAgIGZvciBpIGluIFswLi4gc2VsZWN0aW9uLmxlbmd0aCAtIDFdIGJ5IDFcbiAgICAgICAgc2VsZWN0aW9uW2ldID0gc2VsZWN0aW9uW2ldLnRvSlNPTigpXG4gICAgZWxzZVxuICAgICAgc2VsZWN0aW9uID0gdGhhdC5zZXFzLnRvSlNPTigpXG4gICAgICBjb25zb2xlLndhcm4gXCJubyBzZWxlY3Rpb24gZm91bmRcIlxuICAgIHRleHQgPSBGYXN0YS53cml0ZSBzZWxlY3Rpb25cbiAgICBibG9iID0gbmV3IEJsb2IoW3RleHRdLCB7dHlwZSA6ICd0ZXh0L3BsYWluJ30pXG4gICAgc2F2ZUFzIGJsb2IsIG5hbWVcblxuICBzYXZlQW5ub3RzOiAodGhhdCxuYW1lKSAtPlxuICAgIGZlYXR1cmVzID0gdGhhdC5zZXFzLm1hcCAoZWwpIC0+XG4gICAgICBmZWF0dXJlcyA9IGVsLmdldCBcImZlYXR1cmVzXCJcbiAgICAgIHJldHVybiBpZiBmZWF0dXJlcy5sZW5ndGggaXMgMFxuICAgICAgc2VxbmFtZSA9IGVsLmdldChcIm5hbWVcIilcbiAgICAgIGZlYXR1cmVzLmVhY2ggKHMpIC0+XG4gICAgICAgIHMuc2V0IFwic2VxbmFtZVwiLCBzZXFuYW1lXG4gICAgICByZXR1cm4gZmVhdHVyZXMudG9KU09OKClcbiAgICBmZWF0dXJlcyA9IF8uZmxhdHRlbiBfLmNvbXBhY3QgZmVhdHVyZXNcbiAgICBjb25zb2xlLmxvZyBmZWF0dXJlc1xuICAgIHRleHQgPSBHRkYuZXhwb3J0TGluZXMgZmVhdHVyZXNcbiAgICBibG9iID0gbmV3IEJsb2IoW3RleHRdLCB7dHlwZSA6ICd0ZXh0L3BsYWluJ30pXG4gICAgc2F2ZUFzIGJsb2IsIG5hbWVcblxuICBzYXZlQXNJbWc6ICh0aGF0LG5hbWUpIC0+XG4gICAgICAjIFRPRE86IHRoaXMgaXMgdmVyeSB1Z2x5XG4gICAgICBjYW52YXMgPSB0aGF0LmdldFZpZXcoJ3N0YWdlJykuZ2V0VmlldygnYm9keScpLmdldFZpZXcoJ3NlcWJsb2NrJykuZWxcbiAgICAgIGlmIGNhbnZhcz9cbiAgICAgICAgdXJsID0gY2FudmFzLnRvRGF0YVVSTCgnaW1hZ2UvcG5nJylcbiAgICAgICAgc2F2ZUFzIGJsb2JVUkwodXJsKSwgbmFtZSwgXCJpbWFnZS9wbmdcIlxuIiwiRmFzdGFSZWFkZXIgPSByZXF1aXJlKFwiYmlvanMtaW8tZmFzdGFcIilcbkNsdXN0YWxSZWFkZXIgPSByZXF1aXJlIFwiYmlvanMtaW8tY2x1c3RhbFwiXG5HZmZSZWFkZXIgPSByZXF1aXJlIFwiYmlvanMtaW8tZ2ZmXCJcbl8gPSByZXF1aXJlIFwidW5kZXJzY29yZVwiXG54aHIgPSByZXF1aXJlIFwieGhyXCJcblxubW9kdWxlLmV4cG9ydHMgPSBGaWxlSGVscGVyID0gKG1zYSkgLT5cbiAgQG1zYSA9IG1zYVxuICBAXG5cbmZ1bnMgPVxuICBndWVzc0ZpbGVUeXBlOiAobmFtZSkgLT5cbiAgICBuYW1lID0gbmFtZS5zcGxpdChcIi5cIilcbiAgICBmaWxlTmFtZSA9IG5hbWVbbmFtZS5sZW5ndGggLTFdXG4gICAgc3dpdGNoIGZpbGVOYW1lXG4gICAgICB3aGVuIFwiYWxuXCIsIFwiY2x1c3RhbFwiIHRoZW4gcmV0dXJuIENsdXN0YWxSZWFkZXJcbiAgICAgIHdoZW4gXCJmYXN0YVwiIHRoZW4gcmV0dXJuIEZhc3RhUmVhZGVyXG4gICAgICBlbHNlXG4gICAgICAgIHJldHVybiBGYXN0YVJlYWRlclxuXG4gIGd1ZXNzRmlsZUZyb21UZXh0OiAodGV4dCkgLT5cbiAgICB1bmxlc3MgdGV4dD9cbiAgICAgIGNvbnNvbGUud2FybiBcImludmFsaWQgZmlsZSBmb3JtYXRcIlxuICAgICAgcmV0dXJuIFtcIlwiLCBcImVycm9yXCJdXG4gICAgaWYgdGV4dC5zdWJzdHJpbmcoMCw3KSBpcyBcIkNMVVNUQUxcIlxuICAgICAgcmVhZGVyID0gQ2x1c3RhbFJlYWRlclxuICAgICAgdHlwZSA9IFwic2Vxc1wiXG4gICAgZWxzZSBpZiB0ZXh0LnN1YnN0cmluZygwLDEpIGlzIFwiPlwiXG4gICAgICByZWFkZXIgPSBGYXN0YVJlYWRlclxuICAgICAgdHlwZSA9IFwic2Vxc1wiXG4gICAgZWxzZSBpZiB0ZXh0LnN1YnN0cmluZygwLDEpIGlzIFwiKFwiXG4gICAgICB0eXBlID0gXCJuZXdpY2tcIlxuICAgIGVsc2VcbiAgICAgIHJlYWRlciA9IEdmZlJlYWRlclxuICAgICAgdHlwZSA9IFwiZmVhdHVyZXNcIlxuICAgICAgI2NvbnNvbGUud2FybiBcIlVua25vd24gZm9ybWF0LiBDb250YWN0IGdyZWVuaWZ5XCJcbiAgICBbcmVhZGVyLHR5cGVdXG5cbiAgcGFyc2VUZXh0OiAodGV4dCkgLT5cbiAgICBbcmVhZGVyLCB0eXBlXSA9IEBndWVzc0ZpbGVGcm9tVGV4dCB0ZXh0XG4gICAgaWYgdHlwZSBpcyBcInNlcXNcIlxuICAgICAgc2VxcyA9IHJlYWRlci5wYXJzZSB0ZXh0XG4gICAgICByZXR1cm4gW3NlcXMsdHlwZV1cbiAgICBlbHNlIGlmIHR5cGUgaXMgXCJmZWF0dXJlc1wiXG4gICAgICBmZWF0dXJlcyA9IHJlYWRlci5wYXJzZVNlcXMgdGV4dFxuICAgICAgcmV0dXJuIFtmZWF0dXJlcyx0eXBlXVxuICAgIGVsc2VcbiAgICAgIHJldHVybiBbdGV4dCx0eXBlXVxuXG4gIGltcG9ydEZpbGVzOiAoZmlsZXMpIC0+XG4gICAgZm9yIGkgaW4gWzAuLmZpbGVzLmxlbmd0aCAtIDFdIGJ5IDFcbiAgICAgIGZpbGUgPSBmaWxlc1tpXVxuICAgICAgcmVhZGVyID0gbmV3IEZpbGVSZWFkZXIoKVxuICAgICAgcmVhZGVyLm9ubG9hZCA9IChldnQpID0+XG4gICAgICAgIEBpbXBvcnRGaWxlIGV2dC50YXJnZXQucmVzdWx0XG4gICAgICByZWFkZXIucmVhZEFzVGV4dCBmaWxlXG5cbiAgaW1wb3J0RmlsZTogKGZpbGUpIC0+XG4gICAgW29ianMsIHR5cGVdID0gQHBhcnNlVGV4dCBmaWxlXG4gICAgaWYgdHlwZSBpcyBcImVycm9yXCJcbiAgICAgICAgcmV0dXJuIFwiZXJyb3JcIlxuICAgIGlmIHR5cGUgaXMgXCJzZXFzXCJcbiAgICAgIEBtc2Euc2Vxcy5yZXNldCBvYmpzXG4gICAgICBAbXNhLmcuY29uZmlnLnNldCBcInVybFwiLCBcInVzZXJpbXBvcnRcIlxuICAgICAgQG1zYS5nLnRyaWdnZXIgXCJ1cmw6dXNlckltcG9ydFwiXG4gICAgZWxzZSBpZiB0eXBlIGlzIFwiZmVhdHVyZXNcIlxuICAgICAgQG1zYS5zZXFzLmFkZEZlYXR1cmVzIG9ianNcbiAgICBlbHNlIGlmIHR5cGUgaXMgXCJuZXdpY2tcIlxuICAgICAgQG1zYS51LnRyZWUubG9hZFRyZWUgPT5cbiAgICAgICAgQG1zYS51LnRyZWUuc2hvd1RyZWUgZmlsZVxuXG4gICAgZmlsZU5hbWUgPSBmaWxlLm5hbWVcblxuICBpbXBvcnRVUkw6ICh1cmwsIGNiKSAtPlxuICAgIHVybCA9IEBtc2EudS5wcm94eS5jb3JzVVJMIHVybFxuICAgIEBtc2EuZy5jb25maWcuc2V0IFwidXJsXCIsIHVybFxuICAgIHhociB1cmwsIChlcnIsc3RhdHVzLGJvZHkpID0+XG4gICAgICB1bmxlc3MgZXJyXG4gICAgICAgIHJlcyA9IEBpbXBvcnRGaWxlIGJvZHlcbiAgICAgICAgaWYgcmVzIGlzIFwiZXJyb3JcIlxuICAgICAgICAgIHJldHVyblxuICAgICAgICBAbXNhLmcudHJpZ2dlciBcImltcG9ydDp1cmxcIiwgdXJsXG4gICAgICAgIGlmIGNiXG4gICAgICAgICAgY2IoKVxuICAgICAgZWxzZVxuICAgICAgICBjb25zb2xlLmxvZyBlcnJcblxuXy5leHRlbmQgRmlsZUhlbHBlcjo6LCBmdW5zXG4iLCJtb2R1bGUuZXhwb3J0cy5ibWF0aCA9IHJlcXVpcmUoXCIuL2JtYXRoXCIpXG5tb2R1bGUuZXhwb3J0cy5wcm94eSA9IHJlcXVpcmUoXCIuL3Byb3h5XCIpXG5tb2R1bGUuZXhwb3J0cy5zZXFnZW4gPSByZXF1aXJlKFwiLi9zZXFnZW5cIilcbm1vZHVsZS5leHBvcnRzLmZpbGUgPSByZXF1aXJlKFwiLi9maWxlXCIpXG5tb2R1bGUuZXhwb3J0cy5leHBvcnQgPSByZXF1aXJlKFwiLi9leHBvcnRcIilcbiIsImsgPSByZXF1aXJlIFwia29hbGEtanNcIlxuXG5tb2R1bGUuZXhwb3J0cyA9IGxvYWRlciA9XG5cbiAgIyBhc3luY2hyb25vdXNseSByZXF1aXJlIGEgc2NyaXB0XG4gIGxvYWRTY3JpcHQ6ICh1cmwsIGNiKSAtPlxuICAgIHMgPSBrLm1rIFwic2NyaXB0XCJcbiAgICBzLnR5cGUgPSBcInRleHQvamF2YXNjcmlwdFwiXG4gICAgcy5zcmMgPSB1cmxcbiAgICBzLmFzeW5jID0gdHJ1ZVxuICAgIHMub25sb2FkID0gcy5vbnJlYWR5c3RhdGVjaGFuZ2UgPSAtPlxuICAgICAgaWYgbm90IHIgYW5kIChub3QgQHJlYWR5U3RhdGUgb3IgQHJlYWR5U3RhdGUgaXMgXCJjb21wbGV0ZVwiKVxuICAgICAgICByID0gdHJ1ZVxuICAgICAgICBjYigpXG4gICAgdCA9IGRvY3VtZW50LmdldEVsZW1lbnRzQnlUYWdOYW1lKFwic2NyaXB0XCIpWzBdXG4gICAgdC5wYXJlbnROb2RlLmFwcGVuZENoaWxkIHNcblxuICAjIGpvaW5zIG11bHRpcGxlIGNhbGxiYWNrcyBpbnRvIG9uZSBjYWxsYmFja1xuICAjIGEgYml0IGxpa2UgUHJvbWlzZS5hbGwgLSBidXQgZm9yIGNhbGxiYWNrc1xuICBqb2luQ2I6IChyZXRDYiwgZmluYWxMZW5ndGgsIGZpbmFsU2NvcGUpIC0+XG4gICAgZmluYWxMZW5ndGggPSBmaW5hbExlbmd0aCB8fCAxXG4gICAgY2JzRmluaXNoZWQgPSAwXG5cbiAgICBjYWxsYmFja1dyYXBwZXIgPSAoY2IsIHNjb3BlKSAtPlxuICAgICAgaWYgbm90IGNiP1xuICAgICAgICAjIGRpcmVjdGx5IGNhbGxlZCAod2l0aG91dCBjYilcbiAgICAgICAgY291bnRlcigpXG4gICAgICBlbHNlXG4gICAgICAgIC0+XG4gICAgICAgICAgaWYgXCJhcHBseVwiIGluIGNiXG4gICAgICAgICAgICBjYi5hcHBseSBzY29wZSwgYXJndW1lbnRzXG4gICAgICAgICAgY291bnRlcigpXG5cbiAgICBjb3VudGVyID0gLT5cbiAgICAgIGNic0ZpbmlzaGVkKytcbiAgICAgIGlmIGNic0ZpbmlzaGVkIGlzIGZpbmFsTGVuZ3RoXG4gICAgICAgIHJldENiLmNhbGwgZmluYWxTY29wZVxuXG4gICAgcmV0dXJuIGNhbGxiYWNrV3JhcHBlclxuIiwiXyA9IHJlcXVpcmUgXCJ1bmRlcnNjb3JlXCJcblxubW9kdWxlLmV4cG9ydHMgPSBQcm94eUhlbHBlciA9IChvcHRzKSAtPlxuICBAZyA9IG9wdHMuZ1xuICBAXG5cbnByb3h5RnVuID1cblxuICBjb3JzVVJMOiAodXJsKSAtPlxuICAgICMgZG8gbm90IGZpbHRlciBvbiBsb2NhbGhvc3RcbiAgICByZXR1cm4gdXJsIGlmIGRvY3VtZW50LlVSTC5pbmRleE9mKCdsb2NhbGhvc3QnKSA+PSAwIGFuZCB1cmxbMF0gaXMgXCIvXCJcbiAgICByZXR1cm4gdXJsIGlmIHVybC5jaGFyQXQoMCkgaXMgXCIuXCIgb3IgdXJsLmNoYXJBdCgwKSBpcyBcIi9cIlxuXG4gICAgIyByZW1vdmUgd3d3ICsgaHR0cFxuICAgIHVybCA9IHVybC5yZXBsYWNlIFwid3d3XFwuXCIsIFwiXCJcbiAgICB1cmwgPSB1cmwucmVwbGFjZSBcImh0dHA6Ly9cIiwgXCJcIlxuXG4gICAgIyBwcmVwZW5kIHByb3h5XG4gICAgdXJsID0gQGcuY29uZmlnLmdldCgnaW1wb3J0UHJveHknKSArIHVybFxuICAgIHVybFxuXG5fLmV4dGVuZCBQcm94eUhlbHBlcjo6LCBwcm94eUZ1blxuIiwiU2VxdWVuY2UgPSByZXF1aXJlKFwiYmlvanMtbW9kZWxcIikuc2VxXG5CTWF0aCA9IHJlcXVpcmUgXCIuL2JtYXRoXCJcblN0YXQgPSByZXF1aXJlIFwic3RhdC5zZXFzXCJcblxuc2VxZ2VuID0gbW9kdWxlLmV4cG9ydHMgPVxuICBfZ2VuZXJhdGVTZXF1ZW5jZTogKGxlbikgLT5cbiAgICB0ZXh0ID0gXCJcIlxuICAgIGZvciBpIGluIFswLi5sZW4gLSAxXSBieSAxXG4gICAgICB0ZXh0ICs9IHNlcWdlbi5nZXRSYW5kb21DaGFyKClcbiAgICByZXR1cm4gdGV4dFxuXG4gICMgZ2VuZXJhdGVzIGEgZHVtbXkgc2VxdWVuY2VzXG4gICMgQHBhcmFtIGxlbiBbaW50XSBudW1iZXIgb2YgZ2VuZXJhdGVkIHNlcXVlbmNlc1xuICAjIEBwYXJhbSBzZXFMZW4gW2ludF0gbGVuZ3RoIG9mIHRoZSBnZW5lcmF0ZWQgc2VxdWVuY2VzXG4gIGdldER1bW15U2VxdWVuY2VzOiAobGVuLCBzZXFMZW4pIC0+XG4gICAgc2VxcyA9IFtdXG4gICAgbGVuID0gQk1hdGguZ2V0UmFuZG9tSW50IDMsNSB1bmxlc3MgbGVuP1xuICAgIHNlcUxlbiA9IEJNYXRoLmdldFJhbmRvbUludCA1MCwyMDAgdW5sZXNzIHNlcUxlbj9cblxuICAgIGZvciBpIGluIFsxLi5sZW5dIGJ5IDFcbiAgICAgIHNlcXMucHVzaCBuZXcgU2VxdWVuY2Uoc2VxZ2VuLl9nZW5lcmF0ZVNlcXVlbmNlKHNlcUxlbiksIFwic2VxXCIgKyBpLFxuICAgICAgXCJyXCIgKyBpKVxuICAgIHJldHVybiBzZXFzXG5cbiAgZ2V0UmFuZG9tQ2hhcjogKGRpY3QpIC0+XG4gICAgcG9zc2libGUgPSBkaWN0IHx8IFwiQUJDREVGR0hJSktMTU5PUFFSU1RVVldYWVpcIlxuICAgIHBvc3NpYmxlLmNoYXJBdCBNYXRoLmZsb29yKE1hdGgucmFuZG9tKCkgKiBwb3NzaWJsZS5sZW5ndGgpXG5cbiAgIyBnZW5lcmF0ZXMgYSBkdW1teSBzZXF1ZW5jZXNcbiAgIyBAcGFyYW0gbGVuIFtpbnRdIG51bWJlciBvZiBnZW5lcmF0ZWQgc2VxdWVuY2VzXG4gICMgQHBhcmFtIHNlcUxlbiBbaW50XSBsZW5ndGggb2YgdGhlIGdlbmVyYXRlZCBzZXF1ZW5jZXNcbiAgZ2VuQ29uc2VydmVkU2VxdWVuY2VzOiAobGVuLCBzZXFMZW4sIGRpY3QpIC0+XG4gICAgc2VxcyA9IFtdXG4gICAgbGVuID0gQk1hdGguZ2V0UmFuZG9tSW50IDMsNSB1bmxlc3MgbGVuP1xuICAgIHNlcUxlbiA9IEJNYXRoLmdldFJhbmRvbUludCA1MCwyMDAgdW5sZXNzIHNlcUxlbj9cblxuICAgIGRpY3QgPSBkaWN0IHx8IFwiQUNERUZHSElLTE1OUFFSU1RWV1ktLS1cIlxuXG4gICAgZm9yIGkgaW4gWzEuLmxlbl0gYnkgMVxuICAgICAgc2Vxc1tpLTFdID0gXCJcIlxuXG4gICAgdG9sZXJhbmNlID0gMC4yXG5cbiAgICBjb25zZXJ2QWltID0gMVxuICAgIGZvciBpIGluIFswLi4gc2VxTGVuIC0gMV0gYnkgMVxuICAgICAgaWYgaSAlIDMgPT0gMFxuICAgICAgICBjb25zZXJ2QWltID0gKEJNYXRoLmdldFJhbmRvbUludCA1MCwxMDApIC8gMTAwXG4gICAgICBvYnNlcnZlZCA9IFtdXG4gICAgICBmb3IgaiBpbiBbMC4ubGVuIC0gMV0gYnkgMVxuICAgICAgICBjb3VudGVyID0gMFxuICAgICAgICB3aGlsZSBjb3VudGVyIDwgMTAwXG4gICAgICAgICAgYyA9IHNlcWdlbi5nZXRSYW5kb21DaGFyIGRpY3RcbiAgICAgICAgICBjQ29uc2VydiA9IFN0YXQgb2JzZXJ2ZWRcbiAgICAgICAgICBjQ29uc2Vydi5hZGRTZXEgY1xuICAgICAgICAgIGNvdW50ZXIrK1xuICAgICAgICAgIGlmIE1hdGguYWJzKGNvbnNlcnZBaW0gLSBjQ29uc2Vydi5zY2FsZShjQ29uc2Vydi5jb25zZXJ2YXRpb24oKSlbMF0pIDwgdG9sZXJhbmNlXG4gICAgICAgICAgICBicmVha1xuICAgICAgICBzZXFzW2pdICs9IGNcbiAgICAgICAgb2JzZXJ2ZWQucHVzaCBjXG5cbiAgICBwc2VxcyA9IFtdXG4gICAgZm9yIGkgaW4gWzEuLmxlbl0gYnkgMVxuICAgICAgcHNlcXMucHVzaCBuZXcgU2VxdWVuY2Uoc2Vxc1tpLTFdLCBcInNlcVwiICsgaSwgXCJyXCIgKyBpKVxuXG4gICAgcmV0dXJuIHBzZXFzXG4iLCIjIG1pbmkgc3ZnIGhlbHBlclxuXG5zdmducyA9IFwiaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmdcIlxuXG5zZXRBdHRyID0gKG9iaixvcHRzKSAtPlxuICBmb3IgbmFtZSwgdmFsdWUgb2Ygb3B0c1xuICAgIG9iai5zZXRBdHRyaWJ1dGVOUyBudWxsLCBuYW1lLCB2YWx1ZVxuICBvYmpcblxuQmFzZSA9IChvcHRzKSAtPlxuICBzdmcgPSBkb2N1bWVudC5jcmVhdGVFbGVtZW50TlMgc3ZnbnMsICdzdmcnXG4gIHN2Zy5zZXRBdHRyaWJ1dGUgXCJ3aWR0aFwiLCBvcHRzLndpZHRoXG4gIHN2Zy5zZXRBdHRyaWJ1dGUgXCJoZWlnaHRcIiwgb3B0cy5oZWlnaHRcbiAgc3ZnXG5cblJlY3QgPSAob3B0cykgLT5cbiAgcmVjdCA9IGRvY3VtZW50LmNyZWF0ZUVsZW1lbnROUyBzdmducywgJ3JlY3QnXG4gIHNldEF0dHIgcmVjdCxvcHRzXG5cbkxpbmUgPSAob3B0cykgLT5cbiAgbGluZSA9IGRvY3VtZW50LmNyZWF0ZUVsZW1lbnROUyBzdmducywgJ2xpbmUnXG4gIHNldEF0dHIgbGluZSxvcHRzXG5cblBvbHlnb24gPSAob3B0cykgLT5cbiAgbGluZSA9IGRvY3VtZW50LmNyZWF0ZUVsZW1lbnROUyBzdmducywgJ3BvbHlnb24nXG4gIHNldEF0dHIgbGluZSxvcHRzXG5cbm1vZHVsZS5leHBvcnRzLnJlY3QgPSBSZWN0XG5tb2R1bGUuZXhwb3J0cy5saW5lID0gTGluZVxubW9kdWxlLmV4cG9ydHMucG9seWdvbiA9IFBvbHlnb25cbm1vZHVsZS5leHBvcnRzLmJhc2UgPSBCYXNlXG4iLCJfID0gcmVxdWlyZSBcInVuZGVyc2NvcmVcIlxuXG5tb2R1bGUuZXhwb3J0cyA9IHRyZWVIZWxwZXIgPSAgKG1zYSkgLT5cbiAgQG1zYSA9IG1zYVxuICBAXG5cbnRmID1cblxuICAgIGxvYWRUcmVlOiAoY2IpIC0+XG4gICAgICBAbXNhLmcucGFja2FnZS5sb2FkUGFja2FnZXMgW1wibXNhLXRudFwiLCBcImJpb2pzLWlvLW5ld2lja1wiXSwgY2JcblxuICAgIHNob3dUcmVlOiAobmV3aWNrU3RyKSAtPlxuICAgICAgbmV3aWNrID0gQHJlcXVpcmUgXCJiaW9qcy1pby1uZXdpY2tcIlxuICAgICAgaWYgdHlwZW9mIG5ld2lja1N0ciBpcyBcInN0cmluZ1wiXG4gICAgICAgIG5ld2lja09iaiA9IG5ld2ljay5wYXJzZV9uZXdpY2sgbmV3aWNrU3RyXG4gICAgICBlbHNlXG4gICAgICAgIG5ld2lja09iaiA9IG5ld2lja1N0clxuXG4gICAgICBtdCA9IEByZXF1aXJlIFwibXNhLXRudFwiXG5cbiAgICAgIHNlbCA9IG5ldyBtdC5zZWxlY3Rpb25zKClcbiAgICAgIHRyZWVEaXYgPSBkb2N1bWVudC5jcmVhdGVFbGVtZW50IFwiZGl2XCJcbiAgICAgIGRvY3VtZW50LmJvZHkuYXBwZW5kQ2hpbGQgdHJlZURpdlxuXG4gICAgICBjb25zb2xlLmxvZyBAbXNhLnNlcXMubW9kZWxzXG4gICAgICBjb25zb2xlLmxvZyBuZXdpY2tPYmpcblxuICAgICAgbm9kZXMgPSBtdC5hcHBcbiAgICAgICAgc2VxczogQG1zYS5zZXFzLm1vZGVsc1xuICAgICAgICB0cmVlOiBuZXdpY2tPYmpcblxuICAgICAgY29uc29sZS5sb2cgXCJub2Rlc1wiLCBub2Rlc1xuXG4gICAgICB0ID0gbmV3IG10LmFkYXB0ZXJzLnRyZWVcbiAgICAgICAgbW9kZWw6IG5vZGVzLFxuICAgICAgICBlbDogdHJlZURpdixcbiAgICAgICAgc2VsOiBzZWwsXG5cbiAgICAgIHRyZWVEaXYuc3R5bGUud2lkdGggPSBcIjUwMHB4XCJcblxuICAgICMgd29ya2Fyb3VuZCBhZ2FpbnN0IGJyb3dzZXJpZnkncyBzdGF0aWMgYW5hbHlzaXNcbiAgICByZXF1aXJlOiAocGtnKSAtPlxuICAgICAgcmVxdWlyZSBwa2dcblxuXy5leHRlbmQgdHJlZUhlbHBlcjo6ICwgdGZcbiIsImJvbmVWaWV3ID0gcmVxdWlyZShcImJhY2tib25lLWNoaWxkc1wiKVxuU2VxQmxvY2sgPSByZXF1aXJlIFwiLi9jYW52YXMvQ2FudmFzU2VxQmxvY2tcIlxuTGFiZWxCbG9jayA9IHJlcXVpcmUgXCIuL2xhYmVscy9MYWJlbEJsb2NrXCJcblxubW9kdWxlLmV4cG9ydHMgPSBib25lVmlldy5leHRlbmRcblxuICBpbml0aWFsaXplOiAoZGF0YSkgLT5cbiAgICBAZyA9IGRhdGEuZ1xuXG4gICAgaWYgdHJ1ZVxuICAgICAgbGFiZWxibG9jayA9IG5ldyBMYWJlbEJsb2NrIHttb2RlbDogQG1vZGVsLCBnOiBAZ31cbiAgICAgIGxhYmVsYmxvY2sub3JkZXJpbmcgPSAtMVxuICAgICAgQGFkZFZpZXcgXCJsYWJlbGJsb2NrXCIsbGFiZWxibG9ja1xuXG4gICAgaWYgQGcudmlzLmdldCBcInNlcXVlbmNlc1wiXG4gICAgICBzZXFibG9jayA9IG5ldyBTZXFCbG9jayB7bW9kZWw6IEBtb2RlbCwgZzogQGd9XG4gICAgICBzZXFibG9jay5vcmRlcmluZyA9IDBcbiAgICAgIEBhZGRWaWV3IFwic2VxYmxvY2tcIixzZXFibG9ja1xuXG4gICAgQGxpc3RlblRvIEBnLnpvb21lciwgXCJjaGFuZ2U6YWxpZ25tZW50SGVpZ2h0XCIsIEBhZGp1c3RIZWlnaHRcbiAgICBAbGlzdGVuVG8gQGcuem9vbWVyLCBcImNoYW5nZTphbGlnbm1lbnRXaWR0aFwiLCBAYWRqdXN0V2lkdGhcbiAgICBAbGlzdGVuVG8gQGcuY29sdW1ucywgXCJjaGFuZ2U6aGlkZGVuXCIsIEBhZGp1c3RIZWlnaHRcblxuICByZW5kZXI6IC0+XG4gICAgQHJlbmRlclN1YnZpZXdzKClcbiAgICBAZWwuY2xhc3NOYW1lID0gXCJiaW9qc19tc2FfYWxib2R5XCJcbiAgICBAZWwuc3R5bGUud2hpdGVTcGFjZSA9IFwibm93cmFwXCJcbiAgICBAYWRqdXN0SGVpZ2h0KClcbiAgICBAYWRqdXN0V2lkdGgoKVxuICAgIEBcblxuICBhZGp1c3RIZWlnaHQ6IC0+XG4gICAgaWYgQGcuem9vbWVyLmdldChcImFsaWdubWVudEhlaWdodFwiKSBpcyBcImF1dG9cIlxuICAgICAgIyBUT0RPOiBmaXggdGhlIG1hZ2ljIDVcbiAgICAgIEBlbC5zdHlsZS5oZWlnaHQgPSAoQGcuem9vbWVyLmdldChcInJvd0hlaWdodFwiKSAqIEBtb2RlbC5sZW5ndGgpICsgNVxuICAgIGVsc2VcbiAgICAgIEBlbC5zdHlsZS5oZWlnaHQgPSBAZy56b29tZXIuZ2V0IFwiYWxpZ25tZW50SGVpZ2h0XCJcblxuICBhZGp1c3RXaWR0aDogLT5cbiAgICAjIFRPRE86IDE1IGlzIHRoZSB3aWR0aCBvZiB0aGUgc2Nyb2xsYmFyXG4gICAgQGVsLnN0eWxlLndpZHRoID0gQGdldFdpZHRoKClcblxuICBnZXRXaWR0aDogLT5cbiAgICB3aWR0aCA9IDBcbiAgICB3aWR0aCArPSBAZy56b29tZXIuZ2V0TGVmdEJsb2NrV2lkdGgoKVxuICAgIGlmIEBnLnZpcy5nZXQgXCJzZXF1ZW5jZXNcIlxuICAgICAgd2lkdGggKz0gQGcuem9vbWVyLmdldCBcImFsaWdubWVudFdpZHRoXCJcbiAgICB3aWR0aFxuIiwidmlldyA9IHJlcXVpcmUoXCJiYWNrYm9uZS12aWV3alwiKVxubW91c2UgPSByZXF1aXJlIFwibW91c2UtcG9zXCJcbnNlbGVjdGlvbiA9IHJlcXVpcmUgXCIuLi9nL3NlbGVjdGlvbi9TZWxlY3Rpb25cIlxuamJvbmUgPSByZXF1aXJlIFwiamJvbmVcIlxuXyA9IHJlcXVpcmUgXCJ1bmRlcnNjb3JlXCJcblxubW9kdWxlLmV4cG9ydHMgPSBPdmVydmlld0JveCA9IHZpZXcuZXh0ZW5kXG5cbiAgY2xhc3NOYW1lOiBcImJpb2pzX21zYV9vdmVydmlld2JveFwiXG4gIHRhZ05hbWU6IFwiY2FudmFzXCJcblxuICBpbml0aWFsaXplOiAoZGF0YSkgLT5cbiAgICBAZyA9IGRhdGEuZ1xuICAgIEBsaXN0ZW5UbyBAZy56b29tZXIsXCJjaGFuZ2U6Ym94UmVjdFdpZHRoIGNoYW5nZTpib3hSZWN0SGVpZ2h0XG4gICAgY2hhbmdlOm92ZXJ2aWV3Ym94UGFkZGluZ1RvcFwiLCBAcmVuZGVyXG4gICAgQGxpc3RlblRvIEBnLnNlbGNvbCwgXCJhZGQgcmVzZXQgY2hhbmdlXCIsIEByZW5kZXJcbiAgICBAbGlzdGVuVG8gQGcuY29sdW1ucywgXCJjaGFuZ2U6aGlkZGVuXCIsIEByZW5kZXJcbiAgICBAbGlzdGVuVG8gQGcuY29sb3JzY2hlbWUsIFwiY2hhbmdlOnNob3dMb3dlckNhc2VcIiwgQHJlbmRlclxuICAgIEBsaXN0ZW5UbyBAbW9kZWwsIFwiY2hhbmdlXCIsIF8uZGVib3VuY2UgQHJlbmRlciwgNVxuXG4gICAgIyBjb2xvclxuICAgIEBjb2xvciA9IEBnLmNvbG9yc2NoZW1lLmdldFNlbGVjdGVkU2NoZW1lKClcbiAgICBAbGlzdGVuVG8gQGcuY29sb3JzY2hlbWUsIFwiY2hhbmdlOnNjaGVtZVwiLCAtPlxuICAgICAgQGNvbG9yID0gQGcuY29sb3JzY2hlbWUuZ2V0U2VsZWN0ZWRTY2hlbWUoKVxuICAgICAgQHJlbmRlcigpXG4gICAgQGRyYWdTdGFydCA9IFtdXG5cbiAgZXZlbnRzOlxuICAgIGNsaWNrOiBcIl9vbmNsaWNrXCJcbiAgICBtb3VzZWRvd246IFwiX29ubW91c2Vkb3duXCJcblxuICByZW5kZXI6IC0+XG4gICAgQF9jcmVhdGVDYW52YXMoKVxuICAgIEBlbC50ZXh0Q29udGVudCA9IFwib3ZlcnZpZXdcIlxuICAgIEBlbC5zdHlsZS5tYXJnaW5Ub3AgPSBAZy56b29tZXIuZ2V0IFwib3ZlcnZpZXdib3hQYWRkaW5nVG9wXCJcblxuICAgICMgYmFja2dyb3VuZCBiZyBmb3Igbm9uLWRyYXdlZCBhcmVhXG4gICAgQGN0eC5maWxsU3R5bGUgPSBcIiM5OTk5OTlcIlxuICAgIEBjdHguZmlsbFJlY3QgMCwwLEBlbC53aWR0aCxAZWwuaGVpZ2h0XG5cbiAgICByZWN0V2lkdGggPSBAZy56b29tZXIuZ2V0IFwiYm94UmVjdFdpZHRoXCJcbiAgICByZWN0SGVpZ2h0ID0gQGcuem9vbWVyLmdldCBcImJveFJlY3RIZWlnaHRcIlxuICAgIGhpZGRlbiA9IEBnLmNvbHVtbnMuZ2V0IFwiaGlkZGVuXCJcbiAgICBzaG93TG93ZXJDYXNlID0gQGcuY29sb3JzY2hlbWUuZ2V0IFwic2hvd0xvd2VyQ2FzZVwiXG5cbiAgICB5ID0gLXJlY3RIZWlnaHRcbiAgICBmb3IgaSBpbiBbMC4uIEBtb2RlbC5sZW5ndGggLSAxXSBieSAxXG4gICAgICBzZXEgPSBAbW9kZWwuYXQoaSkuZ2V0IFwic2VxXCJcbiAgICAgIHggPSAwXG4gICAgICB5ID0geSArIHJlY3RIZWlnaHRcblxuXG4gICAgICBpZiBAbW9kZWwuYXQoaSkuZ2V0IFwiaGlkZGVuXCJcbiAgICAgICAgIyBoaWRkZW4gc2VxXG4gICAgICAgIGNvbnNvbGUubG9nIEBtb2RlbC5hdChpKS5nZXQgXCJoaWRkZW5cIlxuICAgICAgICBAY3R4LmZpbGxTdHlsZSA9IFwiZ3JleVwiXG4gICAgICAgIEBjdHguZmlsbFJlY3QgMCx5LHNlcS5sZW5ndGggKiByZWN0V2lkdGgscmVjdEhlaWdodFxuICAgICAgICBjb250aW51ZVxuXG4gICAgICBmb3IgaiBpbiBbMC4uIHNlcS5sZW5ndGggLSAxXSBieSAxXG4gICAgICAgIGMgPSBzZXFbal1cbiAgICAgICAgIyB0b2RvOiBvcHRpb25hbCB1cHBlcmNhc2luZ1xuICAgICAgICBjID0gYy50b1VwcGVyQ2FzZSgpIGlmIHNob3dMb3dlckNhc2VcbiAgICAgICAgY29sb3IgPSBAY29sb3IuZ2V0Q29sb3IgYywge3Bvczogan1cblxuICAgICAgICBpZiBoaWRkZW4uaW5kZXhPZihqKSA+PSAwXG4gICAgICAgICAgY29sb3IgPSBcImdyZXlcIlxuXG4gICAgICAgIGlmIGNvbG9yP1xuICAgICAgICAgIEBjdHguZmlsbFN0eWxlID0gY29sb3JcbiAgICAgICAgICBAY3R4LmZpbGxSZWN0IHgseSxyZWN0V2lkdGgscmVjdEhlaWdodFxuXG4gICAgICAgIHggPSB4ICsgcmVjdFdpZHRoXG5cbiAgICBAX2RyYXdTZWxlY3Rpb24oKVxuXG4gIF9kcmF3U2VsZWN0aW9uOiAtPlxuICAgICMgaGlkZSBkdXJpbmcgc2VsZWN0aW9uXG4gICAgcmV0dXJuIGlmIEBkcmFnU3RhcnQubGVuZ3RoID4gMCBhbmQgbm90IEBwcm9sb25nU2VsZWN0aW9uXG5cbiAgICByZWN0V2lkdGggPSBAZy56b29tZXIuZ2V0IFwiYm94UmVjdFdpZHRoXCJcbiAgICByZWN0SGVpZ2h0ID0gQGcuem9vbWVyLmdldCBcImJveFJlY3RIZWlnaHRcIlxuICAgIG1heEhlaWdodCA9IHJlY3RIZWlnaHQgKiBAbW9kZWwubGVuZ3RoXG4gICAgQGN0eC5maWxsU3R5bGUgPSBcIiNmZmZmMDBcIlxuICAgIEBjdHguZ2xvYmFsQWxwaGEgPSAwLjlcbiAgICBmb3IgaSBpbiBbMC4uIEBnLnNlbGNvbC5sZW5ndGggLSAxXSBieSAxXG4gICAgICBzZWwgPSBAZy5zZWxjb2wuYXQoaSlcbiAgICAgIGlmIHNlbC5nZXQoJ3R5cGUnKSBpcyAnY29sdW1uJ1xuICAgICAgICBAY3R4LmZpbGxSZWN0IHJlY3RXaWR0aCAqIHNlbC5nZXQoJ3hTdGFydCcpLDAscmVjdFdpZHRoICpcbiAgICAgICAgKHNlbC5nZXQoJ3hFbmQnKSAtIHNlbC5nZXQoJ3hTdGFydCcpICsgMSksbWF4SGVpZ2h0XG4gICAgICBlbHNlIGlmIHNlbC5nZXQoJ3R5cGUnKSBpcyAncm93J1xuICAgICAgICBzZXEgPSAoQG1vZGVsLmZpbHRlciAoZWwpIC0+IGVsLmdldCgnaWQnKSBpcyBzZWwuZ2V0KCdzZXFJZCcpKVswXVxuICAgICAgICBwb3MgPSBAbW9kZWwuaW5kZXhPZihzZXEpXG4gICAgICAgIEBjdHguZmlsbFJlY3QgMCxyZWN0SGVpZ2h0ICogcG9zLCByZWN0V2lkdGggKiBzZXEuZ2V0KCdzZXEnKS5sZW5ndGgsIHJlY3RIZWlnaHRcbiAgICAgIGVsc2UgaWYgc2VsLmdldCgndHlwZScpIGlzICdwb3MnXG4gICAgICAgIHNlcSA9IChAbW9kZWwuZmlsdGVyIChlbCkgLT4gZWwuZ2V0KCdpZCcpIGlzIHNlbC5nZXQoJ3NlcUlkJykpWzBdXG4gICAgICAgIHBvcyA9IEBtb2RlbC5pbmRleE9mKHNlcSlcbiAgICAgICAgQGN0eC5maWxsUmVjdCByZWN0V2lkdGggKiBzZWwuZ2V0KCd4U3RhcnQnKSxyZWN0SGVpZ2h0ICogcG9zLCByZWN0V2lkdGggKiAoc2VsLmdldCgneEVuZCcpIC0gc2VsLmdldCgneFN0YXJ0JykgKyAxKSwgcmVjdEhlaWdodFxuXG4gICAgQGN0eC5nbG9iYWxBbHBoYSA9IDFcblxuICBfb25jbGljazogKGV2dCkgLT5cbiAgICBAZy50cmlnZ2VyIFwibWV0YTpjbGlja1wiLCB7c2VxSWQ6IEBtb2RlbC5nZXQgXCJpZFwiLCBldnQ6ZXZ0fVxuXG4gIF9vbm1vdXNlbW92ZTogKGUpIC0+XG4gICAgIyBkdXBsaWNhdGUgZXZlbnRzXG4gICAgcmV0dXJuIGlmIEBkcmFnU3RhcnQubGVuZ3RoIGlzIDBcblxuICAgIEByZW5kZXIoKVxuICAgIEBjdHguZmlsbFN0eWxlID0gXCIjZmZmZjAwXCJcbiAgICBAY3R4Lmdsb2JhbEFscGhhID0gMC45XG5cbiAgICByZWN0ID0gQF9jYWxjU2VsZWN0aW9uKCBtb3VzZS5hYnMgZSApXG4gICAgQGN0eC5maWxsUmVjdCByZWN0WzBdWzBdLHJlY3RbMV1bMF0scmVjdFswXVsxXSAtIHJlY3RbMF1bMF0sIHJlY3RbMV1bMV0gLSByZWN0WzFdWzBdXG5cbiAgICAjIGFib3J0IHNlbGVjdGlvbiBldmVudHMgb2YgdGhlIGJyb3dzZXJcbiAgICBlLnByZXZlbnREZWZhdWx0KClcbiAgICBlLnN0b3BQcm9wYWdhdGlvbigpXG5cbiAgIyBzdGFydCB0aGUgc2VsZWN0aW9uIG1vZGVcbiAgX29ubW91c2Vkb3duOiAoZSkgLT5cbiAgICBAZHJhZ1N0YXJ0ID0gbW91c2UuYWJzIGVcbiAgICBAZHJhZ1N0YXJ0UmVsID0gbW91c2UucmVsIGVcblxuICAgIGlmIGUuY3RybEtleSBvciBlLm1ldGFLZXlcbiAgICAgIEBwcm9sb25nU2VsZWN0aW9uID0gdHJ1ZVxuICAgIGVsc2VcbiAgICAgIEBwcm9sb25nU2VsZWN0aW9uID0gZmFsc2VcbiAgICAjIGVuYWJsZSBnbG9iYWwgbGlzdGVuZXJzXG4gICAgamJvbmUoZG9jdW1lbnQuYm9keSkub24gJ21vdXNlbW92ZS5vdmVybW92ZScsIChlKSA9PiBAX29ubW91c2Vtb3ZlKGUpXG4gICAgamJvbmUoZG9jdW1lbnQuYm9keSkub24gJ21vdXNldXAub3ZlcnVwJywgKGUpID0+IEBfb25tb3VzZXVwKGUpXG4gICAgcmV0dXJuIEBkcmFnU3RhcnRcblxuICAjIGNhbGN1bGF0ZXMgdGhlIGN1cnJlbnQgc2VsZWN0aW9uXG4gIF9jYWxjU2VsZWN0aW9uOiAoZHJhZ01vdmUpIC0+XG4gICAgIyByZWxhdGl2ZSB0byBmaXJzdCBjbGlja1xuICAgIGRyYWdSZWwgPSBbZHJhZ01vdmVbMF0gLSBAZHJhZ1N0YXJ0WzBdLCBkcmFnTW92ZVsxXSAtIEBkcmFnU3RhcnRbMV1dXG5cbiAgICAjIHJlbGF0aXZlIHRvIHRhcmdldFxuICAgIGZvciBpIGluIFswLi4xXSBieSAxXG4gICAgICBkcmFnUmVsW2ldID0gQGRyYWdTdGFydFJlbFtpXSArIGRyYWdSZWxbaV1cblxuICAgICMgMDp4LCAxOiB5XG4gICAgcmVjdCA9IFtbQGRyYWdTdGFydFJlbFswXSwgZHJhZ1JlbFswXV0sIFtAZHJhZ1N0YXJ0UmVsWzFdLCBkcmFnUmVsWzFdXV1cblxuICAgICMgc3dhcCB0aGUgY29vcmRpbmF0ZXMgaWYgbmVlZGVkXG4gICAgZm9yIGkgaW4gWzAuLjFdIGJ5IDFcbiAgICAgIGlmIHJlY3RbaV1bMV0gPCByZWN0W2ldWzBdXG4gICAgICAgIHJlY3RbaV0gPSBbcmVjdFtpXVsxXSwgcmVjdFtpXVswXV1cblxuICAgICAgIyBsb3dlciBsaW1pdFxuICAgICAgcmVjdFtpXVswXSA9IE1hdGgubWF4IHJlY3RbaV1bMF0sIDBcblxuICAgIHJldHVybiByZWN0XG5cbiAgX2VuZFNlbGVjdGlvbjogKGRyYWdFbmQpIC0+XG4gICAgIyByZW1vdmUgbGlzdGVuZXJzXG4gICAgamJvbmUoZG9jdW1lbnQuYm9keSkub2ZmKCcub3Zlcm1vdmUnKVxuICAgIGpib25lKGRvY3VtZW50LmJvZHkpLm9mZignLm92ZXJ1cCcpXG5cbiAgICAjIGR1cGxpY2F0ZSBldmVudHNcbiAgICByZXR1cm4gaWYgQGRyYWdTdGFydC5sZW5ndGggaXMgMFxuXG4gICAgcmVjdCA9IEBfY2FsY1NlbGVjdGlvbiBkcmFnRW5kXG5cbiAgICAjIHhcbiAgICBmb3IgaSBpbiBbMC4uMV1cbiAgICAgIHJlY3RbMF1baV0gPSBNYXRoLmZsb29yKCByZWN0WzBdW2ldIC8gQGcuem9vbWVyLmdldChcImJveFJlY3RXaWR0aFwiKSlcblxuICAgICMgeVxuICAgIGZvciBpIGluIFswLi4xXVxuICAgICAgcmVjdFsxXVtpXSA9IE1hdGguZmxvb3IoIHJlY3RbMV1baV0gLyBAZy56b29tZXIuZ2V0KFwiYm94UmVjdEhlaWdodFwiKSApXG5cbiAgICAjIHVwcGVyIGxpbWl0XG4gICAgcmVjdFswXVsxXSA9IE1hdGgubWluKEBtb2RlbC5nZXRNYXhMZW5ndGgoKSAtIDEsIHJlY3RbMF1bMV0pXG4gICAgcmVjdFsxXVsxXSA9IE1hdGgubWluKEBtb2RlbC5sZW5ndGggLSAxLCByZWN0WzFdWzFdKVxuXG4gICAgIyBzZWxlY3RcbiAgICBzZWxpcyA9IFtdXG4gICAgZm9yIGogaW4gW3JlY3RbMV1bMF0uLnJlY3RbMV1bMV1dIGJ5IDFcbiAgICAgIGFyZ3MgPSBzZXFJZDogQG1vZGVsLmF0KGopLmdldCgnaWQnKSwgeFN0YXJ0OiByZWN0WzBdWzBdLCB4RW5kOiByZWN0WzBdWzFdXG4gICAgICBzZWxpcy5wdXNoIG5ldyBzZWxlY3Rpb24ucG9zc2VsIGFyZ3NcblxuICAgICMgcmVzZXRcbiAgICBAZHJhZ1N0YXJ0ID0gW11cbiAgICAjIGxvb2sgZm9yIGN0cmwga2V5XG4gICAgaWYgQHByb2xvbmdTZWxlY3Rpb25cbiAgICAgIEBnLnNlbGNvbC5hZGQgc2VsaXNcbiAgICBlbHNlXG4gICAgICBAZy5zZWxjb2wucmVzZXQgc2VsaXNcblxuICAgICMgc2FmZXR5IGNoZWNrICsgdXBkYXRlIG9mZnNldFxuICAgIEBnLnpvb21lci5zZXRMZWZ0T2Zmc2V0IHJlY3RbMF1bMF1cbiAgICBAZy56b29tZXIuc2V0VG9wT2Zmc2V0IHJlY3RbMV1bMF1cblxuICAjIGVuZHMgdGhlIHNlbGVjdGlvbiBtb2RlXG4gIF9vbm1vdXNldXA6IChlKSAtPlxuICAgIEBfZW5kU2VsZWN0aW9uIG1vdXNlLmFicyBlXG5cbiAgX29ubW91c2VvdXQ6IChlKSAtPlxuICAgIEBfZW5kU2VsZWN0aW9uIG1vdXNlLmFicyBlXG5cbiAjIGluaXQgdGhlIGNhbnZhc1xuICBfY3JlYXRlQ2FudmFzOiAtPlxuICAgIHJlY3RXaWR0aCA9IEBnLnpvb21lci5nZXQgXCJib3hSZWN0V2lkdGhcIlxuICAgIHJlY3RIZWlnaHQgPSBAZy56b29tZXIuZ2V0IFwiYm94UmVjdEhlaWdodFwiXG5cbiAgICBAZWwuaGVpZ2h0ID0gQG1vZGVsLmxlbmd0aCAqIHJlY3RIZWlnaHRcbiAgICBAZWwud2lkdGggPSBAbW9kZWwuZ2V0TWF4TGVuZ3RoKCkgKiByZWN0V2lkdGhcbiAgICBAY3R4ID0gQGVsLmdldENvbnRleHQgXCIyZFwiXG4gICAgQGVsLnN0eWxlLm92ZXJmbG93ID0gXCJzY3JvbGxcIlxuICAgIEBlbC5zdHlsZS5jdXJzb3IgPSBcImNyb3NzaGFpclwiXG4iLCJib25lVmlldyA9IHJlcXVpcmUoXCJiYWNrYm9uZS1jaGlsZHNcIilcbl8gPSByZXF1aXJlICd1bmRlcnNjb3JlJ1xuayA9IHJlcXVpcmUgJ2tvYWxhLWpzJ1xuZG9tID0gcmVxdWlyZSAnZG9tLWhlbHBlcidcbnNlbCA9IHJlcXVpcmUgXCIuLi9nL3NlbGVjdGlvbi9TZWxlY3Rpb25cIlxuXG4jIHRoaXMgaXMgYSB2ZXJ5IHNpbXBsaXN0aWMgYXBwcm9hY2ggdG8gc2hvdyBzZWFyY2ggcmVzdWx0XG4jIFRPRE86IG5lZWRzIHByb3BlciBzdHlsaW5nXG5tb2R1bGUuZXhwb3J0cyA9IGJvbmVWaWV3LmV4dGVuZFxuXG4gIGluaXRpYWxpemU6IChkYXRhKSAtPlxuICAgIEBnID0gZGF0YS5nXG5cbiAgICBAbGlzdGVuVG8gQGcudXNlciwgXCJjaGFuZ2U6c2VhcmNoVGV4dFwiLCAobW9kZWwsIHByb3ApIC0+XG4gICAgICBAc2VhcmNoIHByb3BcbiAgICAgIEByZW5kZXIoKVxuICAgIEBzZWwgPSBbXVxuICAgIEBzZWxQb3MgPSAwXG5cbiAgZXZlbnRzOlxuICAgIFwic2Nyb2xsXCI6IFwiX3NlbmRTY3JvbGxFdmVudFwiXG5cbiAgcmVuZGVyOiAtPlxuICAgIEByZW5kZXJTdWJ2aWV3cygpXG5cbiAgICBAZWwuY2xhc3NOYW1lID0gXCJiaW9qc19tc2Ffc2VhcmNocmVzdWx0XCJcbiAgICBzZWFyY2hUZXh0ID0gQGcudXNlci5nZXQoXCJzZWFyY2hUZXh0XCIpXG4gICAgaWYgc2VhcmNoVGV4dD8gYW5kIHNlYXJjaFRleHQubGVuZ3RoID4gMFxuICAgICAgaWYgQHNlbC5sZW5ndGggaXMgMFxuICAgICAgICBAZWwudGV4dENvbnRlbnQgPSBcIm5vIHNlbGVjdGlvbiBmb3VuZFwiXG4gICAgICBlbHNlXG4gICAgICAgIEByZXN1bHRCb3ggPSBrLm1rIFwiZGl2XCJcbiAgICAgICAgQHJlc3VsdEJveC5jbGFzc05hbWUgPSBcImJpb2pzX21zYV9zZWFyY2hyZXN1bHRfb3Zib3hcIlxuICAgICAgICBAdXBkYXRlUmVzdWx0KClcbiAgICAgICAgQGVsLmFwcGVuZENoaWxkIEByZXN1bHRCb3hcbiAgICAgICAgQGVsLmFwcGVuZENoaWxkIEBidWlsZEJ0bnMoKVxuICAgIEBcblxuICB1cGRhdGVSZXN1bHQ6IC0+XG4gICAgICB0ZXh0ID0gXCJzZWFyY2ggcGF0dGVybjogXCIgKyBAZy51c2VyLmdldChcInNlYXJjaFRleHRcIilcbiAgICAgIHRleHQgKz0gXCIsIHNlbGVjdGlvbjogXCIgKyAoQHNlbFBvcyArIDEpXG4gICAgICBzZWxpID0gQHNlbFtAc2VsUG9zXVxuICAgICAgdGV4dCArPSBcIiAoXCJcbiAgICAgIHRleHQgKz0gc2VsaS5nZXQoXCJ4U3RhcnRcIikgKyBcIiAtIFwiICsgc2VsaS5nZXQoXCJ4RW5kXCIpXG4gICAgICB0ZXh0ICs9IFwiLCBpZDogXCIgKyBzZWxpLmdldChcInNlcUlkXCIpXG4gICAgICB0ZXh0ICs9IFwiKVwiXG4gICAgICBAcmVzdWx0Qm94LnRleHRDb250ZW50ID0gdGV4dFxuXG4gIGJ1aWxkQnRuczogLT5cbiAgICBwcmV2QnRuID0gay5tayBcImJ1dHRvblwiXG4gICAgcHJldkJ0bi50ZXh0Q29udGVudCA9IFwiUHJldlwiXG4gICAgcHJldkJ0bi5hZGRFdmVudExpc3RlbmVyIFwiY2xpY2tcIiwgPT5cbiAgICAgIEBtb3ZlU2VsIC0xXG5cbiAgICBuZXh0QnRuID0gay5tayBcImJ1dHRvblwiXG4gICAgbmV4dEJ0bi50ZXh0Q29udGVudCA9IFwiTmV4dFwiXG4gICAgbmV4dEJ0bi5hZGRFdmVudExpc3RlbmVyIFwiY2xpY2tcIiwgPT5cbiAgICAgIEBtb3ZlU2VsIDFcblxuICAgIGFsbEJ0biA9IGsubWsgXCJidXR0b25cIlxuICAgIGFsbEJ0bi50ZXh0Q29udGVudCA9IFwiQWxsXCJcbiAgICBhbGxCdG4uYWRkRXZlbnRMaXN0ZW5lciBcImNsaWNrXCIsID0+XG4gICAgICBAZy5zZWxjb2wucmVzZXQgQHNlbFxuXG4gICAgc2VhcmNocm93ID0gay5tayBcImRpdlwiXG4gICAgc2VhcmNocm93LmFwcGVuZENoaWxkIHByZXZCdG5cbiAgICBzZWFyY2hyb3cuYXBwZW5kQ2hpbGQgbmV4dEJ0blxuICAgIHNlYXJjaHJvdy5hcHBlbmRDaGlsZCBhbGxCdG5cbiAgICBzZWFyY2hyb3cuY2xhc3NOYW1lID0gXCJiaW9qc19tc2Ffc2VhcmNocmVzdWx0X3Jvd1wiXG4gICAgc2VhcmNocm93XG5cbiAgbW92ZVNlbDogKHJlbERpc3QpIC0+XG4gICAgc2VsTmV3ID0gQHNlbFBvcyArIHJlbERpc3RcbiAgICBpZiBzZWxOZXcgPCAwIG9yIHNlbE5ldyA+PSBAc2VsLmxlbmd0aFxuICAgICAgcmV0dXJuIC0xXG4gICAgZWxzZVxuICAgICAgQGZvY3VzIHNlbE5ld1xuICAgICAgQHNlbFBvcyA9IHNlbE5ld1xuICAgICAgQHVwZGF0ZVJlc3VsdCgpXG5cbiAgZm9jdXM6IChzZWxQb3MpIC0+XG4gICAgc2VsaSA9IEBzZWxbc2VsUG9zXVxuICAgIGxlZnRJbmRleCA9IHNlbGkuZ2V0IFwieFN0YXJ0XCJcbiAgICBAZy56b29tZXIuc2V0TGVmdE9mZnNldCBsZWZ0SW5kZXhcbiAgICBAZy5zZWxjb2wucmVzZXQgW3NlbGldXG5cbiAgc2VhcmNoOiAoc2VhcmNoVGV4dCkgLT5cbiAgICAjIG1hcmtzIGFsbCBoaXRzXG4gICAgc2VhcmNoID0gbmV3IFJlZ0V4cCBzZWFyY2hUZXh0LCBcImdpXCJcbiAgICBuZXdTZWxpID0gW11cbiAgICBsZWZ0ZXN0SW5kZXggPSBvcmlnSW5kZXggPSAxMDAwNDJcblxuICAgIEBtb2RlbC5lYWNoIChzZXEpIC0+XG4gICAgICBzdHJTZXEgPSBzZXEuZ2V0KFwic2VxXCIpXG4gICAgICB3aGlsZSBtYXRjaCA9IHNlYXJjaC5leGVjIHN0clNlcVxuICAgICAgICBpbmRleCA9IG1hdGNoLmluZGV4XG4gICAgICAgIGFyZ3MgPSB7eFN0YXJ0OiBpbmRleCwgeEVuZDogaW5kZXggKyBtYXRjaFswXS5sZW5ndGggLSAxLCBzZXFJZDpcbiAgICAgICAgICBzZXEuZ2V0KFwiaWRcIil9XG4gICAgICAgIG5ld1NlbGkucHVzaCBuZXcgc2VsLnBvc3NlbChhcmdzKVxuICAgICAgICBsZWZ0ZXN0SW5kZXggPSBNYXRoLm1pbiBpbmRleCwgbGVmdGVzdEluZGV4XG5cbiAgICBAZy5zZWxjb2wucmVzZXQgbmV3U2VsaVxuXG4gICAgIyBzYWZldHkgY2hlY2sgKyB1cGRhdGUgb2Zmc2V0XG4gICAgbGVmdGVzdEluZGV4ID0gMCBpZiBsZWZ0ZXN0SW5kZXggaXMgb3JpZ0luZGV4XG4gICAgQGcuem9vbWVyLnNldExlZnRPZmZzZXQgbGVmdGVzdEluZGV4XG5cbiAgICBAc2VsID0gbmV3U2VsaVxuIiwiYm9uZVZpZXcgPSByZXF1aXJlKFwiYmFja2JvbmUtY2hpbGRzXCIpXG5BbGlnbm1lbnRCb2R5ID0gcmVxdWlyZSBcIi4vQWxpZ25tZW50Qm9keVwiXG5IZWFkZXJCbG9jayA9IHJlcXVpcmUgXCIuL2hlYWRlci9IZWFkZXJCbG9ja1wiXG5PdmVydmlld0JveCA9IHJlcXVpcmUgXCIuL092ZXJ2aWV3Qm94XCJcblNlYXJjaCA9IHJlcXVpcmUgXCIuL1NlYXJjaFwiXG5fID0gcmVxdWlyZSAndW5kZXJzY29yZSdcblxuIyBhIG5lYXQgY29sbGVjdGlvbiB2aWV3XG5tb2R1bGUuZXhwb3J0cyA9IGJvbmVWaWV3LmV4dGVuZFxuXG4gIGluaXRpYWxpemU6IChkYXRhKSAtPlxuICAgIEBnID0gZGF0YS5nXG5cbiAgICBAZHJhdygpXG4gICAgI0BsaXN0ZW5UbyBAbW9kZWwsXCJyZXNldFwiLCAtPlxuICAgICMgd2UgbmVlZCB0byB3YWl0IHVudGlsIHN0YXRzIGdpdmVzIHVzIHRoZSBva1xuICAgIEBsaXN0ZW5UbyBAZy5zdGF0cyxcInJlc2V0XCIsIC0+XG4gICAgICBAcmVyZW5kZXIoKVxuXG4gICAgIyBkZWJvdW5jZSBhIGJ1bGsgb3BlcmF0aW9uXG4gICAgQGxpc3RlblRvIEBtb2RlbCxcImNoYW5nZTpoaWRkZW5cIiwgXy5kZWJvdW5jZSBAcmVyZW5kZXIsIDEwXG5cbiAgICBAbGlzdGVuVG8gQG1vZGVsLFwic29ydFwiLCBAcmVyZW5kZXJcbiAgICBAbGlzdGVuVG8gQG1vZGVsLFwiYWRkXCIsIC0+XG4gICAgICBjb25zb2xlLmxvZyBcInNlcSBhZGRcIlxuXG4gICAgQGxpc3RlblRvIEBnLnZpcyxcImNoYW5nZTpzZXF1ZW5jZXNcIiwgQHJlcmVuZGVyXG4gICAgQGxpc3RlblRvIEBnLnZpcyxcImNoYW5nZTpvdmVydmlld2JveFwiLCBAcmVyZW5kZXJcbiAgICBAbGlzdGVuVG8gQGcudmlzb3JkZXIsXCJjaGFuZ2VcIiwgQHJlcmVuZGVyXG5cbiAgZHJhdzogLT5cbiAgICBAcmVtb3ZlVmlld3MoKVxuXG4gICAgaWYgQGcudmlzLmdldCBcIm92ZXJ2aWV3Ym94XCJcbiAgICAgIG92ZXJ2aWV3Ym94ID0gbmV3IE92ZXJ2aWV3Qm94IHttb2RlbDogQG1vZGVsLCBnOiBAZ31cbiAgICAgIG92ZXJ2aWV3Ym94Lm9yZGVyaW5nID0gQGcudmlzb3JkZXIuZ2V0ICdvdmVydmlld0JveCdcbiAgICAgIEBhZGRWaWV3IFwib3ZlcnZpZXdCb3hcIiwgb3ZlcnZpZXdib3hcblxuICAgIGlmIHRydWVcbiAgICAgIGhlYWRlcmJsb2NrID0gbmV3IEhlYWRlckJsb2NrIHttb2RlbDogQG1vZGVsLCBnOiBAZ31cbiAgICAgIGhlYWRlcmJsb2NrLm9yZGVyaW5nID0gQGcudmlzb3JkZXIuZ2V0ICdoZWFkZXJCb3gnXG4gICAgICBAYWRkVmlldyBcImhlYWRlckJveFwiLCBoZWFkZXJibG9ja1xuXG4gICAgaWYgdHJ1ZVxuICAgICAgc2VhcmNoYmxvY2sgPSBuZXcgU2VhcmNoIHttb2RlbDogQG1vZGVsLCBnOiBAZ31cbiAgICAgIHNlYXJjaGJsb2NrLm9yZGVyaW5nID0gQGcudmlzb3JkZXIuZ2V0ICdzZWFyY2hCb3gnXG4gICAgICBAYWRkVmlldyBcInNlYXJjaGJveFwiLCBzZWFyY2hibG9ja1xuXG4gICAgYm9keSA9IG5ldyBBbGlnbm1lbnRCb2R5IHttb2RlbDogQG1vZGVsLCBnOiBAZ31cbiAgICBib2R5Lm9yZGVyaW5nID0gQGcudmlzb3JkZXIuZ2V0ICdhbGlnbm1lbnRCb2R5J1xuICAgIEBhZGRWaWV3IFwiYm9keVwiLGJvZHlcblxuICByZW5kZXI6IC0+XG4gICAgQHJlbmRlclN1YnZpZXdzKClcbiAgICBAZWwuY2xhc3NOYW1lID0gXCJiaW9qc19tc2Ffc3RhZ2VcIlxuXG4gICAgQFxuXG4gIHJlcmVuZGVyOiAtPlxuICAgIEBkcmF3KClcbiAgICBAcmVuZGVyKClcbiIsIkV2ZW50cyA9IHJlcXVpcmUoXCJiaW9qcy1ldmVudHNcIilcblxubW9kdWxlLmV4cG9ydHMgPSBjbGFzcyBDYW52YXNDaGFyQ2FjaGVcblxuICBjb25zdHJ1Y3RvcjogKEBnKSAtPlxuICAgIEBjYWNoZSA9IHt9XG4gICAgQGNhY2hlSGVpZ2h0ID0gMFxuICAgIEBjYWNoZVdpZHRoID0gMFxuXG4gICMgcmV0dXJucyBhIGNhY2hlZCBjYW52YXNcbiAgZ2V0Rm9udFRpbGU6IChsZXR0ZXIsIHdpZHRoLCBoZWlnaHQpIC0+XG4gICAgIyB2YWxpZGF0ZSBjYWNoZVxuICAgIGlmIHdpZHRoIGlzbnQgQGNhY2hlV2lkdGggb3IgaGVpZ2h0IGlzbnQgQGNhY2hlSGVpZ2h0XG4gICAgICBAY2FjaGVIZWlnaHQgPSBoZWlnaHRcbiAgICAgIEBjYWNoZVdpZHRoID0gd2lkdGhcbiAgICAgIEBjYWNoZSA9IHt9XG5cbiAgICBpZiBAY2FjaGVbbGV0dGVyXSBpcyB1bmRlZmluZWRcbiAgICAgIEBjcmVhdGVUaWxlIGxldHRlciwgd2lkdGgsIGhlaWdodFxuXG4gICAgcmV0dXJuIEBjYWNoZVtsZXR0ZXJdXG5cbiAgIyBjcmVhdGVzIGEgY2FudmFzIHdpdGggYSBzaW5nbGUgbGV0dGVyXG4gICMgKGZvciB0aGUgZmFzdCBmb250IGNhY2hlKVxuICBjcmVhdGVUaWxlOiAobGV0dGVyLCB3aWR0aCwgaGVpZ2h0KSAtPlxuXG4gICAgY2FudmFzID0gQGNhY2hlW2xldHRlcl0gPSBkb2N1bWVudC5jcmVhdGVFbGVtZW50IFwiY2FudmFzXCJcbiAgICBjYW52YXMud2lkdGggPSB3aWR0aFxuICAgIGNhbnZhcy5oZWlnaHQgPSBoZWlnaHRcbiAgICBAY3R4ID0gY2FudmFzLmdldENvbnRleHQgJzJkJ1xuICAgIEBjdHguZm9udCA9IEBnLnpvb21lci5nZXQoXCJyZXNpZHVlRm9udFwiKSArIFwicHggbW9ub1wiXG5cbiAgICBAY3R4LnRleHRCYXNlbGluZSA9ICdtaWRkbGUnXG4gICAgQGN0eC50ZXh0QWxpZ24gPSBcImNlbnRlclwiXG5cbiAgICBAY3R4LmZpbGxUZXh0IGxldHRlcix3aWR0aCAvIDIsaGVpZ2h0IC8gMix3aWR0aFxuIiwiXyA9IHJlcXVpcmUgXCJ1bmRlcnNjb3JlXCJcbkV2ZW50cyA9IHJlcXVpcmUgXCJiaW9qcy1ldmVudHNcIlxuXG5jYWNoZSA9XG5cbiAgc2V0TWF4U2Nyb2xsSGVpZ2h0OiAtPlxuICAgIEBtYXhTY3JvbGxIZWlnaHQgPSBAZy56b29tZXIuZ2V0TWF4QWxpZ25tZW50SGVpZ2h0KCkgLSBAZy56b29tZXIuZ2V0KCdhbGlnbm1lbnRIZWlnaHQnKVxuXG4gIHNldE1heFNjcm9sbFdpZHRoOiAtPlxuICAgIEBtYXhTY3JvbGxXaWR0aCA9IEBnLnpvb21lci5nZXRNYXhBbGlnbm1lbnRXaWR0aCgpIC0gQGcuem9vbWVyLmdldEFsaWdubWVudFdpZHRoKClcblxubW9kdWxlLmV4cG9ydHMgPSBjYWNoZUNvbnN0cnVjdG9yID0gKGcsbW9kZWwpIC0+XG4gIHRoaXMuZyA9IGdcbiAgdGhpcy5tb2RlbCA9IG1vZGVsXG4gIEBtYXhTY3JvbGxXaWR0aCA9IDBcbiAgQG1heFNjcm9sbEhlaWdodCA9IDBcbiAgQHNldE1heFNjcm9sbEhlaWdodCgpXG4gIEBzZXRNYXhTY3JvbGxXaWR0aCgpXG5cbiAgQGxpc3RlblRvIEBnLnpvb21lciwgXCJjaGFuZ2U6cm93SGVpZ2h0XCIsIEBzZXRNYXhTY3JvbGxIZWlnaHRcbiAgQGxpc3RlblRvIEBnLnpvb21lciwgXCJjaGFuZ2U6Y29sdW1uV2lkdGhcIiwgQHNldE1heFNjcm9sbFdpZHRoXG4gIEBsaXN0ZW5UbyBAZy56b29tZXIsIFwiY2hhbmdlOmFsaWdubWVudFdpZHRoXCIsIEBzZXRNYXhTY3JvbGxXaWR0aFxuICBAbGlzdGVuVG8gQGcuem9vbWVyLCBcImNoYW5nZTphbGlnbm1lbnRIZWlnaHRcIiwgQHNldE1heFNjcm9sbEhlaWdodFxuICBAbGlzdGVuVG8gQG1vZGVsLCBcImFkZCBjaGFuZ2UgcmVzZXRcIiwgLT5cbiAgICBAc2V0TWF4U2Nyb2xsSGVpZ2h0KClcbiAgICBAc2V0TWF4U2Nyb2xsV2lkdGgoKVxuICAsIEBcbiAgQFxuXG5fLmV4dGVuZCBjYWNoZUNvbnN0cnVjdG9yOjosIGNhY2hlXG5FdmVudHMubWl4aW4gY2FjaGVDb25zdHJ1Y3Rvcjo6XG4iLCJfID0gcmVxdWlyZSBcInVuZGVyc2NvcmVcIlxuXG5tb2R1bGUuZXhwb3J0cyA9IFNlbGVjdGlvbkNsYXNzID0gKGcsY3R4KSAtPlxuICBAZyA9IGdcbiAgQGN0eCA9IGN0eFxuICBAXG5cbl8uZXh0ZW5kKFNlbGVjdGlvbkNsYXNzOjosXG5cbiAgIyBUT0RPOiBzaG91bGQgSSBiZSBtb3ZlZCB0byB0aGUgc2VsZWN0aW9uIG1hbmFnZXI/XG4gICMgcmV0dXJucyBhbiBhcnJheSB3aXRoIHRoZSBjdXJyZW50bHkgc2VsZWN0ZWQgcmVzaWR1ZXNcbiAgIyBlLmcuIFswLDNdID0gcG9zIDAgYW5kIDMgYXJlIHNlbGVjdGVkXG4gIF9nZXRTZWxlY3Rpb246IChtb2RlbCkgLT5cbiAgICBtYXhMZW4gPSBtb2RlbC5nZXQoXCJzZXFcIikubGVuZ3RoXG4gICAgc2VsZWN0aW9uID0gW11cbiAgICBzZWxzID0gQGcuc2VsY29sLmdldFNlbEZvclJvdyBtb2RlbC5nZXQgXCJpZFwiXG4gICAgcm93cyA9IF8uZmluZCBzZWxzLCAoZWwpIC0+IGVsLmdldChcInR5cGVcIikgaXMgXCJyb3dcIlxuICAgIGlmIHJvd3M/XG4gICAgICAjIGZ1bGwgbWF0Y2hcbiAgICAgIGZvciBuIGluIFswLi5tYXhMZW4gLSAxXSBieSAxXG4gICAgICAgIHNlbGVjdGlvbi5wdXNoIG5cbiAgICBlbHNlIGlmIHNlbHMubGVuZ3RoID4gMFxuICAgICAgZm9yIHNlbCBpbiBzZWxzXG4gICAgICAgIGZvciBuIGluIFtzZWwuZ2V0KFwieFN0YXJ0XCIpLi5zZWwuZ2V0KFwieEVuZFwiKV0gYnkgMVxuICAgICAgICAgIHNlbGVjdGlvbi5wdXNoIG5cblxuICAgIHJldHVybiBzZWxlY3Rpb25cblxuICAjIGxvb3BzIG92ZXIgYWxsIHNlbGVjdGlvbiBhbmQgY2FsbHMgdGhlIHJlbmRlciBtZXRob2RcbiAgX2FwcGVuZFNlbGVjdGlvbjogKGRhdGEpIC0+XG4gICAgc2VxID0gZGF0YS5tb2RlbC5nZXQoXCJzZXFcIilcbiAgICBzZWxlY3Rpb24gPSBAX2dldFNlbGVjdGlvbiBkYXRhLm1vZGVsXG4gICAgIyBnZXQgdGhlIHN0YXR1cyBvZiB0aGUgdXBwZXIgYW5kIGxvd2VyIHJvd1xuICAgIFttUHJldlNlbCxtTmV4dFNlbF0gPSBAX2dldFByZXZOZXh0U2VsZWN0aW9uIGRhdGEubW9kZWxcblxuICAgIGJveFdpZHRoID0gQGcuem9vbWVyLmdldChcImNvbHVtbldpZHRoXCIpXG4gICAgYm94SGVpZ2h0ID0gQGcuem9vbWVyLmdldChcInJvd0hlaWdodFwiKVxuXG4gICAgIyBhdm9pZCB1bm5lY2Vzc2FyeSBsb29wc1xuICAgIHJldHVybiBpZiBzZWxlY3Rpb24ubGVuZ3RoIGlzIDBcblxuICAgIGhpZGRlbk9mZnNldCA9IDBcbiAgICBmb3IgbiBpbiBbMC4uc2VxLmxlbmd0aCAtIDFdIGJ5IDFcbiAgICAgIGlmIGRhdGEuaGlkZGVuLmluZGV4T2YobikgPj0gMFxuICAgICAgICBoaWRkZW5PZmZzZXQrK1xuICAgICAgZWxzZVxuICAgICAgICBrID0gbiAtIGhpZGRlbk9mZnNldFxuICAgICAgICAjIG9ubHkgaWYgaXRzIGEgbmV3IHNlbGVjdGlvblxuICAgICAgICBpZiBzZWxlY3Rpb24uaW5kZXhPZihuKSA+PSAwIGFuZCAoayBpcyAwIG9yIHNlbGVjdGlvbi5pbmRleE9mKG4gLSAxKSA8IDAgKVxuICAgICAgICAgIEBfcmVuZGVyU2VsZWN0aW9uIG46bixrOmssc2VsZWN0aW9uOiBzZWxlY3Rpb24sbVByZXZTZWw6IG1QcmV2U2VsLG1OZXh0U2VsOm1OZXh0U2VsLCB4WmVybzogZGF0YS54WmVybywgeVplcm86IGRhdGEueVplcm8sIG1vZGVsOiBkYXRhLm1vZGVsXG5cbiAgIyBkcmF3cyBhIHNpbmdsZSB1c2VyIHNlbGVjdGlvblxuICBfcmVuZGVyU2VsZWN0aW9uOiAoZGF0YSkgLT5cblxuICAgIHhaZXJvID0gZGF0YS54WmVyb1xuICAgIHlaZXJvID0gZGF0YS55WmVyb1xuICAgIG4gPSBkYXRhLm5cbiAgICBrID0gZGF0YS5rXG4gICAgc2VsZWN0aW9uID0gZGF0YS5zZWxlY3Rpb25cbiAgICAjIGFuZCBjaGVja3MgdGhlIHByZXYgYW5kIG5leHQgcm93IGZvciBzZWxlY3Rpb24gIC0+IG5vIGJvcmRlcnMgaW4gYSBzZWxlY3Rpb25cbiAgICBtUHJldlNlbD0gZGF0YS5tUHJldlNlbFxuICAgIG1OZXh0U2VsID0gZGF0YS5tTmV4dFNlbFxuXG4gICAgIyBnZXQgdGhlIGxlbmd0aCBvZiB0aGlzIHNlbGVjdGlvblxuICAgIHNlbGVjdGlvbkxlbmd0aCA9IDBcbiAgICBmb3IgaSBpbiBbbi4uIGRhdGEubW9kZWwuZ2V0KFwic2VxXCIpLmxlbmd0aCAtIDFdIGJ5IDFcbiAgICAgIGlmIHNlbGVjdGlvbi5pbmRleE9mKGkpID49IDBcbiAgICAgICAgc2VsZWN0aW9uTGVuZ3RoKytcbiAgICAgIGVsc2VcbiAgICAgICAgYnJlYWtcblxuICAgICMgVE9ETzogdWdseSFcbiAgICBib3hXaWR0aCA9IEBnLnpvb21lci5nZXQoXCJjb2x1bW5XaWR0aFwiKVxuICAgIGJveEhlaWdodCA9IEBnLnpvb21lci5nZXQoXCJyb3dIZWlnaHRcIilcbiAgICB0b3RhbFdpZHRoID0gKGJveFdpZHRoICogc2VsZWN0aW9uTGVuZ3RoKSArIDFcblxuICAgIGhpZGRlbiA9IEBnLmNvbHVtbnMuZ2V0KCdoaWRkZW4nKVxuXG4gICAgQGN0eC5iZWdpblBhdGgoKVxuICAgIGJlZm9yZVdpZHRoID0gQGN0eC5saW5lV2lkdGhcbiAgICBAY3R4LmxpbmVXaWR0aCA9IDNcbiAgICBiZWZvcmVTdHlsZSA9IEBjdHguc3Ryb2tlU3R5bGVcbiAgICBAY3R4LnN0cm9rZVN0eWxlID0gXCIjRkYwMDAwXCJcblxuICAgIHhaZXJvICs9IGsgKiBib3hXaWR0aFxuXG4gICAgIyBzcGxpdCB1cCB0aGUgc2VsZWN0aW9uIGludG8gc2luZ2xlIGNlbGxzXG4gICAgeFBhcnQgPSAwXG4gICAgZm9yIGkgaW4gWzAuLiBzZWxlY3Rpb25MZW5ndGggLSAxXVxuICAgICAgeFBvcyA9IG4gKyBpXG4gICAgICBpZiBoaWRkZW4uaW5kZXhPZih4UG9zKSA+PSAwXG4gICAgICAgIGNvbnRpbnVlXG4gICAgICAjIHVwcGVyIGxpbmVcbiAgICAgIHVubGVzcyBtUHJldlNlbD8gYW5kIG1QcmV2U2VsLmluZGV4T2YoeFBvcykgPj0gMFxuICAgICAgICBAY3R4Lm1vdmVUbyB4WmVybyArIHhQYXJ0LCB5WmVyb1xuICAgICAgICBAY3R4LmxpbmVUbyB4UGFydCArIGJveFdpZHRoICsgeFplcm8sIHlaZXJvXG4gICAgICAjIGxvd2VyIGxpbmVcbiAgICAgIHVubGVzcyBtTmV4dFNlbD8gYW5kIG1OZXh0U2VsLmluZGV4T2YoeFBvcykgPj0gMFxuICAgICAgICBAY3R4Lm1vdmVUbyB4UGFydCArIHhaZXJvLCBib3hIZWlnaHQgKyB5WmVyb1xuICAgICAgICBAY3R4LmxpbmVUbyB4UGFydCArIGJveFdpZHRoICsgeFplcm8sIGJveEhlaWdodCArIHlaZXJvXG5cbiAgICAgIHhQYXJ0ICs9IGJveFdpZHRoXG5cbiAgICAjIGxlZnRcbiAgICBAY3R4Lm1vdmVUbyB4WmVybyx5WmVyb1xuICAgIEBjdHgubGluZVRvIHhaZXJvLCBib3hIZWlnaHQgKyB5WmVyb1xuXG4gICAgIyByaWdodFxuICAgIEBjdHgubW92ZVRvIHhaZXJvICsgdG90YWxXaWR0aCx5WmVyb1xuICAgIEBjdHgubGluZVRvIHhaZXJvICsgdG90YWxXaWR0aCwgYm94SGVpZ2h0ICsgeVplcm9cblxuICAgIEBjdHguc3Ryb2tlKClcbiAgICBAY3R4LnN0cm9rZVN0eWxlID0gYmVmb3JlU3R5bGVcbiAgICBAY3R4LmxpbmVXaWR0aCA9IGJlZm9yZVdpZHRoXG5cbiAgIyBsb29rcyBhdCB0aGUgc2VsZWN0aW9uIG9mIHRoZSBwcmV2IGFuZCBuZXh0IGVsXG4gICMgVE9ETzogdGhpcyBpcyB2ZXJ5IG5haXZlLCBhcyB0aGVyZSBtaWdodCBiZSBnYXBzIGFib3ZlIG9yIGJlbG93XG4gIF9nZXRQcmV2TmV4dFNlbGVjdGlvbjogKG1vZGVsKSAtPlxuXG4gICAgbW9kZWxQcmV2ID0gbW9kZWwuY29sbGVjdGlvbi5wcmV2IG1vZGVsXG4gICAgbW9kZWxOZXh0ID0gbW9kZWwuY29sbGVjdGlvbi5uZXh0IG1vZGVsXG4gICAgbVByZXZTZWwgPSBAX2dldFNlbGVjdGlvbiBtb2RlbFByZXYgaWYgbW9kZWxQcmV2P1xuICAgIG1OZXh0U2VsID0gQF9nZXRTZWxlY3Rpb24gbW9kZWxOZXh0IGlmIG1vZGVsTmV4dD9cbiAgICBbbVByZXZTZWwsbU5leHRTZWxdXG4pXG4iLCJib25lVmlldyA9IHJlcXVpcmUoXCJiYWNrYm9uZS1jaGlsZHNcIilcbm1vdXNlID0gcmVxdWlyZSBcIm1vdXNlLXBvc1wiXG5fID0gcmVxdWlyZSBcInVuZGVyc2NvcmVcIlxuamJvbmUgPSByZXF1aXJlIFwiamJvbmVcIlxuQ2hhckNhY2hlID0gcmVxdWlyZSBcIi4vQ2FudmFzQ2hhckNhY2hlXCJcblNlbGVjdGlvbkNsYXNzID0gcmVxdWlyZSBcIi4vQ2FudmFzU2VsZWN0aW9uXCJcbkNhbnZhc1NlcURyYXdlciA9IHJlcXVpcmUgXCIuL0NhbnZhc1NlcURyYXdlclwiXG5DYW52YXNDb29yZHNDYWNoZSA9IHJlcXVpcmUgXCIuL0NhbnZhc0Nvb3Jkc0NhY2hlXCJcblxubW9kdWxlLmV4cG9ydHMgPSBib25lVmlldy5leHRlbmRcblxuICB0YWdOYW1lOiBcImNhbnZhc1wiXG5cbiAgaW5pdGlhbGl6ZTogKGRhdGEpIC0+XG4gICAgQGcgPSBkYXRhLmdcblxuICAgIEBsaXN0ZW5UbyBAZy56b29tZXIsIFwiY2hhbmdlOl9hbGlnbm1lbnRTY3JvbGxMZWZ0IGNoYW5nZTpfYWxpZ25tZW50U2Nyb2xsVG9wXCIsIChtb2RlbCx2YWx1ZSwgb3B0aW9ucykgLT5cbiAgICAgIGlmIChub3Qgb3B0aW9ucz8ub3JpZ2luPykgb3Igb3B0aW9ucy5vcmlnaW4gaXNudCBcImNhbnZhc3NlcVwiXG4gICAgICAgIEByZW5kZXIoKVxuXG4gICAgQGxpc3RlblRvIEBnLmNvbHVtbnMsXCJjaGFuZ2U6aGlkZGVuXCIsIEByZW5kZXJcbiAgICBAbGlzdGVuVG8gQGcuem9vbWVyLFwiY2hhbmdlOmFsaWdubWVudFdpZHRoIGNoYW5nZTphbGlnbm1lbnRIZWlnaHRcIiwgQHJlbmRlclxuICAgIEBsaXN0ZW5UbyBAZy5jb2xvcnNjaGVtZSwgXCJjaGFuZ2VcIiwgQHJlbmRlclxuICAgIEBsaXN0ZW5UbyBAZy5zZWxjb2wsIFwicmVzZXQgYWRkXCIsIEByZW5kZXJcblxuICAgICMgZWwgcHJvcHNcbiAgICBAZWwuc3R5bGUuZGlzcGxheSA9IFwiaW5saW5lLWJsb2NrXCJcbiAgICBAZWwuc3R5bGUub3ZlcmZsb3dYID0gXCJoaWRkZW5cIlxuICAgIEBlbC5zdHlsZS5vdmVyZmxvd1kgPSBcImhpZGRlblwiXG4gICAgQGVsLmNsYXNzTmFtZSA9IFwiYmlvanNfbXNhX3NlcWJsb2NrXCJcblxuICAgIEBjdHggPSBAZWwuZ2V0Q29udGV4dCAnMmQnXG4gICAgQGNhY2hlID0gbmV3IENoYXJDYWNoZSBAZ1xuICAgIEBjb29yZHNDYWNoZSA9IG5ldyBDYW52YXNDb29yZHNDYWNoZSBAZywgQG1vZGVsXG5cbiAgICAjIGNsZWFyIHRoZSBjaGFyIGNhY2hlXG4gICAgQGxpc3RlblRvIEBnLnpvb21lciwgXCJjaGFuZ2U6cmVzaWR1ZUZvbnRcIiwgLT5cbiAgICAgIEBjYWNoZSA9IG5ldyBDaGFyQ2FjaGUgQGdcbiAgICAgIEByZW5kZXIoKVxuXG4gICAgIyBpbml0IHNlbGVjdGlvblxuICAgIEBzZWwgPSBuZXcgU2VsZWN0aW9uQ2xhc3MgQGcsQGN0eFxuXG4gICAgQF9zZXRDb2xvcigpXG5cbiAgICAjIHRocm90dGxlIHRoZSBleHBlbnNpdmUgZHJhdyBmdW5jdGlvblxuICAgIEB0aHJvdHRsZVRpbWUgPSAwXG4gICAgQHRocm90dGxlQ291bnRzID0gMFxuICAgIGlmIGRvY3VtZW50LmRvY3VtZW50RWxlbWVudC5zdHlsZS53ZWJraXRBcHBlYXJhbmNlP1xuICAgICAgIyB3ZWJraXQgYnJvd3NlciAtIG5vIHRocm90dGxpbmcgbmVlZGVkXG4gICAgICBAdGhyb3R0bGVkRHJhdyA9IC0+XG4gICAgICAgIHN0YXJ0ID0gK25ldyBEYXRlKClcbiAgICAgICAgQGRyYXcoKVxuICAgICAgICBAdGhyb3R0bGVUaW1lICs9ICtuZXcgRGF0ZSgpIC0gc3RhcnRcbiAgICAgICAgQHRocm90dGxlQ291bnRzKytcbiAgICAgICAgaWYgQHRocm90dGxlQ291bnRzID4gMTVcbiAgICAgICAgICB0VGltZSA9IE1hdGguY2VpbChAdGhyb3R0bGVUaW1lIC8gQHRocm90dGxlQ291bnRzKVxuICAgICAgICAgIGNvbnNvbGUubG9nIFwiYXZnRHJhd1RpbWUvV2ViS2l0XCIsIHRUaW1lXG4gICAgICAgICAgIyByZW1vdmUgcGVyZiBhbmFseXNlclxuICAgICAgICAgIEB0aHJvdHRsZWREcmF3ID0gQGRyYXdcbiAgICBlbHNlXG4gICAgICAjIHNsb3cgYnJvd3NlcnMgbGlrZSBHZWNrb1xuICAgICAgQHRocm90dGxlZERyYXcgPSBfLnRocm90dGxlIEB0aHJvdHRsZWREcmF3LCAzMFxuXG4gICAgQG1hbmFnZUV2ZW50cygpXG5cblxuICAjIG1lYXN1cmVzIHRoZSB0aW1lIG9mIGEgcmVkcmF3IGFuZCB0aHVzIHNldCB0aGUgdGhyb3R0bGUgbGltaXRcbiAgdGhyb3R0bGVkRHJhdzogLT5cbiAgICAjICtuZXcgaXMgdGhlIGZhc3Rlc3Q6IGh0dHA6Ly9qc3BlcmYuY29tL25ldy1kYXRlLXZzLWRhdGUtbm93LXZzLXBlcmZvcm1hbmNlLW5vdy82XG4gICAgc3RhcnQgPSArbmV3IERhdGUoKVxuICAgIEBkcmF3KClcbiAgICBAdGhyb3R0bGVUaW1lICs9ICtuZXcgRGF0ZSgpIC0gc3RhcnRcbiAgICBAdGhyb3R0bGVDb3VudHMrK1xuXG4gICAgIyByZW1vdmUgaXRzZWxmIGFmdGVyIGFuYWx5c2lzXG4gICAgaWYgQHRocm90dGxlQ291bnRzID4gMTVcbiAgICAgIHRUaW1lID0gTWF0aC5jZWlsKEB0aHJvdHRsZVRpbWUgLyBAdGhyb3R0bGVDb3VudHMpXG4gICAgICBjb25zb2xlLmxvZyBcImF2Z0RyYXdUaW1lXCIsIHRUaW1lXG4gICAgICB0VGltZSAqPSAgMS4yICMgYWRkIHNhZmV0eSB0aW1lXG4gICAgICB0VGltZSA9IE1hdGgubWF4IDIwLCB0VGltZSAjIGxpbWl0IGZvciB1bHRyYSBmYXN0IGNvbXB1dGVyc1xuICAgICAgQHRocm90dGxlZERyYXcgPSBfLnRocm90dGxlIEBkcmF3LCB0VGltZVxuXG4gIG1hbmFnZUV2ZW50czogLT5cbiAgICBldmVudHMgPSB7fVxuICAgIGV2ZW50cy5tb3VzZWRvd24gPSBcIl9vbm1vdXNlZG93blwiXG4gICAgZXZlbnRzLnRvdWNoc3RhcnQgPSBcIl9vbnRvdWNoc3RhcnRcIlxuXG4gICAgaWYgQGcuY29uZmlnLmdldCBcInJlZ2lzdGVyTW91c2VDbGlja3NcIlxuICAgICAgZXZlbnRzLmRibGNsaWNrID0gXCJfb25jbGlja1wiXG4gICAgaWYgQGcuY29uZmlnLmdldCBcInJlZ2lzdGVyTW91c2VIb3ZlclwiXG4gICAgICBldmVudHMubW91c2VpbiA9IFwiX29ubW91c2VpblwiXG4gICAgICBldmVudHMubW91c2VvdXQgPSBcIl9vbm1vdXNlb3V0XCJcblxuICAgIGV2ZW50cy5tb3VzZXdoZWVsID0gXCJfb25tb3VzZXdoZWVsXCJcbiAgICBldmVudHMuRE9NTW91c2VTY3JvbGwgPSBcIl9vbm1vdXNld2hlZWxcIlxuICAgIEBkZWxlZ2F0ZUV2ZW50cyBldmVudHNcblxuICAgICMgbGlzdGVuIGZvciBjaGFuZ2VzXG4gICAgQGxpc3RlblRvIEBnLmNvbmZpZywgXCJjaGFuZ2U6cmVnaXN0ZXJNb3VzZUhvdmVyXCIsIEBtYW5hZ2VFdmVudHNcbiAgICBAbGlzdGVuVG8gQGcuY29uZmlnLCBcImNoYW5nZTpyZWdpc3Rlck1vdXNlQ2xpY2tcIiwgQG1hbmFnZUV2ZW50c1xuICAgIEBkcmFnU3RhcnQgPSBbXVxuXG4gIF9zZXRDb2xvcjogLT5cbiAgICBAY29sb3IgPSBAZy5jb2xvcnNjaGVtZS5nZXRTZWxlY3RlZFNjaGVtZSgpXG5cbiAgZHJhdzogLT5cbiAgICAjIGZhc3Rlc3Qgd2F5IHRvIGNsZWFyIHRoZSBjYW52YXNcbiAgICAjIGh0dHA6Ly9qc3BlcmYuY29tL2NhbnZhcy1jbGVhci1zcGVlZC8yNVxuICAgIEBlbC53aWR0aCA9IEBlbC53aWR0aFxuXG4gICAgIyBkcmF3IGFsbCB0aGUgc3R1ZmZcbiAgICBpZiBAc2VxRHJhd2VyPyAgYW5kIEBtb2RlbC5sZW5ndGggPiAwXG4gICAgICAjIGNoYXIgYmFzZWRcbiAgICAgIEBzZXFEcmF3ZXIuZHJhd0xldHRlcnMoKVxuICAgICAgIyByb3cgYmFzZWRcbiAgICAgIEBzZXFEcmF3ZXIuZHJhd1Jvd3MgQHNlbC5fYXBwZW5kU2VsZWN0aW9uLCBAc2VsXG4gICAgICBAc2VxRHJhd2VyLmRyYXdSb3dzIEBkcmF3RmVhdHVyZXMsIEBcblxuICBkcmF3RmVhdHVyZXM6IChkYXRhKSAtPlxuICAgIHJlY3RXaWR0aCA9IEBnLnpvb21lci5nZXQgXCJjb2x1bW5XaWR0aFwiXG4gICAgcmVjdEhlaWdodCA9IEBnLnpvb21lci5nZXQgXCJyb3dIZWlnaHRcIlxuICAgIGlmIGRhdGEubW9kZWwuYXR0cmlidXRlcy5oZWlnaHQgPiAxXG4gICAgICBjdHggPSBAY3R4XG4gICAgICBkYXRhLm1vZGVsLmF0dHJpYnV0ZXMuZmVhdHVyZXMuZWFjaCAoZmVhdHVyZSkgLT5cbiAgICAgICAgY3R4LmZpbGxTdHlsZSA9IGZlYXR1cmUuYXR0cmlidXRlcy5maWxsQ29sb3IgfHwgXCJyZWRcIlxuICAgICAgICBsZW4gPSBmZWF0dXJlLmF0dHJpYnV0ZXMueEVuZCAtIGZlYXR1cmUuYXR0cmlidXRlcy54U3RhcnQgKyAxXG4gICAgICAgIHkgPSAoZmVhdHVyZS5hdHRyaWJ1dGVzLnJvdyArIDEpICogcmVjdEhlaWdodFxuICAgICAgICBjdHguZmlsbFJlY3QgZmVhdHVyZS5hdHRyaWJ1dGVzLnhTdGFydCAqIHJlY3RXaWR0aCArIGRhdGEueFplcm8seSArIGRhdGEueVplcm8scmVjdFdpZHRoICogbGVuLHJlY3RIZWlnaHRcblxuICAgICAgIyBkcmF3IHRleHRcbiAgICAgIGN0eC5maWxsU3R5bGUgPSBcImJsYWNrXCJcbiAgICAgIGN0eC5mb250ID0gQGcuem9vbWVyLmdldChcInJlc2lkdWVGb250XCIpICsgXCJweCBtb25vXCJcbiAgICAgIGN0eC50ZXh0QmFzZWxpbmUgPSAnbWlkZGxlJ1xuICAgICAgY3R4LnRleHRBbGlnbiA9IFwiY2VudGVyXCJcblxuICAgICAgZGF0YS5tb2RlbC5hdHRyaWJ1dGVzLmZlYXR1cmVzLmVhY2ggKGZlYXR1cmUpIC0+XG4gICAgICAgIGxlbiA9IGZlYXR1cmUuYXR0cmlidXRlcy54RW5kIC0gZmVhdHVyZS5hdHRyaWJ1dGVzLnhTdGFydCArIDFcbiAgICAgICAgeSA9IChmZWF0dXJlLmF0dHJpYnV0ZXMucm93ICsgMSkgKiByZWN0SGVpZ2h0XG4gICAgICAgIGN0eC5maWxsVGV4dCBmZWF0dXJlLmF0dHJpYnV0ZXMudGV4dCwgZGF0YS54WmVybyArIGZlYXR1cmUuYXR0cmlidXRlcy54U3RhcnQgKlxuICAgICAgICByZWN0V2lkdGggKyAobGVuIC8gMikgKiByZWN0V2lkdGgsIGRhdGEueVplcm8gKyByZWN0SGVpZ2h0ICogMC41ICsgeVxuXG4gIHJlbmRlcjogLT5cblxuICAgIEBlbC5zZXRBdHRyaWJ1dGUgJ2hlaWdodCcsIEBnLnpvb21lci5nZXQoXCJhbGlnbm1lbnRIZWlnaHRcIikgKyBcInB4XCJcbiAgICBAZWwuc2V0QXR0cmlidXRlICd3aWR0aCcsIEBnLnpvb21lci5nZXRBbGlnbm1lbnRXaWR0aCgpICsgXCJweFwiXG5cbiAgICBAZy56b29tZXIuX2NoZWNrU2Nyb2xsaW5nKCBAX2NoZWNrU2Nyb2xsaW5nKFtAZy56b29tZXIuZ2V0KCdfYWxpZ25tZW50U2Nyb2xsTGVmdCcpLFxuICAgIEBnLnpvb21lci5nZXQoJ19hbGlnbm1lbnRTY3JvbGxUb3AnKV0gKSx7aGVhZGVyOiBcImNhbnZhc3NlcVwifSlcblxuICAgIEBfc2V0Q29sb3IoKVxuXG4gICAgQHNlcURyYXdlciA9IG5ldyBDYW52YXNTZXFEcmF3ZXIgQGcsQGN0eCxAbW9kZWwsXG4gICAgICB3aWR0aDogQGVsLndpZHRoLFxuICAgICAgaGVpZ2h0OiBAZWwuaGVpZ2h0XG4gICAgICBjb2xvcjogQGNvbG9yXG4gICAgICBjYWNoZTogQGNhY2hlXG5cbiAgICBAdGhyb3R0bGVkRHJhdygpXG4gICAgQFxuXG4gIF9vbm1vdXNlbW92ZTogKGUsIHJldmVyc2VkKSAtPlxuICAgIHJldHVybiBpZiBAZHJhZ1N0YXJ0Lmxlbmd0aCBpcyAwXG5cbiAgICBkcmFnRW5kID0gbW91c2UuYWJzIGVcbiAgICAjIHJlbGF0aXZlIHRvIGZpcnN0IGNsaWNrXG4gICAgcmVsRW5kID0gW2RyYWdFbmRbMF0gLSBAZHJhZ1N0YXJ0WzBdLCBkcmFnRW5kWzFdIC0gQGRyYWdTdGFydFsxXV1cbiAgICAjIHJlbGF0aXZlIHRvIGluaXRpYWwgc2Nyb2xsIHN0YXR1c1xuXG4gICAgIyBzY2FsZSBldmVudHNcbiAgICBzY2FsZUZhY3RvciA9IEBnLnpvb21lci5nZXQgXCJjYW52YXNFdmVudFNjYWxlXCJcbiAgICBpZiByZXZlcnNlZFxuICAgICAgc2NhbGVGYWN0b3IgPSAzXG4gICAgZm9yIGkgaW4gWzAuLjFdIGJ5IDFcbiAgICAgIHJlbEVuZFtpXSA9IHJlbEVuZFtpXSAqIHNjYWxlRmFjdG9yXG5cbiAgICAjIGNhbGN1bGF0ZSBuZXcgc2Nyb2xsaW5nIHZhbHNcbiAgICByZWxEaXN0ID0gW0BkcmFnU3RhcnRTY3JvbGxbMF0gLSByZWxFbmRbMF0sIEBkcmFnU3RhcnRTY3JvbGxbMV0gLSByZWxFbmRbMV1dXG5cbiAgICAjIHJvdW5kIHZhbHVlc1xuICAgIGZvciBpIGluIFswLi4xXSBieSAxXG4gICAgICByZWxEaXN0W2ldID0gTWF0aC5yb3VuZCByZWxEaXN0W2ldXG5cbiAgICAjIHVwZGF0ZSBzY3JvbGxiYXJcbiAgICBzY3JvbGxDb3JyZWN0ZWQgPSBAX2NoZWNrU2Nyb2xsaW5nKCByZWxEaXN0KVxuICAgIEBnLnpvb21lci5fY2hlY2tTY3JvbGxpbmcgc2Nyb2xsQ29ycmVjdGVkLCB7b3JpZ2luOiBcImNhbnZhc3NlcVwifVxuXG4gICAgIyByZXNldCBzdGFydCBpZiB1c2Ugc2Nyb2xscyBvdXQgb2YgYm91bmRzXG4gICAgZm9yIGkgaW4gWzAuLjFdIGJ5IDFcbiAgICAgIGlmIHNjcm9sbENvcnJlY3RlZFtpXSBpc250IHJlbERpc3RbaV1cbiAgICAgICAgaWYgc2Nyb2xsQ29ycmVjdGVkW2ldIGlzIDBcbiAgICAgICAgICAjIHJlc2V0IG9mIGxlZnQsIHRvcFxuICAgICAgICAgIEBkcmFnU3RhcnRbaV0gPSBkcmFnRW5kW2ldXG4gICAgICAgICAgQGRyYWdTdGFydFNjcm9sbFtpXSA9IDBcbiAgICAgICAgZWxzZVxuICAgICAgICAgICMgcmVjYWxpYnJhdGUgb24gcmlnaHQsIGJvdHRvbVxuICAgICAgICAgIEBkcmFnU3RhcnRbaV0gPSBkcmFnRW5kW2ldIC0gc2Nyb2xsQ29ycmVjdGVkW2ldXG5cbiAgICBAdGhyb3R0bGVkRHJhdygpXG5cbiAgICAjIGFib3J0IHNlbGVjdGlvbiBldmVudHMgb2YgdGhlIGJyb3dzZXIgKG1vdXNlIG9ubHkpXG4gICAgaWYgZS5wcmV2ZW50RGVmYXVsdD9cbiAgICAgIGUucHJldmVudERlZmF1bHQoKVxuICAgICAgZS5zdG9wUHJvcGFnYXRpb24oKVxuXG4gICMgY29udmVydHMgdG91Y2hlcyBpbnRvIG9sZCBtb3VzZSBldmVudFxuICBfb250b3VjaG1vdmU6IChlKSAtPlxuICAgIEBfb25tb3VzZW1vdmUgZS5jaGFuZ2VkVG91Y2hlc1swXSwgdHJ1ZVxuICAgIGUucHJldmVudERlZmF1bHQoKVxuICAgIGUuc3RvcFByb3BhZ2F0aW9uKClcblxuICAjIHN0YXJ0IHRoZSBkcmFnZ2luZyBtb2RlXG4gIF9vbm1vdXNlZG93bjogKGUpIC0+XG4gICAgQGRyYWdTdGFydCA9IG1vdXNlLmFicyBlXG4gICAgQGRyYWdTdGFydFNjcm9sbCA9IFtAZy56b29tZXIuZ2V0KCdfYWxpZ25tZW50U2Nyb2xsTGVmdCcpLCBAZy56b29tZXIuZ2V0KCdfYWxpZ25tZW50U2Nyb2xsVG9wJyldXG4gICAgamJvbmUoZG9jdW1lbnQuYm9keSkub24gJ21vdXNlbW92ZS5vdmVybW92ZScsIChlKSA9PiBAX29ubW91c2Vtb3ZlKGUpXG4gICAgamJvbmUoZG9jdW1lbnQuYm9keSkub24gJ21vdXNldXAub3ZlcnVwJywgPT4gQF9jbGVhbnVwKClcbiAgICAjamJvbmUoZG9jdW1lbnQuYm9keSkub24gJ21vdXNlb3V0Lm92ZXJvdXQnLCAoZSkgPT4gQF9vbm1vdXNld2lub3V0KGUpXG4gICAgZS5wcmV2ZW50RGVmYXVsdCgpXG5cbiAgIyBzdGFydHMgdGhlIHRvdWNoIG1vZGVcbiAgX29udG91Y2hzdGFydDogKGUpIC0+XG4gICAgQGRyYWdTdGFydCA9IG1vdXNlLmFicyBlLmNoYW5nZWRUb3VjaGVzWzBdXG4gICAgQGRyYWdTdGFydFNjcm9sbCA9IFtAZy56b29tZXIuZ2V0KCdfYWxpZ25tZW50U2Nyb2xsTGVmdCcpLCBAZy56b29tZXIuZ2V0KCdfYWxpZ25tZW50U2Nyb2xsVG9wJyldXG4gICAgamJvbmUoZG9jdW1lbnQuYm9keSkub24gJ3RvdWNobW92ZS5vdmVydG1vdmUnLCAoZSkgPT4gQF9vbnRvdWNobW92ZShlKVxuICAgIGpib25lKGRvY3VtZW50LmJvZHkpLm9uICd0b3VjaGVuZC5vdmVydGVuZCB0b3VjaGxlYXZlLm92ZXJ0bGVhdmVcbiAgICB0b3VjaGNhbmNlbC5vdmVydGNhbmVsJywgKGUpID0+IEBfdG91Y2hDbGVhbnVwKGUpXG5cbiAgIyBjaGVja3Mgd2hldGhlciBtb3VzZSBtb3ZlZCBvdXQgb2YgdGhlIHdpbmRvd1xuICAjIC0+IHRlcm1pbmF0ZSBkcmFnZ2luZ1xuICBfb25tb3VzZXdpbm91dDogKGUpIC0+XG4gICAgaWYgZS50b0VsZW1lbnQgaXMgZG9jdW1lbnQuYm9keS5wYXJlbnROb2RlXG4gICAgICBAX2NsZWFudXAoKVxuXG4gICMgdGVybWluYXRlcyBkcmFnZ2luZ1xuICBfY2xlYW51cDogLT5cbiAgICBAZHJhZ1N0YXJ0ID0gW11cbiAgICAjIHJlbW92ZSBhbGwgbGlzdGVuZXJzXG4gICAgamJvbmUoZG9jdW1lbnQuYm9keSkub2ZmKCcub3Zlcm1vdmUnKVxuICAgIGpib25lKGRvY3VtZW50LmJvZHkpLm9mZignLm92ZXJ1cCcpXG4gICAgamJvbmUoZG9jdW1lbnQuYm9keSkub2ZmKCcub3Zlcm91dCcpXG5cbiAgIyB0ZXJtaW5hdGVzIHRvdWNoaW5nXG4gIF90b3VjaENsZWFudXA6IChlKSAtPlxuICAgIGlmIGUuY2hhbmdlZFRvdWNoZXMubGVuZ3RoID4gMFxuICAgICAgIyBtYXliZSB3ZSBjYW4gc2VuZCBhIGZpbmFsIGV2ZW50XG4gICAgICBAX29ubW91c2Vtb3ZlIGUuY2hhbmdlZFRvdWNoZXNbMF0sIHRydWVcblxuICAgIEBkcmFnU3RhcnQgPSBbXVxuICAgICMgcmVtb3ZlIGFsbCBsaXN0ZW5lcnNcbiAgICBqYm9uZShkb2N1bWVudC5ib2R5KS5vZmYoJy5vdmVydG1vdmUnKVxuICAgIGpib25lKGRvY3VtZW50LmJvZHkpLm9mZignLm92ZXJ0ZW5kJylcbiAgICBqYm9uZShkb2N1bWVudC5ib2R5KS5vZmYoJy5vdmVydGxlYXZlJylcbiAgICBqYm9uZShkb2N1bWVudC5ib2R5KS5vZmYoJy5vdmVydGNhbmNlbCcpXG5cbiAgIyBtaWdodCBiZSBpbmNvbXBhdGlibGUgd2l0aCBzb21lIGJyb3dzZXJzXG4gIF9vbm1vdXNld2hlZWw6IChlKSAtPlxuICAgIGRlbHRhID0gbW91c2Uud2hlZWxEZWx0YSBlXG4gICAgQGcuem9vbWVyLnNldCAnX2FsaWdubWVudFNjcm9sbExlZnQnLCBAZy56b29tZXIuZ2V0KCdfYWxpZ25tZW50U2Nyb2xsTGVmdCcpICsgZGVsdGFbMF1cbiAgICBAZy56b29tZXIuc2V0ICdfYWxpZ25tZW50U2Nyb2xsVG9wJywgQGcuem9vbWVyLmdldCgnX2FsaWdubWVudFNjcm9sbFRvcCcpICsgZGVsdGFbMV1cbiAgICBlLnByZXZlbnREZWZhdWx0KClcblxuICBfb25jbGljazogKGUpIC0+XG4gICAgcmVzID0gQF9nZXRDbGlja1BvcyhlKVxuICAgIGlmIHJlcz9cbiAgICAgIGlmIHJlcy5mZWF0dXJlP1xuICAgICAgICBAZy50cmlnZ2VyIFwiZmVhdHVyZTpjbGlja1wiLCByZXNcbiAgICAgIGVsc2VcbiAgICAgICAgQGcudHJpZ2dlciBcInJlc2lkdWU6Y2xpY2tcIiwgcmVzXG4gICAgQHRocm90dGxlZERyYXcoKVxuXG4gIF9vbm1vdXNlaW46IChlKSAtPlxuICAgIHJlcyA9IEBfZ2V0Q2xpY2tQb3MoZSlcbiAgICBpZiByZXM/XG4gICAgICBpZiByZXMuZmVhdHVyZT9cbiAgICAgICAgQGcudHJpZ2dlciBcImZlYXR1cmU6bW91c2VpblwiLCByZXNcbiAgICAgIGVsc2VcbiAgICAgICAgQGcudHJpZ2dlciBcInJlc2lkdWU6bW91c2VpblwiLCByZXNcbiAgICBAdGhyb3R0bGVkRHJhdygpXG5cbiAgX29ubW91c2VvdXQ6IChlKSAtPlxuICAgIHJlcyA9IEBfZ2V0Q2xpY2tQb3MoZSlcbiAgICBpZiByZXM/XG4gICAgICBpZiByZXMuZmVhdHVyZT9cbiAgICAgICAgQGcudHJpZ2dlciBcImZlYXR1cmU6bW91c2VvdXRcIiwgcmVzXG4gICAgICBlbHNlXG4gICAgICAgIEBnLnRyaWdnZXIgXCJyZXNpZHVlOm1vdXNlb3V0XCIsIHJlc1xuXG4gICAgQHRocm90dGxlZERyYXcoKVxuXG4gIF9nZXRDbGlja1BvczogKGUpIC0+XG4gICAgY29vcmRzID0gbW91c2UucmVsIGVcblxuICAgIGNvb3Jkc1swXSArPSBAZy56b29tZXIuZ2V0KFwiX2FsaWdubWVudFNjcm9sbExlZnRcIilcbiAgICB4ID0gTWF0aC5mbG9vcihjb29yZHNbMF0gLyBAZy56b29tZXIuZ2V0KFwiY29sdW1uV2lkdGhcIikgKVxuICAgIFt5LHJvd051bWJlcl0gPSBAc2VxRHJhd2VyLl9nZXRTZXFGb3JZQ2xpY2soY29vcmRzWzFdKVxuXG4gICAgIyBhZGQgaGlkZGVuIGNvbHVtbnNcbiAgICB4ICs9IEBnLmNvbHVtbnMuY2FsY0hpZGRlbkNvbHVtbnMgeFxuICAgICMgYWRkIGhpZGRlbiBzZXFzXG4gICAgeSArPSBAbW9kZWwuY2FsY0hpZGRlblNlcXMgeVxuXG4gICAgeCA9IE1hdGgubWF4IDAseFxuICAgIHkgPSBNYXRoLm1heCAwLHlcblxuICAgIHNlcUlkID0gQG1vZGVsLmF0KHkpLmdldCBcImlkXCJcblxuICAgIGlmIHJvd051bWJlciA+IDBcbiAgICAgICMgY2xpY2sgb24gYSBmZWF0dXJlXG4gICAgICBmZWF0dXJlcyA9IEBtb2RlbC5hdCh5KS5nZXQoXCJmZWF0dXJlc1wiKS5nZXRGZWF0dXJlT25Sb3cocm93TnVtYmVyIC0gMSwgeClcbiAgICAgIHVubGVzcyBmZWF0dXJlcy5sZW5ndGggaXMgMFxuICAgICAgICBmZWF0dXJlID0gZmVhdHVyZXNbMF1cbiAgICAgICAgY29uc29sZS5sb2cgZmVhdHVyZXNbMF0uYXR0cmlidXRlc1xuICAgICAgICByZXR1cm4ge3NlcUlkOnNlcUlkLCBmZWF0dXJlOiBmZWF0dXJlLCByb3dQb3M6IHgsIGV2dDplfVxuICAgIGVsc2VcbiAgICAgICMgY2xpY2sgb24gYSBzZXFcbiAgICAgIHJldHVybiB7c2VxSWQ6c2VxSWQsIHJvd1BvczogeCwgZXZ0OmV9XG5cbiAgIyBjaGVja3Mgd2hldGhlciB0aGUgc2Nyb2xsaW5nIGNvb3JkaW5hdGVzIGFyZSB2YWxpZFxuICAjIEByZXR1cm5zOiBbeFNjcm9sbCx5U2Nyb2xsXSB2YWxpZCBjb29yZGluYXRlc1xuICBfY2hlY2tTY3JvbGxpbmc6IChzY3JvbGxPYmopIC0+XG5cbiAgICAjIDA6IG1heExlZnQsIDE6IG1heFRvcFxuICAgIG1heCA9IFtAY29vcmRzQ2FjaGUubWF4U2Nyb2xsV2lkdGgsIEBjb29yZHNDYWNoZS5tYXhTY3JvbGxIZWlnaHRdXG5cbiAgICBmb3IgaSBpbiBbMC4uMV0gYnkgMVxuICAgICAgaWYgc2Nyb2xsT2JqW2ldID4gbWF4W2ldXG4gICAgICAgIHNjcm9sbE9ialtpXSA9IG1heFtpXVxuXG4gICAgICBpZiBzY3JvbGxPYmpbaV0gPCAwXG4gICAgICAgIHNjcm9sbE9ialtpXSA9IDBcblxuICAgIHJldHVybiBzY3JvbGxPYmpcbiIsIl8gPSByZXF1aXJlIFwidW5kZXJzY29yZVwiXG5cbmRyYXdlciA9XG5cbiAgZHJhd0xldHRlcnM6IC0+XG5cbiAgICByZWN0SGVpZ2h0ID0gQHJlY3RIZWlnaHRcblxuICAgICMgcmVjdHNcbiAgICBAY3R4Lmdsb2JhbEFscGhhID0gQGcuY29sb3JzY2hlbWUuZ2V0IFwib3BhY2l0eVwiXG4gICAgQGRyYXdTZXFzIChkYXRhKSAtPiBAZHJhd1NlcShkYXRhLCBAX2RyYXdSZWN0KVxuICAgIEBjdHguZ2xvYmFsQWxwaGEgPSAxXG5cbiAgICAjIGxldHRlcnNcbiAgICBAZHJhd1NlcXMgKGRhdGEpIC0+IEBkcmF3U2VxKGRhdGEsIEBfZHJhd0xldHRlcilcblxuICBkcmF3U2VxczogKGNhbGxiYWNrLCB0YXJnZXQpIC0+XG4gICAgaGlkZGVuID0gQGcuY29sdW1ucy5nZXQgXCJoaWRkZW5cIlxuXG4gICAgdGFyZ2V0ID0gdGFyZ2V0IHx8IEBcblxuICAgIFtzdGFydCwgeV0gPSBAZ2V0U3RhcnRTZXEoKVxuXG4gICAgZm9yIGkgaW4gW3N0YXJ0Li4gQG1vZGVsLmxlbmd0aCAtIDFdIGJ5IDFcbiAgICAgIHNlcSA9IEBtb2RlbC5hdChpKVxuICAgICAgY29udGludWUgaWYgc2VxLmdldCgnaGlkZGVuJylcbiAgICAgIGNhbGxiYWNrLmNhbGwgdGFyZ2V0LCB7bW9kZWw6IHNlcSwgeVBvczogeSwgeTogaSwgaGlkZGVuOiBoaWRkZW59XG5cbiAgICAgIHNlcUhlaWdodCA9IChzZXEuYXR0cmlidXRlcy5oZWlnaHQgfHwgMSkgKiBAcmVjdEhlaWdodFxuICAgICAgeSA9IHkgKyBzZXFIZWlnaHRcblxuICAgICAgIyBvdXQgb2Ygdmlld3BvcnQgLSBzdG9wXG4gICAgICBpZiB5ID4gQGhlaWdodFxuICAgICAgICBicmVha1xuXG4gICMgY2FsbHMgdGhlIGNhbGxiYWNrIGZvciBldmVyeSBkcmF3YWJsZSByb3dcbiAgZHJhd1Jvd3M6IChjYWxsYmFjaywgdGFyZ2V0KSAtPlxuICAgIEBkcmF3U2VxcyAoZGF0YSkgLT4gQGRyYXdSb3coZGF0YSwgY2FsbGJhY2ssIHRhcmdldClcblxuICAjIGRyYXdzIGEgc2luZ2xlIHJvd1xuICBkcmF3Um93OiAoZGF0YSwgY2FsbGJhY2ssIHRhcmdldCkgLT5cbiAgICByZWN0V2lkdGggPSBAZy56b29tZXIuZ2V0IFwiY29sdW1uV2lkdGhcIlxuICAgIHN0YXJ0ID0gTWF0aC5tYXggMCwgTWF0aC5hYnMoTWF0aC5jZWlsKCAtIEBnLnpvb21lci5nZXQoJ19hbGlnbm1lbnRTY3JvbGxMZWZ0JykgLyByZWN0V2lkdGgpKVxuICAgIHggPSAtIE1hdGguYWJzKCAtIEBnLnpvb21lci5nZXQoJ19hbGlnbm1lbnRTY3JvbGxMZWZ0JykgJSByZWN0V2lkdGgpXG5cbiAgICB4WmVybyA9IHggLSBzdGFydCAqIHJlY3RXaWR0aFxuICAgIHlaZXJvID0gZGF0YS55UG9zXG4gICAgY2FsbGJhY2suY2FsbCB0YXJnZXQsIG1vZGVsOiBkYXRhLm1vZGVsLCB4WmVybzogeFplcm8sIHlaZXJvOiB5WmVybywgaGlkZGVuOiBkYXRhLmhpZGRlblxuXG4gICMgcmV0dXJucyBmaXJzdCBzZXF1ZW5jZSBpbiB0aGUgdmlld3BvcnRcbiAgIyB5IGlzIHRoZSBwb3NpdGlvbiB0byBzdGFydCBkcmF3aW5nXG4gIGdldFN0YXJ0U2VxOiAtPlxuICAgIHN0YXJ0ID0gKE1hdGgubWF4IDAsIE1hdGguZmxvb3IoIEBnLnpvb21lci5nZXQoJ19hbGlnbm1lbnRTY3JvbGxUb3AnKSAvIEByZWN0SGVpZ2h0KSkgKyAxXG4gICAgY291bnRlciA9IDBcbiAgICBpID0gMFxuICAgIHdoaWxlIGNvdW50ZXIgPCBzdGFydCBhbmQgaSA8IEBtb2RlbC5sZW5ndGhcbiAgICAgIGNvdW50ZXIgKz0gQG1vZGVsLmF0KGkpLmF0dHJpYnV0ZXMuaGVpZ2h0IHx8IDFcbiAgICAgIGkrK1xuICAgIHkgPSBNYXRoLm1heCgwLCBAZy56b29tZXIuZ2V0KCdfYWxpZ25tZW50U2Nyb2xsVG9wJykgLSBjb3VudGVyICogQHJlY3RIZWlnaHQgKyAoQG1vZGVsLmF0KGkgLSAxKVxuICAgIC5hdHRyaWJ1dGVzLmhlaWdodCAgfHwgMSApICogQHJlY3RIZWlnaHQpXG4gICAgW2kgLSAxLCAteV1cblxuICAjIHJldHVybnMgW3RoZSBjbGlja2VkIHNlcSBmb3IgYSB2aWV3cG9ydCwgcm93IG51bWJlcl1cbiAgX2dldFNlcUZvcllDbGljazogKGNsaWNrKSAtPlxuICAgIFtzdGFydCwgeURpZmZdID0gQGdldFN0YXJ0U2VxKClcbiAgICB5UmVsID0geURpZmYgJSBAcmVjdEhlaWdodFxuICAgIGNsaWNrZWRSb3dzID0gKE1hdGgubWF4IDAsIE1hdGguZmxvb3IoIChjbGljayAtIHlSZWwgKSAvIEByZWN0SGVpZ2h0KSkgKyAxXG4gICAgY291bnRlciA9IDBcbiAgICBpID0gc3RhcnRcbiAgICB3aGlsZSBjb3VudGVyIDwgY2xpY2tlZFJvd3MgYW5kIGkgPCBAbW9kZWwubGVuZ3RoXG4gICAgICBjb3VudGVyICs9IEBtb2RlbC5hdChpKS5hdHRyaWJ1dGVzLmhlaWdodCB8fCAxXG4gICAgICBpKytcbiAgICByb3dOdW1iZXIgPSBNYXRoLm1heCgwLCBNYXRoLmZsb29yKGNsaWNrIC8gQHJlY3RIZWlnaHQpIC0gY291bnRlciArIChAbW9kZWwuYXQoaSAtIDEpLmdldChcImhlaWdodFwiKSB8fCAxKSlcbiAgICByZXR1cm4gW2kgLSAxLCByb3dOdW1iZXJdXG5cbiAgIyBUT0RPOiB2ZXJ5IGV4cGVuc2l2ZSBtZXRob2RcbiAgZHJhd1NlcTogKGRhdGEsIGNhbGxiYWNrKSAtPlxuICAgIHNlcSA9IGRhdGEubW9kZWwuZ2V0IFwic2VxXCJcbiAgICB5ID0gZGF0YS55UG9zXG4gICAgcmVjdFdpZHRoID0gQHJlY3RXaWR0aFxuICAgIHJlY3RIZWlnaHQgPSBAcmVjdEhlaWdodFxuXG4gICAgIyBza2lwIHVubmVlZGVkIGJsb2NrcyBhdCB0aGUgYmVnaW5uaW5nXG4gICAgc3RhcnQgPSBNYXRoLm1heCAwLCBNYXRoLmFicyhNYXRoLmNlaWwoIC0gQGcuem9vbWVyLmdldCgnX2FsaWdubWVudFNjcm9sbExlZnQnKSAvIHJlY3RXaWR0aCkpXG4gICAgeCA9IC0gTWF0aC5hYnMoIC0gQGcuem9vbWVyLmdldCgnX2FsaWdubWVudFNjcm9sbExlZnQnKSAlIHJlY3RXaWR0aClcblxuICAgIHJlcyA9IHtyZWN0V2lkdGg6IHJlY3RXaWR0aCwgcmVjdEhlaWdodDogcmVjdEhlaWdodCwgeVBvczogeSwgeTogZGF0YS55fVxuICAgIGVsV2lkdGggPSBAd2lkdGhcblxuICAgIGZvciBqIGluIFtzdGFydC4uIHNlcS5sZW5ndGggLSAxXSBieSAxXG4gICAgICBjID0gc2VxW2pdXG4gICAgICBjID0gYy50b1VwcGVyQ2FzZSgpXG5cbiAgICAgICMgY2FsbCB0aGUgY3VzdG9tIGZ1bmN0aW9uXG4gICAgICByZXMueCA9IGpcbiAgICAgIHJlcy5jID0gY1xuICAgICAgcmVzLnhQb3MgPSB4XG5cbiAgICAgICMgbG9jYWwgY2FsbCBpcyBmYXN0ZXIgdGhhbiBhcHBseVxuICAgICAgIyBodHRwOi8vanNwZXJmLmNvbS9mdW5jdGlvbi1jYWxscy1kaXJlY3QtdnMtYXBwbHktdnMtY2FsbC12cy1iaW5kLzZcbiAgICAgIGlmIGRhdGEuaGlkZGVuLmluZGV4T2YoaikgPCAwXG4gICAgICAgIGNhbGxiYWNrIEAscmVzXG4gICAgICBlbHNlXG4gICAgICAgIGNvbnRpbnVlXG5cbiAgICAgICMgbW92ZSB0byB0aGUgcmlnaHRcbiAgICAgIHggPSB4ICsgcmVjdFdpZHRoXG5cbiAgICAgICMgb3V0IG9mIHZpZXdwb3J0IC0gc3RvcFxuICAgICAgaWYgeCA+IGVsV2lkdGhcbiAgICAgICAgYnJlYWtcblxuICBfZHJhd1JlY3Q6ICh0aGF0LCBkYXRhKSAtPlxuICAgIGNvbG9yID0gdGhhdC5jb2xvci5nZXRDb2xvciBkYXRhLmMsXG4gICAgICBwb3M6ZGF0YS54XG4gICAgICB5OiBkYXRhLnlcbiAgICBpZiBjb2xvcj9cbiAgICAgIHRoYXQuY3R4LmZpbGxTdHlsZSA9IGNvbG9yXG4gICAgICB0aGF0LmN0eC5maWxsUmVjdCBkYXRhLnhQb3MsZGF0YS55UG9zLGRhdGEucmVjdFdpZHRoLGRhdGEucmVjdEhlaWdodFxuXG4gICMgUkVBTExZIGV4cGVuc2l2ZSBjYWxsIG9uIEZGXG4gICMgUGVyZm9ybWFuY2U6XG4gICMgY2hyb21lOiAyMDAwbXMgZHJhd0xldHRlciAtIDEwMDBtcyBkcmF3UmVjdFxuICAjIEZGOiAxNzAwbXMgZHJhd0xldHRlciAtIDMwMG1zIGRyYXdSZWN0XG4gIF9kcmF3TGV0dGVyOiAodGhhdCxkYXRhKSAtPlxuICAgIHRoYXQuY3R4LmRyYXdJbWFnZSB0aGF0LmNhY2hlLmdldEZvbnRUaWxlKGRhdGEuYywgZGF0YS5yZWN0V2lkdGgsXG4gICAgICBkYXRhLnJlY3RIZWlnaHQpLCBkYXRhLnhQb3MsIGRhdGEueVBvcyxkYXRhLnJlY3RXaWR0aCxkYXRhLnJlY3RIZWlnaHRcblxuXG5tb2R1bGUuZXhwb3J0cyA9IGNvbnN0cnVjID0gKGcsY3R4LG1vZGVsLG9wdHMpIC0+XG4gIHRoaXMuZyA9IGdcbiAgdGhpcy5jdHggPSBjdHhcbiAgdGhpcy5tb2RlbCA9IG1vZGVsXG4gIHRoaXMud2lkdGggPSBvcHRzLndpZHRoXG4gIHRoaXMuaGVpZ2h0ID0gb3B0cy5oZWlnaHRcbiAgdGhpcy5jb2xvciA9IG9wdHMuY29sb3JcbiAgdGhpcy5jYWNoZSA9IG9wdHMuY2FjaGVcbiAgdGhpcy5yZWN0SGVpZ2h0ID0gQGcuem9vbWVyLmdldCBcInJvd0hlaWdodFwiXG4gIHRoaXMucmVjdFdpZHRoID0gQGcuem9vbWVyLmdldCBcImNvbHVtbldpZHRoXCJcbiAgQFxuXG5fLmV4dGVuZCBjb25zdHJ1Yzo6LCBkcmF3ZXJcbiIsInZpZXcgPSByZXF1aXJlKFwiYmFja2JvbmUtdmlld2pcIilcbmRvbSA9IHJlcXVpcmUoXCJkb20taGVscGVyXCIpXG5zdmcgPSByZXF1aXJlKFwiLi4vLi4vdXRpbHMvc3ZnXCIpXG5cbkNvbnNlcnZhdGlvblZpZXcgPSB2aWV3LmV4dGVuZFxuXG4gIGNsYXNzTmFtZTogXCJiaW9qc19tc2FfY29uc2VydlwiXG5cbiAgaW5pdGlhbGl6ZTogKGRhdGEpIC0+XG4gICAgQGcgPSBkYXRhLmdcbiAgICBAbGlzdGVuVG8gQGcuem9vbWVyLFwiY2hhbmdlOnN0ZXBTaXplIGNoYW5nZTpsYWJlbFdpZHRoIGNoYW5nZTpjb2x1bW5XaWR0aFwiLCBAcmVuZGVyXG4gICAgQGxpc3RlblRvIEBnLnZpcyxcImNoYW5nZTpsYWJlbHMgY2hhbmdlOm1ldGFjZWxsXCIsIEByZW5kZXJcbiAgICBAbGlzdGVuVG8gQGcuY29sdW1ucywgXCJjaGFuZ2U6c2NhbGluZ1wiLCBAcmVuZGVyXG4gICAgIyB3ZSBuZWVkIHRvIHdhaXQgdW50aWwgc3RhdHMgZ2l2ZXMgdXMgdGhlIG9rXG4gICAgI0BsaXN0ZW5UbyBAbW9kZWwsIFwicmVzZXRcIixAcmVuZGVyXG4gICAgQGxpc3RlblRvIEBnLnN0YXRzLFwicmVzZXRcIiwgQHJlbmRlclxuICAgIEBtYW5hZ2VFdmVudHMoKVxuXG4gIHJlbmRlcjogLT5cbiAgICBjb25zZXJ2ID0gQGcuc3RhdHMuc2NhbGUoQGcuc3RhdHMuY29uc2VydmF0aW9uKCkpXG5cbiAgICBkb20ucmVtb3ZlQWxsQ2hpbGRzIEBlbFxuXG4gICAgbk1heCA9IEBtb2RlbC5nZXRNYXhMZW5ndGgoKVxuICAgIGNlbGxXaWR0aCA9IEBnLnpvb21lci5nZXQgXCJjb2x1bW5XaWR0aFwiXG4gICAgbWF4SGVpZ2h0ID0gMjBcbiAgICB3aWR0aCA9IGNlbGxXaWR0aCAqIChuTWF4IC0gQGcuY29sdW1ucy5nZXQoJ2hpZGRlbicpLmxlbmd0aClcblxuICAgIHMgPSBzdmcuYmFzZSBoZWlnaHQ6IG1heEhlaWdodCwgd2lkdGg6IHdpZHRoXG4gICAgcy5zdHlsZS5kaXNwbGF5ID0gXCJpbmxpbmUtYmxvY2tcIlxuICAgIHMuc3R5bGUuY3Vyc29yID0gXCJwb2ludGVyXCJcblxuICAgIHN0ZXBTaXplID0gQGcuem9vbWVyLmdldCBcInN0ZXBTaXplXCJcbiAgICBoaWRkZW4gPSBAZy5jb2x1bW5zLmdldCBcImhpZGRlblwiXG4gICAgeCA9IDBcbiAgICBuID0gMFxuICAgIHdoaWxlIG4gPCBuTWF4XG4gICAgICBpZiBoaWRkZW4uaW5kZXhPZihuKSA+PSAwXG4gICAgICAgIG4gKz0gc3RlcFNpemVcbiAgICAgICAgY29udGludWVcbiAgICAgIHdpZHRoID0gY2VsbFdpZHRoICogc3RlcFNpemVcbiAgICAgIGF2Z0hlaWdodCA9IDBcbiAgICAgIGZvciBpIGluIFswIC4uIHN0ZXBTaXplIC0gMV1cbiAgICAgICAgYXZnSGVpZ2h0ICs9IGNvbnNlcnZbbl1cbiAgICAgIGhlaWdodCA9IG1heEhlaWdodCAqICAoYXZnSGVpZ2h0IC8gc3RlcFNpemUpXG5cbiAgICAgIHJlY3QgPSAgc3ZnLnJlY3QgeDp4LHk6IG1heEhlaWdodCAtIGhlaWdodCx3aWR0aDp3aWR0aCAtIGNlbGxXaWR0aCAvIDQsaGVpZ2h0OmhlaWdodCxzdHlsZTpcbiAgICAgICAgXCJzdHJva2U6cmVkO3N0cm9rZS13aWR0aDoxO1wiXG4gICAgICByZWN0LnJvd1BvcyA9IG5cbiAgICAgIHMuYXBwZW5kQ2hpbGQgcmVjdFxuICAgICAgeCArPSB3aWR0aFxuICAgICAgbiArPSBzdGVwU2l6ZVxuXG4gICAgQGVsLmFwcGVuZENoaWxkIHNcbiAgICBAXG5cbiAgI1RPRE86IG1ha2UgbW9yZSBnZW5lcmFsIHdpdGggSGVhZGVyVmlld1xuICBfb25jbGljazogKGV2dCkgLT5cbiAgICByb3dQb3MgPSBldnQudGFyZ2V0LnJvd1Bvc1xuICAgIHN0ZXBTaXplID0gQGcuem9vbWVyLmdldChcInN0ZXBTaXplXCIpXG4gICAgIyBzaW11bGF0ZSBoaWRkZW4gY29sdW1uc1xuICAgIGZvciBpIGluIFswLi5zdGVwU2l6ZSAtIDFdIGJ5IDFcbiAgICAgIEBnLnRyaWdnZXIgXCJiYXI6Y2xpY2tcIiwge3Jvd1Bvczogcm93UG9zICsgaSwgZXZ0OmV2dH1cblxuICBtYW5hZ2VFdmVudHM6IC0+XG4gICAgZXZlbnRzID0ge31cbiAgICBpZiBAZy5jb25maWcuZ2V0IFwicmVnaXN0ZXJNb3VzZUNsaWNrc1wiXG4gICAgICBldmVudHMuY2xpY2sgPSBcIl9vbmNsaWNrXCJcbiAgICBpZiBAZy5jb25maWcuZ2V0IFwicmVnaXN0ZXJNb3VzZUhvdmVyXCJcbiAgICAgIGV2ZW50cy5tb3VzZWluID0gXCJfb25tb3VzZWluXCJcbiAgICAgIGV2ZW50cy5tb3VzZW91dCA9IFwiX29ubW91c2VvdXRcIlxuICAgIEBkZWxlZ2F0ZUV2ZW50cyBldmVudHNcbiAgICBAbGlzdGVuVG8gQGcuY29uZmlnLCBcImNoYW5nZTpyZWdpc3Rlck1vdXNlSG92ZXJcIiwgQG1hbmFnZUV2ZW50c1xuICAgIEBsaXN0ZW5UbyBAZy5jb25maWcsIFwiY2hhbmdlOnJlZ2lzdGVyTW91c2VDbGlja1wiLCBAbWFuYWdlRXZlbnRzXG5cbiAgX29ubW91c2VpbjogKGV2dCkgLT5cbiAgICByb3dQb3MgPSBAZy56b29tZXIuZ2V0IFwic3RlcFNpemVcIiAqIGV2dC5yb3dQb3NcbiAgICBAZy50cmlnZ2VyIFwiYmFyOm1vdXNlaW5cIiwge3Jvd1Bvczogcm93UG9zLCBldnQ6ZXZ0fVxuXG4gIF9vbm1vdXNlb3V0OiAoZXZ0KSAtPlxuICAgIHJvd1BvcyA9IEBnLnpvb21lci5nZXQgXCJzdGVwU2l6ZVwiICogZXZ0LnJvd1Bvc1xuICAgIEBnLnRyaWdnZXIgXCJiYXI6bW91c2VvdXRcIiwge3Jvd1Bvczogcm93UG9zLCBldnQ6ZXZ0fVxuXG5tb2R1bGUuZXhwb3J0cyA9IENvbnNlcnZhdGlvblZpZXdcbiIsInZpZXcgPSByZXF1aXJlKFwiYmFja2JvbmUtdmlld2pcIilcbmRvbSA9IHJlcXVpcmUoXCJkb20taGVscGVyXCIpXG5zdmcgPSByZXF1aXJlKFwiLi4vLi4vdXRpbHMvc3ZnXCIpXG5cbiMgVE9ETzogbWVyZ2UgdGhpcyB3aXRoIHRoZSBjb25zZXJ2YXRpb24gdmlld1xuQ29uc2VydmF0aW9uVmlldyA9IHZpZXcuZXh0ZW5kXG5cbiAgY2xhc3NOYW1lOiBcImJpb2pzX21zYV9nYXB2aWV3XCJcblxuICBpbml0aWFsaXplOiAoZGF0YSkgLT5cbiAgICBAZyA9IGRhdGEuZ1xuICAgIEBsaXN0ZW5UbyBAZy56b29tZXIsXCJjaGFuZ2U6c3RlcFNpemUgY2hhbmdlOmxhYmVsV2lkdGggY2hhbmdlOmNvbHVtbldpZHRoXCIsIEByZW5kZXJcbiAgICBAbGlzdGVuVG8gQGcudmlzLFwiY2hhbmdlOmxhYmVscyBjaGFuZ2U6bWV0YWNlbGxcIiwgQHJlbmRlclxuICAgIEBsaXN0ZW5UbyBAZy5jb2x1bW5zLCBcImNoYW5nZTpzY2FsaW5nXCIsIEByZW5kZXJcbiAgICAjIHdlIG5lZWQgdG8gd2FpdCB1bnRpbCBzdGF0cyBnaXZlcyB1cyB0aGUgb2tcbiAgICBAbGlzdGVuVG8gQG1vZGVsLCBcInJlc2V0XCIsQHJlbmRlclxuICAgIEBtYW5hZ2VFdmVudHMoKVxuXG4gIHJlbmRlcjogLT5cbiAgICBnYXBzID0gQGcuc3RhdHMuZ2FwcygpXG5cbiAgICBkb20ucmVtb3ZlQWxsQ2hpbGRzIEBlbFxuXG4gICAgbk1heCA9IEBtb2RlbC5nZXRNYXhMZW5ndGgoKVxuICAgIGNlbGxXaWR0aCA9IEBnLnpvb21lci5nZXQgXCJjb2x1bW5XaWR0aFwiXG4gICAgbWF4SGVpZ2h0ID0gMjBcbiAgICB3aWR0aCA9IGNlbGxXaWR0aCAqIChuTWF4IC0gQGcuY29sdW1ucy5nZXQoJ2hpZGRlbicpLmxlbmd0aClcblxuICAgIHMgPSBzdmcuYmFzZSBoZWlnaHQ6IG1heEhlaWdodCwgd2lkdGg6IHdpZHRoXG4gICAgcy5zdHlsZS5kaXNwbGF5ID0gXCJpbmxpbmUtYmxvY2tcIlxuICAgIHMuc3R5bGUuY3Vyc29yID0gXCJwb2ludGVyXCJcblxuICAgIHN0ZXBTaXplID0gQGcuem9vbWVyLmdldCBcInN0ZXBTaXplXCJcbiAgICBoaWRkZW4gPSBAZy5jb2x1bW5zLmdldCBcImhpZGRlblwiXG4gICAgeCA9IDBcbiAgICBuID0gMFxuICAgIHdoaWxlIG4gPCBuTWF4XG4gICAgICBpZiBoaWRkZW4uaW5kZXhPZihuKSA+PSAwXG4gICAgICAgIG4gKz0gc3RlcFNpemVcbiAgICAgICAgY29udGludWVcbiAgICAgIHdpZHRoID0gY2VsbFdpZHRoICogc3RlcFNpemVcbiAgICAgIGF2Z0hlaWdodCA9IDBcbiAgICAgIGZvciBpIGluIFswIC4uIHN0ZXBTaXplIC0gMV1cbiAgICAgICAgYXZnSGVpZ2h0ICs9IGdhcHNbbl1cbiAgICAgIGhlaWdodCA9IG1heEhlaWdodCAqICAoYXZnSGVpZ2h0IC8gc3RlcFNpemUpXG5cbiAgICAgIHJlY3QgPSAgc3ZnLnJlY3QgeDp4LHk6IG1heEhlaWdodCAtIGhlaWdodCx3aWR0aDp3aWR0aCAtIGNlbGxXaWR0aCAvIDQsaGVpZ2h0OmhlaWdodCxzdHlsZTpcbiAgICAgICAgXCJzdHJva2U6cmVkO3N0cm9rZS13aWR0aDoxO1wiXG4gICAgICByZWN0LnJvd1BvcyA9IG5cbiAgICAgIHMuYXBwZW5kQ2hpbGQgcmVjdFxuICAgICAgeCArPSB3aWR0aFxuICAgICAgbiArPSBzdGVwU2l6ZVxuXG4gICAgQGVsLmFwcGVuZENoaWxkIHNcbiAgICBAXG5cbiAgI1RPRE86IG1ha2UgbW9yZSBnZW5lcmFsIHdpdGggSGVhZGVyVmlld1xuICBfb25jbGljazogKGV2dCkgLT5cbiAgICByb3dQb3MgPSBldnQudGFyZ2V0LnJvd1Bvc1xuICAgIHN0ZXBTaXplID0gQGcuem9vbWVyLmdldChcInN0ZXBTaXplXCIpXG4gICAgIyBzaW11bGF0ZSBoaWRkZW4gY29sdW1uc1xuICAgIGZvciBpIGluIFswLi5zdGVwU2l6ZSAtIDFdIGJ5IDFcbiAgICAgIEBnLnRyaWdnZXIgXCJnYXA6Y2xpY2tcIiwge3Jvd1Bvczogcm93UG9zICsgaSwgZXZ0OmV2dH1cblxuICBtYW5hZ2VFdmVudHM6IC0+XG4gICAgZXZlbnRzID0ge31cbiAgICBpZiBAZy5jb25maWcuZ2V0IFwicmVnaXN0ZXJNb3VzZUNsaWNrc1wiXG4gICAgICBldmVudHMuY2xpY2sgPSBcIl9vbmNsaWNrXCJcbiAgICBpZiBAZy5jb25maWcuZ2V0IFwicmVnaXN0ZXJNb3VzZUhvdmVyXCJcbiAgICAgIGV2ZW50cy5tb3VzZWluID0gXCJfb25tb3VzZWluXCJcbiAgICAgIGV2ZW50cy5tb3VzZW91dCA9IFwiX29ubW91c2VvdXRcIlxuICAgIEBkZWxlZ2F0ZUV2ZW50cyBldmVudHNcbiAgICBAbGlzdGVuVG8gQGcuY29uZmlnLCBcImNoYW5nZTpyZWdpc3Rlck1vdXNlSG92ZXJcIiwgQG1hbmFnZUV2ZW50c1xuICAgIEBsaXN0ZW5UbyBAZy5jb25maWcsIFwiY2hhbmdlOnJlZ2lzdGVyTW91c2VDbGlja1wiLCBAbWFuYWdlRXZlbnRzXG5cbiAgX29ubW91c2VpbjogKGV2dCkgLT5cbiAgICByb3dQb3MgPSBAZy56b29tZXIuZ2V0IFwic3RlcFNpemVcIiAqIGV2dC5yb3dQb3NcbiAgICBAZy50cmlnZ2VyIFwiZ2FwOm1vdXNlaW5cIiwge3Jvd1Bvczogcm93UG9zLCBldnQ6ZXZ0fVxuXG4gIF9vbm1vdXNlb3V0OiAoZXZ0KSAtPlxuICAgIHJvd1BvcyA9IEBnLnpvb21lci5nZXQgXCJzdGVwU2l6ZVwiICogZXZ0LnJvd1Bvc1xuICAgIEBnLnRyaWdnZXIgXCJnYXA6bW91c2VvdXRcIiwge3Jvd1Bvczogcm93UG9zLCBldnQ6ZXZ0fVxuXG5tb2R1bGUuZXhwb3J0cyA9IENvbnNlcnZhdGlvblZpZXdcbiIsImJvbmVWaWV3ID0gcmVxdWlyZShcImJhY2tib25lLWNoaWxkc1wiKVxuTGFiZWxIZWFkZXIgPSByZXF1aXJlIFwiLi9MYWJlbEhlYWRlclwiXG5SaWdodExhYmVsSGVhZGVyID0gcmVxdWlyZSBcIi4vUmlnaHRIZWFkZXJCbG9ja1wiXG5cbm1vZHVsZS5leHBvcnRzID0gYm9uZVZpZXcuZXh0ZW5kXG5cbiAgaW5pdGlhbGl6ZTogKGRhdGEpIC0+XG4gICAgQGcgPSBkYXRhLmdcbiAgICBAZHJhdygpXG4gICAgQGxpc3RlblRvIEBnLnZpcyxcImNoYW5nZTpsYWJlbHMgY2hhbmdlOm1ldGFjZWxsIGNoYW5nZTpsZWZ0SGVhZGVyXCIsID0+XG4gICAgICBAZHJhdygpXG4gICAgICBAcmVuZGVyKClcblxuICBkcmF3OiAtPlxuICAgIEByZW1vdmVWaWV3cygpXG5cbiAgICBpZiBAZy52aXMuZ2V0KFwibGVmdEhlYWRlclwiKSBhbmQgKEBnLnZpcy5nZXQoXCJsYWJlbHNcIikgb3IgQGcudmlzLmdldChcIm1ldGFjZWxsXCIpKVxuICAgICAgbEhlYWRlciA9IG5ldyBMYWJlbEhlYWRlciB7bW9kZWw6IEBtb2RlbCwgZzogQGd9XG4gICAgICBsSGVhZGVyLm9yZGVyaW5nID0gLTUwXG4gICAgICBAYWRkVmlldyBcImxIZWFkZXJcIiwgbEhlYWRlclxuXG4gICAgckhlYWRlciA9IG5ldyBSaWdodExhYmVsSGVhZGVyIHttb2RlbDogQG1vZGVsLCBnOiBAZ31cbiAgICBySGVhZGVyLm9yZGVyaW5nID0gMFxuICAgIEBhZGRWaWV3IFwickhlYWRlclwiLCBySGVhZGVyXG5cbiAgcmVuZGVyOiAtPlxuICAgIEByZW5kZXJTdWJ2aWV3cygpXG5cbiAgICBAZWwuY2xhc3NOYW1lID0gXCJiaW9qc19tc2FfaGVhZGVyXCJcbiIsImsgPSByZXF1aXJlIFwia29hbGEtanNcIlxudmlldyA9IHJlcXVpcmUoXCJiYWNrYm9uZS12aWV3alwiKVxuZG9tID0gcmVxdWlyZShcImRvbS1oZWxwZXJcIilcblxubW9kdWxlLmV4cG9ydHMgPSBMYWJlbEhlYWRlciA9IHZpZXcuZXh0ZW5kXG5cbiAgY2xhc3NOYW1lOiBcImJpb2pzX21zYV9oZWFkZXJzXCJcblxuICBpbml0aWFsaXplOiAoZGF0YSkgLT5cbiAgICBAZyA9IGRhdGEuZ1xuXG4gICAgQGxpc3RlblRvIEBnLnZpcywgXCJjaGFuZ2U6bWV0YWNlbGwgY2hhbmdlOmxhYmVsc1wiLCBAcmVuZGVyXG4gICAgQGxpc3RlblRvIEBnLnpvb21lciwgXCJjaGFuZ2U6bGFiZWxXaWR0aCBjaGFuZ2U6bWV0YVdpZHRoXCIsIEByZW5kZXJcblxuICByZW5kZXI6IC0+XG5cbiAgICBkb20ucmVtb3ZlQWxsQ2hpbGRzIEBlbFxuXG4gICAgd2lkdGggPSAwXG4gICAgd2lkdGggKz0gQGcuem9vbWVyLmdldExlZnRCbG9ja1dpZHRoKClcbiAgICBAZWwuc3R5bGUud2lkdGggPSB3aWR0aCArIFwicHhcIlxuXG4gICAgaWYgQGcudmlzLmdldCBcImxhYmVsc1wiXG4gICAgICBAZWwuYXBwZW5kQ2hpbGQgQGxhYmVsRE9NKClcblxuICAgIGlmIEBnLnZpcy5nZXQgXCJtZXRhY2VsbFwiXG4gICAgICBAZWwuYXBwZW5kQ2hpbGQgQG1ldGFET00oKVxuXG4gICAgQGVsLnN0eWxlLmRpc3BsYXkgPSBcImlubGluZS1ibG9ja1wiXG4gICAgQGVsLnN0eWxlLmZvbnRTaXplID0gQGcuem9vbWVyLmdldCBcIm1hcmtlckZvbnRzaXplXCJcbiAgICBAXG5cbiAgbGFiZWxET006IC0+XG4gICAgbGFiZWxIZWFkZXIgPSBrLm1rIFwiZGl2XCJcbiAgICBsYWJlbEhlYWRlci5zdHlsZS53aWR0aCA9IEBnLnpvb21lci5nZXRMYWJlbFdpZHRoKClcbiAgICBsYWJlbEhlYWRlci5zdHlsZS5kaXNwbGF5ID0gXCJpbmxpbmUtYmxvY2tcIlxuXG4gICAgaWYgQC5nLnZpcy5nZXQgXCJsYWJlbENoZWNrYm94XCJcbiAgICAgIGxhYmVsSGVhZGVyLmFwcGVuZENoaWxkIEBhZGRFbChcIi5cIiwgMTApXG5cbiAgICBpZiBALmcudmlzLmdldCBcImxhYmVsSWRcIlxuICAgICAgbGFiZWxIZWFkZXIuYXBwZW5kQ2hpbGQgQGFkZEVsKFwiaWRcIiwgQGcuem9vbWVyLmdldCBcImxhYmVsSWRMZW5ndGhcIilcblxuICAgIGlmIEAuZy52aXMuZ2V0IFwibGFiZWxQYXJ0aXRpb25cIlxuICAgICAgbGFiZWxIZWFkZXIuYXBwZW5kQ2hpbGQgQGFkZEVsKFwicGFydFwiLCAxNSlcblxuICAgIGlmIEAuZy52aXMuZ2V0IFwibGFiZWxOYW1lXCJcbiAgICAgIG5hbWUgPSBAYWRkRWwoXCJuYW1lXCIpXG4gICAgICAjbmFtZS5zdHlsZS5tYXJnaW5MZWZ0ID0gXCI1MHB4XCJcbiAgICAgIGxhYmVsSGVhZGVyLmFwcGVuZENoaWxkIG5hbWVcblxuICAgIGxhYmVsSGVhZGVyXG5cbiAgYWRkRWw6IChjb250ZW50LCB3aWR0aCkgLT5cbiAgICBpZCA9IGRvY3VtZW50LmNyZWF0ZUVsZW1lbnQgXCJzcGFuXCJcbiAgICBpZC50ZXh0Q29udGVudCA9IGNvbnRlbnRcbiAgICBpZiB3aWR0aD9cbiAgICAgIGlkLnN0eWxlLndpZHRoID0gd2lkdGggKyBcInB4XCJcbiAgICBpZC5zdHlsZS5kaXNwbGF5ID0gXCJpbmxpbmUtYmxvY2tcIlxuICAgIGlkXG5cbiAgbWV0YURPTTogLT5cbiAgICBtZXRhSGVhZGVyID0gay5tayBcImRpdlwiXG4gICAgbWV0YUhlYWRlci5zdHlsZS53aWR0aCA9IEBnLnpvb21lci5nZXRNZXRhV2lkdGgoKVxuICAgIG1ldGFIZWFkZXIuc3R5bGUuZGlzcGxheSA9IFwiaW5saW5lLWJsb2NrXCJcblxuICAgIGlmIEAuZy52aXMuZ2V0IFwibWV0YUdhcHNcIlxuICAgICAgbWV0YUhlYWRlci5hcHBlbmRDaGlsZCBAYWRkRWwoXCJnYXBzXCIsIEBnLnpvb21lci5nZXQoJ21ldGFHYXBXaWR0aCcpKVxuICAgIGlmIEAuZy52aXMuZ2V0IFwibWV0YUlkZW50aXR5XCJcbiAgICAgIG1ldGFIZWFkZXIuYXBwZW5kQ2hpbGQgQGFkZEVsKFwiaWRlbnRcIiwgQGcuem9vbWVyLmdldCgnbWV0YUlkZW50V2lkdGgnKSlcbiAgICBpZiBALmcudmlzLmdldCBcIm1ldGFMaW5rc1wiXG4gICAgICBtZXRhSGVhZGVyLmFwcGVuZENoaWxkIEBhZGRFbChcImxpbmtzXCIpXG5cbiAgICBtZXRhSGVhZGVyXG4iLCJ2aWV3ID0gcmVxdWlyZShcImJhY2tib25lLXZpZXdqXCIpXG5kb20gPSByZXF1aXJlKFwiZG9tLWhlbHBlclwiKVxuc3ZnID0gcmVxdWlyZShcIi4uLy4uL3V0aWxzL3N2Z1wiKVxuamJvbmUgPSByZXF1aXJlIFwiamJvbmVcIlxuXG5IZWFkZXJWaWV3ID0gdmlldy5leHRlbmRcblxuICBjbGFzc05hbWU6IFwiYmlvanNfbXNhX21hcmtlclwiXG5cbiAgaW5pdGlhbGl6ZTogKGRhdGEpIC0+XG4gICAgQGcgPSBkYXRhLmdcbiAgICBAbGlzdGVuVG8gQGcuem9vbWVyLFwiY2hhbmdlOnN0ZXBTaXplIGNoYW5nZTpsYWJlbFdpZHRoIGNoYW5nZTpjb2x1bW5XaWR0aCBjaGFuZ2U6bWFya2VyU3RlcFNpemUgY2hhbmdlOm1hcmtlckZvbnRzaXplXCIsIEByZW5kZXJcbiAgICBAbGlzdGVuVG8gQGcudmlzLFwiY2hhbmdlOmxhYmVscyBjaGFuZ2U6bWV0YWNlbGxcIiwgQHJlbmRlclxuICAgIEBtYW5hZ2VFdmVudHMoKVxuXG4gIHJlbmRlcjogLT5cbiAgICBkb20ucmVtb3ZlQWxsQ2hpbGRzIEBlbFxuXG4gICAgQGVsLnN0eWxlLmZvbnRTaXplID0gQGcuem9vbWVyLmdldCBcIm1hcmtlckZvbnRzaXplXCJcblxuICAgIGNvbnRhaW5lciA9IGRvY3VtZW50LmNyZWF0ZUVsZW1lbnQgXCJzcGFuXCJcbiAgICBuID0gMFxuICAgIGNlbGxXaWR0aCA9IEBnLnpvb21lci5nZXQgXCJjb2x1bW5XaWR0aFwiXG5cbiAgICBuTWF4ID0gQG1vZGVsLmdldE1heExlbmd0aCgpXG4gICAgc3RlcFNpemUgPSBAZy56b29tZXIuZ2V0KFwic3RlcFNpemVcIilcbiAgICBoaWRkZW4gPSBAZy5jb2x1bW5zLmdldCBcImhpZGRlblwiXG5cbiAgICB3aGlsZSBuIDwgbk1heFxuICAgICAgaWYgaGlkZGVuLmluZGV4T2YobikgPj0gMFxuICAgICAgICBAbWFya2VySGlkZGVuKHNwYW4sbiwgc3RlcFNpemUpXG4gICAgICAgIG4gKz0gc3RlcFNpemVcbiAgICAgICAgY29udGludWVcbiAgICAgIHNwYW4gPSBkb2N1bWVudC5jcmVhdGVFbGVtZW50IFwic3BhblwiXG4gICAgICBzcGFuLnN0eWxlLndpZHRoID0gKGNlbGxXaWR0aCAqIHN0ZXBTaXplKSArIFwicHhcIlxuICAgICAgc3Bhbi5zdHlsZS5kaXNwbGF5ID0gXCJpbmxpbmUtYmxvY2tcIlxuICAgICAgIyBUT0RPOiB0aGlzIGRvZXNuJ3Qgd29yayBmb3IgYSBsYXJnZXIgc3RlcFNpemVcbiAgICAgIGlmIChuICsgMSkgJSBAZy56b29tZXIuZ2V0KCdtYXJrZXJTdGVwU2l6ZScpIGlzIDBcbiAgICAgICAgc3Bhbi50ZXh0Q29udGVudCA9IChuICsgMSlcbiAgICAgIGVsc2VcbiAgICAgICAgc3Bhbi50ZXh0Q29udGVudCA9IFwiLlwiXG4gICAgICBzcGFuLnJvd1BvcyA9IG5cblxuICAgICAgbiArPSBzdGVwU2l6ZVxuICAgICAgY29udGFpbmVyLmFwcGVuZENoaWxkIHNwYW5cblxuICAgIEBlbC5hcHBlbmRDaGlsZCBjb250YWluZXJcbiAgICBAXG5cbiAgbWFya2VySGlkZGVuOiAoc3BhbixuLHN0ZXBTaXplKSAtPlxuICAgIGhpZGRlbiA9IEBnLmNvbHVtbnMuZ2V0KFwiaGlkZGVuXCIpLnNsaWNlIDBcblxuICAgIG1pbiA9IE1hdGgubWF4IDAsIG4gLSBzdGVwU2l6ZVxuICAgIHByZXZIaWRkZW4gPSB0cnVlXG4gICAgZm9yIGogaW4gIFttaW4gLi4gbl0gYnkgMVxuICAgICAgcHJldkhpZGRlbiAmPSBoaWRkZW4uaW5kZXhPZihqKSA+PSAwXG5cbiAgICAjIGZpbHRlciBkdXBsaWNhdGVzXG4gICAgcmV0dXJuIGlmIHByZXZIaWRkZW5cblxuICAgIG5NYXggPSBAbW9kZWwuZ2V0TWF4TGVuZ3RoKClcblxuICAgIGxlbmd0aCA9IDBcbiAgICBpbmRleCA9IC0xXG4gICAgIyBhY2N1bWxhdGUgbXVsdGlwbGUgcm93c1xuICAgIGZvciBuIGluIFtuLi5uTWF4XSBieSAxXG4gICAgICBpbmRleCA9IGhpZGRlbi5pbmRleE9mKG4pIHVubGVzcyBpbmRleCA+PSAwIyBzZXRzIHRoZSBmaXJzdCBpbmRleFxuICAgICAgaWYgaGlkZGVuLmluZGV4T2YobikgPj0gMFxuICAgICAgICBsZW5ndGgrK1xuICAgICAgZWxzZVxuICAgICAgICBicmVha1xuXG4gICAgcyA9IHN2Zy5iYXNlIGhlaWdodDogMTAsIHdpZHRoOiAxMFxuICAgIHMuc3R5bGUucG9zaXRpb24gPSBcInJlbGF0aXZlXCJcbiAgICB0cmlhbmdsZSA9IHN2Zy5wb2x5Z29uIHBvaW50czogXCIwLDAgNSw1IDEwLDBcIiwgc3R5bGU6XG4gICAgICBcImZpbGw6bGltZTtzdHJva2U6cHVycGxlO3N0cm9rZS13aWR0aDoxXCJcbiAgICBqYm9uZSh0cmlhbmdsZSkub24gXCJjbGlja1wiLCAoZXZ0KSA9PlxuICAgICAgaGlkZGVuLnNwbGljZSBpbmRleCwgbGVuZ3RoXG4gICAgICBAZy5jb2x1bW5zLnNldCBcImhpZGRlblwiLCBoaWRkZW5cblxuICAgIHMuYXBwZW5kQ2hpbGQgdHJpYW5nbGVcbiAgICBzcGFuLmFwcGVuZENoaWxkIHNcbiAgICByZXR1cm4gc1xuXG4gIG1hbmFnZUV2ZW50czogLT5cbiAgICBldmVudHMgPSB7fVxuICAgIGlmIEBnLmNvbmZpZy5nZXQgXCJyZWdpc3Rlck1vdXNlQ2xpY2tzXCJcbiAgICAgIGV2ZW50cy5jbGljayA9IFwiX29uY2xpY2tcIlxuICAgIGlmIEBnLmNvbmZpZy5nZXQgXCJyZWdpc3Rlck1vdXNlSG92ZXJcIlxuICAgICAgZXZlbnRzLm1vdXNlaW4gPSBcIl9vbm1vdXNlaW5cIlxuICAgICAgZXZlbnRzLm1vdXNlb3V0ID0gXCJfb25tb3VzZW91dFwiXG4gICAgQGRlbGVnYXRlRXZlbnRzIGV2ZW50c1xuICAgIEBsaXN0ZW5UbyBAZy5jb25maWcsIFwiY2hhbmdlOnJlZ2lzdGVyTW91c2VIb3ZlclwiLCBAbWFuYWdlRXZlbnRzXG4gICAgQGxpc3RlblRvIEBnLmNvbmZpZywgXCJjaGFuZ2U6cmVnaXN0ZXJNb3VzZUNsaWNrXCIsIEBtYW5hZ2VFdmVudHNcblxuICBfb25jbGljazogKGV2dCkgLT5cbiAgICByb3dQb3MgPSBldnQudGFyZ2V0LnJvd1Bvc1xuICAgIHN0ZXBTaXplID0gQGcuem9vbWVyLmdldChcInN0ZXBTaXplXCIpXG4gICAgQGcudHJpZ2dlciBcImNvbHVtbjpjbGlja1wiLCB7cm93UG9zOiByb3dQb3Msc3RlcFNpemU6IHN0ZXBTaXplLCBldnQ6ZXZ0fVxuXG4gIF9vbm1vdXNlaW46IChldnQpIC0+XG4gICAgcm93UG9zID0gQGcuem9vbWVyLmdldCBcInN0ZXBTaXplXCIgKiBldnQucm93UG9zXG4gICAgc3RlcFNpemUgPSBAZy56b29tZXIuZ2V0KFwic3RlcFNpemVcIilcbiAgICBAZy50cmlnZ2VyIFwiY29sdW1uOm1vdXNlaW5cIiwge3Jvd1Bvczogcm93UG9zLHN0ZXBTaXplOiBzdGVwU2l6ZSwgZXZ0OmV2dH1cblxuICBfb25tb3VzZW91dDogKGV2dCkgLT5cbiAgICByb3dQb3MgPSBAZy56b29tZXIuZ2V0IFwic3RlcFNpemVcIiAqIGV2dC5yb3dQb3NcbiAgICBzdGVwU2l6ZSA9IEBnLnpvb21lci5nZXQoXCJzdGVwU2l6ZVwiKVxuICAgIEBnLnRyaWdnZXIgXCJjb2x1bW46bW91c2VvdXRcIiwge3Jvd1Bvczogcm93UG9zLHN0ZXBTaXplOiBzdGVwU2l6ZSwgZXZ0OmV2dH1cblxubW9kdWxlLmV4cG9ydHMgPSBIZWFkZXJWaWV3XG4iLCJNYXJrZXJWaWV3ID0gcmVxdWlyZSBcIi4vTWFya2VyVmlld1wiXG5Db25zZXJ2YXRpb25WaWV3ID0gcmVxdWlyZSBcIi4vQ29uc2VydmF0aW9uVmlld1wiXG5ib25lVmlldyA9IHJlcXVpcmUoXCJiYWNrYm9uZS1jaGlsZHNcIilcbl8gPSByZXF1aXJlICd1bmRlcnNjb3JlJ1xuU2VxTG9nb1dyYXBwZXIgPSByZXF1aXJlIFwiLi9TZXFMb2dvV3JhcHBlclwiXG5HYXBWaWV3ID0gcmVxdWlyZSBcIi4vR2FwVmlld1wiXG5cbm1vZHVsZS5leHBvcnRzID0gYm9uZVZpZXcuZXh0ZW5kXG5cbiAgaW5pdGlhbGl6ZTogKGRhdGEpIC0+XG4gICAgQGcgPSBkYXRhLmdcbiAgICBAYmxvY2tFdmVudHMgPSBmYWxzZVxuXG4gICAgQGxpc3RlblRvIEBnLnZpcyxcImNoYW5nZTpoZWFkZXJcIiwgLT5cbiAgICAgIEBkcmF3KClcbiAgICAgIEByZW5kZXIoKVxuICAgIEBsaXN0ZW5UbyBAZy52aXMsXCJjaGFuZ2VcIiwgQF9zZXRTcGFjZXJcbiAgICBAbGlzdGVuVG8gQGcuem9vbWVyLFwiY2hhbmdlOmFsaWdubWVudFdpZHRoXCIsIEBfc2V0V2lkdGhcbiAgICBAbGlzdGVuVG8gQGcuem9vbWVyLCBcImNoYW5nZTpfYWxpZ25tZW50U2Nyb2xsTGVmdFwiLCBAX2FkanVzdFNjcm9sbGluZ0xlZnRcblxuICAgICMgVE9ETzogZHVwbGljYXRlIHJlbmRlcmluZ1xuICAgIEBsaXN0ZW5UbyBAZy5jb2x1bW5zLCBcImNoYW5nZTpoaWRkZW5cIiwgLT5cbiAgICAgIEBkcmF3KClcbiAgICAgIEByZW5kZXIoKVxuXG4gICAgQGRyYXcoKVxuXG4gICAgQGcudmlzLm9uY2UgJ2NoYW5nZTpsb2FkZWQnLCBAX2FkanVzdFNjcm9sbGluZ0xlZnQsIEBcblxuICBldmVudHM6XG4gICAgXCJzY3JvbGxcIjogXCJfc2VuZFNjcm9sbEV2ZW50XCJcblxuICBkcmF3OiAtPlxuICAgIEByZW1vdmVWaWV3cygpXG5cbiAgICBpZiBAZy52aXMuZ2V0IFwiY29uc2VydlwiXG4gICAgICBjb25zZXJ2ID0gbmV3IENvbnNlcnZhdGlvblZpZXcge21vZGVsOiBAbW9kZWwsIGc6IEBnfVxuICAgICAgY29uc2Vydi5vcmRlcmluZyA9IC0yMFxuICAgICAgQGFkZFZpZXcgXCJjb25zZXJ2XCIsY29uc2VydlxuXG4gICAgaWYgQGcudmlzLmdldCBcIm1hcmtlcnNcIlxuICAgICAgbWFya2VyID0gbmV3IE1hcmtlclZpZXcge21vZGVsOiBAbW9kZWwsIGc6IEBnfVxuICAgICAgbWFya2VyLm9yZGVyaW5nID0gLTEwXG4gICAgICBAYWRkVmlldyBcIm1hcmtlclwiLG1hcmtlclxuXG4gICAgaWYgQGcudmlzLmdldCBcInNlcWxvZ29cIlxuICAgICAgc2VxbG9nbyA9IG5ldyBTZXFMb2dvV3JhcHBlciB7bW9kZWw6IEBtb2RlbCwgZzogQGd9XG4gICAgICBzZXFsb2dvLm9yZGVyaW5nID0gLTMwXG4gICAgICBAYWRkVmlldyBcInNlcWxvZ29cIixzZXFsb2dvXG5cbiAgICBpZiBAZy52aXMuZ2V0IFwiZ2FwSGVhZGVyXCJcbiAgICAgIGdhcHZpZXcgPSBuZXcgR2FwVmlldyB7bW9kZWw6IEBtb2RlbCwgZzogQGd9XG4gICAgICBnYXB2aWV3Lm9yZGVyaW5nID0gLTI1XG4gICAgICBAYWRkVmlldyBcImdhcHZpZXdcIixnYXB2aWV3XG5cbiAgcmVuZGVyOiAtPlxuICAgIEByZW5kZXJTdWJ2aWV3cygpXG5cbiAgICBAX3NldFNwYWNlcigpXG5cbiAgICBAZWwuY2xhc3NOYW1lID0gXCJiaW9qc19tc2FfcmhlYWRlclwiXG4gICAgQGVsLnN0eWxlLm92ZXJmbG93WCA9IFwiYXV0b1wiXG4gICAgQGVsLnN0eWxlLmRpc3BsYXkgPSBcImlubGluZS1ibG9ja1wiXG4gICAgI0BlbC5zdHlsZS5oZWlnaHQgPSBAZy56b29tZXIuZ2V0KFwibWFya2VySGVpZ2h0XCIpICsgXCJweFwiXG4gICAgQF9zZXRXaWR0aCgpXG4gICAgQF9hZGp1c3RTY3JvbGxpbmdMZWZ0KClcbiAgICBAXG5cbiAgIyBzY3JvbGxMZWZ0IHRyaWdnZXJzIGEgcmVmbG93IG9mIHRoZSB3aG9sZSBhcmVhIChldmVuIG9ubHkgZ2V0KVxuICBfc2VuZFNjcm9sbEV2ZW50OiAtPlxuICAgIHVubGVzcyBAYmxvY2tFdmVudHNcbiAgICAgIEBnLnpvb21lci5zZXQgXCJfYWxpZ25tZW50U2Nyb2xsTGVmdFwiLCBAZWwuc2Nyb2xsTGVmdCwge29yaWdpbjogXCJoZWFkZXJcIn1cbiAgICBAYmxvY2tFdmVudHMgPSBmYWxzZVxuXG4gIF9hZGp1c3RTY3JvbGxpbmdMZWZ0OiAobW9kZWwsdmFsdWUsb3B0aW9ucykgLT5cbiAgICBpZiAobm90IG9wdGlvbnM/Lm9yaWdpbj8pIG9yIG9wdGlvbnMub3JpZ2luIGlzbnQgXCJoZWFkZXJcIlxuICAgICAgc2Nyb2xsTGVmdCA9IEBnLnpvb21lci5nZXQgXCJfYWxpZ25tZW50U2Nyb2xsTGVmdFwiXG4gICAgICBAYmxvY2tFdmVudHMgPSB0cnVlXG4gICAgICBAZWwuc2Nyb2xsTGVmdCA9IHNjcm9sbExlZnRcblxuICBfc2V0U3BhY2VyOiAtPlxuICAgICMgc3BhY2VyIC8gcGFkZGluZyBlbGVtZW50XG4gICAgQGVsLnN0eWxlLm1hcmdpbkxlZnQgPSBAX2dldExhYmVsV2lkdGgoKSArIFwicHhcIlxuXG4gIF9nZXRMYWJlbFdpZHRoOiAtPlxuICAgIHBhZGRpbmdMZWZ0ID0gMFxuICAgIHVubGVzcyBAZy52aXMuZ2V0IFwibGVmdEhlYWRlclwiXG4gICAgICBwYWRkaW5nTGVmdCArPSBAZy56b29tZXIuZ2V0TGVmdEJsb2NrV2lkdGgoKVxuICAgIHJldHVybiBwYWRkaW5nTGVmdFxuXG4gIF9zZXRXaWR0aDogLT5cbiAgICBAZWwuc3R5bGUud2lkdGggPSBAZy56b29tZXIuZ2V0QWxpZ25tZW50V2lkdGgoKSArIFwicHhcIlxuIiwiU2VxTG9nb1ZpZXcgPSByZXF1aXJlIFwiYmlvanMtdmlzLXNlcWxvZ28vbGlnaHRcIlxudmlldyA9IHJlcXVpcmUoXCJiYWNrYm9uZS12aWV3alwiKVxuXG4jIHRoaXMgaXMgYSBicmlkZ2UgYmV0d2VlbiB0aGUgTVNBIGFuZCB0aGUgc2VxbG9nbyB2aWV3ZXJcbm1vZHVsZS5leHBvcnRzID0gdmlldy5leHRlbmRcblxuICBpbml0aWFsaXplOiAoZGF0YSkgLT5cbiAgICBAZyA9IGRhdGEuZ1xuICAgIEBsaXN0ZW5UbyBAZy56b29tZXIsXCJjaGFuZ2U6YWxpZ25tZW50V2lkdGhcIiwgQHJlbmRlclxuICAgIEBsaXN0ZW5UbyBAZy5jb2xvcnNjaGVtZSwgXCJjaGFuZ2VcIiwgLT5cbiAgICAgIGNvbG9ycyA9IEBnLmNvbG9yc2NoZW1lLmdldFNlbGVjdGVkU2NoZW1lKClcbiAgICAgIEBzZXFsb2dvLmNoYW5nZUNvbG9ycyBjb2xvcnNcbiAgICAgIEByZW5kZXIoKVxuXG4gICAgQGxpc3RlblRvIEBnLnpvb21lcixcImNoYW5nZTpjb2x1bW5XaWR0aFwiLCAtPlxuICAgICAgICBAc2VxbG9nby5jb2x1bW5fd2lkdGggPSBAZy56b29tZXIuZ2V0KCdjb2x1bW5XaWR0aCcpXG4gICAgICBAcmVuZGVyXG5cbiAgICAjQGxpc3RlblRvIEBnLnpvb21lcixcImNoYW5nZTpjb2x1bW5XaWR0aCBjaGFuZ2U6cm93SGVpZ2h0XCIsIC0+XG5cbiAgICBAZHJhdygpXG5cblxuICBkcmF3OiAtPlxuICAgIGNvbnNvbGUubG9nIFwicmVkcmF3XCJcbiAgICBhcnIgPSBAZy5zdGF0cy5jb25zZXJ2UmVzaWR1ZSB7c2NhbGVkOiB0cnVlfVxuICAgIGFyciA9IF8ubWFwIGFyciwgKGVsKSAtPlxuICAgICAgXy5waWNrIGVsLCAoZSxrKSAtPlxuICAgICAgICBrIGlzbnQgXCItXCJcbiAgICBkYXRhID1cbiAgICAgIGFscGhhYmV0OiBcImFhXCJcbiAgICAgIGhlaWdodEFycjogYXJyXG5cbiAgICBjb2xvcnMgPSBAZy5jb2xvcnNjaGVtZS5nZXRTZWxlY3RlZFNjaGVtZSgpXG4gICAgIyBUT0RPOiBzZXFsb2dvIG1pZ2h0IGhhdmUgcHJvYmxlbXMgd2l0aCB0cnVlIGR5bmFtaWMgc2NoZW1lc1xuICAgIEBzZXFsb2dvID0gbmV3IFNlcUxvZ29WaWV3IHttb2RlbDogQG1vZGVsLCBnOiBAZywgZGF0YTogZGF0YSwgeWF4aXM6ZmFsc2VcbiAgICAgICAgLHNjcm9sbGVyOiBmYWxzZSx4YXhpczogZmFsc2UsIGhlaWdodDogMTAwLCBjb2x1bW5fd2lkdGg6IEBnLnpvb21lci5nZXQoJ2NvbHVtbldpZHRoJylcbiAgICAgICAgLHBvc2l0aW9uTWFya2VyOiBmYWxzZSwgem9vbTogMSwgZWw6IEBlbCxjb2xvcnM6IGNvbG9yc31cblxuICByZW5kZXI6IC0+XG4gICAgQHNlcWxvZ28ucmVuZGVyKClcbiIsIkxhYmVsUm93VmlldyA9IHJlcXVpcmUgXCIuL0xhYmVsUm93Vmlld1wiXG5ib25lVmlldyA9IHJlcXVpcmUoXCJiYWNrYm9uZS1jaGlsZHNcIilcblxubW9kdWxlLmV4cG9ydHMgPSBib25lVmlldy5leHRlbmRcblxuICBpbml0aWFsaXplOiAoZGF0YSkgLT5cbiAgICBAZyA9IGRhdGEuZ1xuICAgIEBkcmF3KClcbiAgICBAbGlzdGVuVG8gQGcuem9vbWVyLCBcImNoYW5nZTpfYWxpZ25tZW50U2Nyb2xsVG9wXCIsIEBfYWRqdXN0U2Nyb2xsaW5nVG9wXG4gICAgQGcudmlzLm9uY2UgJ2NoYW5nZTpsb2FkZWQnLCBAX2FkanVzdFNjcm9sbGluZ1RvcCAsIEBcblxuICAgIEBsaXN0ZW5UbyBAZy56b29tZXIsXCJjaGFuZ2U6YWxpZ25tZW50SGVpZ2h0XCIsIEBfc2V0SGVpZ2h0XG4gICAgQGxpc3RlblRvIEBtb2RlbCxcImNoYW5nZTpyZWZlcmVuY2VcIiwgQGRyYXdcblxuICBkcmF3OiAtPlxuICAgIEByZW1vdmVWaWV3cygpXG4gICAgZm9yIGkgaW4gWzAuLiBAbW9kZWwubGVuZ3RoIC0gMV0gYnkgMVxuICAgICAgY29udGludWUgaWYgQG1vZGVsLmF0KGkpLmdldCgnaGlkZGVuJylcbiAgICAgIHZpZXcgPSBuZXcgTGFiZWxSb3dWaWV3IHttb2RlbDogQG1vZGVsLmF0KGkpLCBnOiBAZ31cbiAgICAgIHZpZXcub3JkZXJpbmcgPSBpXG4gICAgICBAYWRkVmlldyBcInJvd18je2l9XCIsIHZpZXdcblxuICBldmVudHM6XG4gICAgXCJzY3JvbGxcIjogXCJfc2VuZFNjcm9sbEV2ZW50XCJcblxuICAjIGJyb2FkY2FzdCB0aGUgc2Nyb2xsaW5nIGV2ZW50IChieSB0aGUgc2Nyb2xsYmFyKVxuICBfc2VuZFNjcm9sbEV2ZW50OiAtPlxuICAgIEBnLnpvb21lci5zZXQgXCJfYWxpZ25tZW50U2Nyb2xsVG9wXCIsIEBlbC5zY3JvbGxUb3AsIHtvcmlnaW46IFwibGFiZWxcIn1cblxuICAjIHNldHMgdGhlIHNjcm9sbGluZyBwcm9wZXJ0eSAoZnJvbSBhbm90aGVyIGV2ZW50IGUuZy4gZHJhZ2dpbmcpXG4gIF9hZGp1c3RTY3JvbGxpbmdUb3A6IC0+XG4gICAgQGVsLnNjcm9sbFRvcCA9ICBAZy56b29tZXIuZ2V0IFwiX2FsaWdubWVudFNjcm9sbFRvcFwiXG5cbiAgcmVuZGVyOiAtPlxuICAgIEByZW5kZXJTdWJ2aWV3cygpXG4gICAgQGVsLmNsYXNzTmFtZSA9IFwiYmlvanNfbXNhX2xhYmVsYmxvY2tcIlxuICAgIEBlbC5zdHlsZS5kaXNwbGF5ID0gXCJpbmxpbmUtYmxvY2tcIlxuICAgIEBlbC5zdHlsZS52ZXJ0aWNhbEFsaWduID0gXCJ0b3BcIlxuICAgIEBlbC5zdHlsZS5vdmVyZmxvd1kgPSBcImF1dG9cIlxuICAgIEBlbC5zdHlsZS5vdmVyZmxvd1ggPSBcImhpZGRlblwiXG4gICAgQGVsLnN0eWxlLmZvbnRTaXplID0gXCIje0BnLnpvb21lci5nZXQoJ2xhYmVsRm9udHNpemUnKX1weFwiXG4gICAgQGVsLnN0eWxlLmxpbmVIZWlnaHQgPSBcIiN7QGcuem9vbWVyLmdldCBcImxhYmVsTGluZUhlaWdodFwifVwiXG4gICAgQF9zZXRIZWlnaHQoKVxuICAgIEBcblxuXG4gIF9zZXRIZWlnaHQ6IC0+XG4gICAgQGVsLnN0eWxlLmhlaWdodCA9IEBnLnpvb21lci5nZXQoXCJhbGlnbm1lbnRIZWlnaHRcIikgKyBcInB4XCJcbiIsImJvbmVWaWV3ID0gcmVxdWlyZShcImJhY2tib25lLWNoaWxkc1wiKVxuTGFiZWxWaWV3ID0gcmVxdWlyZShcIi4vTGFiZWxWaWV3XCIpXG5NZXRhVmlldyA9IHJlcXVpcmUoXCIuL01ldGFWaWV3XCIpXG5cbm1vZHVsZS5leHBvcnRzID0gYm9uZVZpZXcuZXh0ZW5kXG5cbiAgaW5pdGlhbGl6ZTogKGRhdGEpIC0+XG4gICAgQGcgPSBkYXRhLmdcbiAgICBAZHJhdygpXG5cbiAgICBAbGlzdGVuVG8gQGcudmlzLFwiY2hhbmdlOmxhYmVsc1wiLCBAZHJhd1JcbiAgICBAbGlzdGVuVG8gQGcudmlzLFwiY2hhbmdlOm1ldGFjZWxsXCIsIEBkcmF3UlxuICAgIEBsaXN0ZW5UbyBAZy56b29tZXIsIFwiY2hhbmdlOnJvd0hlaWdodFwiLCAtPlxuICAgICAgQGVsLnN0eWxlLmhlaWdodCA9IEBnLnpvb21lci5nZXQoXCJyb3dIZWlnaHRcIikgKyBcInB4XCJcblxuICAgIEBsaXN0ZW5UbyBAZy5zZWxjb2wsXCJjaGFuZ2UgcmVzZXQgYWRkXCIsIEBzZXRTZWxlY3Rpb25cblxuICBkcmF3OiAtPlxuICAgIEByZW1vdmVWaWV3cygpXG4gICAgaWYgQGcudmlzLmdldCBcImxhYmVsc1wiXG4gICAgICBAYWRkVmlldyBcImxhYmVsc1wiLCBuZXcgTGFiZWxWaWV3IHttb2RlbDogQG1vZGVsLCBnOkBnfVxuICAgIGlmIEBnLnZpcy5nZXQgXCJtZXRhY2VsbFwiXG4gICAgICBtZXRhID0gbmV3IE1ldGFWaWV3IHttb2RlbDogQG1vZGVsLCBnOkBnfVxuICAgICAgQGFkZFZpZXcgXCJtZXRhY2VsbFwiLCBtZXRhXG5cbiAgZHJhd1I6IC0+XG4gICAgQGRyYXcoKVxuICAgIEByZW5kZXIoKVxuXG4gIHJlbmRlcjogLT5cbiAgICBAcmVuZGVyU3Vidmlld3MoKVxuXG4gICAgQGVsLnNldEF0dHJpYnV0ZSBcImNsYXNzXCIsIFwiYmlvanNfbXNhX2xhYmVscm93XCJcbiAgICBAZWwuc3R5bGUuaGVpZ2h0ID0gQGcuem9vbWVyLmdldChcInJvd0hlaWdodFwiKSAqIChAbW9kZWwuYXR0cmlidXRlcy5oZWlnaHQgfHwgMSkgKyBcInB4XCJcblxuICAgIEBzZXRTZWxlY3Rpb24oKVxuICAgIEBcblxuICBzZXRTZWxlY3Rpb246IC0+XG4gICAgc2VsID0gQGcuc2VsY29sLmdldFNlbEZvclJvdyBAbW9kZWwuaWRcbiAgICBpZiBzZWwubGVuZ3RoID4gMFxuICAgICAgQGVsLnN0eWxlLmZvbnRXZWlnaHQgPSBcImJvbGRcIlxuICAgIGVsc2VcbiAgICAgIEBlbC5zdHlsZS5mb250V2VpZ2h0ID0gXCJub3JtYWxcIlxuIiwidmlldyA9IHJlcXVpcmUoXCJiYWNrYm9uZS12aWV3alwiKVxuZG9tID0gcmVxdWlyZSBcImRvbS1oZWxwZXJcIlxuXG5MYWJlbFZpZXcgPSB2aWV3LmV4dGVuZFxuXG4gIGluaXRpYWxpemU6IChkYXRhKSAtPlxuICAgIEBzZXEgPSBkYXRhLnNlcVxuICAgIEBnID0gZGF0YS5nXG5cbiAgICBAbWFuYWdlRXZlbnRzKClcblxuICBtYW5hZ2VFdmVudHM6IC0+XG4gICAgZXZlbnRzID0ge31cbiAgICBpZiBAZy5jb25maWcuZ2V0IFwicmVnaXN0ZXJNb3VzZUNsaWNrc1wiXG4gICAgICBldmVudHMuY2xpY2sgPSBcIl9vbmNsaWNrXCJcbiAgICBpZiBAZy5jb25maWcuZ2V0IFwicmVnaXN0ZXJNb3VzZUhvdmVyXCJcbiAgICAgIGV2ZW50cy5tb3VzZWluID0gXCJfb25tb3VzZWluXCJcbiAgICAgIGV2ZW50cy5tb3VzZW91dCA9IFwiX29ubW91c2VvdXRcIlxuICAgIEBkZWxlZ2F0ZUV2ZW50cyBldmVudHNcbiAgICBAbGlzdGVuVG8gQGcuY29uZmlnLCBcImNoYW5nZTpyZWdpc3Rlck1vdXNlSG92ZXJcIiwgQG1hbmFnZUV2ZW50c1xuICAgIEBsaXN0ZW5UbyBAZy5jb25maWcsIFwiY2hhbmdlOnJlZ2lzdGVyTW91c2VDbGlja1wiLCBAbWFuYWdlRXZlbnRzXG4gICAgQGxpc3RlblRvIEBnLnZpcywgXCJjaGFuZ2U6bGFiZWxOYW1lIGNoYW5nZTpsYWJlbElkIGNoYW5nZTpsYWJlbFBhcnRpdGlvbiBjaGFuZ2U6bGFiZWxDaGVja2JveFwiLCBAcmVuZGVyXG4gICAgQGxpc3RlblRvIEBnLnpvb21lciwgXCJjaGFuZ2U6bGFiZWxJZExlbmd0aCBjaGFuZ2U6bGFiZWxOYW1lTGVuZ3RoXG4gICAgY2hhbmdlOmxhYmVsUGFydExlbmd0aCBjaGFuZ2U6bGFiZWxDaGVja0xlbmd0aFwiLCBAcmVuZGVyXG4gICAgQGxpc3RlblRvIEBnLnpvb21lciwgXCJjaGFuZ2U6bGFiZWxGb250U2l6ZSBjaGFuZ2U6bGFiZWxMaW5lSGVpZ2h0XG4gICAgY2hhbmdlOmxhYmVsV2lkdGggY2hhbmdlOnJvd0hlaWdodFwiLCBAcmVuZGVyXG5cbiAgcmVuZGVyOiAtPlxuICAgIGRvbS5yZW1vdmVBbGxDaGlsZHMgQGVsXG5cbiAgICBAZWwuc3R5bGUud2lkdGggPSBcIiN7QGcuem9vbWVyLmdldExhYmVsV2lkdGgoKX1weFwiXG4gICAgI0BlbC5zdHlsZS5oZWlnaHQgPSBcIiN7QGcuem9vbWVyLmdldCBcInJvd0hlaWdodFwifXB4XCJcbiAgICBAZWwuc2V0QXR0cmlidXRlIFwiY2xhc3NcIiwgXCJiaW9qc19tc2FfbGFiZWxzXCJcblxuICAgIGlmIEAuZy52aXMuZ2V0IFwibGFiZWxDaGVja2JveFwiXG4gICAgICBjaGVja0JveCA9IGRvY3VtZW50LmNyZWF0ZUVsZW1lbnQgXCJpbnB1dFwiXG4gICAgICBjaGVja0JveC5zZXRBdHRyaWJ1dGUgXCJ0eXBlXCIsIFwiY2hlY2tib3hcIlxuICAgICAgY2hlY2tCb3gudmFsdWUgPSBAbW9kZWwuZ2V0KCdpZCcpXG4gICAgICBjaGVja0JveC5uYW1lID0gXCJzZXFcIlxuICAgICAgY2hlY2tCb3guc3R5bGUud2lkdGg9IEBnLnpvb21lci5nZXQoXCJsYWJlbENoZWNrTGVuZ3RoXCIpICsgXCJweFwiXG4gICAgICBAZWwuYXBwZW5kQ2hpbGQgY2hlY2tCb3hcblxuICAgIGlmIEAuZy52aXMuZ2V0IFwibGFiZWxJZFwiXG4gICAgICBpZCA9IGRvY3VtZW50LmNyZWF0ZUVsZW1lbnQgXCJzcGFuXCJcbiAgICAgIHZhbCAgPSBAbW9kZWwuZ2V0IFwiaWRcIlxuICAgICAgdW5sZXNzIGlzTmFOIHZhbFxuICAgICAgICB2YWwrK1xuICAgICAgaWQudGV4dENvbnRlbnQgPSB2YWxcbiAgICAgIGlkLnN0eWxlLndpZHRoID0gQGcuem9vbWVyLmdldChcImxhYmVsSWRMZW5ndGhcIikgKyBcInB4XCJcbiAgICAgIGlkLnN0eWxlLmRpc3BsYXkgPSBcImlubGluZS1ibG9ja1wiXG4gICAgICBAZWwuYXBwZW5kQ2hpbGQgaWRcblxuICAgIGlmIEAuZy52aXMuZ2V0IFwibGFiZWxQYXJ0aXRpb25cIlxuICAgICAgcGFydCA9IGRvY3VtZW50LmNyZWF0ZUVsZW1lbnQgXCJzcGFuXCJcbiAgICAgIHBhcnQuc3R5bGUud2lkdGg9IEBnLnpvb21lci5nZXQoXCJsYWJlbFBhcnRMZW5ndGhcIikgKyBcInB4XCJcbiAgICAgIHBhcnQudGV4dENvbnRlbnQgPSBAbW9kZWwuZ2V0KFwicGFydGl0aW9uXCIpXG4gICAgICBwYXJ0LnN0eWxlLmRpc3BsYXkgPSBcImlubGluZS1ibG9ja1wiXG4gICAgICBAZWwuYXBwZW5kQ2hpbGQgaWRcbiAgICAgIEBlbC5hcHBlbmRDaGlsZCBwYXJ0XG5cbiAgICBpZiBALmcudmlzLmdldCBcImxhYmVsTmFtZVwiXG4gICAgICBuYW1lID0gZG9jdW1lbnQuY3JlYXRlRWxlbWVudCBcInNwYW5cIlxuICAgICAgbmFtZS50ZXh0Q29udGVudCA9IEBtb2RlbC5nZXQoXCJuYW1lXCIpXG4gICAgICBpZiBAbW9kZWwuZ2V0KFwicmVmXCIpIGFuZCBAZy5jb25maWcuZ2V0IFwiaGFzUmVmXCJcbiAgICAgICAgbmFtZS5zdHlsZS5mb250V2VpZ2h0ID0gXCJib2xkXCJcbiAgICAgIG5hbWUuc3R5bGUud2lkdGg9IEBnLnpvb21lci5nZXQoXCJsYWJlbE5hbWVMZW5ndGhcIikgKyBcInB4XCJcbiAgICAgIEBlbC5hcHBlbmRDaGlsZCBuYW1lXG5cbiAgICBAZWwuc3R5bGUub3ZlcmZsb3cgPSBzY3JvbGxcbiAgICBAZWwuc3R5bGUuZm9udFNpemUgPSBcIiN7QGcuem9vbWVyLmdldCgnbGFiZWxGb250c2l6ZScpfXB4XCJcbiAgICBAXG5cbiAgX29uY2xpY2s6IChldnQpIC0+XG4gICAgc2VxSWQgPSBAbW9kZWwuZ2V0IFwiaWRcIlxuICAgIEBnLnRyaWdnZXIgXCJyb3c6Y2xpY2tcIiwge3NlcUlkOnNlcUlkLCBldnQ6ZXZ0fVxuXG4gIF9vbm1vdXNlaW46IChldnQpIC0+XG4gICAgc2VxSWQgPSBAbW9kZWwuZ2V0IFwiaWRcIlxuICAgIEBnLnRyaWdnZXIgXCJyb3c6bW91c2VvdXRcIiwge3NlcUlkOnNlcUlkLCBldnQ6ZXZ0fVxuXG4gIF9vbm1vdXNlb3V0OiAoZXZ0KSAtPlxuICAgIHNlcUlkID0gQG1vZGVsLmdldCBcImlkXCJcbiAgICBAZy50cmlnZ2VyIFwicm93Om1vdXNlb3V0XCIsIHtzZXFJZDpzZXFJZCwgZXZ0OmV2dH1cblxubW9kdWxlLmV4cG9ydHMgPSBMYWJlbFZpZXdcbiIsInZpZXcgPSByZXF1aXJlKFwiYmFja2JvbmUtdmlld2pcIilcbk1lbnVCdWlsZGVyID0gcmVxdWlyZSBcIi4uLy4uL21lbnUvbWVudWJ1aWxkZXJcIlxuXyA9IHJlcXVpcmUgJ3VuZGVyc2NvcmUnXG5kb20gPSByZXF1aXJlIFwiZG9tLWhlbHBlclwiXG5zdCA9IHJlcXVpcmUgXCJtc2Etc2VxdG9vbHNcIlxuXG5tb2R1bGUuZXhwb3J0cyA9IE1ldGFWaWV3ID0gdmlldy5leHRlbmRcblxuICBjbGFzc05hbWU6IFwiYmlvanNfbXNhX21ldGF2aWV3XCJcblxuICBpbml0aWFsaXplOiAoZGF0YSkgLT5cbiAgICBAZyA9IGRhdGEuZ1xuICAgIEBsaXN0ZW5UbyBAZy52aXMsIFwiY2hhbmdlOm1ldGFjZWxsXCIsIEByZW5kZXJcbiAgICBAbGlzdGVuVG8gQGcuem9vbWVyLCBcImNoYW5nZTptZXRhV2lkdGhcIiwgQHJlbmRlclxuXG4gIGV2ZW50czpcbiAgICBjbGljazogXCJfb25jbGlja1wiXG4gICAgbW91c2VpbjogXCJfb25tb3VzZWluXCJcbiAgICBtb3VzZW91dDogXCJfb25tb3VzZW91dFwiXG5cbiAgcmVuZGVyOiAtPlxuICAgIGRvbS5yZW1vdmVBbGxDaGlsZHMgQGVsXG5cbiAgICBAZWwuc3R5bGUuZGlzcGxheSA9IFwiaW5saW5lLWJsb2NrXCJcblxuICAgIHdpZHRoID0gQGcuem9vbWVyLmdldE1ldGFXaWR0aCgpXG4gICAgQGVsLnN0eWxlLndpZHRoID0gd2lkdGggLSAxMFxuICAgIEBlbC5zdHlsZS5wYWRkaW5nUmlnaHQgPSA1XG4gICAgQGVsLnN0eWxlLnBhZGRpbmdMZWZ0ID0gNVxuICAgICMgVE9ETzogd2h5IGRvIHdlIG5lZWQgdG8gZGVjcmVhc2UgdGhlIGZvbnQgc2l6ZT9cbiAgICAjIG90aGVyd2lzZSB3ZSBzZWUgYSBzY3JvbGxiYXJcbiAgICBAZWwuc3R5bGUuZm9udFNpemUgPSBcIiN7QGcuem9vbWVyLmdldCgnbGFiZWxGb250c2l6ZScpIC0gMn1weFwiXG5cbiAgICBpZiBALmcudmlzLmdldCBcIm1ldGFHYXBzXCJcbiAgICAgICMgYWRkcyBnYXBzXG4gICAgICBzZXEgPSBAbW9kZWwuZ2V0KCdzZXEnKVxuICAgICAgZ2FwcyA9IF8ucmVkdWNlIHNlcSwgKChtZW1vLCBjKSAtPiBtZW1vKysgaWYgYyBpcyAnLSc7bWVtbyksMFxuICAgICAgZ2FwcyA9IChnYXBzIC8gc2VxLmxlbmd0aCkudG9GaXhlZCgxKVxuXG4gICAgICAjIGFwcGVuZCBnYXAgY291bnRcbiAgICAgIGdhcFNwYW4gPSBkb2N1bWVudC5jcmVhdGVFbGVtZW50ICdzcGFuJ1xuICAgICAgZ2FwU3Bhbi50ZXh0Q29udGVudCA9IGdhcHNcbiAgICAgIGdhcFNwYW4uc3R5bGUuZGlzcGxheSA9IFwiaW5saW5lLWJsb2NrXCJcbiAgICAgIGdhcFNwYW4uc3R5bGUud2lkdGggPSAzNVxuICAgICAgQGVsLmFwcGVuZENoaWxkIGdhcFNwYW5cblxuXG4gICAgaWYgQC5nLnZpcy5nZXQgXCJtZXRhSWRlbnRpdHlcIlxuICAgICAgIyBpZGVudGl0eVxuICAgICAgIyBUT0RPOiB0aGVyZSBtdXN0IGJlIGEgYmV0dGVyIHdheSB0byBwYXNzIHRoZSBpZFxuICAgICAgaWRlbnQgPSBAZy5zdGF0cy5pZGVudGl0eSgpW0Btb2RlbC5pZF1cbiAgICAgIGlkZW50U3BhbiA9IGRvY3VtZW50LmNyZWF0ZUVsZW1lbnQgJ3NwYW4nXG5cbiAgICAgIGlmIEBtb2RlbC5nZXQoXCJyZWZcIikgYW5kIEBnLmNvbmZpZy5nZXQgXCJoYXNSZWZcIlxuICAgICAgICBpZGVudFNwYW4udGV4dENvbnRlbnQgPSBcInJlZi5cIlxuICAgICAgZWxzZSBpZiBpZGVudD9cbiAgICAgICAgaWRlbnRTcGFuLnRleHRDb250ZW50ID0gaWRlbnQudG9GaXhlZCgyKVxuXG4gICAgICBpZGVudFNwYW4uc3R5bGUuZGlzcGxheSA9IFwiaW5saW5lLWJsb2NrXCJcbiAgICAgIGlkZW50U3Bhbi5zdHlsZS53aWR0aCA9IDQwXG4gICAgICBAZWwuYXBwZW5kQ2hpbGQgaWRlbnRTcGFuXG5cbiAgICBpZiBALmcudmlzLmdldCBcIm1ldGFMaW5rc1wiXG4gICAgICAjIFRPRE86IHRoaXMgbWVudSBidWlsZGVyIGlzIGp1c3QgYW4gZXhhbXBsZSBob3cgb25lIGNvdWxkIGN1c3RvbWl6ZSB0aGlzXG4gICAgICAjIHZpZXdcbiAgICAgIGlmIEBtb2RlbC5hdHRyaWJ1dGVzLmlkc1xuICAgICAgICBsaW5rcyA9IHN0LmJ1aWxkTGlua3MgQG1vZGVsLmF0dHJpYnV0ZXMuaWRzXG4gICAgICAgIGlmIF8ua2V5cyhsaW5rcykubGVuZ3RoID4gMFxuICAgICAgICAgIG1lbnUgPSBuZXcgTWVudUJ1aWxkZXIoe25hbWU6IFwi4oaXXCJ9KVxuICAgICAgICAgIGNvbnNvbGUubG9nIF8ua2V5cyhsaW5rcylcbiAgICAgICAgICBfLmVhY2ggbGlua3MsICh2YWwsIGtleSkgLT5cbiAgICAgICAgICAgIG1lbnUuYWRkTm9kZSBrZXksKGUpIC0+XG4gICAgICAgICAgICAgIHdpbmRvdy5vcGVuIHZhbFxuXG4gICAgICAgICAgbGlua0VsID0gbWVudS5idWlsZERPTSgpXG4gICAgICAgICAgbGlua0VsLnN0eWxlLmN1cnNvciA9IFwicG9pbnRlclwiXG4gICAgICAgICAgQGVsLmFwcGVuZENoaWxkIGxpbmtFbFxuXG5cbiAgICAjQGVsLnN0eWxlLmhlaWdodCA9IFwiI3tAZy56b29tZXIuZ2V0IFwicm93SGVpZ2h0XCJ9cHhcIlxuXG4gIF9vbmNsaWNrOiAoZXZ0KSAtPlxuICAgIEBnLnRyaWdnZXIgXCJtZXRhOmNsaWNrXCIsIHtzZXFJZDogQG1vZGVsLmdldCBcImlkXCIsIGV2dDpldnR9XG5cbiAgX29ubW91c2VpbjogKGV2dCkgLT5cbiAgICBAZy50cmlnZ2VyIFwibWV0YTptb3VzZWluXCIsIHtzZXFJZDogQG1vZGVsLmdldCBcImlkXCIsIGV2dDpldnR9XG5cbiAgX29ubW91c2VvdXQ6IChldnQpIC0+XG4gICAgQGcudHJpZ2dlciBcIm1ldGE6bW91c2VvdXRcIiwge3NlcUlkOiBAbW9kZWwuZ2V0IFwiaWRcIiwgZXZ0OmV2dH1cbiIsIi8vIEdlbmVyYXRlZCBieSBDb2ZmZWVTY3JpcHQgMS44LjBcbnZhciBDbHVzdGFsLCBHZW5lcmljUmVhZGVyLCBzdCxcbiAgX19oYXNQcm9wID0ge30uaGFzT3duUHJvcGVydHksXG4gIF9fZXh0ZW5kcyA9IGZ1bmN0aW9uKGNoaWxkLCBwYXJlbnQpIHsgZm9yICh2YXIga2V5IGluIHBhcmVudCkgeyBpZiAoX19oYXNQcm9wLmNhbGwocGFyZW50LCBrZXkpKSBjaGlsZFtrZXldID0gcGFyZW50W2tleV07IH0gZnVuY3Rpb24gY3RvcigpIHsgdGhpcy5jb25zdHJ1Y3RvciA9IGNoaWxkOyB9IGN0b3IucHJvdG90eXBlID0gcGFyZW50LnByb3RvdHlwZTsgY2hpbGQucHJvdG90eXBlID0gbmV3IGN0b3IoKTsgY2hpbGQuX19zdXBlcl9fID0gcGFyZW50LnByb3RvdHlwZTsgcmV0dXJuIGNoaWxkOyB9O1xuXG5HZW5lcmljUmVhZGVyID0gcmVxdWlyZShcIi4vZ2VuZXJpY19yZWFkZXJcIik7XG5cbnN0ID0gcmVxdWlyZShcIm1zYS1zZXF0b29sc1wiKTtcblxubW9kdWxlLmV4cG9ydHMgPSBDbHVzdGFsID0gKGZ1bmN0aW9uKF9zdXBlcikge1xuICBfX2V4dGVuZHMoQ2x1c3RhbCwgX3N1cGVyKTtcblxuICBmdW5jdGlvbiBDbHVzdGFsKCkge1xuICAgIHJldHVybiBDbHVzdGFsLl9fc3VwZXJfXy5jb25zdHJ1Y3Rvci5hcHBseSh0aGlzLCBhcmd1bWVudHMpO1xuICB9XG5cbiAgQ2x1c3RhbC5wYXJzZSA9IGZ1bmN0aW9uKHRleHQpIHtcbiAgICB2YXIgYmxvY2tzdGF0ZSwgY1NlcSwgaywga2V5cywgbGFiZWwsIGxpbmUsIGxpbmVzLCBtYXRjaCwgb2JqLCByZWdleCwgc2VxQ291bnRlciwgc2Vxcywgc2VxdWVuY2U7XG4gICAgc2VxcyA9IFtdO1xuICAgIGlmIChPYmplY3QucHJvdG90eXBlLnRvU3RyaW5nLmNhbGwodGV4dCkgPT09ICdbb2JqZWN0IEFycmF5XScpIHtcbiAgICAgIGxpbmVzID0gdGV4dDtcbiAgICB9IGVsc2Uge1xuICAgICAgbGluZXMgPSB0ZXh0LnNwbGl0KFwiXFxuXCIpO1xuICAgIH1cbiAgICBpZiAobGluZXNbMF0uc2xpY2UoMCwgNikgPT09ICFcIkNMVVNUQUxcIikge1xuICAgICAgdGhyb3cgbmV3IEVycm9yKFwiSW52YWxpZCBDTFVTVEFMIEhlYWRlclwiKTtcbiAgICB9XG4gICAgayA9IDA7XG4gICAgYmxvY2tzdGF0ZSA9IDE7XG4gICAgc2VxQ291bnRlciA9IDA7XG4gICAgd2hpbGUgKGsgPCBsaW5lcy5sZW5ndGgpIHtcbiAgICAgIGsrKztcbiAgICAgIGxpbmUgPSBsaW5lc1trXTtcbiAgICAgIGlmICgobGluZSA9PSBudWxsKSB8fCBsaW5lLmxlbmd0aCA9PT0gMCkge1xuICAgICAgICBibG9ja3N0YXRlID0gMTtcbiAgICAgICAgY29udGludWU7XG4gICAgICB9XG4gICAgICBpZiAobGluZS50cmltKCkubGVuZ3RoID09PSAwKSB7XG4gICAgICAgIGJsb2Nrc3RhdGUgPSAxO1xuICAgICAgICBjb250aW51ZTtcbiAgICAgIH0gZWxzZSB7XG4gICAgICAgIGlmIChzdC5jb250YWlucyhsaW5lLCBcIipcIikpIHtcbiAgICAgICAgICBjb250aW51ZTtcbiAgICAgICAgfVxuICAgICAgICBpZiAoYmxvY2tzdGF0ZSA9PT0gMSkge1xuICAgICAgICAgIHNlcUNvdW50ZXIgPSAwO1xuICAgICAgICAgIGJsb2Nrc3RhdGUgPSAwO1xuICAgICAgICB9XG4gICAgICAgIHJlZ2V4ID0gL14oPzpcXHMqKShcXFMrKSg/OlxccyspKFxcUyspKD86XFxzKikoXFxkKikoPzpcXHMqfCQpL2c7XG4gICAgICAgIG1hdGNoID0gcmVnZXguZXhlYyhsaW5lKTtcbiAgICAgICAgaWYgKG1hdGNoICE9IG51bGwpIHtcbiAgICAgICAgICBsYWJlbCA9IG1hdGNoWzFdO1xuICAgICAgICAgIHNlcXVlbmNlID0gbWF0Y2hbMl07XG4gICAgICAgICAgaWYgKHNlcUNvdW50ZXIgPj0gc2Vxcy5sZW5ndGgpIHtcbiAgICAgICAgICAgIG9iaiA9IHN0LmdldE1ldGEobGFiZWwpO1xuICAgICAgICAgICAgbGFiZWwgPSBvYmoubmFtZTtcbiAgICAgICAgICAgIGNTZXEgPSBuZXcgc3QubW9kZWwoc2VxdWVuY2UsIGxhYmVsLCBzZXFDb3VudGVyKTtcbiAgICAgICAgICAgIGNTZXEuaWRzID0gb2JqLmlkcyB8fCB7fTtcbiAgICAgICAgICAgIGNTZXEuZGV0YWlscyA9IG9iai5kZXRhaWxzIHx8IHt9O1xuICAgICAgICAgICAga2V5cyA9IE9iamVjdC5rZXlzKGNTZXEuaWRzKTtcbiAgICAgICAgICAgIGlmIChrZXlzLmxlbmd0aCA+IDApIHtcbiAgICAgICAgICAgICAgY1NlcS5pZCA9IGNTZXEuaWRzW2tleXNbMF1dO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgc2Vxcy5wdXNoKGNTZXEpO1xuICAgICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICBzZXFzW3NlcUNvdW50ZXJdLnNlcSArPSBzZXF1ZW5jZTtcbiAgICAgICAgICB9XG4gICAgICAgICAgc2VxQ291bnRlcisrO1xuICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgIGNvbnNvbGUubG9nKFwicGFyc2UgZXJyb3JcIiwgbGluZSk7XG4gICAgICAgIH1cbiAgICAgIH1cbiAgICB9XG4gICAgcmV0dXJuIHNlcXM7XG4gIH07XG5cbiAgcmV0dXJuIENsdXN0YWw7XG5cbn0pKEdlbmVyaWNSZWFkZXIpO1xuIiwiLy8gR2VuZXJhdGVkIGJ5IENvZmZlZVNjcmlwdCAxLjkuMFxubW9kdWxlLmV4cG9ydHMgPSByZXF1aXJlKFwiLi9wYXJzZXJcIik7XG4iLCIvKlxuICogYmlvanMtaW8tZ2ZmXG4gKiBodHRwczovL2dpdGh1Yi5jb20vZ3JlZW5pZnkvYmlvanMtaW8tZ2ZmXG4gKlxuICogQ29weXJpZ2h0IChjKSAyMDE0IGdyZWVuaWZ5XG4gKiBMaWNlbnNlZCB1bmRlciB0aGUgQXBhY2hlIDIgbGljZW5zZS5cbiAqL1xuXG52YXIgZ2ZmID0gZnVuY3Rpb24oKSB7fTtcblxubW9kdWxlLmV4cG9ydHMgPSBnZmY7XG5cbnZhciB1dGlscyA9IHJlcXVpcmUoXCIuL3V0aWxzXCIpO1xudmFyIGphbHZpZXcgPSByZXF1aXJlKFwiLi9qYWx2aWV3XCIpO1xuXG4vKipcbiAqIE1ldGhvZCByZXNwb25zaWJsZSB0byBwYXJzZSBHRkZcbiAqIEBzZWUgaHR0cHM6Ly93d3cuc2FuZ2VyLmFjLnVrL3Jlc291cmNlcy9zb2Z0d2FyZS9nZmYvc3BlYy5odG1sI3RfMlxuICpcbiAqIEBleGFtcGxlXG4gKlxuICogICAgIGJpb2pzaW9nZmYucGFyc2UoJ1NFUTEgIEVNQkwgIGF0ZyAgMTAzICAxMDUgIC4gICsgIDAnKTtcbiAqXG4gKiBAbWV0aG9kIHBhcnNlXG4gKiBAcGFyYW0ge1N0cmluZ30gZmlsZSBHRkYgZmlsZVxuICogQHJldHVybiB7U3RyaW5nfSBSZXR1cm5zIEpTT04gcmVwcmVzZW50YXRpb25cbiAqL1xuXG5nZmYucGFyc2UgPSBmdW5jdGlvbihmaWxlKSB7XG4gIHZhciBsaW5lcyA9IGZpbGUuc3BsaXQoXCJcXG5cIik7XG4gIHZhciBjb25maWcgPSB7fTtcbiAgdmFyIGFyciA9IFtdO1xuICBjb25maWcudHlwZSA9IGdmZi5fZ3Vlc3NUeXBlKGxpbmVzKTtcbiAgdmFyIG9mZnNldCA9IDA7XG4gIGlmIChjb25maWcudHlwZSA9PT0gXCJqYWx2aWV3XCIpIHtcbiAgICB2YXIgcmV0ID0gamFsdmlldy5yZWFkSGVhZGVyKGxpbmVzKTtcbiAgICAvL2NvbnNvbGUubG9nKHJldCk7XG4gICAgb2Zmc2V0ID0gcmV0Lm9mZnNldDtcbiAgICBjb25maWcuY29sb3JzID0gcmV0LmNvbG9ycztcbiAgICBhcnIgPSByZXQuZmVhdHVyZXM7XG4gIH1cbiAgZm9yICh2YXIgaSA9IG9mZnNldDsgaSA8IGxpbmVzLmxlbmd0aDsgaSsrKSB7XG4gICAgLy8gaWdub3JlIGNvbW1lbnRzIGZvciBub3dcbiAgICB2YXIgbGluZSA9IGxpbmVzW2ldO1xuICAgIGlmIChsaW5lLmxlbmd0aCA9PT0gMCB8fCBsaW5lWzBdID09PSBcIiNcIilcbiAgICAgIGNvbnRpbnVlO1xuXG4gICAgbGluZSA9IGdmZi5wYXJzZUxpbmUobGluZSk7XG4gICAgaWYgKGxpbmUgIT09IHVuZGVmaW5lZClcbiAgICAgIGFyci5wdXNoKGxpbmUpO1xuICB9XG4gIHJldHVybiB7XG4gICAgZmVhdHVyZXM6IGFycixcbiAgICBjb25maWc6IGNvbmZpZ1xuICB9O1xufTtcblxuZ2ZmLl9ndWVzc1R5cGUgPSBmdW5jdGlvbihsaW5lKSB7XG4gIGlmIChsaW5lWzBdLnN1YnN0cmluZygwLCAxNSkgPT09IFwiIyNnZmYtdmVyc2lvbiAzXCIpIHtcbiAgICByZXR1cm4gXCJnZmYzXCI7XG4gIH0gZWxzZSBpZiAobGluZVswXS5pbmRleE9mKFwiI1wiKSA8IDAgJiYgbGluZVswXS5zcGxpdChcIlxcdFwiKS5sZW5ndGggPT09IDIpIHtcbiAgICAvLyBubyBjb21tZW50cyBhbmQgdHdvIGNvbHVtbnMuIGxldCdzIGhvcGUgdGhpcyBpcyBmcm9tIGphbHZpZXdcbiAgICByZXR1cm4gXCJqYWx2aWV3XCI7XG4gIH1cbiAgLy8gdW5hYmxlIHRvIHJlYWQgZmlsZSBoZWFkZXIuIGxldHMgaG9wZSB0aGlzIGlzIGdmZjNcbiAgcmV0dXJuIFwiZ2ZmM1wiO1xufTtcblxuLyoqXG4gKiBwYXJzZXMgR0ZGIGFuZCByZXR1cm5zIGEgZGljdGlvbmFyeSBvZiBhbGwgc2VxcyB3aXRoIHRoZWlyIGZlYXR1cmVzXG4gKiBAbWV0aG9kIHBhcnNlU2Vxc1xuICogQHBhcmFtIHtTdHJpbmd9IGZpbGUgR0ZGIGZpbGVcbiAqIEByZXR1cm4ge1N0cmluZ30gUmV0dXJucyBkaWN0aW9uYXJ5IG9mIHNlcXVlbmNlcyB3aXRoIGFuIGFycmF5IG9mIHRoZWlyIGZlYXR1cmVzXG4gKi9cbmdmZi5wYXJzZVNlcXMgPSBmdW5jdGlvbihmaWxlKSB7XG4gIHZhciBvYmogPSBnZmYucGFyc2UoZmlsZSk7XG4gIHZhciBzZXFzID0ge307XG4gIG9iai5mZWF0dXJlcy5mb3JFYWNoKGZ1bmN0aW9uKGVudHJ5KSB7XG4gICAgdmFyIGtleSA9IGVudHJ5LnNlcW5hbWU7XG4gICAgaWYgKHNlcXNba2V5XSA9PT0gdW5kZWZpbmVkKSBzZXFzW2tleV0gPSBbXTtcbiAgICBkZWxldGUgZW50cnkuc2VxbmFtZTtcbiAgICBzZXFzW2tleV0ucHVzaChlbnRyeSk7XG4gIH0pO1xuICBkZWxldGUgb2JqLmZlYXR1cmVzO1xuICBvYmouc2VxcyA9IHNlcXM7XG4gIHJldHVybiBvYmo7XG59O1xuXG4vKlxuICogcGFyc2VzIG9uZSBHRkYgbGluZSBhbmQgcmV0dXJucyBpdFxuICovXG5nZmYucGFyc2VMaW5lID0gZnVuY3Rpb24obGluZSkge1xuICB2YXIgdExpbmUgPSB7fTtcblxuICB2YXIgY29sdW1ucyA9IGxpbmUuc3BsaXQoL1xccysvKTtcbiAgLy8gaWdub3JlIGVtcHR5IGxpbmVzXG4gIGlmIChjb2x1bW5zLmxlbmd0aCA9PT0gMSlcbiAgICByZXR1cm47XG5cbiAgdExpbmUuc2VxbmFtZSA9IGNvbHVtbnNbMF07XG4gIHRMaW5lLnNvdXJjZSA9IGNvbHVtbnNbMV07XG4gIHRMaW5lLmZlYXR1cmUgPSBjb2x1bW5zWzJdO1xuICB0TGluZS5zdGFydCA9IHBhcnNlSW50KGNvbHVtbnNbM10pO1xuICB0TGluZS5lbmQgPSBwYXJzZUludChjb2x1bW5zWzRdKTtcbiAgdExpbmUuc2NvcmUgPSBjb2x1bW5zWzVdOyAvLyBvbmx5IEROQSxSTkFcbiAgdExpbmUuc3RyYW5kID0gY29sdW1uc1s2XTsgLy8gb25seSBETkEsUk5BXG4gIHRMaW5lLmZyYW1lID0gY29sdW1uc1s3XTsgLy8gb25seSBETkEsUk5BXG4gIHZhciBhdHRyID0gY29sdW1ucy5zbGljZSg4KS5qb2luKFwiIFwiKTsgLy8gcGxhaW4gdGV4dCBjb21tZW50c1xuXG4gIC8vIHJlbW92ZSB1bmRlZmluZWQgKGRvdClcbiAgT2JqZWN0LmtleXModExpbmUpLmZvckVhY2goZnVuY3Rpb24oa2V5KSB7XG4gICAgaWYgKHRMaW5lW2tleV0gPT09IFwiLlwiKSB7XG4gICAgICB0TGluZVtrZXldID0gdW5kZWZpbmVkO1xuICAgIH1cbiAgfSk7XG5cbiAgLy8gcGFyc2Ugb3B0aW9uYWwgcGFyYW1ldGVyc1xuICBpZiAodExpbmUuc2NvcmUpIHtcbiAgICB0TGluZS5zY29yZSA9IHBhcnNlRmxvYXQodExpbmUuc2NvcmUpO1xuICB9XG4gIGlmICh0TGluZS5mcmFtZSkge1xuICAgIHRMaW5lLmZyYW1lID0gcGFyc2VJbnQodExpbmUuZnJhbWUpO1xuICB9XG5cbiAgdExpbmUuYXR0cmlidXRlcyA9IHV0aWxzLmV4dHJhY3RLZXlzKGF0dHIpO1xuICByZXR1cm4gdExpbmU7XG59O1xuXG5nZmYuZXhwb3J0TGluZSA9IGZ1bmN0aW9uKGxpbmUpIHtcbiAgdmFyIGF0dHJzID0gT2JqZWN0LmtleXMobGluZS5hdHRyaWJ1dGVzKS5tYXAoZnVuY3Rpb24oa2V5KSB7XG4gICAgcmV0dXJuIGtleSArIFwiPVwiICsgbGluZS5hdHRyaWJ1dGVzW2tleV07XG4gIH0pLmpvaW4oXCI7XCIpO1xuICB2YXIgY2VsbHMgPSBbbGluZS5zZXFuYW1lLCBsaW5lLnNvdXJjZSwgbGluZS5mZWF0dXJlLCBsaW5lLnN0YXJ0LCBsaW5lLmVuZCwgbGluZS5zY29yZSxcbiAgICBsaW5lLnN0cmFuZCwgbGluZS5mcmFtZSwgYXR0cnNcbiAgXTtcbiAgY2VsbHMgPSBjZWxscy5tYXAoZnVuY3Rpb24oZSkge1xuICAgIGlmIChlID09PSB1bmRlZmluZWQpIHtcbiAgICAgIHJldHVybiBcIi5cIjtcbiAgICB9XG4gICAgcmV0dXJuIGU7XG4gIH0pO1xuICByZXR1cm4gY2VsbHMuam9pbihcIlxcdFwiKTtcbn07XG5cbmdmZi5leHBvcnRMaW5lcyA9IGZ1bmN0aW9uKGxpbmVzKSB7XG4gIHJldHVybiBcIiMjZ2ZmLXZlcnNpb24gM1xcblwiICsgbGluZXMubWFwKGdmZi5leHBvcnRMaW5lKS5qb2luKFwiXFxuXCIpO1xufTtcblxuZ2ZmLmV4cG9ydFNlcXMgPSBmdW5jdGlvbihzZXFzKSB7XG4gIHZhciBsaW5lcyA9IFtdO1xuICBmb3IgKHZhciBrZXkgaW4gc2Vxcykge1xuICAgIHNlcXNba2V5XS5mb3JFYWNoKGZ1bmN0aW9uKGUpIHtcbiAgICAgIGUuc2VxbmFtZSA9IGtleTtcbiAgICAgIGxpbmVzLnB1c2goZSk7XG4gICAgfSk7XG4gIH1cbiAgcmV0dXJuIGdmZi5leHBvcnRMaW5lcyhsaW5lcyk7XG59O1xuIiwiLy8gYnJvd3NlciBnbG9iYWxzXG5pZiAodHlwZW9mIGJpb2pzID09PSAndW5kZWZpbmVkJykge1xuICBiaW9qcyA9IHt9O1xufVxuaWYgKHR5cGVvZiBiaW9qcy52aXMgPT09ICd1bmRlZmluZWQnKSB7XG4gIGJpb2pzLnZpcyA9IHt9O1xufVxuLy8gdXNlIHR3byBuYW1lc3BhY2VzXG53aW5kb3cubXNhID0gYmlvanMudmlzLm1zYSA9IG1vZHVsZS5leHBvcnRzID0gcmVxdWlyZSgnLi9zcmMvaW5kZXgnKTtcblxuLy8gVE9ETzogaG93IHNob3VsZCB0aGlzIGJlIGJ1bmRsZWRcblxuaWYgKHR5cGVvZiBiaW9qcy5pbyA9PT0gJ3VuZGVmaW5lZCcpIHtcbiAgYmlvanMuaW8gPSB7fTtcbn1cblxuLy8ganVzdCBidW5kbGUgdGhlIHR3byBwYXJzZXJzXG53aW5kb3cuYmlvanMuaW8uZmFzdGEgPSByZXF1aXJlKFwiYmlvanMtaW8tZmFzdGFcIik7XG53aW5kb3cuYmlvanMuaW8uY2x1c3RhbCA9IHJlcXVpcmUoXCJiaW9qcy1pby1jbHVzdGFsXCIpO1xud2luZG93LmJpb2pzLnhociA9IHJlcXVpcmUoXCJ4aHJcIik7XG5cbm1vZHVsZS5leHBvcnRzID0gcmVxdWlyZShcIi4vc3JjL2luZGV4XCIpO1xuXG5yZXF1aXJlKCcuL2Nzcy9tc2EuY3NzJyk7XG4iLCJ2YXIgd2luZG93ID0gcmVxdWlyZShcImdsb2JhbC93aW5kb3dcIilcbnZhciBvbmNlID0gcmVxdWlyZShcIm9uY2VcIilcbnZhciBwYXJzZUhlYWRlcnMgPSByZXF1aXJlKCdwYXJzZS1oZWFkZXJzJylcblxudmFyIG1lc3NhZ2VzID0ge1xuICAgIFwiMFwiOiBcIkludGVybmFsIFhNTEh0dHBSZXF1ZXN0IEVycm9yXCIsXG4gICAgXCI0XCI6IFwiNHh4IENsaWVudCBFcnJvclwiLFxuICAgIFwiNVwiOiBcIjV4eCBTZXJ2ZXIgRXJyb3JcIlxufVxuXG52YXIgWEhSID0gd2luZG93LlhNTEh0dHBSZXF1ZXN0IHx8IG5vb3BcbnZhciBYRFIgPSBcIndpdGhDcmVkZW50aWFsc1wiIGluIChuZXcgWEhSKCkpID8gWEhSIDogd2luZG93LlhEb21haW5SZXF1ZXN0XG5cbm1vZHVsZS5leHBvcnRzID0gY3JlYXRlWEhSXG5cbmZ1bmN0aW9uIGNyZWF0ZVhIUihvcHRpb25zLCBjYWxsYmFjaykge1xuICAgIGlmICh0eXBlb2Ygb3B0aW9ucyA9PT0gXCJzdHJpbmdcIikge1xuICAgICAgICBvcHRpb25zID0geyB1cmk6IG9wdGlvbnMgfVxuICAgIH1cblxuICAgIG9wdGlvbnMgPSBvcHRpb25zIHx8IHt9XG4gICAgY2FsbGJhY2sgPSBvbmNlKGNhbGxiYWNrKVxuXG4gICAgdmFyIHhociA9IG9wdGlvbnMueGhyIHx8IG51bGxcblxuICAgIGlmICgheGhyKSB7XG4gICAgICAgIGlmIChvcHRpb25zLmNvcnMgfHwgb3B0aW9ucy51c2VYRFIpIHtcbiAgICAgICAgICAgIHhociA9IG5ldyBYRFIoKVxuICAgICAgICB9ZWxzZXtcbiAgICAgICAgICAgIHhociA9IG5ldyBYSFIoKVxuICAgICAgICB9XG4gICAgfVxuXG4gICAgdmFyIHVyaSA9IHhoci51cmwgPSBvcHRpb25zLnVyaSB8fCBvcHRpb25zLnVybFxuICAgIHZhciBtZXRob2QgPSB4aHIubWV0aG9kID0gb3B0aW9ucy5tZXRob2QgfHwgXCJHRVRcIlxuICAgIHZhciBib2R5ID0gb3B0aW9ucy5ib2R5IHx8IG9wdGlvbnMuZGF0YVxuICAgIHZhciBoZWFkZXJzID0geGhyLmhlYWRlcnMgPSBvcHRpb25zLmhlYWRlcnMgfHwge31cbiAgICB2YXIgc3luYyA9ICEhb3B0aW9ucy5zeW5jXG4gICAgdmFyIGlzSnNvbiA9IGZhbHNlXG4gICAgdmFyIGtleVxuICAgIHZhciBsb2FkID0gb3B0aW9ucy5yZXNwb25zZSA/IGxvYWRSZXNwb25zZSA6IGxvYWRYaHJcblxuICAgIGlmIChcImpzb25cIiBpbiBvcHRpb25zKSB7XG4gICAgICAgIGlzSnNvbiA9IHRydWVcbiAgICAgICAgaGVhZGVyc1tcIkFjY2VwdFwiXSA9IFwiYXBwbGljYXRpb24vanNvblwiXG4gICAgICAgIGlmIChtZXRob2QgIT09IFwiR0VUXCIgJiYgbWV0aG9kICE9PSBcIkhFQURcIikge1xuICAgICAgICAgICAgaGVhZGVyc1tcIkNvbnRlbnQtVHlwZVwiXSA9IFwiYXBwbGljYXRpb24vanNvblwiXG4gICAgICAgICAgICBib2R5ID0gSlNPTi5zdHJpbmdpZnkob3B0aW9ucy5qc29uKVxuICAgICAgICB9XG4gICAgfVxuXG4gICAgeGhyLm9ucmVhZHlzdGF0ZWNoYW5nZSA9IHJlYWR5c3RhdGVjaGFuZ2VcbiAgICB4aHIub25sb2FkID0gbG9hZFxuICAgIHhoci5vbmVycm9yID0gZXJyb3JcbiAgICAvLyBJRTkgbXVzdCBoYXZlIG9ucHJvZ3Jlc3MgYmUgc2V0IHRvIGEgdW5pcXVlIGZ1bmN0aW9uLlxuICAgIHhoci5vbnByb2dyZXNzID0gZnVuY3Rpb24gKCkge1xuICAgICAgICAvLyBJRSBtdXN0IGRpZVxuICAgIH1cbiAgICAvLyBoYXRlIElFXG4gICAgeGhyLm9udGltZW91dCA9IG5vb3BcbiAgICB4aHIub3BlbihtZXRob2QsIHVyaSwgIXN5bmMpXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAvL2JhY2t3YXJkIGNvbXBhdGliaWxpdHlcbiAgICBpZiAob3B0aW9ucy53aXRoQ3JlZGVudGlhbHMgfHwgKG9wdGlvbnMuY29ycyAmJiBvcHRpb25zLndpdGhDcmVkZW50aWFscyAhPT0gZmFsc2UpKSB7XG4gICAgICAgIHhoci53aXRoQ3JlZGVudGlhbHMgPSB0cnVlXG4gICAgfVxuXG4gICAgLy8gQ2Fubm90IHNldCB0aW1lb3V0IHdpdGggc3luYyByZXF1ZXN0XG4gICAgaWYgKCFzeW5jKSB7XG4gICAgICAgIHhoci50aW1lb3V0ID0gXCJ0aW1lb3V0XCIgaW4gb3B0aW9ucyA/IG9wdGlvbnMudGltZW91dCA6IDUwMDBcbiAgICB9XG5cbiAgICBpZiAoeGhyLnNldFJlcXVlc3RIZWFkZXIpIHtcbiAgICAgICAgZm9yKGtleSBpbiBoZWFkZXJzKXtcbiAgICAgICAgICAgIGlmKGhlYWRlcnMuaGFzT3duUHJvcGVydHkoa2V5KSl7XG4gICAgICAgICAgICAgICAgeGhyLnNldFJlcXVlc3RIZWFkZXIoa2V5LCBoZWFkZXJzW2tleV0pXG4gICAgICAgICAgICB9XG4gICAgICAgIH1cbiAgICB9IGVsc2UgaWYgKG9wdGlvbnMuaGVhZGVycykge1xuICAgICAgICB0aHJvdyBuZXcgRXJyb3IoXCJIZWFkZXJzIGNhbm5vdCBiZSBzZXQgb24gYW4gWERvbWFpblJlcXVlc3Qgb2JqZWN0XCIpXG4gICAgfVxuXG4gICAgaWYgKFwicmVzcG9uc2VUeXBlXCIgaW4gb3B0aW9ucykge1xuICAgICAgICB4aHIucmVzcG9uc2VUeXBlID0gb3B0aW9ucy5yZXNwb25zZVR5cGVcbiAgICB9XG4gICAgXG4gICAgaWYgKFwiYmVmb3JlU2VuZFwiIGluIG9wdGlvbnMgJiYgXG4gICAgICAgIHR5cGVvZiBvcHRpb25zLmJlZm9yZVNlbmQgPT09IFwiZnVuY3Rpb25cIlxuICAgICkge1xuICAgICAgICBvcHRpb25zLmJlZm9yZVNlbmQoeGhyKVxuICAgIH1cblxuICAgIHhoci5zZW5kKGJvZHkpXG5cbiAgICByZXR1cm4geGhyXG5cbiAgICBmdW5jdGlvbiByZWFkeXN0YXRlY2hhbmdlKCkge1xuICAgICAgICBpZiAoeGhyLnJlYWR5U3RhdGUgPT09IDQpIHtcbiAgICAgICAgICAgIGxvYWQoKVxuICAgICAgICB9XG4gICAgfVxuXG4gICAgZnVuY3Rpb24gZ2V0Qm9keSgpIHtcbiAgICAgICAgLy8gQ2hyb21lIHdpdGggcmVxdWVzdFR5cGU9YmxvYiB0aHJvd3MgZXJyb3JzIGFycm91bmQgd2hlbiBldmVuIHRlc3RpbmcgYWNjZXNzIHRvIHJlc3BvbnNlVGV4dFxuICAgICAgICB2YXIgYm9keSA9IG51bGxcblxuICAgICAgICBpZiAoeGhyLnJlc3BvbnNlKSB7XG4gICAgICAgICAgICBib2R5ID0geGhyLnJlc3BvbnNlXG4gICAgICAgIH0gZWxzZSBpZiAoeGhyLnJlc3BvbnNlVHlwZSA9PT0gJ3RleHQnIHx8ICF4aHIucmVzcG9uc2VUeXBlKSB7XG4gICAgICAgICAgICBib2R5ID0geGhyLnJlc3BvbnNlVGV4dCB8fCB4aHIucmVzcG9uc2VYTUxcbiAgICAgICAgfVxuXG4gICAgICAgIGlmIChpc0pzb24pIHtcbiAgICAgICAgICAgIHRyeSB7XG4gICAgICAgICAgICAgICAgYm9keSA9IEpTT04ucGFyc2UoYm9keSlcbiAgICAgICAgICAgIH0gY2F0Y2ggKGUpIHt9XG4gICAgICAgIH1cblxuICAgICAgICByZXR1cm4gYm9keVxuICAgIH1cblxuICAgIGZ1bmN0aW9uIGdldFN0YXR1c0NvZGUoKSB7XG4gICAgICAgIHJldHVybiB4aHIuc3RhdHVzID09PSAxMjIzID8gMjA0IDogeGhyLnN0YXR1c1xuICAgIH1cblxuICAgIC8vIGlmIHdlJ3JlIGdldHRpbmcgYSBub25lLW9rIHN0YXR1c0NvZGUsIGJ1aWxkICYgcmV0dXJuIGFuIGVycm9yXG4gICAgZnVuY3Rpb24gZXJyb3JGcm9tU3RhdHVzQ29kZShzdGF0dXMsIGJvZHkpIHtcbiAgICAgICAgdmFyIGVycm9yID0gbnVsbFxuICAgICAgICBpZiAoc3RhdHVzID09PSAwIHx8IChzdGF0dXMgPj0gNDAwICYmIHN0YXR1cyA8IDYwMCkpIHtcbiAgICAgICAgICAgIHZhciBtZXNzYWdlID0gKHR5cGVvZiBib2R5ID09PSBcInN0cmluZ1wiID8gYm9keSA6IGZhbHNlKSB8fFxuICAgICAgICAgICAgICAgIG1lc3NhZ2VzW1N0cmluZyhzdGF0dXMpLmNoYXJBdCgwKV1cbiAgICAgICAgICAgIGVycm9yID0gbmV3IEVycm9yKG1lc3NhZ2UpXG4gICAgICAgICAgICBlcnJvci5zdGF0dXNDb2RlID0gc3RhdHVzXG4gICAgICAgIH1cblxuICAgICAgICByZXR1cm4gZXJyb3JcbiAgICB9XG5cbiAgICAvLyB3aWxsIGxvYWQgdGhlIGRhdGEgJiBwcm9jZXNzIHRoZSByZXNwb25zZSBpbiBhIHNwZWNpYWwgcmVzcG9uc2Ugb2JqZWN0XG4gICAgZnVuY3Rpb24gbG9hZFJlc3BvbnNlKCkge1xuICAgICAgICB2YXIgc3RhdHVzID0gZ2V0U3RhdHVzQ29kZSgpXG4gICAgICAgIHZhciBib2R5ID0gZ2V0Qm9keSgpXG4gICAgICAgIHZhciBlcnJvciA9IGVycm9yRnJvbVN0YXR1c0NvZGUoc3RhdHVzLCBib2R5KVxuICAgICAgICB2YXIgcmVzcG9uc2UgPSB7XG4gICAgICAgICAgICBib2R5OiBib2R5LFxuICAgICAgICAgICAgc3RhdHVzQ29kZTogc3RhdHVzLFxuICAgICAgICAgICAgc3RhdHVzVGV4dDogeGhyLnN0YXR1c1RleHQsXG4gICAgICAgICAgICByYXc6IHhoclxuICAgICAgICB9XG4gICAgICAgIGlmKHhoci5nZXRBbGxSZXNwb25zZUhlYWRlcnMpeyAvL3JlbWVtYmVyIHhociBjYW4gaW4gZmFjdCBiZSBYRFIgZm9yIENPUlMgaW4gSUVcbiAgICAgICAgICAgIHJlc3BvbnNlLmhlYWRlcnMgPSBwYXJzZUhlYWRlcnMoeGhyLmdldEFsbFJlc3BvbnNlSGVhZGVycygpKVxuICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgcmVzcG9uc2UuaGVhZGVycyA9IHt9XG4gICAgICAgIH1cblxuICAgICAgICBjYWxsYmFjayhlcnJvciwgcmVzcG9uc2UsIHJlc3BvbnNlLmJvZHkpXG4gICAgfVxuXG4gICAgLy8gd2lsbCBsb2FkIHRoZSBkYXRhIGFuZCBhZGQgc29tZSByZXNwb25zZSBwcm9wZXJ0aWVzIHRvIHRoZSBzb3VyY2UgeGhyXG4gICAgLy8gYW5kIHRoZW4gcmVzcG9uZCB3aXRoIHRoYXRcbiAgICBmdW5jdGlvbiBsb2FkWGhyKCkge1xuICAgICAgICB2YXIgc3RhdHVzID0gZ2V0U3RhdHVzQ29kZSgpXG4gICAgICAgIHZhciBlcnJvciA9IGVycm9yRnJvbVN0YXR1c0NvZGUoc3RhdHVzKVxuXG4gICAgICAgIHhoci5zdGF0dXMgPSB4aHIuc3RhdHVzQ29kZSA9IHN0YXR1c1xuICAgICAgICB4aHIuYm9keSA9IGdldEJvZHkoKVxuICAgICAgICB4aHIuaGVhZGVycyA9IHBhcnNlSGVhZGVycyh4aHIuZ2V0QWxsUmVzcG9uc2VIZWFkZXJzKCkpXG5cbiAgICAgICAgY2FsbGJhY2soZXJyb3IsIHhociwgeGhyLmJvZHkpXG4gICAgfVxuXG4gICAgZnVuY3Rpb24gZXJyb3IoZXZ0KSB7XG4gICAgICAgIGNhbGxiYWNrKGV2dCwgeGhyKVxuICAgIH1cbn1cblxuXG5mdW5jdGlvbiBub29wKCkge31cbiJdfQ==
